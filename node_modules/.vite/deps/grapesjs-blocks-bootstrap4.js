import {
  __commonJS
} from "./chunk-BUSYA2B4.js";

// node_modules/grapesjs/dist/grapes.min.js
var require_grapes_min = __commonJS({
  "node_modules/grapesjs/dist/grapes.min.js"(exports, module) {
    !(function(t, e) {
      "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports["grapesjs"] = e() : t["grapesjs"] = e();
    })("undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : exports, (() => (() => {
      var t = { 4729: (t2, e2, n2) => {
        var o2, r, i;
        r = [n2(5706), n2(4193)], void 0 === (i = "function" == typeof (o2 = function(t3, e3) {
          var n3 = Array.prototype.slice;
          function o3(t4, e4, n4) {
            return n4.length <= 4 ? t4.call(e4, n4[0], n4[1], n4[2], n4[3]) : t4.apply(e4, n4);
          }
          function r2(t4, e4) {
            return n3.call(t4, e4);
          }
          function i2(e4, n4) {
            return null != e4 && (t3.isArray(n4) || (n4 = r2(arguments, 1)), t3.all(n4, (function(t4) {
              return t4 in e4;
            })));
          }
          var a = /* @__PURE__ */ (function() {
            var e4 = false, n4 = -1;
            function o4() {
              n4++, e4 = true, t3.defer((function() {
                e4 = false;
              }));
            }
            return function() {
              return e4 || o4(), n4;
            };
          })();
          function s() {
            this.registeredObjects = [], this.cidIndexes = [];
          }
          function l(e4, n4, o4, r3) {
            for (var i3, a2 = 0, s2 = n4.length; a2 < s2; a2++) if (i3 = n4[a2]) {
              if ("on" === e4) {
                if (!r3.objectRegistry.register(i3)) continue;
              } else if (!r3.objectRegistry.unregister(i3)) continue;
              t3.isFunction(i3[e4]) && i3[e4]("all", o4, r3);
            }
          }
          function c(e4, n4) {
            var o4 = n4.type, r3 = n4.undoTypes, i3 = !r3[o4] || r3[o4][e4];
            t3.isFunction(i3) && i3(n4.object, n4.before, n4.after, n4.options);
          }
          function u(e4, o4, r3, i3, a2) {
            if (!(r3.isCurrentlyUndoRedoing || "undo" === e4 && -1 === r3.pointer || "redo" === e4 && r3.pointer === r3.length - 1)) {
              r3.isCurrentlyUndoRedoing = true;
              var s2, l2, c2 = "undo" === e4;
              for (a2 ? l2 = c2 && r3.pointer === r3.length - 1 || !c2 && -1 === r3.pointer ? t3.clone(r3.models) : n3.apply(r3.models, c2 ? [0, r3.pointer] : [r3.pointer, r3.length - 1]) : (s2 = r3.at(c2 ? r3.pointer : r3.pointer + 1), l2 = i3 ? r3.where({ magicFusionIndex: s2.get("magicFusionIndex") }) : [s2]), r3.pointer += (c2 ? -1 : 1) * l2.length; s2 = c2 ? l2.pop() : l2.shift(); ) s2[e4]();
              r3.isCurrentlyUndoRedoing = false, o4.trigger(e4, o4);
            }
          }
          function p(t4, e4) {
            var n4 = t4.condition, r3 = typeof n4;
            return "function" === r3 ? !!o3(n4, t4, e4) : "boolean" !== r3 || n4;
          }
          function d(t4, e4, n4, r3) {
            if (t4.track && !t4.isCurrentlyUndoRedoing && e4 in r3 && p(r3[e4], n4)) {
              var s2 = o3(r3[e4]["on"], r3[e4], n4);
              if (i2(s2, "object", "before", "after")) {
                if (s2.type = e4, s2.magicFusionIndex = a(), s2.undoTypes = r3, t4.pointer < t4.length - 1) for (var l2 = t4.length - t4.pointer - 1; l2--; ) t4.pop();
                t4.pointer = t4.length, t4.add(s2), t4.length > t4.maximumStackLength && (t4.shift(), t4.pointer--);
              }
            }
          }
          s.prototype = { isRegistered: function(e4) {
            return e4 && e4.cid ? this.registeredObjects[e4.cid] : t3.contains(this.registeredObjects, e4);
          }, register: function(t4) {
            return !this.isRegistered(t4) && (t4 && t4.cid ? (this.registeredObjects[t4.cid] = t4, this.cidIndexes.push(t4.cid)) : this.registeredObjects.push(t4), true);
          }, unregister: function(e4) {
            if (this.isRegistered(e4)) {
              if (e4 && e4.cid) delete this.registeredObjects[e4.cid], this.cidIndexes.splice(t3.indexOf(this.cidIndexes, e4.cid), 1);
              else {
                var n4 = t3.indexOf(this.registeredObjects, e4);
                this.registeredObjects.splice(n4, 1);
              }
              return true;
            }
            return false;
          }, get: function() {
            return t3.map(this.cidIndexes, (function(t4) {
              return this.registeredObjects[t4];
            }), this).concat(this.registeredObjects);
          } };
          var f = { add: { undo: function(t4, e4, n4, o4) {
            t4.remove(n4, o4);
          }, redo: function(t4, e4, n4, o4) {
            o4.index && (o4.at = o4.index), t4.add(n4, o4);
          }, on: function(e4, n4, o4) {
            return { object: n4, before: void 0, after: e4, options: t3.clone(o4) };
          } }, remove: { undo: function(t4, e4, n4, o4) {
            "index" in o4 && (o4.at = o4.index), t4.add(e4, o4);
          }, redo: function(t4, e4, n4, o4) {
            t4.remove(e4, o4);
          }, on: function(e4, n4, o4) {
            return { object: n4, before: e4, after: void 0, options: t3.clone(o4) };
          } }, change: { undo: function(e4, n4, o4, r3) {
            t3.isEmpty(n4) ? t3.each(t3.keys(o4), e4.unset, e4) : (e4.set(n4), r3 && r3.unsetData && r3.unsetData.before && r3.unsetData.before.length && t3.each(r3.unsetData.before, e4.unset, e4));
          }, redo: function(e4, n4, o4, r3) {
            t3.isEmpty(o4) ? t3.each(t3.keys(n4), e4.unset, e4) : (e4.set(o4), r3 && r3.unsetData && r3.unsetData.after && r3.unsetData.after.length && t3.each(r3.unsetData.after, e4.unset, e4));
          }, on: function(e4, n4) {
            var o4 = e4.changedAttributes(), r3 = t3.keys(o4), i3 = t3.pick(e4.previousAttributes(), r3), a2 = t3.keys(i3), s2 = (n4 || (n4 = {})).unsetData = { after: [], before: [] };
            return r3.length != a2.length && (r3.length > a2.length ? t3.each(r3, (function(t4) {
              t4 in i3 || s2.before.push(t4);
            }), this) : t3.each(a2, (function(t4) {
              t4 in o4 || s2.after.push(t4);
            }))), { object: e4, before: i3, after: o4, options: t3.clone(n4) };
          } }, reset: { undo: function(t4, e4, n4) {
            t4.reset(e4);
          }, redo: function(t4, e4, n4) {
            t4.reset(n4);
          }, on: function(e4, n4) {
            return { object: e4, before: n4.previousModels, after: t3.clone(e4.models) };
          } } };
          function h() {
          }
          function v(e4, n4, o4, r3) {
            if ("object" == typeof n4) return t3.each(n4, (function(t4, n5) {
              2 === e4 ? v(e4, t4, o4, r3) : v(e4, n5, t4, o4);
            }));
            switch (e4) {
              case 0:
                i2(o4, "undo", "redo", "on") && t3.all(t3.pick(o4, "undo", "redo", "on"), t3.isFunction) && (r3[n4] = o4);
                break;
              case 1:
                r3[n4] && t3.isObject(o4) && (r3[n4] = t3.extend({}, r3[n4], o4));
                break;
              case 2:
                delete r3[n4];
            }
            return this;
          }
          h.prototype = f;
          var g = e3.Model.extend({ defaults: { type: null, object: null, before: null, after: null, magicFusionIndex: null }, undo: function(t4) {
            c("undo", this.attributes);
          }, redo: function(t4) {
            c("redo", this.attributes);
          } }), y = e3.Collection.extend({ model: g, pointer: -1, track: false, isCurrentlyUndoRedoing: false, maximumStackLength: 1 / 0, setMaxLength: function(t4) {
            this.maximumStackLength = t4;
          } }), m = e3.Model.extend({ defaults: { maximumStackLength: 1 / 0, track: false }, initialize: function(e4) {
            this.stack = new y(), this.objectRegistry = new s(), this.undoTypes = new h(), this.stack.setMaxLength(this.get("maximumStackLength")), this.on("change:maximumStackLength", (function(t4, e5) {
              this.stack.setMaxLength(e5);
            }), this), e4 && e4.track && this.startTracking(), e4 && e4.register && (t3.isArray(e4.register) || t3.isArguments(e4.register) ? o3(this.register, this, e4.register) : this.register(e4.register));
          }, startTracking: function() {
            this.set("track", true), this.stack.track = true;
          }, stopTracking: function() {
            this.set("track", false), this.stack.track = false;
          }, isTracking: function() {
            return this.get("track");
          }, _addToStack: function(t4) {
            d(this.stack, t4, r2(arguments, 1), this.undoTypes);
          }, register: function() {
            l("on", arguments, this._addToStack, this);
          }, unregister: function() {
            l("off", arguments, this._addToStack, this);
          }, unregisterAll: function() {
            o3(this.unregister, this, this.objectRegistry.get());
          }, undo: function(t4) {
            u("undo", this, this.stack, t4);
          }, undoAll: function() {
            u("undo", this, this.stack, false, true);
          }, redo: function(t4) {
            u("redo", this, this.stack, t4);
          }, redoAll: function() {
            u("redo", this, this.stack, false, true);
          }, isAvailable: function(t4) {
            var e4 = this.stack, n4 = e4.length;
            switch (t4) {
              case "undo":
                return n4 > 0 && e4.pointer > -1;
              case "redo":
                return n4 > 0 && e4.pointer < n4 - 1;
              default:
                return false;
            }
          }, merge: function(e4) {
            for (var n4, o4 = t3.isArray(e4) ? e4 : r2(arguments); n4 = o4.pop(); ) n4 instanceof m && n4.stack instanceof y && (n4.stack = this.stack);
          }, addUndoType: function(t4, e4) {
            v(0, t4, e4, this.undoTypes);
          }, changeUndoType: function(t4, e4) {
            v(1, t4, e4, this.undoTypes);
          }, removeUndoType: function(t4) {
            v(2, t4, void 0, this.undoTypes);
          }, clear: function() {
            this.stack.reset(), this.stack.pointer = -1;
          } });
          return t3.extend(m, { defaults: function(e4) {
            t3.extend(m.prototype.defaults, e4);
          }, addUndoType: function(t4, e4) {
            v(0, t4, e4, f);
          }, changeUndoType: function(t4, e4) {
            v(1, t4, e4, f);
          }, removeUndoType: function(t4) {
            v(2, t4, void 0, f);
          } }), e3.UndoManager = m;
        }) ? o2.apply(e2, r) : o2) || (t2.exports = i);
      }, 4193: (t2, e2, n2) => {
        var o2, r;
        !(function() {
          var i = "object" == typeof self && self.self === self && self || "object" == typeof n2.g && n2.g.global === n2.g && n2.g;
          if (1) o2 = [n2(5706), n2(7774), e2], r = (function(t3, e3, n3) {
            i.Backbone = (function(t4, e4, n4, o3) {
              var r2 = t4.Backbone, i2 = Array.prototype.slice;
              e4.VERSION = "1.4.1", e4.$ = o3, e4.noConflict = function() {
                return t4.Backbone = r2, this;
              }, e4.emulateHTTP = false, e4.emulateJSON = false;
              var a, s = e4.Events = {}, l = /\s+/, c = function(t5, e5, o4, r3, i3) {
                var a2, s2 = 0;
                if (o4 && "object" == typeof o4) {
                  void 0 !== r3 && "context" in i3 && void 0 === i3.context && (i3.context = r3);
                  for (a2 = n4.keys(o4); s2 < a2.length; s2++) e5 = c(t5, e5, a2[s2], o4[a2[s2]], i3);
                } else if (o4 && l.test(o4)) for (a2 = o4.split(l); s2 < a2.length; s2++) e5 = t5(e5, a2[s2], r3, i3);
                else e5 = t5(e5, o4, r3, i3);
                return e5;
              };
              s.on = function(t5, e5, n5) {
                (this._events = c(u, this._events || {}, t5, e5, { context: n5, ctx: this, listening: a }), a) && ((this._listeners || (this._listeners = {}))[a.id] = a, a.interop = false);
                return this;
              }, s.listenTo = function(t5, e5, o4) {
                if (!t5) return this;
                var r3 = t5._listenId || (t5._listenId = n4.uniqueId("l")), i3 = this._listeningTo || (this._listeningTo = {}), s2 = a = i3[r3];
                s2 || (this._listenId || (this._listenId = n4.uniqueId("l")), s2 = a = i3[r3] = new g(this, t5));
                var l2 = p(t5, e5, o4, this);
                if (a = void 0, l2) throw l2;
                return s2.interop && s2.on(e5, o4), this;
              };
              var u = function(t5, e5, n5, o4) {
                if (n5) {
                  var r3 = t5[e5] || (t5[e5] = []), i3 = o4.context, a2 = o4.ctx, s2 = o4.listening;
                  s2 && s2.count++, r3.push({ callback: n5, context: i3, ctx: i3 || a2, listening: s2 });
                }
                return t5;
              }, p = function(t5, e5, n5, o4) {
                try {
                  t5.on(e5, n5, o4);
                } catch (t6) {
                  return t6;
                }
              };
              s.off = function(t5, e5, n5) {
                return this._events ? (this._events = c(d, this._events, t5, e5, { context: n5, listeners: this._listeners }), this) : this;
              }, s.stopListening = function(t5, e5, o4) {
                var r3 = this._listeningTo;
                if (!r3) return this;
                for (var i3 = t5 ? [t5._listenId] : n4.keys(r3), a2 = 0; a2 < i3.length; a2++) {
                  var s2 = r3[i3[a2]];
                  if (!s2) break;
                  s2.obj.off(e5, o4, this), s2.interop && s2.off(e5, o4);
                }
                return n4.isEmpty(r3) && (this._listeningTo = void 0), this;
              };
              var d = function(t5, e5, o4, r3) {
                if (t5) {
                  var i3, a2 = r3.context, s2 = r3.listeners, l2 = 0;
                  if (e5 || a2 || o4) {
                    for (i3 = e5 ? [e5] : n4.keys(t5); l2 < i3.length; l2++) {
                      var c2 = t5[e5 = i3[l2]];
                      if (!c2) break;
                      for (var u2 = [], p2 = 0; p2 < c2.length; p2++) {
                        var d2 = c2[p2];
                        if (o4 && o4 !== d2.callback && o4 !== d2.callback._callback || a2 && a2 !== d2.context) u2.push(d2);
                        else {
                          var f2 = d2.listening;
                          f2 && f2.off(e5, o4);
                        }
                      }
                      u2.length ? t5[e5] = u2 : delete t5[e5];
                    }
                    return t5;
                  }
                  for (i3 = n4.keys(s2); l2 < i3.length; l2++) s2[i3[l2]].cleanup();
                }
              };
              s.once = function(t5, e5, n5) {
                var o4 = c(f, {}, t5, e5, this.off.bind(this));
                return "string" == typeof t5 && null == n5 && (e5 = void 0), this.on(o4, e5, n5);
              }, s.listenToOnce = function(t5, e5, n5) {
                var o4 = c(f, {}, e5, n5, this.stopListening.bind(this, t5));
                return this.listenTo(t5, o4);
              };
              var f = function(t5, e5, o4, r3) {
                if (o4) {
                  var i3 = t5[e5] = n4.once((function() {
                    r3(e5, i3), o4.apply(this, arguments);
                  }));
                  i3._callback = o4;
                }
                return t5;
              };
              s.trigger = function(t5) {
                if (!this._events) return this;
                for (var e5 = Math.max(0, arguments.length - 1), n5 = Array(e5), o4 = 0; o4 < e5; o4++) n5[o4] = arguments[o4 + 1];
                return c(h, this._events, t5, void 0, n5), this;
              };
              var h = function(t5, e5, n5, o4) {
                if (t5) {
                  var r3 = t5[e5], i3 = t5.all;
                  r3 && i3 && (i3 = i3.slice()), r3 && v(r3, o4), i3 && v(i3, [e5].concat(o4));
                }
                return t5;
              }, v = function(t5, e5) {
                var n5, o4 = -1, r3 = t5.length, i3 = e5[0], a2 = e5[1], s2 = e5[2];
                switch (e5.length) {
                  case 0:
                    for (; ++o4 < r3; ) (n5 = t5[o4]).callback.call(n5.ctx);
                    return;
                  case 1:
                    for (; ++o4 < r3; ) (n5 = t5[o4]).callback.call(n5.ctx, i3);
                    return;
                  case 2:
                    for (; ++o4 < r3; ) (n5 = t5[o4]).callback.call(n5.ctx, i3, a2);
                    return;
                  case 3:
                    for (; ++o4 < r3; ) (n5 = t5[o4]).callback.call(n5.ctx, i3, a2, s2);
                    return;
                  default:
                    for (; ++o4 < r3; ) (n5 = t5[o4]).callback.apply(n5.ctx, e5);
                    return;
                }
              }, g = function(t5, e5) {
                this.id = t5._listenId, this.listener = t5, this.obj = e5, this.interop = true, this.count = 0, this._events = void 0;
              };
              g.prototype.on = s.on, g.prototype.off = function(t5, e5) {
                var n5;
                this.interop ? (this._events = c(d, this._events, t5, e5, { context: void 0, listeners: void 0 }), n5 = !this._events) : (this.count--, n5 = 0 === this.count), n5 && this.cleanup();
              }, g.prototype.cleanup = function() {
                delete this.listener._listeningTo[this.obj._listenId], this.interop || delete this.obj._listeners[this.id];
              }, s.bind = s.on, s.unbind = s.off, n4.extend(e4, s);
              var y = e4.Model = function(t5, e5) {
                var o4 = t5 || {};
                e5 || (e5 = {}), this.preinitialize.apply(this, arguments), this.cid = n4.uniqueId(this.cidPrefix), this.attributes = {}, e5.collection && (this.collection = e5.collection), e5.parse && (o4 = this.parse(o4, e5) || {});
                var r3 = n4.result(this, "defaults");
                o4 = n4.defaults(n4.extend({}, r3, o4), r3), this.set(o4, e5), this.changed = {}, this.initialize.apply(this, arguments);
              };
              n4.extend(y.prototype, s, { changed: null, validationError: null, idAttribute: "id", cidPrefix: "c", preinitialize: function() {
              }, initialize: function() {
              }, toJSON: function(t5) {
                return n4.clone(this.attributes);
              }, sync: function() {
                return e4.sync.apply(this, arguments);
              }, get: function(t5) {
                return this.attributes[t5];
              }, escape: function(t5) {
                return n4.escape(this.get(t5));
              }, has: function(t5) {
                return null != this.get(t5);
              }, matches: function(t5) {
                return !!n4.iteratee(t5, this)(this.attributes);
              }, set: function(t5, e5, o4) {
                if (null == t5) return this;
                var r3;
                if ("object" == typeof t5 ? (r3 = t5, o4 = e5) : (r3 = {})[t5] = e5, o4 || (o4 = {}), !this._validate(r3, o4)) return false;
                var i3 = o4.unset, a2 = o4.silent, s2 = [], l2 = this._changing;
                this._changing = true, l2 || (this._previousAttributes = n4.clone(this.attributes), this.changed = {});
                var c2 = this.attributes, u2 = this.changed, p2 = this._previousAttributes;
                for (var d2 in r3) e5 = r3[d2], n4.isEqual(c2[d2], e5) || s2.push(d2), n4.isEqual(p2[d2], e5) ? delete u2[d2] : u2[d2] = e5, i3 ? delete c2[d2] : c2[d2] = e5;
                if (this.idAttribute in r3) {
                  var f2 = this.id;
                  this.id = this.get(this.idAttribute), this.trigger("changeId", this, f2, o4);
                }
                if (!a2) {
                  s2.length && (this._pending = o4);
                  for (var h2 = 0; h2 < s2.length; h2++) this.trigger("change:" + s2[h2], this, c2[s2[h2]], o4);
                }
                if (l2) return this;
                if (!a2) for (; this._pending; ) o4 = this._pending, this._pending = false, this.trigger("change", this, o4);
                return this._pending = false, this._changing = false, this;
              }, unset: function(t5, e5) {
                return this.set(t5, void 0, n4.extend({}, e5, { unset: true }));
              }, clear: function(t5) {
                var e5 = {};
                for (var o4 in this.attributes) e5[o4] = void 0;
                return this.set(e5, n4.extend({}, t5, { unset: true }));
              }, hasChanged: function(t5) {
                return null == t5 ? !n4.isEmpty(this.changed) : n4.has(this.changed, t5);
              }, changedAttributes: function(t5) {
                if (!t5) return !!this.hasChanged() && n4.clone(this.changed);
                var e5, o4 = this._changing ? this._previousAttributes : this.attributes, r3 = {};
                for (var i3 in t5) {
                  var a2 = t5[i3];
                  n4.isEqual(o4[i3], a2) || (r3[i3] = a2, e5 = true);
                }
                return !!e5 && r3;
              }, previous: function(t5) {
                return null != t5 && this._previousAttributes ? this._previousAttributes[t5] : null;
              }, previousAttributes: function() {
                return n4.clone(this._previousAttributes);
              }, fetch: function(t5) {
                t5 = n4.extend({ parse: true }, t5);
                var e5 = this, o4 = t5.success;
                return t5.success = function(n5) {
                  var r3 = t5.parse ? e5.parse(n5, t5) : n5;
                  if (!e5.set(r3, t5)) return false;
                  o4 && o4.call(t5.context, e5, n5, t5), e5.trigger("sync", e5, n5, t5);
                }, K(this, t5), this.sync("read", this, t5);
              }, save: function(t5, e5, o4) {
                var r3;
                null == t5 || "object" == typeof t5 ? (r3 = t5, o4 = e5) : (r3 = {})[t5] = e5;
                var i3 = (o4 = n4.extend({ validate: true, parse: true }, o4)).wait;
                if (r3 && !i3) {
                  if (!this.set(r3, o4)) return false;
                } else if (!this._validate(r3, o4)) return false;
                var a2 = this, s2 = o4.success, l2 = this.attributes;
                o4.success = function(t6) {
                  a2.attributes = l2;
                  var e6 = o4.parse ? a2.parse(t6, o4) : t6;
                  if (i3 && (e6 = n4.extend({}, r3, e6)), e6 && !a2.set(e6, o4)) return false;
                  s2 && s2.call(o4.context, a2, t6, o4), a2.trigger("sync", a2, t6, o4);
                }, K(this, o4), r3 && i3 && (this.attributes = n4.extend({}, l2, r3));
                var c2 = this.isNew() ? "create" : o4.patch ? "patch" : "update";
                "patch" !== c2 || o4.attrs || (o4.attrs = r3);
                var u2 = this.sync(c2, this, o4);
                return this.attributes = l2, u2;
              }, destroy: function(t5) {
                t5 = t5 ? n4.clone(t5) : {};
                var e5 = this, o4 = t5.success, r3 = t5.wait, i3 = function() {
                  e5.stopListening(), e5.trigger("destroy", e5, e5.collection, t5);
                };
                t5.success = function(n5) {
                  r3 && i3(), o4 && o4.call(t5.context, e5, n5, t5), e5.isNew() || e5.trigger("sync", e5, n5, t5);
                };
                var a2 = false;
                return this.isNew() ? n4.defer(t5.success) : (K(this, t5), a2 = this.sync("delete", this, t5)), r3 || i3(), a2;
              }, url: function() {
                var t5 = n4.result(this, "urlRoot") || n4.result(this.collection, "url") || G();
                if (this.isNew()) return t5;
                var e5 = this.get(this.idAttribute);
                return t5.replace(/[^\/]$/, "$&/") + encodeURIComponent(e5);
              }, parse: function(t5, e5) {
                return t5;
              }, clone: function() {
                return new this.constructor(this.attributes);
              }, isNew: function() {
                return !this.has(this.idAttribute);
              }, isValid: function(t5) {
                return this._validate({}, n4.extend({}, t5, { validate: true }));
              }, _validate: function(t5, e5) {
                if (!e5.validate || !this.validate) return true;
                t5 = n4.extend({}, this.attributes, t5);
                var o4 = this.validationError = this.validate(t5, e5) || null;
                return !o4 || (this.trigger("invalid", this, o4, n4.extend(e5, { validationError: o4 })), false);
              } });
              var m = e4.Collection = function(t5, e5) {
                e5 || (e5 = {}), this.preinitialize.apply(this, arguments), e5.model && (this.model = e5.model), void 0 !== e5.comparator && (this.comparator = e5.comparator), this._reset(), this.initialize.apply(this, arguments), t5 && this.reset(t5, n4.extend({ silent: true }, e5));
              }, b = { add: true, remove: true, merge: true }, _ = { add: true, remove: false }, w = function(t5, e5, n5) {
                n5 = Math.min(Math.max(n5, 0), t5.length);
                var o4, r3 = Array(t5.length - n5), i3 = e5.length;
                for (o4 = 0; o4 < r3.length; o4++) r3[o4] = t5[o4 + n5];
                for (o4 = 0; o4 < i3; o4++) t5[o4 + n5] = e5[o4];
                for (o4 = 0; o4 < r3.length; o4++) t5[o4 + i3 + n5] = r3[o4];
              };
              n4.extend(m.prototype, s, { model: y, preinitialize: function() {
              }, initialize: function() {
              }, toJSON: function(t5) {
                return this.map((function(e5) {
                  return e5.toJSON(t5);
                }));
              }, sync: function() {
                return e4.sync.apply(this, arguments);
              }, add: function(t5, e5) {
                return this.set(t5, n4.extend({ merge: false }, e5, _));
              }, remove: function(t5, e5) {
                e5 = n4.extend({}, e5);
                var o4 = !n4.isArray(t5);
                t5 = o4 ? [t5] : t5.slice();
                var r3 = this._removeModels(t5, e5);
                return !e5.silent && r3.length && (e5.changes = { added: [], merged: [], removed: r3 }, this.trigger("update", this, e5)), o4 ? r3[0] : r3;
              }, set: function(t5, e5) {
                if (null != t5) {
                  (e5 = n4.extend({}, b, e5)).parse && !this._isModel(t5) && (t5 = this.parse(t5, e5) || []);
                  var o4 = !n4.isArray(t5);
                  t5 = o4 ? [t5] : t5.slice();
                  var r3 = e5.at;
                  null != r3 && (r3 = +r3), r3 > this.length && (r3 = this.length), r3 < 0 && (r3 += this.length + 1);
                  var i3, a2, s2 = [], l2 = [], c2 = [], u2 = [], p2 = {}, d2 = e5.add, f2 = e5.merge, h2 = e5.remove, v2 = false, g2 = this.comparator && null == r3 && false !== e5.sort, y2 = n4.isString(this.comparator) ? this.comparator : null;
                  for (a2 = 0; a2 < t5.length; a2++) {
                    i3 = t5[a2];
                    var m2 = this.get(i3);
                    if (m2) {
                      if (f2 && i3 !== m2) {
                        var _2 = this._isModel(i3) ? i3.attributes : i3;
                        e5.parse && (_2 = m2.parse(_2, e5)), m2.set(_2, e5), c2.push(m2), g2 && !v2 && (v2 = m2.hasChanged(y2));
                      }
                      p2[m2.cid] || (p2[m2.cid] = true, s2.push(m2)), t5[a2] = m2;
                    } else d2 && (i3 = t5[a2] = this._prepareModel(i3, e5)) && (l2.push(i3), this._addReference(i3, e5), p2[i3.cid] = true, s2.push(i3));
                  }
                  if (h2) {
                    for (a2 = 0; a2 < this.length; a2++) p2[(i3 = this.models[a2]).cid] || u2.push(i3);
                    u2.length && this._removeModels(u2, e5);
                  }
                  var x2 = false, C2 = !g2 && d2 && h2;
                  if (s2.length && C2 ? (x2 = this.length !== s2.length || n4.some(this.models, (function(t6, e6) {
                    return t6 !== s2[e6];
                  })), this.models.length = 0, w(this.models, s2, 0), this.length = this.models.length) : l2.length && (g2 && (v2 = true), w(this.models, l2, null == r3 ? this.length : r3), this.length = this.models.length), v2 && this.sort({ silent: true }), !e5.silent) {
                    for (a2 = 0; a2 < l2.length; a2++) null != r3 && (e5.index = r3 + a2), (i3 = l2[a2]).trigger("add", i3, this, e5);
                    (v2 || x2) && this.trigger("sort", this, e5), (l2.length || u2.length || c2.length) && (e5.changes = { added: l2, removed: u2, merged: c2 }, this.trigger("update", this, e5));
                  }
                  return o4 ? t5[0] : t5;
                }
              }, reset: function(t5, e5) {
                e5 = e5 ? n4.clone(e5) : {};
                for (var o4 = 0; o4 < this.models.length; o4++) this._removeReference(this.models[o4], e5);
                return e5.previousModels = this.models, this._reset(), t5 = this.add(t5, n4.extend({ silent: true }, e5)), e5.silent || this.trigger("reset", this, e5), t5;
              }, push: function(t5, e5) {
                return this.add(t5, n4.extend({ at: this.length }, e5));
              }, pop: function(t5) {
                var e5 = this.at(this.length - 1);
                return this.remove(e5, t5);
              }, unshift: function(t5, e5) {
                return this.add(t5, n4.extend({ at: 0 }, e5));
              }, shift: function(t5) {
                var e5 = this.at(0);
                return this.remove(e5, t5);
              }, slice: function() {
                return i2.apply(this.models, arguments);
              }, get: function(t5) {
                if (null != t5) return this._byId[t5] || this._byId[this.modelId(this._isModel(t5) ? t5.attributes : t5, t5.idAttribute)] || t5.cid && this._byId[t5.cid];
              }, has: function(t5) {
                return null != this.get(t5);
              }, at: function(t5) {
                return t5 < 0 && (t5 += this.length), this.models[t5];
              }, where: function(t5, e5) {
                return this[e5 ? "find" : "filter"](t5);
              }, findWhere: function(t5) {
                return this.where(t5, true);
              }, sort: function(t5) {
                var e5 = this.comparator;
                if (!e5) throw new Error("Cannot sort a set without a comparator");
                t5 || (t5 = {});
                var o4 = e5.length;
                return n4.isFunction(e5) && (e5 = e5.bind(this)), 1 === o4 || n4.isString(e5) ? this.models = this.sortBy(e5) : this.models.sort(e5), t5.silent || this.trigger("sort", this, t5), this;
              }, pluck: function(t5) {
                return this.map(t5 + "");
              }, fetch: function(t5) {
                var e5 = (t5 = n4.extend({ parse: true }, t5)).success, o4 = this;
                return t5.success = function(n5) {
                  var r3 = t5.reset ? "reset" : "set";
                  o4[r3](n5, t5), e5 && e5.call(t5.context, o4, n5, t5), o4.trigger("sync", o4, n5, t5);
                }, K(this, t5), this.sync("read", this, t5);
              }, create: function(t5, e5) {
                var o4 = (e5 = e5 ? n4.clone(e5) : {}).wait;
                if (!(t5 = this._prepareModel(t5, e5))) return false;
                o4 || this.add(t5, e5);
                var r3 = this, i3 = e5.success;
                return e5.success = function(t6, e6, n5) {
                  o4 && r3.add(t6, n5), i3 && i3.call(n5.context, t6, e6, n5);
                }, t5.save(null, e5), t5;
              }, parse: function(t5, e5) {
                return t5;
              }, clone: function() {
                return new this.constructor(this.models, { model: this.model, comparator: this.comparator });
              }, modelId: function(t5, e5) {
                return t5[e5 || this.model.prototype.idAttribute || "id"];
              }, values: function() {
                return new C(this, S);
              }, keys: function() {
                return new C(this, O);
              }, entries: function() {
                return new C(this, T);
              }, _reset: function() {
                this.length = 0, this.models = [], this._byId = {};
              }, _prepareModel: function(t5, e5) {
                return this._isModel(t5) ? (t5.collection || (t5.collection = this), t5) : ((e5 = e5 ? n4.clone(e5) : {}).collection = this, (o4 = this.model.prototype ? new this.model(t5, e5) : this.model(t5, e5)).validationError ? (this.trigger("invalid", this, o4.validationError, e5), false) : o4);
                var o4;
              }, _removeModels: function(t5, e5) {
                for (var n5 = [], o4 = 0; o4 < t5.length; o4++) {
                  var r3 = this.get(t5[o4]);
                  if (r3) {
                    var i3 = this.indexOf(r3);
                    this.models.splice(i3, 1), this.length--, delete this._byId[r3.cid];
                    var a2 = this.modelId(r3.attributes, r3.idAttribute);
                    null != a2 && delete this._byId[a2], e5.silent || (e5.index = i3, r3.trigger("remove", r3, this, e5)), n5.push(r3), this._removeReference(r3, e5);
                  }
                }
                return n5;
              }, _isModel: function(t5) {
                return t5 instanceof y;
              }, _addReference: function(t5, e5) {
                this._byId[t5.cid] = t5;
                var n5 = this.modelId(t5.attributes, t5.idAttribute);
                null != n5 && (this._byId[n5] = t5), t5.on("all", this._onModelEvent, this);
              }, _removeReference: function(t5, e5) {
                delete this._byId[t5.cid];
                var n5 = this.modelId(t5.attributes, t5.idAttribute);
                null != n5 && delete this._byId[n5], this === t5.collection && delete t5.collection, t5.off("all", this._onModelEvent, this);
              }, _onModelEvent: function(t5, e5, n5, o4) {
                if (e5) {
                  if (("add" === t5 || "remove" === t5) && n5 !== this) return;
                  if ("destroy" === t5 && this.remove(e5, o4), "changeId" === t5) {
                    var r3 = this.modelId(e5.previousAttributes(), e5.idAttribute), i3 = this.modelId(e5.attributes, e5.idAttribute);
                    null != r3 && delete this._byId[r3], null != i3 && (this._byId[i3] = e5);
                  }
                }
                this.trigger.apply(this, arguments);
              } });
              var x = "function" == typeof Symbol && Symbol.iterator;
              x && (m.prototype[x] = m.prototype.values);
              var C = function(t5, e5) {
                this._collection = t5, this._kind = e5, this._index = 0;
              }, S = 1, O = 2, T = 3;
              x && (C.prototype[x] = function() {
                return this;
              });
              C.prototype.next = function() {
                if (this._collection) {
                  if (this._index < this._collection.length) {
                    var t5, e5 = this._collection.at(this._index);
                    if (this._index++, this._kind === S) t5 = e5;
                    else {
                      var n5 = this._collection.modelId(e5.attributes, e5.idAttribute);
                      t5 = this._kind === O ? n5 : [n5, e5];
                    }
                    return { value: t5, done: false };
                  }
                  this._collection = void 0;
                }
                return { value: void 0, done: true };
              };
              var P = e4.View = function(t5) {
                this.cid = n4.uniqueId("view"), this.preinitialize.apply(this, arguments), n4.extend(this, n4.pick(t5, k)), this._ensureElement(), this.initialize.apply(this, arguments);
              }, E = /^(\S+)\s*(.*)$/, k = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
              n4.extend(P.prototype, s, { tagName: "div", $: function(t5) {
                return this.$el.find(t5);
              }, preinitialize: function() {
              }, initialize: function() {
              }, render: function() {
                return this;
              }, remove: function() {
                return this._removeElement(), this.stopListening(), this;
              }, _removeElement: function() {
                this.$el.remove();
              }, setElement: function(t5) {
                return this.undelegateEvents(), this._setElement(t5), this.delegateEvents(), this;
              }, _setElement: function(t5) {
                this.$el = t5 instanceof e4.$ ? t5 : e4.$(t5), this.el = this.$el[0];
              }, delegateEvents: function(t5) {
                if (t5 || (t5 = n4.result(this, "events")), !t5) return this;
                for (var e5 in this.undelegateEvents(), t5) {
                  var o4 = t5[e5];
                  if (n4.isFunction(o4) || (o4 = this[o4]), o4) {
                    var r3 = e5.match(E);
                    this.delegate(r3[1], r3[2], o4.bind(this));
                  }
                }
                return this;
              }, delegate: function(t5, e5, n5) {
                return this.$el.on(t5 + ".delegateEvents" + this.cid, e5, n5), this;
              }, undelegateEvents: function() {
                return this.$el && this.$el.off(".delegateEvents" + this.cid), this;
              }, undelegate: function(t5, e5, n5) {
                return this.$el.off(t5 + ".delegateEvents" + this.cid, e5, n5), this;
              }, _createElement: function(t5) {
                return document.createElement(t5);
              }, _ensureElement: function() {
                if (this.el) this.setElement(n4.result(this, "el"));
                else {
                  var t5 = n4.extend({}, n4.result(this, "attributes"));
                  this.id && (t5.id = n4.result(this, "id")), this.className && (t5["class"] = n4.result(this, "className")), this.setElement(this._createElement(n4.result(this, "tagName"))), this._setAttributes(t5);
                }
              }, _setAttributes: function(t5) {
                this.$el.attr(t5);
              } });
              var A = function(t5, e5, n5, o4) {
                switch (e5) {
                  case 1:
                    return function() {
                      return t5[n5](this[o4]);
                    };
                  case 2:
                    return function(e6) {
                      return t5[n5](this[o4], e6);
                    };
                  case 3:
                    return function(e6, r3) {
                      return t5[n5](this[o4], M(e6, this), r3);
                    };
                  case 4:
                    return function(e6, r3, i3) {
                      return t5[n5](this[o4], M(e6, this), r3, i3);
                    };
                  default:
                    return function() {
                      var e6 = i2.call(arguments);
                      return e6.unshift(this[o4]), t5[n5].apply(t5, e6);
                    };
                }
              }, j = function(t5, e5, o4, r3) {
                n4.each(o4, (function(n5, o5) {
                  e5[o5] && (t5.prototype[o5] = A(e5, n5, o5, r3));
                }));
              }, M = function(t5, e5) {
                return n4.isFunction(t5) ? t5 : n4.isObject(t5) && !e5._isModel(t5) ? D(t5) : n4.isString(t5) ? function(e6) {
                  return e6.get(t5);
                } : t5;
              }, D = function(t5) {
                var e5 = n4.matches(t5);
                return function(t6) {
                  return e5(t6.attributes);
                };
              }, L = { forEach: 3, each: 3, map: 3, collect: 3, reduce: 0, foldl: 0, inject: 0, reduceRight: 0, foldr: 0, find: 3, detect: 3, filter: 3, select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3, contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3, head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3, without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3, isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3, sortBy: 3, indexBy: 3, findIndex: 3, findLastIndex: 3 }, I = { keys: 1, values: 1, pairs: 1, invert: 1, pick: 0, omit: 0, chain: 1, isEmpty: 1 };
              n4.each([[m, L, "models"], [y, I, "attributes"]], (function(t5) {
                var e5 = t5[0], o4 = t5[1], r3 = t5[2];
                e5.mixin = function(t6) {
                  var o5 = n4.reduce(n4.functions(t6), (function(t7, e6) {
                    return t7[e6] = 0, t7;
                  }), {});
                  j(e5, t6, o5, r3);
                }, j(e5, n4, o4, r3);
              })), e4.sync = function(t5, o4, r3) {
                var i3 = N[t5];
                n4.defaults(r3 || (r3 = {}), { emulateHTTP: e4.emulateHTTP, emulateJSON: e4.emulateJSON });
                var a2 = { type: i3, dataType: "json" };
                if (r3.url || (a2.url = n4.result(o4, "url") || G()), null != r3.data || !o4 || "create" !== t5 && "update" !== t5 && "patch" !== t5 || (a2.contentType = "application/json", a2.data = JSON.stringify(r3.attrs || o4.toJSON(r3))), r3.emulateJSON && (a2.contentType = "application/x-www-form-urlencoded", a2.data = a2.data ? { model: a2.data } : {}), r3.emulateHTTP && ("PUT" === i3 || "DELETE" === i3 || "PATCH" === i3)) {
                  a2.type = "POST", r3.emulateJSON && (a2.data._method = i3);
                  var s2 = r3.beforeSend;
                  r3.beforeSend = function(t6) {
                    if (t6.setRequestHeader("X-HTTP-Method-Override", i3), s2) return s2.apply(this, arguments);
                  };
                }
                "GET" === a2.type || r3.emulateJSON || (a2.processData = false);
                var l2 = r3.error;
                r3.error = function(t6, e5, n5) {
                  r3.textStatus = e5, r3.errorThrown = n5, l2 && l2.call(r3.context, t6, e5, n5);
                };
                var c2 = r3.xhr = e4.ajax(n4.extend(a2, r3));
                return o4.trigger("request", o4, c2, r3), c2;
              };
              var N = { create: "POST", update: "PUT", patch: "PATCH", delete: "DELETE", read: "GET" };
              e4.ajax = function() {
                return e4.$.ajax.apply(e4.$, arguments);
              };
              var R = e4.Router = function(t5) {
                t5 || (t5 = {}), this.preinitialize.apply(this, arguments), t5.routes && (this.routes = t5.routes), this._bindRoutes(), this.initialize.apply(this, arguments);
              }, V = /\((.*?)\)/g, F = /(\(\?)?:\w+/g, H = /\*\w+/g, U = /[\-{}\[\]+?.,\\\^$|#\s]/g;
              n4.extend(R.prototype, s, { preinitialize: function() {
              }, initialize: function() {
              }, route: function(t5, o4, r3) {
                n4.isRegExp(t5) || (t5 = this._routeToRegExp(t5)), n4.isFunction(o4) && (r3 = o4, o4 = ""), r3 || (r3 = this[o4]);
                var i3 = this;
                return e4.history.route(t5, (function(n5) {
                  var a2 = i3._extractParameters(t5, n5);
                  false !== i3.execute(r3, a2, o4) && (i3.trigger.apply(i3, ["route:" + o4].concat(a2)), i3.trigger("route", o4, a2), e4.history.trigger("route", i3, o4, a2));
                })), this;
              }, execute: function(t5, e5, n5) {
                t5 && t5.apply(this, e5);
              }, navigate: function(t5, n5) {
                return e4.history.navigate(t5, n5), this;
              }, _bindRoutes: function() {
                if (this.routes) {
                  this.routes = n4.result(this, "routes");
                  for (var t5, e5 = n4.keys(this.routes); null != (t5 = e5.pop()); ) this.route(t5, this.routes[t5]);
                }
              }, _routeToRegExp: function(t5) {
                return t5 = t5.replace(U, "\\$&").replace(V, "(?:$1)?").replace(F, (function(t6, e5) {
                  return e5 ? t6 : "([^/?]+)";
                })).replace(H, "([^?]*?)"), new RegExp("^" + t5 + "(?:\\?([\\s\\S]*))?$");
              }, _extractParameters: function(t5, e5) {
                var o4 = t5.exec(e5).slice(1);
                return n4.map(o4, (function(t6, e6) {
                  return e6 === o4.length - 1 ? t6 || null : t6 ? decodeURIComponent(t6) : null;
                }));
              } });
              var z = e4.History = function() {
                this.handlers = [], this.checkUrl = this.checkUrl.bind(this), "undefined" != typeof window && (this.location = window.location, this.history = window.history);
              }, B = /^[#\/]|\s+$/g, W = /^\/+|\/+$/g, $ = /#.*$/;
              z.started = false, n4.extend(z.prototype, s, { interval: 50, atRoot: function() {
                return this.location.pathname.replace(/[^\/]$/, "$&/") === this.root && !this.getSearch();
              }, matchRoot: function() {
                return this.decodeFragment(this.location.pathname).slice(0, this.root.length - 1) + "/" === this.root;
              }, decodeFragment: function(t5) {
                return decodeURI(t5.replace(/%25/g, "%2525"));
              }, getSearch: function() {
                var t5 = this.location.href.replace(/#.*/, "").match(/\?.+/);
                return t5 ? t5[0] : "";
              }, getHash: function(t5) {
                var e5 = (t5 || this).location.href.match(/#(.*)$/);
                return e5 ? e5[1] : "";
              }, getPath: function() {
                var t5 = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
                return "/" === t5.charAt(0) ? t5.slice(1) : t5;
              }, getFragment: function(t5) {
                return null == t5 && (t5 = this._usePushState || !this._wantsHashChange ? this.getPath() : this.getHash()), t5.replace(B, "");
              }, start: function(t5) {
                if (z.started) throw new Error("Backbone.history has already been started");
                if (z.started = true, this.options = n4.extend({ root: "/" }, this.options, t5), this.root = this.options.root, this._wantsHashChange = false !== this.options.hashChange, this._hasHashChange = "onhashchange" in window && (void 0 === document.documentMode || document.documentMode > 7), this._useHashChange = this._wantsHashChange && this._hasHashChange, this._wantsPushState = !!this.options.pushState, this._hasPushState = !(!this.history || !this.history.pushState), this._usePushState = this._wantsPushState && this._hasPushState, this.fragment = this.getFragment(), this.root = ("/" + this.root + "/").replace(W, "/"), this._wantsHashChange && this._wantsPushState) {
                  if (!this._hasPushState && !this.atRoot()) {
                    var e5 = this.root.slice(0, -1) || "/";
                    return this.location.replace(e5 + "#" + this.getPath()), true;
                  }
                  this._hasPushState && this.atRoot() && this.navigate(this.getHash(), { replace: true });
                }
                if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {
                  this.iframe = document.createElement("iframe"), this.iframe.src = "javascript:0", this.iframe.style.display = "none", this.iframe.tabIndex = -1;
                  var o4 = document.body, r3 = o4.insertBefore(this.iframe, o4.firstChild).contentWindow;
                  r3.document.open(), r3.document.close(), r3.location.hash = "#" + this.fragment;
                }
                var i3 = window.addEventListener || function(t6, e6) {
                  return attachEvent("on" + t6, e6);
                };
                if (this._usePushState ? i3("popstate", this.checkUrl, false) : this._useHashChange && !this.iframe ? i3("hashchange", this.checkUrl, false) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), !this.options.silent) return this.loadUrl();
              }, stop: function() {
                var t5 = window.removeEventListener || function(t6, e5) {
                  return detachEvent("on" + t6, e5);
                };
                this._usePushState ? t5("popstate", this.checkUrl, false) : this._useHashChange && !this.iframe && t5("hashchange", this.checkUrl, false), this.iframe && (document.body.removeChild(this.iframe), this.iframe = null), this._checkUrlInterval && clearInterval(this._checkUrlInterval), z.started = false;
              }, route: function(t5, e5) {
                this.handlers.unshift({ route: t5, callback: e5 });
              }, checkUrl: function(t5) {
                var e5 = this.getFragment();
                if (e5 === this.fragment && this.iframe && (e5 = this.getHash(this.iframe.contentWindow)), e5 === this.fragment) return false;
                this.iframe && this.navigate(e5), this.loadUrl();
              }, loadUrl: function(t5) {
                return !!this.matchRoot() && (t5 = this.fragment = this.getFragment(t5), n4.some(this.handlers, (function(e5) {
                  if (e5.route.test(t5)) return e5.callback(t5), true;
                })));
              }, navigate: function(t5, e5) {
                if (!z.started) return false;
                e5 && true !== e5 || (e5 = { trigger: !!e5 }), t5 = this.getFragment(t5 || "");
                var n5 = this.root;
                "" !== t5 && "?" !== t5.charAt(0) || (n5 = n5.slice(0, -1) || "/");
                var o4 = n5 + t5;
                t5 = t5.replace($, "");
                var r3 = this.decodeFragment(t5);
                if (this.fragment !== r3) {
                  if (this.fragment = r3, this._usePushState) this.history[e5.replace ? "replaceState" : "pushState"]({}, document.title, o4);
                  else {
                    if (!this._wantsHashChange) return this.location.assign(o4);
                    if (this._updateHash(this.location, t5, e5.replace), this.iframe && t5 !== this.getHash(this.iframe.contentWindow)) {
                      var i3 = this.iframe.contentWindow;
                      e5.replace || (i3.document.open(), i3.document.close()), this._updateHash(i3.location, t5, e5.replace);
                    }
                  }
                  return e5.trigger ? this.loadUrl(t5) : void 0;
                }
              }, _updateHash: function(t5, e5, n5) {
                if (n5) {
                  var o4 = t5.href.replace(/(javascript:|#).*$/, "");
                  t5.replace(o4 + "#" + e5);
                } else t5.hash = "#" + e5;
              } }), e4.history = new z();
              var q = function(t5, e5) {
                var o4, r3 = this;
                return o4 = t5 && n4.has(t5, "constructor") ? t5.constructor : function() {
                  return r3.apply(this, arguments);
                }, n4.extend(o4, r3, e5), o4.prototype = n4.create(r3.prototype, t5), o4.prototype.constructor = o4, o4.__super__ = r3.prototype, o4;
              };
              y.extend = m.extend = R.extend = P.extend = z.extend = q;
              var G = function() {
                throw new Error('A "url" property or function must be specified');
              }, K = function(t5, e5) {
                var n5 = e5.error;
                e5.error = function(o4) {
                  n5 && n5.call(e5.context, t5, o4, e5), t5.trigger("error", t5, o4, e5);
                };
              };
              return e4;
            })(i, n3, t3, e3);
          }).apply(e2, o2), void 0 === r || (t2.exports = r);
          else ;
        })();
      }, 3640: (t2, e2, n2) => {
        (function(t3) {
          t3.extendMode("css", { commentStart: "/*", commentEnd: "*/", newlineAfterToken: function(t4, e4) {
            return /^[;{}]$/.test(e4);
          } }), t3.extendMode("javascript", { commentStart: "/*", commentEnd: "*/", newlineAfterToken: function(t4, e4, n3, o2) {
            return this.jsonMode ? /^[\[,{]$/.test(e4) || /^}/.test(n3) : (";" != e4 || !o2.lexical || ")" != o2.lexical.type) && /^[;{}]$/.test(e4) && !/^;/.test(n3);
          } });
          var e3 = /^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;
          t3.extendMode("xml", { commentStart: "<!--", commentEnd: "-->", newlineAfterToken: function(t4, n3, o2, r) {
            var i = false;
            return "html" == this.configuration && (i = !!r.context && e3.test(r.context.tagName)), !i && ("tag" == t4 && />$/.test(n3) && r.context || /^</.test(o2));
          } }), t3.defineExtension("commentRange", (function(e4, n3, o2) {
            var r = this, i = t3.innerMode(r.getMode(), r.getTokenAt(n3).state).mode;
            r.operation((function() {
              if (e4) r.replaceRange(i.commentEnd, o2), r.replaceRange(i.commentStart, n3), n3.line == o2.line && n3.ch == o2.ch && r.setCursor(n3.line, n3.ch + i.commentStart.length);
              else {
                var t4 = r.getRange(n3, o2), a = t4.indexOf(i.commentStart), s = t4.lastIndexOf(i.commentEnd);
                a > -1 && s > -1 && s > a && (t4 = t4.substr(0, a) + t4.substring(a + i.commentStart.length, s) + t4.substr(s + i.commentEnd.length)), r.replaceRange(t4, n3, o2);
              }
            }));
          })), t3.defineExtension("autoIndentRange", (function(t4, e4) {
            var n3 = this;
            this.operation((function() {
              for (var o2 = t4.line; o2 <= e4.line; o2++) n3.indentLine(o2, "smart");
            }));
          })), t3.defineExtension("autoFormatRange", (function(e4, n3) {
            var o2 = this, r = o2.getMode(), i = o2.getRange(e4, n3).split("\n"), a = t3.copyState(r, o2.getTokenAt(e4).state), s = o2.getOption("tabSize"), l = "", c = 0, u = 0 === e4.ch;
            function p() {
              l += "\n", u = true, ++c;
            }
            for (var d = 0; d < i.length; ++d) {
              for (var f = new t3.StringStream(i[d], s); !f.eol(); ) {
                var h = t3.innerMode(r, a), v = r.token(f, a), g = f.current();
                f.start = f.pos, u && !/\S/.test(g) || (l += g, u = false), !u && h.mode.newlineAfterToken && h.mode.newlineAfterToken(v, g, f.string.slice(f.pos) || i[d + 1] || "", h.state) && p();
              }
              !f.pos && r.blankLine && r.blankLine(a), !u && d < i.length - 1 && p();
            }
            o2.operation((function() {
              o2.replaceRange(l, e4, n3);
              for (var t4 = e4.line + 1, r2 = e4.line + c; t4 <= r2; ++t4) o2.indentLine(t4, "smart");
              o2.setSelection(e4, o2.getCursor(false));
            }));
          }));
        })(n2(4408));
      }, 4408: function(t2) {
        t2.exports = (function() {
          "use strict";
          var t3 = navigator.userAgent, e2 = navigator.platform, n2 = /gecko\/\d/i.test(t3), o2 = /MSIE \d/.test(t3), r = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t3), i = /Edge\/(\d+)/.exec(t3), a = o2 || r || i, s = a && (o2 ? document.documentMode || 6 : +(i || r)[1]), l = !i && /WebKit\//.test(t3), c = l && /Qt\/\d+\.\d+/.test(t3), u = !i && /Chrome\//.test(t3), p = /Opera\//.test(t3), d = /Apple Computer/.test(navigator.vendor), f = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t3), h = /PhantomJS/.test(t3), v = d && (/Mobile\/\w+/.test(t3) || navigator.maxTouchPoints > 2), g = /Android/.test(t3), y = v || g || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t3), m = v || /Mac/.test(e2), b = /\bCrOS\b/.test(t3), _ = /win/i.test(e2), w = p && t3.match(/Version\/(\d*\.\d*)/);
          w && (w = Number(w[1])), w && w >= 15 && (p = false, l = true);
          var x = m && (c || p && (null == w || w < 12.11)), C = n2 || a && s >= 9;
          function S(t4) {
            return new RegExp("(^|\\s)" + t4 + "(?:$|\\s)\\s*");
          }
          var O, T = function(t4, e3) {
            var n3 = t4.className, o3 = S(e3).exec(n3);
            if (o3) {
              var r2 = n3.slice(o3.index + o3[0].length);
              t4.className = n3.slice(0, o3.index) + (r2 ? o3[1] + r2 : "");
            }
          };
          function P(t4) {
            for (var e3 = t4.childNodes.length; e3 > 0; --e3) t4.removeChild(t4.firstChild);
            return t4;
          }
          function E(t4, e3) {
            return P(t4).appendChild(e3);
          }
          function k(t4, e3, n3, o3) {
            var r2 = document.createElement(t4);
            if (n3 && (r2.className = n3), o3 && (r2.style.cssText = o3), "string" == typeof e3) r2.appendChild(document.createTextNode(e3));
            else if (e3) for (var i2 = 0; i2 < e3.length; ++i2) r2.appendChild(e3[i2]);
            return r2;
          }
          function A(t4, e3, n3, o3) {
            var r2 = k(t4, e3, n3, o3);
            return r2.setAttribute("role", "presentation"), r2;
          }
          function j(t4, e3) {
            if (3 == e3.nodeType && (e3 = e3.parentNode), t4.contains) return t4.contains(e3);
            do {
              if (11 == e3.nodeType && (e3 = e3.host), e3 == t4) return true;
            } while (e3 = e3.parentNode);
          }
          function M() {
            var t4;
            try {
              t4 = document.activeElement;
            } catch (e3) {
              t4 = document.body || null;
            }
            for (; t4 && t4.shadowRoot && t4.shadowRoot.activeElement; ) t4 = t4.shadowRoot.activeElement;
            return t4;
          }
          function D(t4, e3) {
            var n3 = t4.className;
            S(e3).test(n3) || (t4.className += (n3 ? " " : "") + e3);
          }
          function L(t4, e3) {
            for (var n3 = t4.split(" "), o3 = 0; o3 < n3.length; o3++) n3[o3] && !S(n3[o3]).test(e3) && (e3 += " " + n3[o3]);
            return e3;
          }
          O = document.createRange ? function(t4, e3, n3, o3) {
            var r2 = document.createRange();
            return r2.setEnd(o3 || t4, n3), r2.setStart(t4, e3), r2;
          } : function(t4, e3, n3) {
            var o3 = document.body.createTextRange();
            try {
              o3.moveToElementText(t4.parentNode);
            } catch (t5) {
              return o3;
            }
            return o3.collapse(true), o3.moveEnd("character", n3), o3.moveStart("character", e3), o3;
          };
          var I = function(t4) {
            t4.select();
          };
          function N(t4) {
            var e3 = Array.prototype.slice.call(arguments, 1);
            return function() {
              return t4.apply(null, e3);
            };
          }
          function R(t4, e3, n3) {
            for (var o3 in e3 || (e3 = {}), t4) !t4.hasOwnProperty(o3) || false === n3 && e3.hasOwnProperty(o3) || (e3[o3] = t4[o3]);
            return e3;
          }
          function V(t4, e3, n3, o3, r2) {
            null == e3 && -1 == (e3 = t4.search(/[^\s\u00a0]/)) && (e3 = t4.length);
            for (var i2 = o3 || 0, a2 = r2 || 0; ; ) {
              var s2 = t4.indexOf("	", i2);
              if (s2 < 0 || s2 >= e3) return a2 + (e3 - i2);
              a2 += s2 - i2, a2 += n3 - a2 % n3, i2 = s2 + 1;
            }
          }
          v ? I = function(t4) {
            t4.selectionStart = 0, t4.selectionEnd = t4.value.length;
          } : a && (I = function(t4) {
            try {
              t4.select();
            } catch (t5) {
            }
          });
          var F = function() {
            this.id = null, this.f = null, this.time = 0, this.handler = N(this.onTimeout, this);
          };
          function H(t4, e3) {
            for (var n3 = 0; n3 < t4.length; ++n3) if (t4[n3] == e3) return n3;
            return -1;
          }
          F.prototype.onTimeout = function(t4) {
            t4.id = 0, t4.time <= +/* @__PURE__ */ new Date() ? t4.f() : setTimeout(t4.handler, t4.time - +/* @__PURE__ */ new Date());
          }, F.prototype.set = function(t4, e3) {
            this.f = e3;
            var n3 = +/* @__PURE__ */ new Date() + t4;
            (!this.id || n3 < this.time) && (clearTimeout(this.id), this.id = setTimeout(this.handler, t4), this.time = n3);
          };
          var U = 50, z = { toString: function() {
            return "CodeMirror.Pass";
          } }, B = { scroll: false }, W = { origin: "*mouse" }, $ = { origin: "+move" };
          function q(t4, e3, n3) {
            for (var o3 = 0, r2 = 0; ; ) {
              var i2 = t4.indexOf("	", o3);
              -1 == i2 && (i2 = t4.length);
              var a2 = i2 - o3;
              if (i2 == t4.length || r2 + a2 >= e3) return o3 + Math.min(a2, e3 - r2);
              if (r2 += i2 - o3, o3 = i2 + 1, (r2 += n3 - r2 % n3) >= e3) return o3;
            }
          }
          var G = [""];
          function K(t4) {
            for (; G.length <= t4; ) G.push(Y(G) + " ");
            return G[t4];
          }
          function Y(t4) {
            return t4[t4.length - 1];
          }
          function J(t4, e3) {
            for (var n3 = [], o3 = 0; o3 < t4.length; o3++) n3[o3] = e3(t4[o3], o3);
            return n3;
          }
          function X(t4, e3, n3) {
            for (var o3 = 0, r2 = n3(e3); o3 < t4.length && n3(t4[o3]) <= r2; ) o3++;
            t4.splice(o3, 0, e3);
          }
          function Z() {
          }
          function Q(t4, e3) {
            var n3;
            return Object.create ? n3 = Object.create(t4) : (Z.prototype = t4, n3 = new Z()), e3 && R(e3, n3), n3;
          }
          var tt = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
          function et(t4) {
            return /\w/.test(t4) || t4 > "" && (t4.toUpperCase() != t4.toLowerCase() || tt.test(t4));
          }
          function nt(t4, e3) {
            return e3 ? !!(e3.source.indexOf("\\w") > -1 && et(t4)) || e3.test(t4) : et(t4);
          }
          function ot(t4) {
            for (var e3 in t4) if (t4.hasOwnProperty(e3) && t4[e3]) return false;
            return true;
          }
          var rt = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
          function it(t4) {
            return t4.charCodeAt(0) >= 768 && rt.test(t4);
          }
          function at(t4, e3, n3) {
            for (; (n3 < 0 ? e3 > 0 : e3 < t4.length) && it(t4.charAt(e3)); ) e3 += n3;
            return e3;
          }
          function st(t4, e3, n3) {
            for (var o3 = e3 > n3 ? -1 : 1; ; ) {
              if (e3 == n3) return e3;
              var r2 = (e3 + n3) / 2, i2 = o3 < 0 ? Math.ceil(r2) : Math.floor(r2);
              if (i2 == e3) return t4(i2) ? e3 : n3;
              t4(i2) ? n3 = i2 : e3 = i2 + o3;
            }
          }
          function lt(t4, e3, n3, o3) {
            if (!t4) return o3(e3, n3, "ltr", 0);
            for (var r2 = false, i2 = 0; i2 < t4.length; ++i2) {
              var a2 = t4[i2];
              (a2.from < n3 && a2.to > e3 || e3 == n3 && a2.to == e3) && (o3(Math.max(a2.from, e3), Math.min(a2.to, n3), 1 == a2.level ? "rtl" : "ltr", i2), r2 = true);
            }
            r2 || o3(e3, n3, "ltr");
          }
          var ct = null;
          function ut(t4, e3, n3) {
            var o3;
            ct = null;
            for (var r2 = 0; r2 < t4.length; ++r2) {
              var i2 = t4[r2];
              if (i2.from < e3 && i2.to > e3) return r2;
              i2.to == e3 && (i2.from != i2.to && "before" == n3 ? o3 = r2 : ct = r2), i2.from == e3 && (i2.from != i2.to && "before" != n3 ? o3 = r2 : ct = r2);
            }
            return null != o3 ? o3 : ct;
          }
          var pt = /* @__PURE__ */ (function() {
            var t4 = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN", e3 = "nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";
            function n3(n4) {
              return n4 <= 247 ? t4.charAt(n4) : 1424 <= n4 && n4 <= 1524 ? "R" : 1536 <= n4 && n4 <= 1785 ? e3.charAt(n4 - 1536) : 1774 <= n4 && n4 <= 2220 ? "r" : 8192 <= n4 && n4 <= 8203 ? "w" : 8204 == n4 ? "b" : "L";
            }
            var o3 = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/, r2 = /[stwN]/, i2 = /[LRr]/, a2 = /[Lb1n]/, s2 = /[1n]/;
            function l2(t5, e4, n4) {
              this.level = t5, this.from = e4, this.to = n4;
            }
            return function(t5, e4) {
              var c2 = "ltr" == e4 ? "L" : "R";
              if (0 == t5.length || "ltr" == e4 && !o3.test(t5)) return false;
              for (var u2 = t5.length, p2 = [], d2 = 0; d2 < u2; ++d2) p2.push(n3(t5.charCodeAt(d2)));
              for (var f2 = 0, h2 = c2; f2 < u2; ++f2) {
                var v2 = p2[f2];
                "m" == v2 ? p2[f2] = h2 : h2 = v2;
              }
              for (var g2 = 0, y2 = c2; g2 < u2; ++g2) {
                var m2 = p2[g2];
                "1" == m2 && "r" == y2 ? p2[g2] = "n" : i2.test(m2) && (y2 = m2, "r" == m2 && (p2[g2] = "R"));
              }
              for (var b2 = 1, _2 = p2[0]; b2 < u2 - 1; ++b2) {
                var w2 = p2[b2];
                "+" == w2 && "1" == _2 && "1" == p2[b2 + 1] ? p2[b2] = "1" : "," != w2 || _2 != p2[b2 + 1] || "1" != _2 && "n" != _2 || (p2[b2] = _2), _2 = w2;
              }
              for (var x2 = 0; x2 < u2; ++x2) {
                var C2 = p2[x2];
                if ("," == C2) p2[x2] = "N";
                else if ("%" == C2) {
                  var S2 = void 0;
                  for (S2 = x2 + 1; S2 < u2 && "%" == p2[S2]; ++S2) ;
                  for (var O2 = x2 && "!" == p2[x2 - 1] || S2 < u2 && "1" == p2[S2] ? "1" : "N", T2 = x2; T2 < S2; ++T2) p2[T2] = O2;
                  x2 = S2 - 1;
                }
              }
              for (var P2 = 0, E2 = c2; P2 < u2; ++P2) {
                var k2 = p2[P2];
                "L" == E2 && "1" == k2 ? p2[P2] = "L" : i2.test(k2) && (E2 = k2);
              }
              for (var A2 = 0; A2 < u2; ++A2) if (r2.test(p2[A2])) {
                var j2 = void 0;
                for (j2 = A2 + 1; j2 < u2 && r2.test(p2[j2]); ++j2) ;
                for (var M2 = "L" == (A2 ? p2[A2 - 1] : c2), D2 = M2 == ("L" == (j2 < u2 ? p2[j2] : c2)) ? M2 ? "L" : "R" : c2, L2 = A2; L2 < j2; ++L2) p2[L2] = D2;
                A2 = j2 - 1;
              }
              for (var I2, N2 = [], R2 = 0; R2 < u2; ) if (a2.test(p2[R2])) {
                var V2 = R2;
                for (++R2; R2 < u2 && a2.test(p2[R2]); ++R2) ;
                N2.push(new l2(0, V2, R2));
              } else {
                var F2 = R2, H2 = N2.length, U2 = "rtl" == e4 ? 1 : 0;
                for (++R2; R2 < u2 && "L" != p2[R2]; ++R2) ;
                for (var z2 = F2; z2 < R2; ) if (s2.test(p2[z2])) {
                  F2 < z2 && (N2.splice(H2, 0, new l2(1, F2, z2)), H2 += U2);
                  var B2 = z2;
                  for (++z2; z2 < R2 && s2.test(p2[z2]); ++z2) ;
                  N2.splice(H2, 0, new l2(2, B2, z2)), H2 += U2, F2 = z2;
                } else ++z2;
                F2 < R2 && N2.splice(H2, 0, new l2(1, F2, R2));
              }
              return "ltr" == e4 && (1 == N2[0].level && (I2 = t5.match(/^\s+/)) && (N2[0].from = I2[0].length, N2.unshift(new l2(0, 0, I2[0].length))), 1 == Y(N2).level && (I2 = t5.match(/\s+$/)) && (Y(N2).to -= I2[0].length, N2.push(new l2(0, u2 - I2[0].length, u2)))), "rtl" == e4 ? N2.reverse() : N2;
            };
          })();
          function dt(t4, e3) {
            var n3 = t4.order;
            return null == n3 && (n3 = t4.order = pt(t4.text, e3)), n3;
          }
          var ft = [], ht = function(t4, e3, n3) {
            if (t4.addEventListener) t4.addEventListener(e3, n3, false);
            else if (t4.attachEvent) t4.attachEvent("on" + e3, n3);
            else {
              var o3 = t4._handlers || (t4._handlers = {});
              o3[e3] = (o3[e3] || ft).concat(n3);
            }
          };
          function vt(t4, e3) {
            return t4._handlers && t4._handlers[e3] || ft;
          }
          function gt(t4, e3, n3) {
            if (t4.removeEventListener) t4.removeEventListener(e3, n3, false);
            else if (t4.detachEvent) t4.detachEvent("on" + e3, n3);
            else {
              var o3 = t4._handlers, r2 = o3 && o3[e3];
              if (r2) {
                var i2 = H(r2, n3);
                i2 > -1 && (o3[e3] = r2.slice(0, i2).concat(r2.slice(i2 + 1)));
              }
            }
          }
          function yt(t4, e3) {
            var n3 = vt(t4, e3);
            if (n3.length) for (var o3 = Array.prototype.slice.call(arguments, 2), r2 = 0; r2 < n3.length; ++r2) n3[r2].apply(null, o3);
          }
          function mt(t4, e3, n3) {
            return "string" == typeof e3 && (e3 = { type: e3, preventDefault: function() {
              this.defaultPrevented = true;
            } }), yt(t4, n3 || e3.type, t4, e3), St(e3) || e3.codemirrorIgnore;
          }
          function bt(t4) {
            var e3 = t4._handlers && t4._handlers.cursorActivity;
            if (e3) for (var n3 = t4.curOp.cursorActivityHandlers || (t4.curOp.cursorActivityHandlers = []), o3 = 0; o3 < e3.length; ++o3) -1 == H(n3, e3[o3]) && n3.push(e3[o3]);
          }
          function _t(t4, e3) {
            return vt(t4, e3).length > 0;
          }
          function wt(t4) {
            t4.prototype.on = function(t5, e3) {
              ht(this, t5, e3);
            }, t4.prototype.off = function(t5, e3) {
              gt(this, t5, e3);
            };
          }
          function xt(t4) {
            t4.preventDefault ? t4.preventDefault() : t4.returnValue = false;
          }
          function Ct(t4) {
            t4.stopPropagation ? t4.stopPropagation() : t4.cancelBubble = true;
          }
          function St(t4) {
            return null != t4.defaultPrevented ? t4.defaultPrevented : 0 == t4.returnValue;
          }
          function Ot(t4) {
            xt(t4), Ct(t4);
          }
          function Tt(t4) {
            return t4.target || t4.srcElement;
          }
          function Pt(t4) {
            var e3 = t4.which;
            return null == e3 && (1 & t4.button ? e3 = 1 : 2 & t4.button ? e3 = 3 : 4 & t4.button && (e3 = 2)), m && t4.ctrlKey && 1 == e3 && (e3 = 3), e3;
          }
          var Et, kt, At = (function() {
            if (a && s < 9) return false;
            var t4 = k("div");
            return "draggable" in t4 || "dragDrop" in t4;
          })();
          function jt(t4) {
            if (null == Et) {
              var e3 = k("span", "");
              E(t4, k("span", [e3, document.createTextNode("x")])), 0 != t4.firstChild.offsetHeight && (Et = e3.offsetWidth <= 1 && e3.offsetHeight > 2 && !(a && s < 8));
            }
            var n3 = Et ? k("span", "") : k("span", "", null, "display: inline-block; width: 1px; margin-right: -1px");
            return n3.setAttribute("cm-text", ""), n3;
          }
          function Mt(t4) {
            if (null != kt) return kt;
            var e3 = E(t4, document.createTextNode("AA")), n3 = O(e3, 0, 1).getBoundingClientRect(), o3 = O(e3, 1, 2).getBoundingClientRect();
            return P(t4), !(!n3 || n3.left == n3.right) && (kt = o3.right - n3.right < 3);
          }
          var Dt, Lt = 3 != "\n\nb".split(/\n/).length ? function(t4) {
            for (var e3 = 0, n3 = [], o3 = t4.length; e3 <= o3; ) {
              var r2 = t4.indexOf("\n", e3);
              -1 == r2 && (r2 = t4.length);
              var i2 = t4.slice(e3, "\r" == t4.charAt(r2 - 1) ? r2 - 1 : r2), a2 = i2.indexOf("\r");
              -1 != a2 ? (n3.push(i2.slice(0, a2)), e3 += a2 + 1) : (n3.push(i2), e3 = r2 + 1);
            }
            return n3;
          } : function(t4) {
            return t4.split(/\r\n?|\n/);
          }, It = window.getSelection ? function(t4) {
            try {
              return t4.selectionStart != t4.selectionEnd;
            } catch (t5) {
              return false;
            }
          } : function(t4) {
            var e3;
            try {
              e3 = t4.ownerDocument.selection.createRange();
            } catch (t5) {
            }
            return !(!e3 || e3.parentElement() != t4) && 0 != e3.compareEndPoints("StartToEnd", e3);
          }, Nt = "oncopy" in (Dt = k("div")) || (Dt.setAttribute("oncopy", "return;"), "function" == typeof Dt.oncopy), Rt = null;
          function Vt(t4) {
            if (null != Rt) return Rt;
            var e3 = E(t4, k("span", "x")), n3 = e3.getBoundingClientRect(), o3 = O(e3, 0, 1).getBoundingClientRect();
            return Rt = Math.abs(n3.left - o3.left) > 1;
          }
          var Ft = {}, Ht = {};
          function Ut(t4, e3) {
            arguments.length > 2 && (e3.dependencies = Array.prototype.slice.call(arguments, 2)), Ft[t4] = e3;
          }
          function zt(t4, e3) {
            Ht[t4] = e3;
          }
          function Bt(t4) {
            if ("string" == typeof t4 && Ht.hasOwnProperty(t4)) t4 = Ht[t4];
            else if (t4 && "string" == typeof t4.name && Ht.hasOwnProperty(t4.name)) {
              var e3 = Ht[t4.name];
              "string" == typeof e3 && (e3 = { name: e3 }), (t4 = Q(e3, t4)).name = e3.name;
            } else {
              if ("string" == typeof t4 && /^[\w\-]+\/[\w\-]+\+xml$/.test(t4)) return Bt("application/xml");
              if ("string" == typeof t4 && /^[\w\-]+\/[\w\-]+\+json$/.test(t4)) return Bt("application/json");
            }
            return "string" == typeof t4 ? { name: t4 } : t4 || { name: "null" };
          }
          function Wt(t4, e3) {
            e3 = Bt(e3);
            var n3 = Ft[e3.name];
            if (!n3) return Wt(t4, "text/plain");
            var o3 = n3(t4, e3);
            if ($t.hasOwnProperty(e3.name)) {
              var r2 = $t[e3.name];
              for (var i2 in r2) r2.hasOwnProperty(i2) && (o3.hasOwnProperty(i2) && (o3["_" + i2] = o3[i2]), o3[i2] = r2[i2]);
            }
            if (o3.name = e3.name, e3.helperType && (o3.helperType = e3.helperType), e3.modeProps) for (var a2 in e3.modeProps) o3[a2] = e3.modeProps[a2];
            return o3;
          }
          var $t = {};
          function qt(t4, e3) {
            R(e3, $t.hasOwnProperty(t4) ? $t[t4] : $t[t4] = {});
          }
          function Gt(t4, e3) {
            if (true === e3) return e3;
            if (t4.copyState) return t4.copyState(e3);
            var n3 = {};
            for (var o3 in e3) {
              var r2 = e3[o3];
              r2 instanceof Array && (r2 = r2.concat([])), n3[o3] = r2;
            }
            return n3;
          }
          function Kt(t4, e3) {
            for (var n3; t4.innerMode && (n3 = t4.innerMode(e3)) && n3.mode != t4; ) e3 = n3.state, t4 = n3.mode;
            return n3 || { mode: t4, state: e3 };
          }
          function Yt(t4, e3, n3) {
            return !t4.startState || t4.startState(e3, n3);
          }
          var Jt = function(t4, e3, n3) {
            this.pos = this.start = 0, this.string = t4, this.tabSize = e3 || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0, this.lineOracle = n3;
          };
          function Xt(t4, e3) {
            if ((e3 -= t4.first) < 0 || e3 >= t4.size) throw new Error("There is no line " + (e3 + t4.first) + " in the document.");
            for (var n3 = t4; !n3.lines; ) for (var o3 = 0; ; ++o3) {
              var r2 = n3.children[o3], i2 = r2.chunkSize();
              if (e3 < i2) {
                n3 = r2;
                break;
              }
              e3 -= i2;
            }
            return n3.lines[e3];
          }
          function Zt(t4, e3, n3) {
            var o3 = [], r2 = e3.line;
            return t4.iter(e3.line, n3.line + 1, (function(t5) {
              var i2 = t5.text;
              r2 == n3.line && (i2 = i2.slice(0, n3.ch)), r2 == e3.line && (i2 = i2.slice(e3.ch)), o3.push(i2), ++r2;
            })), o3;
          }
          function Qt(t4, e3, n3) {
            var o3 = [];
            return t4.iter(e3, n3, (function(t5) {
              o3.push(t5.text);
            })), o3;
          }
          function te(t4, e3) {
            var n3 = e3 - t4.height;
            if (n3) for (var o3 = t4; o3; o3 = o3.parent) o3.height += n3;
          }
          function ee(t4) {
            if (null == t4.parent) return null;
            for (var e3 = t4.parent, n3 = H(e3.lines, t4), o3 = e3.parent; o3; e3 = o3, o3 = o3.parent) for (var r2 = 0; o3.children[r2] != e3; ++r2) n3 += o3.children[r2].chunkSize();
            return n3 + e3.first;
          }
          function ne(t4, e3) {
            var n3 = t4.first;
            t: do {
              for (var o3 = 0; o3 < t4.children.length; ++o3) {
                var r2 = t4.children[o3], i2 = r2.height;
                if (e3 < i2) {
                  t4 = r2;
                  continue t;
                }
                e3 -= i2, n3 += r2.chunkSize();
              }
              return n3;
            } while (!t4.lines);
            for (var a2 = 0; a2 < t4.lines.length; ++a2) {
              var s2 = t4.lines[a2].height;
              if (e3 < s2) break;
              e3 -= s2;
            }
            return n3 + a2;
          }
          function oe(t4, e3) {
            return e3 >= t4.first && e3 < t4.first + t4.size;
          }
          function re(t4, e3) {
            return String(t4.lineNumberFormatter(e3 + t4.firstLineNumber));
          }
          function ie(t4, e3, n3) {
            if (void 0 === n3 && (n3 = null), !(this instanceof ie)) return new ie(t4, e3, n3);
            this.line = t4, this.ch = e3, this.sticky = n3;
          }
          function ae(t4, e3) {
            return t4.line - e3.line || t4.ch - e3.ch;
          }
          function se(t4, e3) {
            return t4.sticky == e3.sticky && 0 == ae(t4, e3);
          }
          function le(t4) {
            return ie(t4.line, t4.ch);
          }
          function ce(t4, e3) {
            return ae(t4, e3) < 0 ? e3 : t4;
          }
          function ue(t4, e3) {
            return ae(t4, e3) < 0 ? t4 : e3;
          }
          function pe(t4, e3) {
            return Math.max(t4.first, Math.min(e3, t4.first + t4.size - 1));
          }
          function de(t4, e3) {
            if (e3.line < t4.first) return ie(t4.first, 0);
            var n3 = t4.first + t4.size - 1;
            return e3.line > n3 ? ie(n3, Xt(t4, n3).text.length) : fe(e3, Xt(t4, e3.line).text.length);
          }
          function fe(t4, e3) {
            var n3 = t4.ch;
            return null == n3 || n3 > e3 ? ie(t4.line, e3) : n3 < 0 ? ie(t4.line, 0) : t4;
          }
          function he(t4, e3) {
            for (var n3 = [], o3 = 0; o3 < e3.length; o3++) n3[o3] = de(t4, e3[o3]);
            return n3;
          }
          Jt.prototype.eol = function() {
            return this.pos >= this.string.length;
          }, Jt.prototype.sol = function() {
            return this.pos == this.lineStart;
          }, Jt.prototype.peek = function() {
            return this.string.charAt(this.pos) || void 0;
          }, Jt.prototype.next = function() {
            if (this.pos < this.string.length) return this.string.charAt(this.pos++);
          }, Jt.prototype.eat = function(t4) {
            var e3 = this.string.charAt(this.pos);
            if ("string" == typeof t4 ? e3 == t4 : e3 && (t4.test ? t4.test(e3) : t4(e3))) return ++this.pos, e3;
          }, Jt.prototype.eatWhile = function(t4) {
            for (var e3 = this.pos; this.eat(t4); ) ;
            return this.pos > e3;
          }, Jt.prototype.eatSpace = function() {
            for (var t4 = this.pos; /[\s\u00a0]/.test(this.string.charAt(this.pos)); ) ++this.pos;
            return this.pos > t4;
          }, Jt.prototype.skipToEnd = function() {
            this.pos = this.string.length;
          }, Jt.prototype.skipTo = function(t4) {
            var e3 = this.string.indexOf(t4, this.pos);
            if (e3 > -1) return this.pos = e3, true;
          }, Jt.prototype.backUp = function(t4) {
            this.pos -= t4;
          }, Jt.prototype.column = function() {
            return this.lastColumnPos < this.start && (this.lastColumnValue = V(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? V(this.string, this.lineStart, this.tabSize) : 0);
          }, Jt.prototype.indentation = function() {
            return V(this.string, null, this.tabSize) - (this.lineStart ? V(this.string, this.lineStart, this.tabSize) : 0);
          }, Jt.prototype.match = function(t4, e3, n3) {
            if ("string" != typeof t4) {
              var o3 = this.string.slice(this.pos).match(t4);
              return o3 && o3.index > 0 ? null : (o3 && false !== e3 && (this.pos += o3[0].length), o3);
            }
            var r2 = function(t5) {
              return n3 ? t5.toLowerCase() : t5;
            };
            if (r2(this.string.substr(this.pos, t4.length)) == r2(t4)) return false !== e3 && (this.pos += t4.length), true;
          }, Jt.prototype.current = function() {
            return this.string.slice(this.start, this.pos);
          }, Jt.prototype.hideFirstChars = function(t4, e3) {
            this.lineStart += t4;
            try {
              return e3();
            } finally {
              this.lineStart -= t4;
            }
          }, Jt.prototype.lookAhead = function(t4) {
            var e3 = this.lineOracle;
            return e3 && e3.lookAhead(t4);
          }, Jt.prototype.baseToken = function() {
            var t4 = this.lineOracle;
            return t4 && t4.baseToken(this.pos);
          };
          var ve = function(t4, e3) {
            this.state = t4, this.lookAhead = e3;
          }, ge = function(t4, e3, n3, o3) {
            this.state = e3, this.doc = t4, this.line = n3, this.maxLookAhead = o3 || 0, this.baseTokens = null, this.baseTokenPos = 1;
          };
          function ye(t4, e3, n3, o3) {
            var r2 = [t4.state.modeGen], i2 = {};
            Te(t4, e3.text, t4.doc.mode, n3, (function(t5, e4) {
              return r2.push(t5, e4);
            }), i2, o3);
            for (var a2 = n3.state, s2 = function(o4) {
              n3.baseTokens = r2;
              var s3 = t4.state.overlays[o4], l3 = 1, c2 = 0;
              n3.state = true, Te(t4, e3.text, s3.mode, n3, (function(t5, e4) {
                for (var n4 = l3; c2 < t5; ) {
                  var o5 = r2[l3];
                  o5 > t5 && r2.splice(l3, 1, t5, r2[l3 + 1], o5), l3 += 2, c2 = Math.min(t5, o5);
                }
                if (e4) if (s3.opaque) r2.splice(n4, l3 - n4, t5, "overlay " + e4), l3 = n4 + 2;
                else for (; n4 < l3; n4 += 2) {
                  var i3 = r2[n4 + 1];
                  r2[n4 + 1] = (i3 ? i3 + " " : "") + "overlay " + e4;
                }
              }), i2), n3.state = a2, n3.baseTokens = null, n3.baseTokenPos = 1;
            }, l2 = 0; l2 < t4.state.overlays.length; ++l2) s2(l2);
            return { styles: r2, classes: i2.bgClass || i2.textClass ? i2 : null };
          }
          function me(t4, e3, n3) {
            if (!e3.styles || e3.styles[0] != t4.state.modeGen) {
              var o3 = be(t4, ee(e3)), r2 = e3.text.length > t4.options.maxHighlightLength && Gt(t4.doc.mode, o3.state), i2 = ye(t4, e3, o3);
              r2 && (o3.state = r2), e3.stateAfter = o3.save(!r2), e3.styles = i2.styles, i2.classes ? e3.styleClasses = i2.classes : e3.styleClasses && (e3.styleClasses = null), n3 === t4.doc.highlightFrontier && (t4.doc.modeFrontier = Math.max(t4.doc.modeFrontier, ++t4.doc.highlightFrontier));
            }
            return e3.styles;
          }
          function be(t4, e3, n3) {
            var o3 = t4.doc, r2 = t4.display;
            if (!o3.mode.startState) return new ge(o3, true, e3);
            var i2 = Pe(t4, e3, n3), a2 = i2 > o3.first && Xt(o3, i2 - 1).stateAfter, s2 = a2 ? ge.fromSaved(o3, a2, i2) : new ge(o3, Yt(o3.mode), i2);
            return o3.iter(i2, e3, (function(n4) {
              _e(t4, n4.text, s2);
              var o4 = s2.line;
              n4.stateAfter = o4 == e3 - 1 || o4 % 5 == 0 || o4 >= r2.viewFrom && o4 < r2.viewTo ? s2.save() : null, s2.nextLine();
            })), n3 && (o3.modeFrontier = s2.line), s2;
          }
          function _e(t4, e3, n3, o3) {
            var r2 = t4.doc.mode, i2 = new Jt(e3, t4.options.tabSize, n3);
            for (i2.start = i2.pos = o3 || 0, "" == e3 && we(r2, n3.state); !i2.eol(); ) xe(r2, i2, n3.state), i2.start = i2.pos;
          }
          function we(t4, e3) {
            if (t4.blankLine) return t4.blankLine(e3);
            if (t4.innerMode) {
              var n3 = Kt(t4, e3);
              return n3.mode.blankLine ? n3.mode.blankLine(n3.state) : void 0;
            }
          }
          function xe(t4, e3, n3, o3) {
            for (var r2 = 0; r2 < 10; r2++) {
              o3 && (o3[0] = Kt(t4, n3).mode);
              var i2 = t4.token(e3, n3);
              if (e3.pos > e3.start) return i2;
            }
            throw new Error("Mode " + t4.name + " failed to advance stream.");
          }
          ge.prototype.lookAhead = function(t4) {
            var e3 = this.doc.getLine(this.line + t4);
            return null != e3 && t4 > this.maxLookAhead && (this.maxLookAhead = t4), e3;
          }, ge.prototype.baseToken = function(t4) {
            if (!this.baseTokens) return null;
            for (; this.baseTokens[this.baseTokenPos] <= t4; ) this.baseTokenPos += 2;
            var e3 = this.baseTokens[this.baseTokenPos + 1];
            return { type: e3 && e3.replace(/( |^)overlay .*/, ""), size: this.baseTokens[this.baseTokenPos] - t4 };
          }, ge.prototype.nextLine = function() {
            this.line++, this.maxLookAhead > 0 && this.maxLookAhead--;
          }, ge.fromSaved = function(t4, e3, n3) {
            return e3 instanceof ve ? new ge(t4, Gt(t4.mode, e3.state), n3, e3.lookAhead) : new ge(t4, Gt(t4.mode, e3), n3);
          }, ge.prototype.save = function(t4) {
            var e3 = false !== t4 ? Gt(this.doc.mode, this.state) : this.state;
            return this.maxLookAhead > 0 ? new ve(e3, this.maxLookAhead) : e3;
          };
          var Ce = function(t4, e3, n3) {
            this.start = t4.start, this.end = t4.pos, this.string = t4.current(), this.type = e3 || null, this.state = n3;
          };
          function Se(t4, e3, n3, o3) {
            var r2, i2, a2 = t4.doc, s2 = a2.mode, l2 = Xt(a2, (e3 = de(a2, e3)).line), c2 = be(t4, e3.line, n3), u2 = new Jt(l2.text, t4.options.tabSize, c2);
            for (o3 && (i2 = []); (o3 || u2.pos < e3.ch) && !u2.eol(); ) u2.start = u2.pos, r2 = xe(s2, u2, c2.state), o3 && i2.push(new Ce(u2, r2, Gt(a2.mode, c2.state)));
            return o3 ? i2 : new Ce(u2, r2, c2.state);
          }
          function Oe(t4, e3) {
            if (t4) for (; ; ) {
              var n3 = t4.match(/(?:^|\s+)line-(background-)?(\S+)/);
              if (!n3) break;
              t4 = t4.slice(0, n3.index) + t4.slice(n3.index + n3[0].length);
              var o3 = n3[1] ? "bgClass" : "textClass";
              null == e3[o3] ? e3[o3] = n3[2] : new RegExp("(?:^|\\s)" + n3[2] + "(?:$|\\s)").test(e3[o3]) || (e3[o3] += " " + n3[2]);
            }
            return t4;
          }
          function Te(t4, e3, n3, o3, r2, i2, a2) {
            var s2 = n3.flattenSpans;
            null == s2 && (s2 = t4.options.flattenSpans);
            var l2, c2 = 0, u2 = null, p2 = new Jt(e3, t4.options.tabSize, o3), d2 = t4.options.addModeClass && [null];
            for ("" == e3 && Oe(we(n3, o3.state), i2); !p2.eol(); ) {
              if (p2.pos > t4.options.maxHighlightLength ? (s2 = false, a2 && _e(t4, e3, o3, p2.pos), p2.pos = e3.length, l2 = null) : l2 = Oe(xe(n3, p2, o3.state, d2), i2), d2) {
                var f2 = d2[0].name;
                f2 && (l2 = "m-" + (l2 ? f2 + " " + l2 : f2));
              }
              if (!s2 || u2 != l2) {
                for (; c2 < p2.start; ) r2(c2 = Math.min(p2.start, c2 + 5e3), u2);
                u2 = l2;
              }
              p2.start = p2.pos;
            }
            for (; c2 < p2.pos; ) {
              var h2 = Math.min(p2.pos, c2 + 5e3);
              r2(h2, u2), c2 = h2;
            }
          }
          function Pe(t4, e3, n3) {
            for (var o3, r2, i2 = t4.doc, a2 = n3 ? -1 : e3 - (t4.doc.mode.innerMode ? 1e3 : 100), s2 = e3; s2 > a2; --s2) {
              if (s2 <= i2.first) return i2.first;
              var l2 = Xt(i2, s2 - 1), c2 = l2.stateAfter;
              if (c2 && (!n3 || s2 + (c2 instanceof ve ? c2.lookAhead : 0) <= i2.modeFrontier)) return s2;
              var u2 = V(l2.text, null, t4.options.tabSize);
              (null == r2 || o3 > u2) && (r2 = s2 - 1, o3 = u2);
            }
            return r2;
          }
          function Ee(t4, e3) {
            if (t4.modeFrontier = Math.min(t4.modeFrontier, e3), !(t4.highlightFrontier < e3 - 10)) {
              for (var n3 = t4.first, o3 = e3 - 1; o3 > n3; o3--) {
                var r2 = Xt(t4, o3).stateAfter;
                if (r2 && (!(r2 instanceof ve) || o3 + r2.lookAhead < e3)) {
                  n3 = o3 + 1;
                  break;
                }
              }
              t4.highlightFrontier = Math.min(t4.highlightFrontier, n3);
            }
          }
          var ke = false, Ae = false;
          function je() {
            ke = true;
          }
          function Me() {
            Ae = true;
          }
          function De(t4, e3, n3) {
            this.marker = t4, this.from = e3, this.to = n3;
          }
          function Le(t4, e3) {
            if (t4) for (var n3 = 0; n3 < t4.length; ++n3) {
              var o3 = t4[n3];
              if (o3.marker == e3) return o3;
            }
          }
          function Ie(t4, e3) {
            for (var n3, o3 = 0; o3 < t4.length; ++o3) t4[o3] != e3 && (n3 || (n3 = [])).push(t4[o3]);
            return n3;
          }
          function Ne(t4, e3, n3) {
            var o3 = n3 && window.WeakSet && (n3.markedSpans || (n3.markedSpans = /* @__PURE__ */ new WeakSet()));
            o3 && o3.has(t4.markedSpans) ? t4.markedSpans.push(e3) : (t4.markedSpans = t4.markedSpans ? t4.markedSpans.concat([e3]) : [e3], o3 && o3.add(t4.markedSpans)), e3.marker.attachLine(t4);
          }
          function Re(t4, e3, n3) {
            var o3;
            if (t4) for (var r2 = 0; r2 < t4.length; ++r2) {
              var i2 = t4[r2], a2 = i2.marker;
              if (null == i2.from || (a2.inclusiveLeft ? i2.from <= e3 : i2.from < e3) || i2.from == e3 && "bookmark" == a2.type && (!n3 || !i2.marker.insertLeft)) {
                var s2 = null == i2.to || (a2.inclusiveRight ? i2.to >= e3 : i2.to > e3);
                (o3 || (o3 = [])).push(new De(a2, i2.from, s2 ? null : i2.to));
              }
            }
            return o3;
          }
          function Ve(t4, e3, n3) {
            var o3;
            if (t4) for (var r2 = 0; r2 < t4.length; ++r2) {
              var i2 = t4[r2], a2 = i2.marker;
              if (null == i2.to || (a2.inclusiveRight ? i2.to >= e3 : i2.to > e3) || i2.from == e3 && "bookmark" == a2.type && (!n3 || i2.marker.insertLeft)) {
                var s2 = null == i2.from || (a2.inclusiveLeft ? i2.from <= e3 : i2.from < e3);
                (o3 || (o3 = [])).push(new De(a2, s2 ? null : i2.from - e3, null == i2.to ? null : i2.to - e3));
              }
            }
            return o3;
          }
          function Fe(t4, e3) {
            if (e3.full) return null;
            var n3 = oe(t4, e3.from.line) && Xt(t4, e3.from.line).markedSpans, o3 = oe(t4, e3.to.line) && Xt(t4, e3.to.line).markedSpans;
            if (!n3 && !o3) return null;
            var r2 = e3.from.ch, i2 = e3.to.ch, a2 = 0 == ae(e3.from, e3.to), s2 = Re(n3, r2, a2), l2 = Ve(o3, i2, a2), c2 = 1 == e3.text.length, u2 = Y(e3.text).length + (c2 ? r2 : 0);
            if (s2) for (var p2 = 0; p2 < s2.length; ++p2) {
              var d2 = s2[p2];
              if (null == d2.to) {
                var f2 = Le(l2, d2.marker);
                f2 ? c2 && (d2.to = null == f2.to ? null : f2.to + u2) : d2.to = r2;
              }
            }
            if (l2) for (var h2 = 0; h2 < l2.length; ++h2) {
              var v2 = l2[h2];
              null != v2.to && (v2.to += u2), null == v2.from ? Le(s2, v2.marker) || (v2.from = u2, c2 && (s2 || (s2 = [])).push(v2)) : (v2.from += u2, c2 && (s2 || (s2 = [])).push(v2));
            }
            s2 && (s2 = He(s2)), l2 && l2 != s2 && (l2 = He(l2));
            var g2 = [s2];
            if (!c2) {
              var y2, m2 = e3.text.length - 2;
              if (m2 > 0 && s2) for (var b2 = 0; b2 < s2.length; ++b2) null == s2[b2].to && (y2 || (y2 = [])).push(new De(s2[b2].marker, null, null));
              for (var _2 = 0; _2 < m2; ++_2) g2.push(y2);
              g2.push(l2);
            }
            return g2;
          }
          function He(t4) {
            for (var e3 = 0; e3 < t4.length; ++e3) {
              var n3 = t4[e3];
              null != n3.from && n3.from == n3.to && false !== n3.marker.clearWhenEmpty && t4.splice(e3--, 1);
            }
            return t4.length ? t4 : null;
          }
          function Ue(t4, e3, n3) {
            var o3 = null;
            if (t4.iter(e3.line, n3.line + 1, (function(t5) {
              if (t5.markedSpans) for (var e4 = 0; e4 < t5.markedSpans.length; ++e4) {
                var n4 = t5.markedSpans[e4].marker;
                !n4.readOnly || o3 && -1 != H(o3, n4) || (o3 || (o3 = [])).push(n4);
              }
            })), !o3) return null;
            for (var r2 = [{ from: e3, to: n3 }], i2 = 0; i2 < o3.length; ++i2) for (var a2 = o3[i2], s2 = a2.find(0), l2 = 0; l2 < r2.length; ++l2) {
              var c2 = r2[l2];
              if (!(ae(c2.to, s2.from) < 0 || ae(c2.from, s2.to) > 0)) {
                var u2 = [l2, 1], p2 = ae(c2.from, s2.from), d2 = ae(c2.to, s2.to);
                (p2 < 0 || !a2.inclusiveLeft && !p2) && u2.push({ from: c2.from, to: s2.from }), (d2 > 0 || !a2.inclusiveRight && !d2) && u2.push({ from: s2.to, to: c2.to }), r2.splice.apply(r2, u2), l2 += u2.length - 3;
              }
            }
            return r2;
          }
          function ze(t4) {
            var e3 = t4.markedSpans;
            if (e3) {
              for (var n3 = 0; n3 < e3.length; ++n3) e3[n3].marker.detachLine(t4);
              t4.markedSpans = null;
            }
          }
          function Be(t4, e3) {
            if (e3) {
              for (var n3 = 0; n3 < e3.length; ++n3) e3[n3].marker.attachLine(t4);
              t4.markedSpans = e3;
            }
          }
          function We(t4) {
            return t4.inclusiveLeft ? -1 : 0;
          }
          function $e(t4) {
            return t4.inclusiveRight ? 1 : 0;
          }
          function qe(t4, e3) {
            var n3 = t4.lines.length - e3.lines.length;
            if (0 != n3) return n3;
            var o3 = t4.find(), r2 = e3.find(), i2 = ae(o3.from, r2.from) || We(t4) - We(e3);
            if (i2) return -i2;
            var a2 = ae(o3.to, r2.to) || $e(t4) - $e(e3);
            return a2 || e3.id - t4.id;
          }
          function Ge(t4, e3) {
            var n3, o3 = Ae && t4.markedSpans;
            if (o3) for (var r2 = void 0, i2 = 0; i2 < o3.length; ++i2) (r2 = o3[i2]).marker.collapsed && null == (e3 ? r2.from : r2.to) && (!n3 || qe(n3, r2.marker) < 0) && (n3 = r2.marker);
            return n3;
          }
          function Ke(t4) {
            return Ge(t4, true);
          }
          function Ye(t4) {
            return Ge(t4, false);
          }
          function Je(t4, e3) {
            var n3, o3 = Ae && t4.markedSpans;
            if (o3) for (var r2 = 0; r2 < o3.length; ++r2) {
              var i2 = o3[r2];
              i2.marker.collapsed && (null == i2.from || i2.from < e3) && (null == i2.to || i2.to > e3) && (!n3 || qe(n3, i2.marker) < 0) && (n3 = i2.marker);
            }
            return n3;
          }
          function Xe(t4, e3, n3, o3, r2) {
            var i2 = Xt(t4, e3), a2 = Ae && i2.markedSpans;
            if (a2) for (var s2 = 0; s2 < a2.length; ++s2) {
              var l2 = a2[s2];
              if (l2.marker.collapsed) {
                var c2 = l2.marker.find(0), u2 = ae(c2.from, n3) || We(l2.marker) - We(r2), p2 = ae(c2.to, o3) || $e(l2.marker) - $e(r2);
                if (!(u2 >= 0 && p2 <= 0 || u2 <= 0 && p2 >= 0) && (u2 <= 0 && (l2.marker.inclusiveRight && r2.inclusiveLeft ? ae(c2.to, n3) >= 0 : ae(c2.to, n3) > 0) || u2 >= 0 && (l2.marker.inclusiveRight && r2.inclusiveLeft ? ae(c2.from, o3) <= 0 : ae(c2.from, o3) < 0))) return true;
              }
            }
          }
          function Ze(t4) {
            for (var e3; e3 = Ke(t4); ) t4 = e3.find(-1, true).line;
            return t4;
          }
          function Qe(t4) {
            for (var e3; e3 = Ye(t4); ) t4 = e3.find(1, true).line;
            return t4;
          }
          function tn(t4) {
            for (var e3, n3; e3 = Ye(t4); ) t4 = e3.find(1, true).line, (n3 || (n3 = [])).push(t4);
            return n3;
          }
          function en(t4, e3) {
            var n3 = Xt(t4, e3), o3 = Ze(n3);
            return n3 == o3 ? e3 : ee(o3);
          }
          function nn(t4, e3) {
            if (e3 > t4.lastLine()) return e3;
            var n3, o3 = Xt(t4, e3);
            if (!on(t4, o3)) return e3;
            for (; n3 = Ye(o3); ) o3 = n3.find(1, true).line;
            return ee(o3) + 1;
          }
          function on(t4, e3) {
            var n3 = Ae && e3.markedSpans;
            if (n3) {
              for (var o3 = void 0, r2 = 0; r2 < n3.length; ++r2) if ((o3 = n3[r2]).marker.collapsed) {
                if (null == o3.from) return true;
                if (!o3.marker.widgetNode && 0 == o3.from && o3.marker.inclusiveLeft && rn(t4, e3, o3)) return true;
              }
            }
          }
          function rn(t4, e3, n3) {
            if (null == n3.to) {
              var o3 = n3.marker.find(1, true);
              return rn(t4, o3.line, Le(o3.line.markedSpans, n3.marker));
            }
            if (n3.marker.inclusiveRight && n3.to == e3.text.length) return true;
            for (var r2 = void 0, i2 = 0; i2 < e3.markedSpans.length; ++i2) if ((r2 = e3.markedSpans[i2]).marker.collapsed && !r2.marker.widgetNode && r2.from == n3.to && (null == r2.to || r2.to != n3.from) && (r2.marker.inclusiveLeft || n3.marker.inclusiveRight) && rn(t4, e3, r2)) return true;
          }
          function an(t4) {
            for (var e3 = 0, n3 = (t4 = Ze(t4)).parent, o3 = 0; o3 < n3.lines.length; ++o3) {
              var r2 = n3.lines[o3];
              if (r2 == t4) break;
              e3 += r2.height;
            }
            for (var i2 = n3.parent; i2; i2 = (n3 = i2).parent) for (var a2 = 0; a2 < i2.children.length; ++a2) {
              var s2 = i2.children[a2];
              if (s2 == n3) break;
              e3 += s2.height;
            }
            return e3;
          }
          function sn(t4) {
            if (0 == t4.height) return 0;
            for (var e3, n3 = t4.text.length, o3 = t4; e3 = Ke(o3); ) {
              var r2 = e3.find(0, true);
              o3 = r2.from.line, n3 += r2.from.ch - r2.to.ch;
            }
            for (o3 = t4; e3 = Ye(o3); ) {
              var i2 = e3.find(0, true);
              n3 -= o3.text.length - i2.from.ch, n3 += (o3 = i2.to.line).text.length - i2.to.ch;
            }
            return n3;
          }
          function ln(t4) {
            var e3 = t4.display, n3 = t4.doc;
            e3.maxLine = Xt(n3, n3.first), e3.maxLineLength = sn(e3.maxLine), e3.maxLineChanged = true, n3.iter((function(t5) {
              var n4 = sn(t5);
              n4 > e3.maxLineLength && (e3.maxLineLength = n4, e3.maxLine = t5);
            }));
          }
          var cn = function(t4, e3, n3) {
            this.text = t4, Be(this, e3), this.height = n3 ? n3(this) : 1;
          };
          function un(t4, e3, n3, o3) {
            t4.text = e3, t4.stateAfter && (t4.stateAfter = null), t4.styles && (t4.styles = null), null != t4.order && (t4.order = null), ze(t4), Be(t4, n3);
            var r2 = o3 ? o3(t4) : 1;
            r2 != t4.height && te(t4, r2);
          }
          function pn(t4) {
            t4.parent = null, ze(t4);
          }
          cn.prototype.lineNo = function() {
            return ee(this);
          }, wt(cn);
          var dn = {}, fn = {};
          function hn(t4, e3) {
            if (!t4 || /^\s*$/.test(t4)) return null;
            var n3 = e3.addModeClass ? fn : dn;
            return n3[t4] || (n3[t4] = t4.replace(/\S+/g, "cm-$&"));
          }
          function vn(t4, e3) {
            var n3 = A("span", null, null, l ? "padding-right: .1px" : null), o3 = { pre: A("pre", [n3], "CodeMirror-line"), content: n3, col: 0, pos: 0, cm: t4, trailingSpace: false, splitSpaces: t4.getOption("lineWrapping") };
            e3.measure = {};
            for (var r2 = 0; r2 <= (e3.rest ? e3.rest.length : 0); r2++) {
              var i2 = r2 ? e3.rest[r2 - 1] : e3.line, a2 = void 0;
              o3.pos = 0, o3.addToken = yn, Mt(t4.display.measure) && (a2 = dt(i2, t4.doc.direction)) && (o3.addToken = bn(o3.addToken, a2)), o3.map = [], wn(i2, o3, me(t4, i2, e3 != t4.display.externalMeasured && ee(i2))), i2.styleClasses && (i2.styleClasses.bgClass && (o3.bgClass = L(i2.styleClasses.bgClass, o3.bgClass || "")), i2.styleClasses.textClass && (o3.textClass = L(i2.styleClasses.textClass, o3.textClass || ""))), 0 == o3.map.length && o3.map.push(0, 0, o3.content.appendChild(jt(t4.display.measure))), 0 == r2 ? (e3.measure.map = o3.map, e3.measure.cache = {}) : ((e3.measure.maps || (e3.measure.maps = [])).push(o3.map), (e3.measure.caches || (e3.measure.caches = [])).push({}));
            }
            if (l) {
              var s2 = o3.content.lastChild;
              (/\bcm-tab\b/.test(s2.className) || s2.querySelector && s2.querySelector(".cm-tab")) && (o3.content.className = "cm-tab-wrap-hack");
            }
            return yt(t4, "renderLine", t4, e3.line, o3.pre), o3.pre.className && (o3.textClass = L(o3.pre.className, o3.textClass || "")), o3;
          }
          function gn(t4) {
            var e3 = k("span", "", "cm-invalidchar");
            return e3.title = "\\u" + t4.charCodeAt(0).toString(16), e3.setAttribute("aria-label", e3.title), e3;
          }
          function yn(t4, e3, n3, o3, r2, i2, l2) {
            if (e3) {
              var c2, u2 = t4.splitSpaces ? mn(e3, t4.trailingSpace) : e3, p2 = t4.cm.state.specialChars, d2 = false;
              if (p2.test(e3)) {
                c2 = document.createDocumentFragment();
                for (var f2 = 0; 1; ) {
                  p2.lastIndex = f2;
                  var h2 = p2.exec(e3), v2 = h2 ? h2.index - f2 : e3.length - f2;
                  if (v2) {
                    var g2 = document.createTextNode(u2.slice(f2, f2 + v2));
                    a && s < 9 ? c2.appendChild(k("span", [g2])) : c2.appendChild(g2), t4.map.push(t4.pos, t4.pos + v2, g2), t4.col += v2, t4.pos += v2;
                  }
                  if (!h2) break;
                  f2 += v2 + 1;
                  var y2 = void 0;
                  if ("	" == h2[0]) {
                    var m2 = t4.cm.options.tabSize, b2 = m2 - t4.col % m2;
                    (y2 = c2.appendChild(k("span", K(b2), "cm-tab"))).setAttribute("role", "presentation"), y2.setAttribute("cm-text", "	"), t4.col += b2;
                  } else "\r" == h2[0] || "\n" == h2[0] ? ((y2 = c2.appendChild(k("span", "\r" == h2[0] ? "" : "", "cm-invalidchar"))).setAttribute("cm-text", h2[0]), t4.col += 1) : ((y2 = t4.cm.options.specialCharPlaceholder(h2[0])).setAttribute("cm-text", h2[0]), a && s < 9 ? c2.appendChild(k("span", [y2])) : c2.appendChild(y2), t4.col += 1);
                  t4.map.push(t4.pos, t4.pos + 1, y2), t4.pos++;
                }
              } else t4.col += e3.length, c2 = document.createTextNode(u2), t4.map.push(t4.pos, t4.pos + e3.length, c2), a && s < 9 && (d2 = true), t4.pos += e3.length;
              if (t4.trailingSpace = 32 == u2.charCodeAt(e3.length - 1), n3 || o3 || r2 || d2 || i2 || l2) {
                var _2 = n3 || "";
                o3 && (_2 += o3), r2 && (_2 += r2);
                var w2 = k("span", [c2], _2, i2);
                if (l2) for (var x2 in l2) l2.hasOwnProperty(x2) && "style" != x2 && "class" != x2 && w2.setAttribute(x2, l2[x2]);
                return t4.content.appendChild(w2);
              }
              t4.content.appendChild(c2);
            }
          }
          function mn(t4, e3) {
            if (t4.length > 1 && !/  /.test(t4)) return t4;
            for (var n3 = e3, o3 = "", r2 = 0; r2 < t4.length; r2++) {
              var i2 = t4.charAt(r2);
              " " != i2 || !n3 || r2 != t4.length - 1 && 32 != t4.charCodeAt(r2 + 1) || (i2 = ""), o3 += i2, n3 = " " == i2;
            }
            return o3;
          }
          function bn(t4, e3) {
            return function(n3, o3, r2, i2, a2, s2, l2) {
              r2 = r2 ? r2 + " cm-force-border" : "cm-force-border";
              for (var c2 = n3.pos, u2 = c2 + o3.length; ; ) {
                for (var p2 = void 0, d2 = 0; d2 < e3.length && !((p2 = e3[d2]).to > c2 && p2.from <= c2); d2++) ;
                if (p2.to >= u2) return t4(n3, o3, r2, i2, a2, s2, l2);
                t4(n3, o3.slice(0, p2.to - c2), r2, i2, null, s2, l2), i2 = null, o3 = o3.slice(p2.to - c2), c2 = p2.to;
              }
            };
          }
          function _n(t4, e3, n3, o3) {
            var r2 = !o3 && n3.widgetNode;
            r2 && t4.map.push(t4.pos, t4.pos + e3, r2), !o3 && t4.cm.display.input.needsContentAttribute && (r2 || (r2 = t4.content.appendChild(document.createElement("span"))), r2.setAttribute("cm-marker", n3.id)), r2 && (t4.cm.display.input.setUneditable(r2), t4.content.appendChild(r2)), t4.pos += e3, t4.trailingSpace = false;
          }
          function wn(t4, e3, n3) {
            var o3 = t4.markedSpans, r2 = t4.text, i2 = 0;
            if (o3) for (var a2, s2, l2, c2, u2, p2, d2, f2 = r2.length, h2 = 0, v2 = 1, g2 = "", y2 = 0; ; ) {
              if (y2 == h2) {
                l2 = c2 = u2 = s2 = "", d2 = null, p2 = null, y2 = 1 / 0;
                for (var m2 = [], b2 = void 0, _2 = 0; _2 < o3.length; ++_2) {
                  var w2 = o3[_2], x2 = w2.marker;
                  if ("bookmark" == x2.type && w2.from == h2 && x2.widgetNode) m2.push(x2);
                  else if (w2.from <= h2 && (null == w2.to || w2.to > h2 || x2.collapsed && w2.to == h2 && w2.from == h2)) {
                    if (null != w2.to && w2.to != h2 && y2 > w2.to && (y2 = w2.to, c2 = ""), x2.className && (l2 += " " + x2.className), x2.css && (s2 = (s2 ? s2 + ";" : "") + x2.css), x2.startStyle && w2.from == h2 && (u2 += " " + x2.startStyle), x2.endStyle && w2.to == y2 && (b2 || (b2 = [])).push(x2.endStyle, w2.to), x2.title && ((d2 || (d2 = {})).title = x2.title), x2.attributes) for (var C2 in x2.attributes) (d2 || (d2 = {}))[C2] = x2.attributes[C2];
                    x2.collapsed && (!p2 || qe(p2.marker, x2) < 0) && (p2 = w2);
                  } else w2.from > h2 && y2 > w2.from && (y2 = w2.from);
                }
                if (b2) for (var S2 = 0; S2 < b2.length; S2 += 2) b2[S2 + 1] == y2 && (c2 += " " + b2[S2]);
                if (!p2 || p2.from == h2) for (var O2 = 0; O2 < m2.length; ++O2) _n(e3, 0, m2[O2]);
                if (p2 && (p2.from || 0) == h2) {
                  if (_n(e3, (null == p2.to ? f2 + 1 : p2.to) - h2, p2.marker, null == p2.from), null == p2.to) return;
                  p2.to == h2 && (p2 = false);
                }
              }
              if (h2 >= f2) break;
              for (var T2 = Math.min(f2, y2); 1; ) {
                if (g2) {
                  var P2 = h2 + g2.length;
                  if (!p2) {
                    var E2 = P2 > T2 ? g2.slice(0, T2 - h2) : g2;
                    e3.addToken(e3, E2, a2 ? a2 + l2 : l2, u2, h2 + E2.length == y2 ? c2 : "", s2, d2);
                  }
                  if (P2 >= T2) {
                    g2 = g2.slice(T2 - h2), h2 = T2;
                    break;
                  }
                  h2 = P2, u2 = "";
                }
                g2 = r2.slice(i2, i2 = n3[v2++]), a2 = hn(n3[v2++], e3.cm.options);
              }
            }
            else for (var k2 = 1; k2 < n3.length; k2 += 2) e3.addToken(e3, r2.slice(i2, i2 = n3[k2]), hn(n3[k2 + 1], e3.cm.options));
          }
          function xn(t4, e3, n3) {
            this.line = e3, this.rest = tn(e3), this.size = this.rest ? ee(Y(this.rest)) - n3 + 1 : 1, this.node = this.text = null, this.hidden = on(t4, e3);
          }
          function Cn(t4, e3, n3) {
            for (var o3, r2 = [], i2 = e3; i2 < n3; i2 = o3) {
              var a2 = new xn(t4.doc, Xt(t4.doc, i2), i2);
              o3 = i2 + a2.size, r2.push(a2);
            }
            return r2;
          }
          var Sn = null;
          function On(t4) {
            Sn ? Sn.ops.push(t4) : t4.ownsGroup = Sn = { ops: [t4], delayedCallbacks: [] };
          }
          function Tn(t4) {
            var e3 = t4.delayedCallbacks, n3 = 0;
            do {
              for (; n3 < e3.length; n3++) e3[n3].call(null);
              for (var o3 = 0; o3 < t4.ops.length; o3++) {
                var r2 = t4.ops[o3];
                if (r2.cursorActivityHandlers) for (; r2.cursorActivityCalled < r2.cursorActivityHandlers.length; ) r2.cursorActivityHandlers[r2.cursorActivityCalled++].call(null, r2.cm);
              }
            } while (n3 < e3.length);
          }
          function Pn(t4, e3) {
            var n3 = t4.ownsGroup;
            if (n3) try {
              Tn(n3);
            } finally {
              Sn = null, e3(n3);
            }
          }
          var En = null;
          function kn(t4, e3) {
            var n3 = vt(t4, e3);
            if (n3.length) {
              var o3, r2 = Array.prototype.slice.call(arguments, 2);
              Sn ? o3 = Sn.delayedCallbacks : En ? o3 = En : (o3 = En = [], setTimeout(An, 0));
              for (var i2 = function(t5) {
                o3.push((function() {
                  return n3[t5].apply(null, r2);
                }));
              }, a2 = 0; a2 < n3.length; ++a2) i2(a2);
            }
          }
          function An() {
            var t4 = En;
            En = null;
            for (var e3 = 0; e3 < t4.length; ++e3) t4[e3]();
          }
          function jn(t4, e3, n3, o3) {
            for (var r2 = 0; r2 < e3.changes.length; r2++) {
              var i2 = e3.changes[r2];
              "text" == i2 ? In(t4, e3) : "gutter" == i2 ? Rn(t4, e3, n3, o3) : "class" == i2 ? Nn(t4, e3) : "widget" == i2 && Vn(t4, e3, o3);
            }
            e3.changes = null;
          }
          function Mn(t4) {
            return t4.node == t4.text && (t4.node = k("div", null, null, "position: relative"), t4.text.parentNode && t4.text.parentNode.replaceChild(t4.node, t4.text), t4.node.appendChild(t4.text), a && s < 8 && (t4.node.style.zIndex = 2)), t4.node;
          }
          function Dn(t4, e3) {
            var n3 = e3.bgClass ? e3.bgClass + " " + (e3.line.bgClass || "") : e3.line.bgClass;
            if (n3 && (n3 += " CodeMirror-linebackground"), e3.background) n3 ? e3.background.className = n3 : (e3.background.parentNode.removeChild(e3.background), e3.background = null);
            else if (n3) {
              var o3 = Mn(e3);
              e3.background = o3.insertBefore(k("div", null, n3), o3.firstChild), t4.display.input.setUneditable(e3.background);
            }
          }
          function Ln(t4, e3) {
            var n3 = t4.display.externalMeasured;
            return n3 && n3.line == e3.line ? (t4.display.externalMeasured = null, e3.measure = n3.measure, n3.built) : vn(t4, e3);
          }
          function In(t4, e3) {
            var n3 = e3.text.className, o3 = Ln(t4, e3);
            e3.text == e3.node && (e3.node = o3.pre), e3.text.parentNode.replaceChild(o3.pre, e3.text), e3.text = o3.pre, o3.bgClass != e3.bgClass || o3.textClass != e3.textClass ? (e3.bgClass = o3.bgClass, e3.textClass = o3.textClass, Nn(t4, e3)) : n3 && (e3.text.className = n3);
          }
          function Nn(t4, e3) {
            Dn(t4, e3), e3.line.wrapClass ? Mn(e3).className = e3.line.wrapClass : e3.node != e3.text && (e3.node.className = "");
            var n3 = e3.textClass ? e3.textClass + " " + (e3.line.textClass || "") : e3.line.textClass;
            e3.text.className = n3 || "";
          }
          function Rn(t4, e3, n3, o3) {
            if (e3.gutter && (e3.node.removeChild(e3.gutter), e3.gutter = null), e3.gutterBackground && (e3.node.removeChild(e3.gutterBackground), e3.gutterBackground = null), e3.line.gutterClass) {
              var r2 = Mn(e3);
              e3.gutterBackground = k("div", null, "CodeMirror-gutter-background " + e3.line.gutterClass, "left: " + (t4.options.fixedGutter ? o3.fixedPos : -o3.gutterTotalWidth) + "px; width: " + o3.gutterTotalWidth + "px"), t4.display.input.setUneditable(e3.gutterBackground), r2.insertBefore(e3.gutterBackground, e3.text);
            }
            var i2 = e3.line.gutterMarkers;
            if (t4.options.lineNumbers || i2) {
              var a2 = Mn(e3), s2 = e3.gutter = k("div", null, "CodeMirror-gutter-wrapper", "left: " + (t4.options.fixedGutter ? o3.fixedPos : -o3.gutterTotalWidth) + "px");
              if (s2.setAttribute("aria-hidden", "true"), t4.display.input.setUneditable(s2), a2.insertBefore(s2, e3.text), e3.line.gutterClass && (s2.className += " " + e3.line.gutterClass), !t4.options.lineNumbers || i2 && i2["CodeMirror-linenumbers"] || (e3.lineNumber = s2.appendChild(k("div", re(t4.options, n3), "CodeMirror-linenumber CodeMirror-gutter-elt", "left: " + o3.gutterLeft["CodeMirror-linenumbers"] + "px; width: " + t4.display.lineNumInnerWidth + "px"))), i2) for (var l2 = 0; l2 < t4.display.gutterSpecs.length; ++l2) {
                var c2 = t4.display.gutterSpecs[l2].className, u2 = i2.hasOwnProperty(c2) && i2[c2];
                u2 && s2.appendChild(k("div", [u2], "CodeMirror-gutter-elt", "left: " + o3.gutterLeft[c2] + "px; width: " + o3.gutterWidth[c2] + "px"));
              }
            }
          }
          function Vn(t4, e3, n3) {
            e3.alignable && (e3.alignable = null);
            for (var o3 = S("CodeMirror-linewidget"), r2 = e3.node.firstChild, i2 = void 0; r2; r2 = i2) i2 = r2.nextSibling, o3.test(r2.className) && e3.node.removeChild(r2);
            Hn(t4, e3, n3);
          }
          function Fn(t4, e3, n3, o3) {
            var r2 = Ln(t4, e3);
            return e3.text = e3.node = r2.pre, r2.bgClass && (e3.bgClass = r2.bgClass), r2.textClass && (e3.textClass = r2.textClass), Nn(t4, e3), Rn(t4, e3, n3, o3), Hn(t4, e3, o3), e3.node;
          }
          function Hn(t4, e3, n3) {
            if (Un(t4, e3.line, e3, n3, true), e3.rest) for (var o3 = 0; o3 < e3.rest.length; o3++) Un(t4, e3.rest[o3], e3, n3, false);
          }
          function Un(t4, e3, n3, o3, r2) {
            if (e3.widgets) for (var i2 = Mn(n3), a2 = 0, s2 = e3.widgets; a2 < s2.length; ++a2) {
              var l2 = s2[a2], c2 = k("div", [l2.node], "CodeMirror-linewidget" + (l2.className ? " " + l2.className : ""));
              l2.handleMouseEvents || c2.setAttribute("cm-ignore-events", "true"), zn(l2, c2, n3, o3), t4.display.input.setUneditable(c2), r2 && l2.above ? i2.insertBefore(c2, n3.gutter || n3.text) : i2.appendChild(c2), kn(l2, "redraw");
            }
          }
          function zn(t4, e3, n3, o3) {
            if (t4.noHScroll) {
              (n3.alignable || (n3.alignable = [])).push(e3);
              var r2 = o3.wrapperWidth;
              e3.style.left = o3.fixedPos + "px", t4.coverGutter || (r2 -= o3.gutterTotalWidth, e3.style.paddingLeft = o3.gutterTotalWidth + "px"), e3.style.width = r2 + "px";
            }
            t4.coverGutter && (e3.style.zIndex = 5, e3.style.position = "relative", t4.noHScroll || (e3.style.marginLeft = -o3.gutterTotalWidth + "px"));
          }
          function Bn(t4) {
            if (null != t4.height) return t4.height;
            var e3 = t4.doc.cm;
            if (!e3) return 0;
            if (!j(document.body, t4.node)) {
              var n3 = "position: relative;";
              t4.coverGutter && (n3 += "margin-left: -" + e3.display.gutters.offsetWidth + "px;"), t4.noHScroll && (n3 += "width: " + e3.display.wrapper.clientWidth + "px;"), E(e3.display.measure, k("div", [t4.node], null, n3));
            }
            return t4.height = t4.node.parentNode.offsetHeight;
          }
          function Wn(t4, e3) {
            for (var n3 = Tt(e3); n3 != t4.wrapper; n3 = n3.parentNode) if (!n3 || 1 == n3.nodeType && "true" == n3.getAttribute("cm-ignore-events") || n3.parentNode == t4.sizer && n3 != t4.mover) return true;
          }
          function $n(t4) {
            return t4.lineSpace.offsetTop;
          }
          function qn(t4) {
            return t4.mover.offsetHeight - t4.lineSpace.offsetHeight;
          }
          function Gn(t4) {
            if (t4.cachedPaddingH) return t4.cachedPaddingH;
            var e3 = E(t4.measure, k("pre", "x", "CodeMirror-line-like")), n3 = window.getComputedStyle ? window.getComputedStyle(e3) : e3.currentStyle, o3 = { left: parseInt(n3.paddingLeft), right: parseInt(n3.paddingRight) };
            return isNaN(o3.left) || isNaN(o3.right) || (t4.cachedPaddingH = o3), o3;
          }
          function Kn(t4) {
            return U - t4.display.nativeBarWidth;
          }
          function Yn(t4) {
            return t4.display.scroller.clientWidth - Kn(t4) - t4.display.barWidth;
          }
          function Jn(t4) {
            return t4.display.scroller.clientHeight - Kn(t4) - t4.display.barHeight;
          }
          function Xn(t4, e3, n3) {
            var o3 = t4.options.lineWrapping, r2 = o3 && Yn(t4);
            if (!e3.measure.heights || o3 && e3.measure.width != r2) {
              var i2 = e3.measure.heights = [];
              if (o3) {
                e3.measure.width = r2;
                for (var a2 = e3.text.firstChild.getClientRects(), s2 = 0; s2 < a2.length - 1; s2++) {
                  var l2 = a2[s2], c2 = a2[s2 + 1];
                  Math.abs(l2.bottom - c2.bottom) > 2 && i2.push((l2.bottom + c2.top) / 2 - n3.top);
                }
              }
              i2.push(n3.bottom - n3.top);
            }
          }
          function Zn(t4, e3, n3) {
            if (t4.line == e3) return { map: t4.measure.map, cache: t4.measure.cache };
            for (var o3 = 0; o3 < t4.rest.length; o3++) if (t4.rest[o3] == e3) return { map: t4.measure.maps[o3], cache: t4.measure.caches[o3] };
            for (var r2 = 0; r2 < t4.rest.length; r2++) if (ee(t4.rest[r2]) > n3) return { map: t4.measure.maps[r2], cache: t4.measure.caches[r2], before: true };
          }
          function Qn(t4, e3) {
            var n3 = ee(e3 = Ze(e3)), o3 = t4.display.externalMeasured = new xn(t4.doc, e3, n3);
            o3.lineN = n3;
            var r2 = o3.built = vn(t4, o3);
            return o3.text = r2.pre, E(t4.display.lineMeasure, r2.pre), o3;
          }
          function to(t4, e3, n3, o3) {
            return oo(t4, no(t4, e3), n3, o3);
          }
          function eo(t4, e3) {
            if (e3 >= t4.display.viewFrom && e3 < t4.display.viewTo) return t4.display.view[Ro(t4, e3)];
            var n3 = t4.display.externalMeasured;
            return n3 && e3 >= n3.lineN && e3 < n3.lineN + n3.size ? n3 : void 0;
          }
          function no(t4, e3) {
            var n3 = ee(e3), o3 = eo(t4, n3);
            o3 && !o3.text ? o3 = null : o3 && o3.changes && (jn(t4, o3, n3, Mo(t4)), t4.curOp.forceUpdate = true), o3 || (o3 = Qn(t4, e3));
            var r2 = Zn(o3, e3, n3);
            return { line: e3, view: o3, rect: null, map: r2.map, cache: r2.cache, before: r2.before, hasHeights: false };
          }
          function oo(t4, e3, n3, o3, r2) {
            e3.before && (n3 = -1);
            var i2, a2 = n3 + (o3 || "");
            return e3.cache.hasOwnProperty(a2) ? i2 = e3.cache[a2] : (e3.rect || (e3.rect = e3.view.text.getBoundingClientRect()), e3.hasHeights || (Xn(t4, e3.view, e3.rect), e3.hasHeights = true), (i2 = lo(t4, e3, n3, o3)).bogus || (e3.cache[a2] = i2)), { left: i2.left, right: i2.right, top: r2 ? i2.rtop : i2.top, bottom: r2 ? i2.rbottom : i2.bottom };
          }
          var ro, io = { left: 0, right: 0, top: 0, bottom: 0 };
          function ao(t4, e3, n3) {
            for (var o3, r2, i2, a2, s2, l2, c2 = 0; c2 < t4.length; c2 += 3) if (s2 = t4[c2], l2 = t4[c2 + 1], e3 < s2 ? (r2 = 0, i2 = 1, a2 = "left") : e3 < l2 ? i2 = (r2 = e3 - s2) + 1 : (c2 == t4.length - 3 || e3 == l2 && t4[c2 + 3] > e3) && (r2 = (i2 = l2 - s2) - 1, e3 >= l2 && (a2 = "right")), null != r2) {
              if (o3 = t4[c2 + 2], s2 == l2 && n3 == (o3.insertLeft ? "left" : "right") && (a2 = n3), "left" == n3 && 0 == r2) for (; c2 && t4[c2 - 2] == t4[c2 - 3] && t4[c2 - 1].insertLeft; ) o3 = t4[(c2 -= 3) + 2], a2 = "left";
              if ("right" == n3 && r2 == l2 - s2) for (; c2 < t4.length - 3 && t4[c2 + 3] == t4[c2 + 4] && !t4[c2 + 5].insertLeft; ) o3 = t4[(c2 += 3) + 2], a2 = "right";
              break;
            }
            return { node: o3, start: r2, end: i2, collapse: a2, coverStart: s2, coverEnd: l2 };
          }
          function so(t4, e3) {
            var n3 = io;
            if ("left" == e3) for (var o3 = 0; o3 < t4.length && (n3 = t4[o3]).left == n3.right; o3++) ;
            else for (var r2 = t4.length - 1; r2 >= 0 && (n3 = t4[r2]).left == n3.right; r2--) ;
            return n3;
          }
          function lo(t4, e3, n3, o3) {
            var r2, i2 = ao(e3.map, n3, o3), l2 = i2.node, c2 = i2.start, u2 = i2.end, p2 = i2.collapse;
            if (3 == l2.nodeType) {
              for (var d2 = 0; d2 < 4; d2++) {
                for (; c2 && it(e3.line.text.charAt(i2.coverStart + c2)); ) --c2;
                for (; i2.coverStart + u2 < i2.coverEnd && it(e3.line.text.charAt(i2.coverStart + u2)); ) ++u2;
                if ((r2 = a && s < 9 && 0 == c2 && u2 == i2.coverEnd - i2.coverStart ? l2.parentNode.getBoundingClientRect() : so(O(l2, c2, u2).getClientRects(), o3)).left || r2.right || 0 == c2) break;
                u2 = c2, c2 -= 1, p2 = "right";
              }
              a && s < 11 && (r2 = co(t4.display.measure, r2));
            } else {
              var f2;
              c2 > 0 && (p2 = o3 = "right"), r2 = t4.options.lineWrapping && (f2 = l2.getClientRects()).length > 1 ? f2["right" == o3 ? f2.length - 1 : 0] : l2.getBoundingClientRect();
            }
            if (a && s < 9 && !c2 && (!r2 || !r2.left && !r2.right)) {
              var h2 = l2.parentNode.getClientRects()[0];
              r2 = h2 ? { left: h2.left, right: h2.left + jo(t4.display), top: h2.top, bottom: h2.bottom } : io;
            }
            for (var v2 = r2.top - e3.rect.top, g2 = r2.bottom - e3.rect.top, y2 = (v2 + g2) / 2, m2 = e3.view.measure.heights, b2 = 0; b2 < m2.length - 1 && !(y2 < m2[b2]); b2++) ;
            var _2 = b2 ? m2[b2 - 1] : 0, w2 = m2[b2], x2 = { left: ("right" == p2 ? r2.right : r2.left) - e3.rect.left, right: ("left" == p2 ? r2.left : r2.right) - e3.rect.left, top: _2, bottom: w2 };
            return r2.left || r2.right || (x2.bogus = true), t4.options.singleCursorHeightPerLine || (x2.rtop = v2, x2.rbottom = g2), x2;
          }
          function co(t4, e3) {
            if (!window.screen || null == screen.logicalXDPI || screen.logicalXDPI == screen.deviceXDPI || !Vt(t4)) return e3;
            var n3 = screen.logicalXDPI / screen.deviceXDPI, o3 = screen.logicalYDPI / screen.deviceYDPI;
            return { left: e3.left * n3, right: e3.right * n3, top: e3.top * o3, bottom: e3.bottom * o3 };
          }
          function uo(t4) {
            if (t4.measure && (t4.measure.cache = {}, t4.measure.heights = null, t4.rest)) for (var e3 = 0; e3 < t4.rest.length; e3++) t4.measure.caches[e3] = {};
          }
          function po(t4) {
            t4.display.externalMeasure = null, P(t4.display.lineMeasure);
            for (var e3 = 0; e3 < t4.display.view.length; e3++) uo(t4.display.view[e3]);
          }
          function fo(t4) {
            po(t4), t4.display.cachedCharWidth = t4.display.cachedTextHeight = t4.display.cachedPaddingH = null, t4.options.lineWrapping || (t4.display.maxLineChanged = true), t4.display.lineNumChars = null;
          }
          function ho() {
            return u && g ? -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) : window.pageXOffset || (document.documentElement || document.body).scrollLeft;
          }
          function vo() {
            return u && g ? -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) : window.pageYOffset || (document.documentElement || document.body).scrollTop;
          }
          function go(t4) {
            var e3 = 0;
            if (t4.widgets) for (var n3 = 0; n3 < t4.widgets.length; ++n3) t4.widgets[n3].above && (e3 += Bn(t4.widgets[n3]));
            return e3;
          }
          function yo(t4, e3, n3, o3, r2) {
            if (!r2) {
              var i2 = go(e3);
              n3.top += i2, n3.bottom += i2;
            }
            if ("line" == o3) return n3;
            o3 || (o3 = "local");
            var a2 = an(e3);
            if ("local" == o3 ? a2 += $n(t4.display) : a2 -= t4.display.viewOffset, "page" == o3 || "window" == o3) {
              var s2 = t4.display.lineSpace.getBoundingClientRect();
              a2 += s2.top + ("window" == o3 ? 0 : vo());
              var l2 = s2.left + ("window" == o3 ? 0 : ho());
              n3.left += l2, n3.right += l2;
            }
            return n3.top += a2, n3.bottom += a2, n3;
          }
          function mo(t4, e3, n3) {
            if ("div" == n3) return e3;
            var o3 = e3.left, r2 = e3.top;
            if ("page" == n3) o3 -= ho(), r2 -= vo();
            else if ("local" == n3 || !n3) {
              var i2 = t4.display.sizer.getBoundingClientRect();
              o3 += i2.left, r2 += i2.top;
            }
            var a2 = t4.display.lineSpace.getBoundingClientRect();
            return { left: o3 - a2.left, top: r2 - a2.top };
          }
          function bo(t4, e3, n3, o3, r2) {
            return o3 || (o3 = Xt(t4.doc, e3.line)), yo(t4, o3, to(t4, o3, e3.ch, r2), n3);
          }
          function _o(t4, e3, n3, o3, r2, i2) {
            function a2(e4, a3) {
              var s3 = oo(t4, r2, e4, a3 ? "right" : "left", i2);
              return a3 ? s3.left = s3.right : s3.right = s3.left, yo(t4, o3, s3, n3);
            }
            o3 = o3 || Xt(t4.doc, e3.line), r2 || (r2 = no(t4, o3));
            var s2 = dt(o3, t4.doc.direction), l2 = e3.ch, c2 = e3.sticky;
            if (l2 >= o3.text.length ? (l2 = o3.text.length, c2 = "before") : l2 <= 0 && (l2 = 0, c2 = "after"), !s2) return a2("before" == c2 ? l2 - 1 : l2, "before" == c2);
            function u2(t5, e4, n4) {
              return a2(n4 ? t5 - 1 : t5, 1 == s2[e4].level != n4);
            }
            var p2 = ut(s2, l2, c2), d2 = ct, f2 = u2(l2, p2, "before" == c2);
            return null != d2 && (f2.other = u2(l2, d2, "before" != c2)), f2;
          }
          function wo(t4, e3) {
            var n3 = 0;
            e3 = de(t4.doc, e3), t4.options.lineWrapping || (n3 = jo(t4.display) * e3.ch);
            var o3 = Xt(t4.doc, e3.line), r2 = an(o3) + $n(t4.display);
            return { left: n3, right: n3, top: r2, bottom: r2 + o3.height };
          }
          function xo(t4, e3, n3, o3, r2) {
            var i2 = ie(t4, e3, n3);
            return i2.xRel = r2, o3 && (i2.outside = o3), i2;
          }
          function Co(t4, e3, n3) {
            var o3 = t4.doc;
            if ((n3 += t4.display.viewOffset) < 0) return xo(o3.first, 0, null, -1, -1);
            var r2 = ne(o3, n3), i2 = o3.first + o3.size - 1;
            if (r2 > i2) return xo(o3.first + o3.size - 1, Xt(o3, i2).text.length, null, 1, 1);
            e3 < 0 && (e3 = 0);
            for (var a2 = Xt(o3, r2); ; ) {
              var s2 = Po(t4, a2, r2, e3, n3), l2 = Je(a2, s2.ch + (s2.xRel > 0 || s2.outside > 0 ? 1 : 0));
              if (!l2) return s2;
              var c2 = l2.find(1);
              if (c2.line == r2) return c2;
              a2 = Xt(o3, r2 = c2.line);
            }
          }
          function So(t4, e3, n3, o3) {
            o3 -= go(e3);
            var r2 = e3.text.length, i2 = st((function(e4) {
              return oo(t4, n3, e4 - 1).bottom <= o3;
            }), r2, 0);
            return { begin: i2, end: r2 = st((function(e4) {
              return oo(t4, n3, e4).top > o3;
            }), i2, r2) };
          }
          function Oo(t4, e3, n3, o3) {
            return n3 || (n3 = no(t4, e3)), So(t4, e3, n3, yo(t4, e3, oo(t4, n3, o3), "line").top);
          }
          function To(t4, e3, n3, o3) {
            return !(t4.bottom <= n3) && (t4.top > n3 || (o3 ? t4.left : t4.right) > e3);
          }
          function Po(t4, e3, n3, o3, r2) {
            r2 -= an(e3);
            var i2 = no(t4, e3), a2 = go(e3), s2 = 0, l2 = e3.text.length, c2 = true, u2 = dt(e3, t4.doc.direction);
            if (u2) {
              var p2 = (t4.options.lineWrapping ? ko : Eo)(t4, e3, n3, i2, u2, o3, r2);
              s2 = (c2 = 1 != p2.level) ? p2.from : p2.to - 1, l2 = c2 ? p2.to : p2.from - 1;
            }
            var d2, f2, h2 = null, v2 = null, g2 = st((function(e4) {
              var n4 = oo(t4, i2, e4);
              return n4.top += a2, n4.bottom += a2, !!To(n4, o3, r2, false) && (n4.top <= r2 && n4.left <= o3 && (h2 = e4, v2 = n4), true);
            }), s2, l2), y2 = false;
            if (v2) {
              var m2 = o3 - v2.left < v2.right - o3, b2 = m2 == c2;
              g2 = h2 + (b2 ? 0 : 1), f2 = b2 ? "after" : "before", d2 = m2 ? v2.left : v2.right;
            } else {
              c2 || g2 != l2 && g2 != s2 || g2++, f2 = 0 == g2 ? "after" : g2 == e3.text.length ? "before" : oo(t4, i2, g2 - (c2 ? 1 : 0)).bottom + a2 <= r2 == c2 ? "after" : "before";
              var _2 = _o(t4, ie(n3, g2, f2), "line", e3, i2);
              d2 = _2.left, y2 = r2 < _2.top ? -1 : r2 >= _2.bottom ? 1 : 0;
            }
            return xo(n3, g2 = at(e3.text, g2, 1), f2, y2, o3 - d2);
          }
          function Eo(t4, e3, n3, o3, r2, i2, a2) {
            var s2 = st((function(s3) {
              var l3 = r2[s3], c3 = 1 != l3.level;
              return To(_o(t4, ie(n3, c3 ? l3.to : l3.from, c3 ? "before" : "after"), "line", e3, o3), i2, a2, true);
            }), 0, r2.length - 1), l2 = r2[s2];
            if (s2 > 0) {
              var c2 = 1 != l2.level, u2 = _o(t4, ie(n3, c2 ? l2.from : l2.to, c2 ? "after" : "before"), "line", e3, o3);
              To(u2, i2, a2, true) && u2.top > a2 && (l2 = r2[s2 - 1]);
            }
            return l2;
          }
          function ko(t4, e3, n3, o3, r2, i2, a2) {
            var s2 = So(t4, e3, o3, a2), l2 = s2.begin, c2 = s2.end;
            /\s/.test(e3.text.charAt(c2 - 1)) && c2--;
            for (var u2 = null, p2 = null, d2 = 0; d2 < r2.length; d2++) {
              var f2 = r2[d2];
              if (!(f2.from >= c2 || f2.to <= l2)) {
                var h2 = oo(t4, o3, 1 != f2.level ? Math.min(c2, f2.to) - 1 : Math.max(l2, f2.from)).right, v2 = h2 < i2 ? i2 - h2 + 1e9 : h2 - i2;
                (!u2 || p2 > v2) && (u2 = f2, p2 = v2);
              }
            }
            return u2 || (u2 = r2[r2.length - 1]), u2.from < l2 && (u2 = { from: l2, to: u2.to, level: u2.level }), u2.to > c2 && (u2 = { from: u2.from, to: c2, level: u2.level }), u2;
          }
          function Ao(t4) {
            if (null != t4.cachedTextHeight) return t4.cachedTextHeight;
            if (null == ro) {
              ro = k("pre", null, "CodeMirror-line-like");
              for (var e3 = 0; e3 < 49; ++e3) ro.appendChild(document.createTextNode("x")), ro.appendChild(k("br"));
              ro.appendChild(document.createTextNode("x"));
            }
            E(t4.measure, ro);
            var n3 = ro.offsetHeight / 50;
            return n3 > 3 && (t4.cachedTextHeight = n3), P(t4.measure), n3 || 1;
          }
          function jo(t4) {
            if (null != t4.cachedCharWidth) return t4.cachedCharWidth;
            var e3 = k("span", "xxxxxxxxxx"), n3 = k("pre", [e3], "CodeMirror-line-like");
            E(t4.measure, n3);
            var o3 = e3.getBoundingClientRect(), r2 = (o3.right - o3.left) / 10;
            return r2 > 2 && (t4.cachedCharWidth = r2), r2 || 10;
          }
          function Mo(t4) {
            for (var e3 = t4.display, n3 = {}, o3 = {}, r2 = e3.gutters.clientLeft, i2 = e3.gutters.firstChild, a2 = 0; i2; i2 = i2.nextSibling, ++a2) {
              var s2 = t4.display.gutterSpecs[a2].className;
              n3[s2] = i2.offsetLeft + i2.clientLeft + r2, o3[s2] = i2.clientWidth;
            }
            return { fixedPos: Do(e3), gutterTotalWidth: e3.gutters.offsetWidth, gutterLeft: n3, gutterWidth: o3, wrapperWidth: e3.wrapper.clientWidth };
          }
          function Do(t4) {
            return t4.scroller.getBoundingClientRect().left - t4.sizer.getBoundingClientRect().left;
          }
          function Lo(t4) {
            var e3 = Ao(t4.display), n3 = t4.options.lineWrapping, o3 = n3 && Math.max(5, t4.display.scroller.clientWidth / jo(t4.display) - 3);
            return function(r2) {
              if (on(t4.doc, r2)) return 0;
              var i2 = 0;
              if (r2.widgets) for (var a2 = 0; a2 < r2.widgets.length; a2++) r2.widgets[a2].height && (i2 += r2.widgets[a2].height);
              return n3 ? i2 + (Math.ceil(r2.text.length / o3) || 1) * e3 : i2 + e3;
            };
          }
          function Io(t4) {
            var e3 = t4.doc, n3 = Lo(t4);
            e3.iter((function(t5) {
              var e4 = n3(t5);
              e4 != t5.height && te(t5, e4);
            }));
          }
          function No(t4, e3, n3, o3) {
            var r2 = t4.display;
            if (!n3 && "true" == Tt(e3).getAttribute("cm-not-content")) return null;
            var i2, a2, s2 = r2.lineSpace.getBoundingClientRect();
            try {
              i2 = e3.clientX - s2.left, a2 = e3.clientY - s2.top;
            } catch (t5) {
              return null;
            }
            var l2, c2 = Co(t4, i2, a2);
            if (o3 && c2.xRel > 0 && (l2 = Xt(t4.doc, c2.line).text).length == c2.ch) {
              var u2 = V(l2, l2.length, t4.options.tabSize) - l2.length;
              c2 = ie(c2.line, Math.max(0, Math.round((i2 - Gn(t4.display).left) / jo(t4.display)) - u2));
            }
            return c2;
          }
          function Ro(t4, e3) {
            if (e3 >= t4.display.viewTo) return null;
            if ((e3 -= t4.display.viewFrom) < 0) return null;
            for (var n3 = t4.display.view, o3 = 0; o3 < n3.length; o3++) if ((e3 -= n3[o3].size) < 0) return o3;
          }
          function Vo(t4, e3, n3, o3) {
            null == e3 && (e3 = t4.doc.first), null == n3 && (n3 = t4.doc.first + t4.doc.size), o3 || (o3 = 0);
            var r2 = t4.display;
            if (o3 && n3 < r2.viewTo && (null == r2.updateLineNumbers || r2.updateLineNumbers > e3) && (r2.updateLineNumbers = e3), t4.curOp.viewChanged = true, e3 >= r2.viewTo) Ae && en(t4.doc, e3) < r2.viewTo && Ho(t4);
            else if (n3 <= r2.viewFrom) Ae && nn(t4.doc, n3 + o3) > r2.viewFrom ? Ho(t4) : (r2.viewFrom += o3, r2.viewTo += o3);
            else if (e3 <= r2.viewFrom && n3 >= r2.viewTo) Ho(t4);
            else if (e3 <= r2.viewFrom) {
              var i2 = Uo(t4, n3, n3 + o3, 1);
              i2 ? (r2.view = r2.view.slice(i2.index), r2.viewFrom = i2.lineN, r2.viewTo += o3) : Ho(t4);
            } else if (n3 >= r2.viewTo) {
              var a2 = Uo(t4, e3, e3, -1);
              a2 ? (r2.view = r2.view.slice(0, a2.index), r2.viewTo = a2.lineN) : Ho(t4);
            } else {
              var s2 = Uo(t4, e3, e3, -1), l2 = Uo(t4, n3, n3 + o3, 1);
              s2 && l2 ? (r2.view = r2.view.slice(0, s2.index).concat(Cn(t4, s2.lineN, l2.lineN)).concat(r2.view.slice(l2.index)), r2.viewTo += o3) : Ho(t4);
            }
            var c2 = r2.externalMeasured;
            c2 && (n3 < c2.lineN ? c2.lineN += o3 : e3 < c2.lineN + c2.size && (r2.externalMeasured = null));
          }
          function Fo(t4, e3, n3) {
            t4.curOp.viewChanged = true;
            var o3 = t4.display, r2 = t4.display.externalMeasured;
            if (r2 && e3 >= r2.lineN && e3 < r2.lineN + r2.size && (o3.externalMeasured = null), !(e3 < o3.viewFrom || e3 >= o3.viewTo)) {
              var i2 = o3.view[Ro(t4, e3)];
              if (null != i2.node) {
                var a2 = i2.changes || (i2.changes = []);
                -1 == H(a2, n3) && a2.push(n3);
              }
            }
          }
          function Ho(t4) {
            t4.display.viewFrom = t4.display.viewTo = t4.doc.first, t4.display.view = [], t4.display.viewOffset = 0;
          }
          function Uo(t4, e3, n3, o3) {
            var r2, i2 = Ro(t4, e3), a2 = t4.display.view;
            if (!Ae || n3 == t4.doc.first + t4.doc.size) return { index: i2, lineN: n3 };
            for (var s2 = t4.display.viewFrom, l2 = 0; l2 < i2; l2++) s2 += a2[l2].size;
            if (s2 != e3) {
              if (o3 > 0) {
                if (i2 == a2.length - 1) return null;
                r2 = s2 + a2[i2].size - e3, i2++;
              } else r2 = s2 - e3;
              e3 += r2, n3 += r2;
            }
            for (; en(t4.doc, n3) != n3; ) {
              if (i2 == (o3 < 0 ? 0 : a2.length - 1)) return null;
              n3 += o3 * a2[i2 - (o3 < 0 ? 1 : 0)].size, i2 += o3;
            }
            return { index: i2, lineN: n3 };
          }
          function zo(t4, e3, n3) {
            var o3 = t4.display;
            0 == o3.view.length || e3 >= o3.viewTo || n3 <= o3.viewFrom ? (o3.view = Cn(t4, e3, n3), o3.viewFrom = e3) : (o3.viewFrom > e3 ? o3.view = Cn(t4, e3, o3.viewFrom).concat(o3.view) : o3.viewFrom < e3 && (o3.view = o3.view.slice(Ro(t4, e3))), o3.viewFrom = e3, o3.viewTo < n3 ? o3.view = o3.view.concat(Cn(t4, o3.viewTo, n3)) : o3.viewTo > n3 && (o3.view = o3.view.slice(0, Ro(t4, n3)))), o3.viewTo = n3;
          }
          function Bo(t4) {
            for (var e3 = t4.display.view, n3 = 0, o3 = 0; o3 < e3.length; o3++) {
              var r2 = e3[o3];
              r2.hidden || r2.node && !r2.changes || ++n3;
            }
            return n3;
          }
          function Wo(t4) {
            t4.display.input.showSelection(t4.display.input.prepareSelection());
          }
          function $o(t4, e3) {
            void 0 === e3 && (e3 = true);
            for (var n3 = t4.doc, o3 = {}, r2 = o3.cursors = document.createDocumentFragment(), i2 = o3.selection = document.createDocumentFragment(), a2 = 0; a2 < n3.sel.ranges.length; a2++) if (e3 || a2 != n3.sel.primIndex) {
              var s2 = n3.sel.ranges[a2];
              if (!(s2.from().line >= t4.display.viewTo || s2.to().line < t4.display.viewFrom)) {
                var l2 = s2.empty();
                (l2 || t4.options.showCursorWhenSelecting) && qo(t4, s2.head, r2), l2 || Ko(t4, s2, i2);
              }
            }
            return o3;
          }
          function qo(t4, e3, n3) {
            var o3 = _o(t4, e3, "div", null, null, !t4.options.singleCursorHeightPerLine), r2 = n3.appendChild(k("div", "", "CodeMirror-cursor"));
            if (r2.style.left = o3.left + "px", r2.style.top = o3.top + "px", r2.style.height = Math.max(0, o3.bottom - o3.top) * t4.options.cursorHeight + "px", /\bcm-fat-cursor\b/.test(t4.getWrapperElement().className)) {
              var i2 = bo(t4, e3, "div", null, null);
              i2.right - i2.left > 0 && (r2.style.width = i2.right - i2.left + "px");
            }
            if (o3.other) {
              var a2 = n3.appendChild(k("div", "", "CodeMirror-cursor CodeMirror-secondarycursor"));
              a2.style.display = "", a2.style.left = o3.other.left + "px", a2.style.top = o3.other.top + "px", a2.style.height = 0.85 * (o3.other.bottom - o3.other.top) + "px";
            }
          }
          function Go(t4, e3) {
            return t4.top - e3.top || t4.left - e3.left;
          }
          function Ko(t4, e3, n3) {
            var o3 = t4.display, r2 = t4.doc, i2 = document.createDocumentFragment(), a2 = Gn(t4.display), s2 = a2.left, l2 = Math.max(o3.sizerWidth, Yn(t4) - o3.sizer.offsetLeft) - a2.right, c2 = "ltr" == r2.direction;
            function u2(t5, e4, n4, o4) {
              e4 < 0 && (e4 = 0), e4 = Math.round(e4), o4 = Math.round(o4), i2.appendChild(k("div", null, "CodeMirror-selected", "position: absolute; left: " + t5 + "px;\n                             top: " + e4 + "px; width: " + (null == n4 ? l2 - t5 : n4) + "px;\n                             height: " + (o4 - e4) + "px"));
            }
            function p2(e4, n4, o4) {
              var i3, a3, p3 = Xt(r2, e4), d3 = p3.text.length;
              function f3(n5, o5) {
                return bo(t4, ie(e4, n5), "div", p3, o5);
              }
              function h3(e5, n5, o5) {
                var r3 = Oo(t4, p3, null, e5), i4 = "ltr" == n5 == ("after" == o5) ? "left" : "right";
                return f3("after" == o5 ? r3.begin : r3.end - (/\s/.test(p3.text.charAt(r3.end - 1)) ? 2 : 1), i4)[i4];
              }
              var v3 = dt(p3, r2.direction);
              return lt(v3, n4 || 0, null == o4 ? d3 : o4, (function(t5, e5, r3, p4) {
                var g3 = "ltr" == r3, y3 = f3(t5, g3 ? "left" : "right"), m3 = f3(e5 - 1, g3 ? "right" : "left"), b2 = null == n4 && 0 == t5, _2 = null == o4 && e5 == d3, w2 = 0 == p4, x2 = !v3 || p4 == v3.length - 1;
                if (m3.top - y3.top <= 3) {
                  var C2 = (c2 ? _2 : b2) && x2, S2 = (c2 ? b2 : _2) && w2 ? s2 : (g3 ? y3 : m3).left, O2 = C2 ? l2 : (g3 ? m3 : y3).right;
                  u2(S2, y3.top, O2 - S2, y3.bottom);
                } else {
                  var T2, P2, E2, k2;
                  g3 ? (T2 = c2 && b2 && w2 ? s2 : y3.left, P2 = c2 ? l2 : h3(t5, r3, "before"), E2 = c2 ? s2 : h3(e5, r3, "after"), k2 = c2 && _2 && x2 ? l2 : m3.right) : (T2 = c2 ? h3(t5, r3, "before") : s2, P2 = !c2 && b2 && w2 ? l2 : y3.right, E2 = !c2 && _2 && x2 ? s2 : m3.left, k2 = c2 ? h3(e5, r3, "after") : l2), u2(T2, y3.top, P2 - T2, y3.bottom), y3.bottom < m3.top && u2(s2, y3.bottom, null, m3.top), u2(E2, m3.top, k2 - E2, m3.bottom);
                }
                (!i3 || Go(y3, i3) < 0) && (i3 = y3), Go(m3, i3) < 0 && (i3 = m3), (!a3 || Go(y3, a3) < 0) && (a3 = y3), Go(m3, a3) < 0 && (a3 = m3);
              })), { start: i3, end: a3 };
            }
            var d2 = e3.from(), f2 = e3.to();
            if (d2.line == f2.line) p2(d2.line, d2.ch, f2.ch);
            else {
              var h2 = Xt(r2, d2.line), v2 = Xt(r2, f2.line), g2 = Ze(h2) == Ze(v2), y2 = p2(d2.line, d2.ch, g2 ? h2.text.length + 1 : null).end, m2 = p2(f2.line, g2 ? 0 : null, f2.ch).start;
              g2 && (y2.top < m2.top - 2 ? (u2(y2.right, y2.top, null, y2.bottom), u2(s2, m2.top, m2.left, m2.bottom)) : u2(y2.right, y2.top, m2.left - y2.right, y2.bottom)), y2.bottom < m2.top && u2(s2, y2.bottom, null, m2.top);
            }
            n3.appendChild(i2);
          }
          function Yo(t4) {
            if (t4.state.focused) {
              var e3 = t4.display;
              clearInterval(e3.blinker);
              var n3 = true;
              e3.cursorDiv.style.visibility = "", t4.options.cursorBlinkRate > 0 ? e3.blinker = setInterval((function() {
                t4.hasFocus() || Qo(t4), e3.cursorDiv.style.visibility = (n3 = !n3) ? "" : "hidden";
              }), t4.options.cursorBlinkRate) : t4.options.cursorBlinkRate < 0 && (e3.cursorDiv.style.visibility = "hidden");
            }
          }
          function Jo(t4) {
            t4.hasFocus() || (t4.display.input.focus(), t4.state.focused || Zo(t4));
          }
          function Xo(t4) {
            t4.state.delayingBlurEvent = true, setTimeout((function() {
              t4.state.delayingBlurEvent && (t4.state.delayingBlurEvent = false, t4.state.focused && Qo(t4));
            }), 100);
          }
          function Zo(t4, e3) {
            t4.state.delayingBlurEvent && !t4.state.draggingText && (t4.state.delayingBlurEvent = false), "nocursor" != t4.options.readOnly && (t4.state.focused || (yt(t4, "focus", t4, e3), t4.state.focused = true, D(t4.display.wrapper, "CodeMirror-focused"), t4.curOp || t4.display.selForContextMenu == t4.doc.sel || (t4.display.input.reset(), l && setTimeout((function() {
              return t4.display.input.reset(true);
            }), 20)), t4.display.input.receivedFocus()), Yo(t4));
          }
          function Qo(t4, e3) {
            t4.state.delayingBlurEvent || (t4.state.focused && (yt(t4, "blur", t4, e3), t4.state.focused = false, T(t4.display.wrapper, "CodeMirror-focused")), clearInterval(t4.display.blinker), setTimeout((function() {
              t4.state.focused || (t4.display.shift = false);
            }), 150));
          }
          function tr(t4) {
            for (var e3 = t4.display, n3 = e3.lineDiv.offsetTop, o3 = Math.max(0, e3.scroller.getBoundingClientRect().top), r2 = e3.lineDiv.getBoundingClientRect().top, i2 = 0, l2 = 0; l2 < e3.view.length; l2++) {
              var c2 = e3.view[l2], u2 = t4.options.lineWrapping, p2 = void 0, d2 = 0;
              if (!c2.hidden) {
                if (r2 += c2.line.height, a && s < 8) {
                  var f2 = c2.node.offsetTop + c2.node.offsetHeight;
                  p2 = f2 - n3, n3 = f2;
                } else {
                  var h2 = c2.node.getBoundingClientRect();
                  p2 = h2.bottom - h2.top, !u2 && c2.text.firstChild && (d2 = c2.text.firstChild.getBoundingClientRect().right - h2.left - 1);
                }
                var v2 = c2.line.height - p2;
                if ((v2 > 5e-3 || v2 < -5e-3) && (r2 < o3 && (i2 -= v2), te(c2.line, p2), er(c2.line), c2.rest)) for (var g2 = 0; g2 < c2.rest.length; g2++) er(c2.rest[g2]);
                if (d2 > t4.display.sizerWidth) {
                  var y2 = Math.ceil(d2 / jo(t4.display));
                  y2 > t4.display.maxLineLength && (t4.display.maxLineLength = y2, t4.display.maxLine = c2.line, t4.display.maxLineChanged = true);
                }
              }
            }
            Math.abs(i2) > 2 && (e3.scroller.scrollTop += i2);
          }
          function er(t4) {
            if (t4.widgets) for (var e3 = 0; e3 < t4.widgets.length; ++e3) {
              var n3 = t4.widgets[e3], o3 = n3.node.parentNode;
              o3 && (n3.height = o3.offsetHeight);
            }
          }
          function nr(t4, e3, n3) {
            var o3 = n3 && null != n3.top ? Math.max(0, n3.top) : t4.scroller.scrollTop;
            o3 = Math.floor(o3 - $n(t4));
            var r2 = n3 && null != n3.bottom ? n3.bottom : o3 + t4.wrapper.clientHeight, i2 = ne(e3, o3), a2 = ne(e3, r2);
            if (n3 && n3.ensure) {
              var s2 = n3.ensure.from.line, l2 = n3.ensure.to.line;
              s2 < i2 ? (i2 = s2, a2 = ne(e3, an(Xt(e3, s2)) + t4.wrapper.clientHeight)) : Math.min(l2, e3.lastLine()) >= a2 && (i2 = ne(e3, an(Xt(e3, l2)) - t4.wrapper.clientHeight), a2 = l2);
            }
            return { from: i2, to: Math.max(a2, i2 + 1) };
          }
          function or(t4, e3) {
            if (!mt(t4, "scrollCursorIntoView")) {
              var n3 = t4.display, o3 = n3.sizer.getBoundingClientRect(), r2 = null;
              if (e3.top + o3.top < 0 ? r2 = true : e3.bottom + o3.top > (window.innerHeight || document.documentElement.clientHeight) && (r2 = false), null != r2 && !h) {
                var i2 = k("div", "", null, "position: absolute;\n                         top: " + (e3.top - n3.viewOffset - $n(t4.display)) + "px;\n                         height: " + (e3.bottom - e3.top + Kn(t4) + n3.barHeight) + "px;\n                         left: " + e3.left + "px; width: " + Math.max(2, e3.right - e3.left) + "px;");
                t4.display.lineSpace.appendChild(i2), i2.scrollIntoView(r2), t4.display.lineSpace.removeChild(i2);
              }
            }
          }
          function rr(t4, e3, n3, o3) {
            var r2;
            null == o3 && (o3 = 0), t4.options.lineWrapping || e3 != n3 || (n3 = "before" == e3.sticky ? ie(e3.line, e3.ch + 1, "before") : e3, e3 = e3.ch ? ie(e3.line, "before" == e3.sticky ? e3.ch - 1 : e3.ch, "after") : e3);
            for (var i2 = 0; i2 < 5; i2++) {
              var a2 = false, s2 = _o(t4, e3), l2 = n3 && n3 != e3 ? _o(t4, n3) : s2, c2 = ar(t4, r2 = { left: Math.min(s2.left, l2.left), top: Math.min(s2.top, l2.top) - o3, right: Math.max(s2.left, l2.left), bottom: Math.max(s2.bottom, l2.bottom) + o3 }), u2 = t4.doc.scrollTop, p2 = t4.doc.scrollLeft;
              if (null != c2.scrollTop && (fr(t4, c2.scrollTop), Math.abs(t4.doc.scrollTop - u2) > 1 && (a2 = true)), null != c2.scrollLeft && (vr(t4, c2.scrollLeft), Math.abs(t4.doc.scrollLeft - p2) > 1 && (a2 = true)), !a2) break;
            }
            return r2;
          }
          function ir(t4, e3) {
            var n3 = ar(t4, e3);
            null != n3.scrollTop && fr(t4, n3.scrollTop), null != n3.scrollLeft && vr(t4, n3.scrollLeft);
          }
          function ar(t4, e3) {
            var n3 = t4.display, o3 = Ao(t4.display);
            e3.top < 0 && (e3.top = 0);
            var r2 = t4.curOp && null != t4.curOp.scrollTop ? t4.curOp.scrollTop : n3.scroller.scrollTop, i2 = Jn(t4), a2 = {};
            e3.bottom - e3.top > i2 && (e3.bottom = e3.top + i2);
            var s2 = t4.doc.height + qn(n3), l2 = e3.top < o3, c2 = e3.bottom > s2 - o3;
            if (e3.top < r2) a2.scrollTop = l2 ? 0 : e3.top;
            else if (e3.bottom > r2 + i2) {
              var u2 = Math.min(e3.top, (c2 ? s2 : e3.bottom) - i2);
              u2 != r2 && (a2.scrollTop = u2);
            }
            var p2 = t4.options.fixedGutter ? 0 : n3.gutters.offsetWidth, d2 = t4.curOp && null != t4.curOp.scrollLeft ? t4.curOp.scrollLeft : n3.scroller.scrollLeft - p2, f2 = Yn(t4) - n3.gutters.offsetWidth, h2 = e3.right - e3.left > f2;
            return h2 && (e3.right = e3.left + f2), e3.left < 10 ? a2.scrollLeft = 0 : e3.left < d2 ? a2.scrollLeft = Math.max(0, e3.left + p2 - (h2 ? 0 : 10)) : e3.right > f2 + d2 - 3 && (a2.scrollLeft = e3.right + (h2 ? 0 : 10) - f2), a2;
          }
          function sr(t4, e3) {
            null != e3 && (pr(t4), t4.curOp.scrollTop = (null == t4.curOp.scrollTop ? t4.doc.scrollTop : t4.curOp.scrollTop) + e3);
          }
          function lr(t4) {
            pr(t4);
            var e3 = t4.getCursor();
            t4.curOp.scrollToPos = { from: e3, to: e3, margin: t4.options.cursorScrollMargin };
          }
          function cr(t4, e3, n3) {
            null == e3 && null == n3 || pr(t4), null != e3 && (t4.curOp.scrollLeft = e3), null != n3 && (t4.curOp.scrollTop = n3);
          }
          function ur(t4, e3) {
            pr(t4), t4.curOp.scrollToPos = e3;
          }
          function pr(t4) {
            var e3 = t4.curOp.scrollToPos;
            e3 && (t4.curOp.scrollToPos = null, dr(t4, wo(t4, e3.from), wo(t4, e3.to), e3.margin));
          }
          function dr(t4, e3, n3, o3) {
            var r2 = ar(t4, { left: Math.min(e3.left, n3.left), top: Math.min(e3.top, n3.top) - o3, right: Math.max(e3.right, n3.right), bottom: Math.max(e3.bottom, n3.bottom) + o3 });
            cr(t4, r2.scrollLeft, r2.scrollTop);
          }
          function fr(t4, e3) {
            Math.abs(t4.doc.scrollTop - e3) < 2 || (n2 || Wr(t4, { top: e3 }), hr(t4, e3, true), n2 && Wr(t4), Nr(t4, 100));
          }
          function hr(t4, e3, n3) {
            e3 = Math.max(0, Math.min(t4.display.scroller.scrollHeight - t4.display.scroller.clientHeight, e3)), (t4.display.scroller.scrollTop != e3 || n3) && (t4.doc.scrollTop = e3, t4.display.scrollbars.setScrollTop(e3), t4.display.scroller.scrollTop != e3 && (t4.display.scroller.scrollTop = e3));
          }
          function vr(t4, e3, n3, o3) {
            e3 = Math.max(0, Math.min(e3, t4.display.scroller.scrollWidth - t4.display.scroller.clientWidth)), (n3 ? e3 == t4.doc.scrollLeft : Math.abs(t4.doc.scrollLeft - e3) < 2) && !o3 || (t4.doc.scrollLeft = e3, Kr(t4), t4.display.scroller.scrollLeft != e3 && (t4.display.scroller.scrollLeft = e3), t4.display.scrollbars.setScrollLeft(e3));
          }
          function gr(t4) {
            var e3 = t4.display, n3 = e3.gutters.offsetWidth, o3 = Math.round(t4.doc.height + qn(t4.display));
            return { clientHeight: e3.scroller.clientHeight, viewHeight: e3.wrapper.clientHeight, scrollWidth: e3.scroller.scrollWidth, clientWidth: e3.scroller.clientWidth, viewWidth: e3.wrapper.clientWidth, barLeft: t4.options.fixedGutter ? n3 : 0, docHeight: o3, scrollHeight: o3 + Kn(t4) + e3.barHeight, nativeBarWidth: e3.nativeBarWidth, gutterWidth: n3 };
          }
          var yr = function(t4, e3, n3) {
            this.cm = n3;
            var o3 = this.vert = k("div", [k("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar"), r2 = this.horiz = k("div", [k("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar");
            o3.tabIndex = r2.tabIndex = -1, t4(o3), t4(r2), ht(o3, "scroll", (function() {
              o3.clientHeight && e3(o3.scrollTop, "vertical");
            })), ht(r2, "scroll", (function() {
              r2.clientWidth && e3(r2.scrollLeft, "horizontal");
            })), this.checkedZeroWidth = false, a && s < 8 && (this.horiz.style.minHeight = this.vert.style.minWidth = "18px");
          };
          yr.prototype.update = function(t4) {
            var e3 = t4.scrollWidth > t4.clientWidth + 1, n3 = t4.scrollHeight > t4.clientHeight + 1, o3 = t4.nativeBarWidth;
            if (n3) {
              this.vert.style.display = "block", this.vert.style.bottom = e3 ? o3 + "px" : "0";
              var r2 = t4.viewHeight - (e3 ? o3 : 0);
              this.vert.firstChild.style.height = Math.max(0, t4.scrollHeight - t4.clientHeight + r2) + "px";
            } else this.vert.style.display = "", this.vert.firstChild.style.height = "0";
            if (e3) {
              this.horiz.style.display = "block", this.horiz.style.right = n3 ? o3 + "px" : "0", this.horiz.style.left = t4.barLeft + "px";
              var i2 = t4.viewWidth - t4.barLeft - (n3 ? o3 : 0);
              this.horiz.firstChild.style.width = Math.max(0, t4.scrollWidth - t4.clientWidth + i2) + "px";
            } else this.horiz.style.display = "", this.horiz.firstChild.style.width = "0";
            return !this.checkedZeroWidth && t4.clientHeight > 0 && (0 == o3 && this.zeroWidthHack(), this.checkedZeroWidth = true), { right: n3 ? o3 : 0, bottom: e3 ? o3 : 0 };
          }, yr.prototype.setScrollLeft = function(t4) {
            this.horiz.scrollLeft != t4 && (this.horiz.scrollLeft = t4), this.disableHoriz && this.enableZeroWidthBar(this.horiz, this.disableHoriz, "horiz");
          }, yr.prototype.setScrollTop = function(t4) {
            this.vert.scrollTop != t4 && (this.vert.scrollTop = t4), this.disableVert && this.enableZeroWidthBar(this.vert, this.disableVert, "vert");
          }, yr.prototype.zeroWidthHack = function() {
            var t4 = m && !f ? "12px" : "18px";
            this.horiz.style.height = this.vert.style.width = t4, this.horiz.style.pointerEvents = this.vert.style.pointerEvents = "none", this.disableHoriz = new F(), this.disableVert = new F();
          }, yr.prototype.enableZeroWidthBar = function(t4, e3, n3) {
            function o3() {
              var r2 = t4.getBoundingClientRect();
              ("vert" == n3 ? document.elementFromPoint(r2.right - 1, (r2.top + r2.bottom) / 2) : document.elementFromPoint((r2.right + r2.left) / 2, r2.bottom - 1)) != t4 ? t4.style.pointerEvents = "none" : e3.set(1e3, o3);
            }
            t4.style.pointerEvents = "auto", e3.set(1e3, o3);
          }, yr.prototype.clear = function() {
            var t4 = this.horiz.parentNode;
            t4.removeChild(this.horiz), t4.removeChild(this.vert);
          };
          var mr = function() {
          };
          function br(t4, e3) {
            e3 || (e3 = gr(t4));
            var n3 = t4.display.barWidth, o3 = t4.display.barHeight;
            _r(t4, e3);
            for (var r2 = 0; r2 < 4 && n3 != t4.display.barWidth || o3 != t4.display.barHeight; r2++) n3 != t4.display.barWidth && t4.options.lineWrapping && tr(t4), _r(t4, gr(t4)), n3 = t4.display.barWidth, o3 = t4.display.barHeight;
          }
          function _r(t4, e3) {
            var n3 = t4.display, o3 = n3.scrollbars.update(e3);
            n3.sizer.style.paddingRight = (n3.barWidth = o3.right) + "px", n3.sizer.style.paddingBottom = (n3.barHeight = o3.bottom) + "px", n3.heightForcer.style.borderBottom = o3.bottom + "px solid transparent", o3.right && o3.bottom ? (n3.scrollbarFiller.style.display = "block", n3.scrollbarFiller.style.height = o3.bottom + "px", n3.scrollbarFiller.style.width = o3.right + "px") : n3.scrollbarFiller.style.display = "", o3.bottom && t4.options.coverGutterNextToScrollbar && t4.options.fixedGutter ? (n3.gutterFiller.style.display = "block", n3.gutterFiller.style.height = o3.bottom + "px", n3.gutterFiller.style.width = e3.gutterWidth + "px") : n3.gutterFiller.style.display = "";
          }
          mr.prototype.update = function() {
            return { bottom: 0, right: 0 };
          }, mr.prototype.setScrollLeft = function() {
          }, mr.prototype.setScrollTop = function() {
          }, mr.prototype.clear = function() {
          };
          var wr = { native: yr, null: mr };
          function xr(t4) {
            t4.display.scrollbars && (t4.display.scrollbars.clear(), t4.display.scrollbars.addClass && T(t4.display.wrapper, t4.display.scrollbars.addClass)), t4.display.scrollbars = new wr[t4.options.scrollbarStyle]((function(e3) {
              t4.display.wrapper.insertBefore(e3, t4.display.scrollbarFiller), ht(e3, "mousedown", (function() {
                t4.state.focused && setTimeout((function() {
                  return t4.display.input.focus();
                }), 0);
              })), e3.setAttribute("cm-not-content", "true");
            }), (function(e3, n3) {
              "horizontal" == n3 ? vr(t4, e3) : fr(t4, e3);
            }), t4), t4.display.scrollbars.addClass && D(t4.display.wrapper, t4.display.scrollbars.addClass);
          }
          var Cr = 0;
          function Sr(t4) {
            t4.curOp = { cm: t4, viewChanged: false, startHeight: t4.doc.height, forceUpdate: false, updateInput: 0, typing: false, changeObjs: null, cursorActivityHandlers: null, cursorActivityCalled: 0, selectionChanged: false, updateMaxLine: false, scrollLeft: null, scrollTop: null, scrollToPos: null, focus: false, id: ++Cr, markArrays: null }, On(t4.curOp);
          }
          function Or(t4) {
            var e3 = t4.curOp;
            e3 && Pn(e3, (function(t5) {
              for (var e4 = 0; e4 < t5.ops.length; e4++) t5.ops[e4].cm.curOp = null;
              Tr(t5);
            }));
          }
          function Tr(t4) {
            for (var e3 = t4.ops, n3 = 0; n3 < e3.length; n3++) Pr(e3[n3]);
            for (var o3 = 0; o3 < e3.length; o3++) Er(e3[o3]);
            for (var r2 = 0; r2 < e3.length; r2++) kr(e3[r2]);
            for (var i2 = 0; i2 < e3.length; i2++) Ar(e3[i2]);
            for (var a2 = 0; a2 < e3.length; a2++) jr(e3[a2]);
          }
          function Pr(t4) {
            var e3 = t4.cm, n3 = e3.display;
            Fr(e3), t4.updateMaxLine && ln(e3), t4.mustUpdate = t4.viewChanged || t4.forceUpdate || null != t4.scrollTop || t4.scrollToPos && (t4.scrollToPos.from.line < n3.viewFrom || t4.scrollToPos.to.line >= n3.viewTo) || n3.maxLineChanged && e3.options.lineWrapping, t4.update = t4.mustUpdate && new Vr(e3, t4.mustUpdate && { top: t4.scrollTop, ensure: t4.scrollToPos }, t4.forceUpdate);
          }
          function Er(t4) {
            t4.updatedDisplay = t4.mustUpdate && zr(t4.cm, t4.update);
          }
          function kr(t4) {
            var e3 = t4.cm, n3 = e3.display;
            t4.updatedDisplay && tr(e3), t4.barMeasure = gr(e3), n3.maxLineChanged && !e3.options.lineWrapping && (t4.adjustWidthTo = to(e3, n3.maxLine, n3.maxLine.text.length).left + 3, e3.display.sizerWidth = t4.adjustWidthTo, t4.barMeasure.scrollWidth = Math.max(n3.scroller.clientWidth, n3.sizer.offsetLeft + t4.adjustWidthTo + Kn(e3) + e3.display.barWidth), t4.maxScrollLeft = Math.max(0, n3.sizer.offsetLeft + t4.adjustWidthTo - Yn(e3))), (t4.updatedDisplay || t4.selectionChanged) && (t4.preparedSelection = n3.input.prepareSelection());
          }
          function Ar(t4) {
            var e3 = t4.cm;
            null != t4.adjustWidthTo && (e3.display.sizer.style.minWidth = t4.adjustWidthTo + "px", t4.maxScrollLeft < e3.doc.scrollLeft && vr(e3, Math.min(e3.display.scroller.scrollLeft, t4.maxScrollLeft), true), e3.display.maxLineChanged = false);
            var n3 = t4.focus && t4.focus == M();
            t4.preparedSelection && e3.display.input.showSelection(t4.preparedSelection, n3), (t4.updatedDisplay || t4.startHeight != e3.doc.height) && br(e3, t4.barMeasure), t4.updatedDisplay && Gr(e3, t4.barMeasure), t4.selectionChanged && Yo(e3), e3.state.focused && t4.updateInput && e3.display.input.reset(t4.typing), n3 && Jo(t4.cm);
          }
          function jr(t4) {
            var e3 = t4.cm, n3 = e3.display, o3 = e3.doc;
            t4.updatedDisplay && Br(e3, t4.update), null == n3.wheelStartX || null == t4.scrollTop && null == t4.scrollLeft && !t4.scrollToPos || (n3.wheelStartX = n3.wheelStartY = null), null != t4.scrollTop && hr(e3, t4.scrollTop, t4.forceScroll), null != t4.scrollLeft && vr(e3, t4.scrollLeft, true, true), t4.scrollToPos && or(e3, rr(e3, de(o3, t4.scrollToPos.from), de(o3, t4.scrollToPos.to), t4.scrollToPos.margin));
            var r2 = t4.maybeHiddenMarkers, i2 = t4.maybeUnhiddenMarkers;
            if (r2) for (var a2 = 0; a2 < r2.length; ++a2) r2[a2].lines.length || yt(r2[a2], "hide");
            if (i2) for (var s2 = 0; s2 < i2.length; ++s2) i2[s2].lines.length && yt(i2[s2], "unhide");
            n3.wrapper.offsetHeight && (o3.scrollTop = e3.display.scroller.scrollTop), t4.changeObjs && yt(e3, "changes", e3, t4.changeObjs), t4.update && t4.update.finish();
          }
          function Mr(t4, e3) {
            if (t4.curOp) return e3();
            Sr(t4);
            try {
              return e3();
            } finally {
              Or(t4);
            }
          }
          function Dr(t4, e3) {
            return function() {
              if (t4.curOp) return e3.apply(t4, arguments);
              Sr(t4);
              try {
                return e3.apply(t4, arguments);
              } finally {
                Or(t4);
              }
            };
          }
          function Lr(t4) {
            return function() {
              if (this.curOp) return t4.apply(this, arguments);
              Sr(this);
              try {
                return t4.apply(this, arguments);
              } finally {
                Or(this);
              }
            };
          }
          function Ir(t4) {
            return function() {
              var e3 = this.cm;
              if (!e3 || e3.curOp) return t4.apply(this, arguments);
              Sr(e3);
              try {
                return t4.apply(this, arguments);
              } finally {
                Or(e3);
              }
            };
          }
          function Nr(t4, e3) {
            t4.doc.highlightFrontier < t4.display.viewTo && t4.state.highlight.set(e3, N(Rr, t4));
          }
          function Rr(t4) {
            var e3 = t4.doc;
            if (!(e3.highlightFrontier >= t4.display.viewTo)) {
              var n3 = +/* @__PURE__ */ new Date() + t4.options.workTime, o3 = be(t4, e3.highlightFrontier), r2 = [];
              e3.iter(o3.line, Math.min(e3.first + e3.size, t4.display.viewTo + 500), (function(i2) {
                if (o3.line >= t4.display.viewFrom) {
                  var a2 = i2.styles, s2 = i2.text.length > t4.options.maxHighlightLength ? Gt(e3.mode, o3.state) : null, l2 = ye(t4, i2, o3, true);
                  s2 && (o3.state = s2), i2.styles = l2.styles;
                  var c2 = i2.styleClasses, u2 = l2.classes;
                  u2 ? i2.styleClasses = u2 : c2 && (i2.styleClasses = null);
                  for (var p2 = !a2 || a2.length != i2.styles.length || c2 != u2 && (!c2 || !u2 || c2.bgClass != u2.bgClass || c2.textClass != u2.textClass), d2 = 0; !p2 && d2 < a2.length; ++d2) p2 = a2[d2] != i2.styles[d2];
                  p2 && r2.push(o3.line), i2.stateAfter = o3.save(), o3.nextLine();
                } else i2.text.length <= t4.options.maxHighlightLength && _e(t4, i2.text, o3), i2.stateAfter = o3.line % 5 == 0 ? o3.save() : null, o3.nextLine();
                if (+/* @__PURE__ */ new Date() > n3) return Nr(t4, t4.options.workDelay), true;
              })), e3.highlightFrontier = o3.line, e3.modeFrontier = Math.max(e3.modeFrontier, o3.line), r2.length && Mr(t4, (function() {
                for (var e4 = 0; e4 < r2.length; e4++) Fo(t4, r2[e4], "text");
              }));
            }
          }
          var Vr = function(t4, e3, n3) {
            var o3 = t4.display;
            this.viewport = e3, this.visible = nr(o3, t4.doc, e3), this.editorIsHidden = !o3.wrapper.offsetWidth, this.wrapperHeight = o3.wrapper.clientHeight, this.wrapperWidth = o3.wrapper.clientWidth, this.oldDisplayWidth = Yn(t4), this.force = n3, this.dims = Mo(t4), this.events = [];
          };
          function Fr(t4) {
            var e3 = t4.display;
            !e3.scrollbarsClipped && e3.scroller.offsetWidth && (e3.nativeBarWidth = e3.scroller.offsetWidth - e3.scroller.clientWidth, e3.heightForcer.style.height = Kn(t4) + "px", e3.sizer.style.marginBottom = -e3.nativeBarWidth + "px", e3.sizer.style.borderRightWidth = Kn(t4) + "px", e3.scrollbarsClipped = true);
          }
          function Hr(t4) {
            if (t4.hasFocus()) return null;
            var e3 = M();
            if (!e3 || !j(t4.display.lineDiv, e3)) return null;
            var n3 = { activeElt: e3 };
            if (window.getSelection) {
              var o3 = window.getSelection();
              o3.anchorNode && o3.extend && j(t4.display.lineDiv, o3.anchorNode) && (n3.anchorNode = o3.anchorNode, n3.anchorOffset = o3.anchorOffset, n3.focusNode = o3.focusNode, n3.focusOffset = o3.focusOffset);
            }
            return n3;
          }
          function Ur(t4) {
            if (t4 && t4.activeElt && t4.activeElt != M() && (t4.activeElt.focus(), !/^(INPUT|TEXTAREA)$/.test(t4.activeElt.nodeName) && t4.anchorNode && j(document.body, t4.anchorNode) && j(document.body, t4.focusNode))) {
              var e3 = window.getSelection(), n3 = document.createRange();
              n3.setEnd(t4.anchorNode, t4.anchorOffset), n3.collapse(false), e3.removeAllRanges(), e3.addRange(n3), e3.extend(t4.focusNode, t4.focusOffset);
            }
          }
          function zr(t4, e3) {
            var n3 = t4.display, o3 = t4.doc;
            if (e3.editorIsHidden) return Ho(t4), false;
            if (!e3.force && e3.visible.from >= n3.viewFrom && e3.visible.to <= n3.viewTo && (null == n3.updateLineNumbers || n3.updateLineNumbers >= n3.viewTo) && n3.renderedView == n3.view && 0 == Bo(t4)) return false;
            Yr(t4) && (Ho(t4), e3.dims = Mo(t4));
            var r2 = o3.first + o3.size, i2 = Math.max(e3.visible.from - t4.options.viewportMargin, o3.first), a2 = Math.min(r2, e3.visible.to + t4.options.viewportMargin);
            n3.viewFrom < i2 && i2 - n3.viewFrom < 20 && (i2 = Math.max(o3.first, n3.viewFrom)), n3.viewTo > a2 && n3.viewTo - a2 < 20 && (a2 = Math.min(r2, n3.viewTo)), Ae && (i2 = en(t4.doc, i2), a2 = nn(t4.doc, a2));
            var s2 = i2 != n3.viewFrom || a2 != n3.viewTo || n3.lastWrapHeight != e3.wrapperHeight || n3.lastWrapWidth != e3.wrapperWidth;
            zo(t4, i2, a2), n3.viewOffset = an(Xt(t4.doc, n3.viewFrom)), t4.display.mover.style.top = n3.viewOffset + "px";
            var l2 = Bo(t4);
            if (!s2 && 0 == l2 && !e3.force && n3.renderedView == n3.view && (null == n3.updateLineNumbers || n3.updateLineNumbers >= n3.viewTo)) return false;
            var c2 = Hr(t4);
            return l2 > 4 && (n3.lineDiv.style.display = "none"), $r(t4, n3.updateLineNumbers, e3.dims), l2 > 4 && (n3.lineDiv.style.display = ""), n3.renderedView = n3.view, Ur(c2), P(n3.cursorDiv), P(n3.selectionDiv), n3.gutters.style.height = n3.sizer.style.minHeight = 0, s2 && (n3.lastWrapHeight = e3.wrapperHeight, n3.lastWrapWidth = e3.wrapperWidth, Nr(t4, 400)), n3.updateLineNumbers = null, true;
          }
          function Br(t4, e3) {
            for (var n3 = e3.viewport, o3 = true; ; o3 = false) {
              if (o3 && t4.options.lineWrapping && e3.oldDisplayWidth != Yn(t4)) o3 && (e3.visible = nr(t4.display, t4.doc, n3));
              else if (n3 && null != n3.top && (n3 = { top: Math.min(t4.doc.height + qn(t4.display) - Jn(t4), n3.top) }), e3.visible = nr(t4.display, t4.doc, n3), e3.visible.from >= t4.display.viewFrom && e3.visible.to <= t4.display.viewTo) break;
              if (!zr(t4, e3)) break;
              tr(t4);
              var r2 = gr(t4);
              Wo(t4), br(t4, r2), Gr(t4, r2), e3.force = false;
            }
            e3.signal(t4, "update", t4), t4.display.viewFrom == t4.display.reportedViewFrom && t4.display.viewTo == t4.display.reportedViewTo || (e3.signal(t4, "viewportChange", t4, t4.display.viewFrom, t4.display.viewTo), t4.display.reportedViewFrom = t4.display.viewFrom, t4.display.reportedViewTo = t4.display.viewTo);
          }
          function Wr(t4, e3) {
            var n3 = new Vr(t4, e3);
            if (zr(t4, n3)) {
              tr(t4), Br(t4, n3);
              var o3 = gr(t4);
              Wo(t4), br(t4, o3), Gr(t4, o3), n3.finish();
            }
          }
          function $r(t4, e3, n3) {
            var o3 = t4.display, r2 = t4.options.lineNumbers, i2 = o3.lineDiv, a2 = i2.firstChild;
            function s2(e4) {
              var n4 = e4.nextSibling;
              return l && m && t4.display.currentWheelTarget == e4 ? e4.style.display = "none" : e4.parentNode.removeChild(e4), n4;
            }
            for (var c2 = o3.view, u2 = o3.viewFrom, p2 = 0; p2 < c2.length; p2++) {
              var d2 = c2[p2];
              if (d2.hidden) ;
              else if (d2.node && d2.node.parentNode == i2) {
                for (; a2 != d2.node; ) a2 = s2(a2);
                var f2 = r2 && null != e3 && e3 <= u2 && d2.lineNumber;
                d2.changes && (H(d2.changes, "gutter") > -1 && (f2 = false), jn(t4, d2, u2, n3)), f2 && (P(d2.lineNumber), d2.lineNumber.appendChild(document.createTextNode(re(t4.options, u2)))), a2 = d2.node.nextSibling;
              } else {
                var h2 = Fn(t4, d2, u2, n3);
                i2.insertBefore(h2, a2);
              }
              u2 += d2.size;
            }
            for (; a2; ) a2 = s2(a2);
          }
          function qr(t4) {
            var e3 = t4.gutters.offsetWidth;
            t4.sizer.style.marginLeft = e3 + "px", kn(t4, "gutterChanged", t4);
          }
          function Gr(t4, e3) {
            t4.display.sizer.style.minHeight = e3.docHeight + "px", t4.display.heightForcer.style.top = e3.docHeight + "px", t4.display.gutters.style.height = e3.docHeight + t4.display.barHeight + Kn(t4) + "px";
          }
          function Kr(t4) {
            var e3 = t4.display, n3 = e3.view;
            if (e3.alignWidgets || e3.gutters.firstChild && t4.options.fixedGutter) {
              for (var o3 = Do(e3) - e3.scroller.scrollLeft + t4.doc.scrollLeft, r2 = e3.gutters.offsetWidth, i2 = o3 + "px", a2 = 0; a2 < n3.length; a2++) if (!n3[a2].hidden) {
                t4.options.fixedGutter && (n3[a2].gutter && (n3[a2].gutter.style.left = i2), n3[a2].gutterBackground && (n3[a2].gutterBackground.style.left = i2));
                var s2 = n3[a2].alignable;
                if (s2) for (var l2 = 0; l2 < s2.length; l2++) s2[l2].style.left = i2;
              }
              t4.options.fixedGutter && (e3.gutters.style.left = o3 + r2 + "px");
            }
          }
          function Yr(t4) {
            if (!t4.options.lineNumbers) return false;
            var e3 = t4.doc, n3 = re(t4.options, e3.first + e3.size - 1), o3 = t4.display;
            if (n3.length != o3.lineNumChars) {
              var r2 = o3.measure.appendChild(k("div", [k("div", n3)], "CodeMirror-linenumber CodeMirror-gutter-elt")), i2 = r2.firstChild.offsetWidth, a2 = r2.offsetWidth - i2;
              return o3.lineGutter.style.width = "", o3.lineNumInnerWidth = Math.max(i2, o3.lineGutter.offsetWidth - a2) + 1, o3.lineNumWidth = o3.lineNumInnerWidth + a2, o3.lineNumChars = o3.lineNumInnerWidth ? n3.length : -1, o3.lineGutter.style.width = o3.lineNumWidth + "px", qr(t4.display), true;
            }
            return false;
          }
          function Jr(t4, e3) {
            for (var n3 = [], o3 = false, r2 = 0; r2 < t4.length; r2++) {
              var i2 = t4[r2], a2 = null;
              if ("string" != typeof i2 && (a2 = i2.style, i2 = i2.className), "CodeMirror-linenumbers" == i2) {
                if (!e3) continue;
                o3 = true;
              }
              n3.push({ className: i2, style: a2 });
            }
            return e3 && !o3 && n3.push({ className: "CodeMirror-linenumbers", style: null }), n3;
          }
          function Xr(t4) {
            var e3 = t4.gutters, n3 = t4.gutterSpecs;
            P(e3), t4.lineGutter = null;
            for (var o3 = 0; o3 < n3.length; ++o3) {
              var r2 = n3[o3], i2 = r2.className, a2 = r2.style, s2 = e3.appendChild(k("div", null, "CodeMirror-gutter " + i2));
              a2 && (s2.style.cssText = a2), "CodeMirror-linenumbers" == i2 && (t4.lineGutter = s2, s2.style.width = (t4.lineNumWidth || 1) + "px");
            }
            e3.style.display = n3.length ? "" : "none", qr(t4);
          }
          function Zr(t4) {
            Xr(t4.display), Vo(t4), Kr(t4);
          }
          function Qr(t4, e3, o3, r2) {
            var i2 = this;
            this.input = o3, i2.scrollbarFiller = k("div", null, "CodeMirror-scrollbar-filler"), i2.scrollbarFiller.setAttribute("cm-not-content", "true"), i2.gutterFiller = k("div", null, "CodeMirror-gutter-filler"), i2.gutterFiller.setAttribute("cm-not-content", "true"), i2.lineDiv = A("div", null, "CodeMirror-code"), i2.selectionDiv = k("div", null, null, "position: relative; z-index: 1"), i2.cursorDiv = k("div", null, "CodeMirror-cursors"), i2.measure = k("div", null, "CodeMirror-measure"), i2.lineMeasure = k("div", null, "CodeMirror-measure"), i2.lineSpace = A("div", [i2.measure, i2.lineMeasure, i2.selectionDiv, i2.cursorDiv, i2.lineDiv], null, "position: relative; outline: none");
            var c2 = A("div", [i2.lineSpace], "CodeMirror-lines");
            i2.mover = k("div", [c2], null, "position: relative"), i2.sizer = k("div", [i2.mover], "CodeMirror-sizer"), i2.sizerWidth = null, i2.heightForcer = k("div", null, null, "position: absolute; height: " + U + "px; width: 1px;"), i2.gutters = k("div", null, "CodeMirror-gutters"), i2.lineGutter = null, i2.scroller = k("div", [i2.sizer, i2.heightForcer, i2.gutters], "CodeMirror-scroll"), i2.scroller.setAttribute("tabIndex", "-1"), i2.wrapper = k("div", [i2.scrollbarFiller, i2.gutterFiller, i2.scroller], "CodeMirror"), i2.wrapper.setAttribute("translate", "no"), a && s < 8 && (i2.gutters.style.zIndex = -1, i2.scroller.style.paddingRight = 0), l || n2 && y || (i2.scroller.draggable = true), t4 && (t4.appendChild ? t4.appendChild(i2.wrapper) : t4(i2.wrapper)), i2.viewFrom = i2.viewTo = e3.first, i2.reportedViewFrom = i2.reportedViewTo = e3.first, i2.view = [], i2.renderedView = null, i2.externalMeasured = null, i2.viewOffset = 0, i2.lastWrapHeight = i2.lastWrapWidth = 0, i2.updateLineNumbers = null, i2.nativeBarWidth = i2.barHeight = i2.barWidth = 0, i2.scrollbarsClipped = false, i2.lineNumWidth = i2.lineNumInnerWidth = i2.lineNumChars = null, i2.alignWidgets = false, i2.cachedCharWidth = i2.cachedTextHeight = i2.cachedPaddingH = null, i2.maxLine = null, i2.maxLineLength = 0, i2.maxLineChanged = false, i2.wheelDX = i2.wheelDY = i2.wheelStartX = i2.wheelStartY = null, i2.shift = false, i2.selForContextMenu = null, i2.activeTouch = null, i2.gutterSpecs = Jr(r2.gutters, r2.lineNumbers), Xr(i2), o3.init(i2);
          }
          Vr.prototype.signal = function(t4, e3) {
            _t(t4, e3) && this.events.push(arguments);
          }, Vr.prototype.finish = function() {
            for (var t4 = 0; t4 < this.events.length; t4++) yt.apply(null, this.events[t4]);
          };
          var ti = 0, ei = null;
          function ni(t4) {
            var e3 = t4.wheelDeltaX, n3 = t4.wheelDeltaY;
            return null == e3 && t4.detail && t4.axis == t4.HORIZONTAL_AXIS && (e3 = t4.detail), null == n3 && t4.detail && t4.axis == t4.VERTICAL_AXIS ? n3 = t4.detail : null == n3 && (n3 = t4.wheelDelta), { x: e3, y: n3 };
          }
          function oi(t4) {
            var e3 = ni(t4);
            return e3.x *= ei, e3.y *= ei, e3;
          }
          function ri(t4, e3) {
            var o3 = ni(e3), r2 = o3.x, i2 = o3.y, a2 = t4.display, s2 = a2.scroller, c2 = s2.scrollWidth > s2.clientWidth, u2 = s2.scrollHeight > s2.clientHeight;
            if (r2 && c2 || i2 && u2) {
              if (i2 && m && l) {
                t: for (var d2 = e3.target, f2 = a2.view; d2 != s2; d2 = d2.parentNode) for (var h2 = 0; h2 < f2.length; h2++) if (f2[h2].node == d2) {
                  t4.display.currentWheelTarget = d2;
                  break t;
                }
              }
              if (r2 && !n2 && !p && null != ei) return i2 && u2 && fr(t4, Math.max(0, s2.scrollTop + i2 * ei)), vr(t4, Math.max(0, s2.scrollLeft + r2 * ei)), (!i2 || i2 && u2) && xt(e3), void (a2.wheelStartX = null);
              if (i2 && null != ei) {
                var v2 = i2 * ei, g2 = t4.doc.scrollTop, y2 = g2 + a2.wrapper.clientHeight;
                v2 < 0 ? g2 = Math.max(0, g2 + v2 - 50) : y2 = Math.min(t4.doc.height, y2 + v2 + 50), Wr(t4, { top: g2, bottom: y2 });
              }
              ti < 20 && (null == a2.wheelStartX ? (a2.wheelStartX = s2.scrollLeft, a2.wheelStartY = s2.scrollTop, a2.wheelDX = r2, a2.wheelDY = i2, setTimeout((function() {
                if (null != a2.wheelStartX) {
                  var t5 = s2.scrollLeft - a2.wheelStartX, e4 = s2.scrollTop - a2.wheelStartY, n3 = e4 && a2.wheelDY && e4 / a2.wheelDY || t5 && a2.wheelDX && t5 / a2.wheelDX;
                  a2.wheelStartX = a2.wheelStartY = null, n3 && (ei = (ei * ti + n3) / (ti + 1), ++ti);
                }
              }), 200)) : (a2.wheelDX += r2, a2.wheelDY += i2));
            }
          }
          a ? ei = -0.53 : n2 ? ei = 15 : u ? ei = -0.7 : d && (ei = -1 / 3);
          var ii = function(t4, e3) {
            this.ranges = t4, this.primIndex = e3;
          };
          ii.prototype.primary = function() {
            return this.ranges[this.primIndex];
          }, ii.prototype.equals = function(t4) {
            if (t4 == this) return true;
            if (t4.primIndex != this.primIndex || t4.ranges.length != this.ranges.length) return false;
            for (var e3 = 0; e3 < this.ranges.length; e3++) {
              var n3 = this.ranges[e3], o3 = t4.ranges[e3];
              if (!se(n3.anchor, o3.anchor) || !se(n3.head, o3.head)) return false;
            }
            return true;
          }, ii.prototype.deepCopy = function() {
            for (var t4 = [], e3 = 0; e3 < this.ranges.length; e3++) t4[e3] = new ai(le(this.ranges[e3].anchor), le(this.ranges[e3].head));
            return new ii(t4, this.primIndex);
          }, ii.prototype.somethingSelected = function() {
            for (var t4 = 0; t4 < this.ranges.length; t4++) if (!this.ranges[t4].empty()) return true;
            return false;
          }, ii.prototype.contains = function(t4, e3) {
            e3 || (e3 = t4);
            for (var n3 = 0; n3 < this.ranges.length; n3++) {
              var o3 = this.ranges[n3];
              if (ae(e3, o3.from()) >= 0 && ae(t4, o3.to()) <= 0) return n3;
            }
            return -1;
          };
          var ai = function(t4, e3) {
            this.anchor = t4, this.head = e3;
          };
          function si(t4, e3, n3) {
            var o3 = t4 && t4.options.selectionsMayTouch, r2 = e3[n3];
            e3.sort((function(t5, e4) {
              return ae(t5.from(), e4.from());
            })), n3 = H(e3, r2);
            for (var i2 = 1; i2 < e3.length; i2++) {
              var a2 = e3[i2], s2 = e3[i2 - 1], l2 = ae(s2.to(), a2.from());
              if (o3 && !a2.empty() ? l2 > 0 : l2 >= 0) {
                var c2 = ue(s2.from(), a2.from()), u2 = ce(s2.to(), a2.to()), p2 = s2.empty() ? a2.from() == a2.head : s2.from() == s2.head;
                i2 <= n3 && --n3, e3.splice(--i2, 2, new ai(p2 ? u2 : c2, p2 ? c2 : u2));
              }
            }
            return new ii(e3, n3);
          }
          function li(t4, e3) {
            return new ii([new ai(t4, e3 || t4)], 0);
          }
          function ci(t4) {
            return t4.text ? ie(t4.from.line + t4.text.length - 1, Y(t4.text).length + (1 == t4.text.length ? t4.from.ch : 0)) : t4.to;
          }
          function ui(t4, e3) {
            if (ae(t4, e3.from) < 0) return t4;
            if (ae(t4, e3.to) <= 0) return ci(e3);
            var n3 = t4.line + e3.text.length - (e3.to.line - e3.from.line) - 1, o3 = t4.ch;
            return t4.line == e3.to.line && (o3 += ci(e3).ch - e3.to.ch), ie(n3, o3);
          }
          function pi(t4, e3) {
            for (var n3 = [], o3 = 0; o3 < t4.sel.ranges.length; o3++) {
              var r2 = t4.sel.ranges[o3];
              n3.push(new ai(ui(r2.anchor, e3), ui(r2.head, e3)));
            }
            return si(t4.cm, n3, t4.sel.primIndex);
          }
          function di(t4, e3, n3) {
            return t4.line == e3.line ? ie(n3.line, t4.ch - e3.ch + n3.ch) : ie(n3.line + (t4.line - e3.line), t4.ch);
          }
          function fi(t4, e3, n3) {
            for (var o3 = [], r2 = ie(t4.first, 0), i2 = r2, a2 = 0; a2 < e3.length; a2++) {
              var s2 = e3[a2], l2 = di(s2.from, r2, i2), c2 = di(ci(s2), r2, i2);
              if (r2 = s2.to, i2 = c2, "around" == n3) {
                var u2 = t4.sel.ranges[a2], p2 = ae(u2.head, u2.anchor) < 0;
                o3[a2] = new ai(p2 ? c2 : l2, p2 ? l2 : c2);
              } else o3[a2] = new ai(l2, l2);
            }
            return new ii(o3, t4.sel.primIndex);
          }
          function hi(t4) {
            t4.doc.mode = Wt(t4.options, t4.doc.modeOption), vi(t4);
          }
          function vi(t4) {
            t4.doc.iter((function(t5) {
              t5.stateAfter && (t5.stateAfter = null), t5.styles && (t5.styles = null);
            })), t4.doc.modeFrontier = t4.doc.highlightFrontier = t4.doc.first, Nr(t4, 100), t4.state.modeGen++, t4.curOp && Vo(t4);
          }
          function gi(t4, e3) {
            return 0 == e3.from.ch && 0 == e3.to.ch && "" == Y(e3.text) && (!t4.cm || t4.cm.options.wholeLineUpdateBefore);
          }
          function yi(t4, e3, n3, o3) {
            function r2(t5) {
              return n3 ? n3[t5] : null;
            }
            function i2(t5, n4, r3) {
              un(t5, n4, r3, o3), kn(t5, "change", t5, e3);
            }
            function a2(t5, e4) {
              for (var n4 = [], i3 = t5; i3 < e4; ++i3) n4.push(new cn(c2[i3], r2(i3), o3));
              return n4;
            }
            var s2 = e3.from, l2 = e3.to, c2 = e3.text, u2 = Xt(t4, s2.line), p2 = Xt(t4, l2.line), d2 = Y(c2), f2 = r2(c2.length - 1), h2 = l2.line - s2.line;
            if (e3.full) t4.insert(0, a2(0, c2.length)), t4.remove(c2.length, t4.size - c2.length);
            else if (gi(t4, e3)) {
              var v2 = a2(0, c2.length - 1);
              i2(p2, p2.text, f2), h2 && t4.remove(s2.line, h2), v2.length && t4.insert(s2.line, v2);
            } else if (u2 == p2) if (1 == c2.length) i2(u2, u2.text.slice(0, s2.ch) + d2 + u2.text.slice(l2.ch), f2);
            else {
              var g2 = a2(1, c2.length - 1);
              g2.push(new cn(d2 + u2.text.slice(l2.ch), f2, o3)), i2(u2, u2.text.slice(0, s2.ch) + c2[0], r2(0)), t4.insert(s2.line + 1, g2);
            }
            else if (1 == c2.length) i2(u2, u2.text.slice(0, s2.ch) + c2[0] + p2.text.slice(l2.ch), r2(0)), t4.remove(s2.line + 1, h2);
            else {
              i2(u2, u2.text.slice(0, s2.ch) + c2[0], r2(0)), i2(p2, d2 + p2.text.slice(l2.ch), f2);
              var y2 = a2(1, c2.length - 1);
              h2 > 1 && t4.remove(s2.line + 1, h2 - 1), t4.insert(s2.line + 1, y2);
            }
            kn(t4, "change", t4, e3);
          }
          function mi(t4, e3, n3) {
            function o3(t5, r2, i2) {
              if (t5.linked) for (var a2 = 0; a2 < t5.linked.length; ++a2) {
                var s2 = t5.linked[a2];
                if (s2.doc != r2) {
                  var l2 = i2 && s2.sharedHist;
                  n3 && !l2 || (e3(s2.doc, l2), o3(s2.doc, t5, l2));
                }
              }
            }
            o3(t4, null, true);
          }
          function bi(t4, e3) {
            if (e3.cm) throw new Error("This document is already in use.");
            t4.doc = e3, e3.cm = t4, Io(t4), hi(t4), _i(t4), t4.options.direction = e3.direction, t4.options.lineWrapping || ln(t4), t4.options.mode = e3.modeOption, Vo(t4);
          }
          function _i(t4) {
            ("rtl" == t4.doc.direction ? D : T)(t4.display.lineDiv, "CodeMirror-rtl");
          }
          function wi(t4) {
            Mr(t4, (function() {
              _i(t4), Vo(t4);
            }));
          }
          function xi(t4) {
            this.done = [], this.undone = [], this.undoDepth = t4 ? t4.undoDepth : 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = t4 ? t4.maxGeneration : 1;
          }
          function Ci(t4, e3) {
            var n3 = { from: le(e3.from), to: ci(e3), text: Zt(t4, e3.from, e3.to) };
            return Ai(t4, n3, e3.from.line, e3.to.line + 1), mi(t4, (function(t5) {
              return Ai(t5, n3, e3.from.line, e3.to.line + 1);
            }), true), n3;
          }
          function Si(t4) {
            for (; t4.length && Y(t4).ranges; ) t4.pop();
          }
          function Oi(t4, e3) {
            return e3 ? (Si(t4.done), Y(t4.done)) : t4.done.length && !Y(t4.done).ranges ? Y(t4.done) : t4.done.length > 1 && !t4.done[t4.done.length - 2].ranges ? (t4.done.pop(), Y(t4.done)) : void 0;
          }
          function Ti(t4, e3, n3, o3) {
            var r2 = t4.history;
            r2.undone.length = 0;
            var i2, a2, s2 = +/* @__PURE__ */ new Date();
            if ((r2.lastOp == o3 || r2.lastOrigin == e3.origin && e3.origin && ("+" == e3.origin.charAt(0) && r2.lastModTime > s2 - (t4.cm ? t4.cm.options.historyEventDelay : 500) || "*" == e3.origin.charAt(0))) && (i2 = Oi(r2, r2.lastOp == o3))) a2 = Y(i2.changes), 0 == ae(e3.from, e3.to) && 0 == ae(e3.from, a2.to) ? a2.to = ci(e3) : i2.changes.push(Ci(t4, e3));
            else {
              var l2 = Y(r2.done);
              for (l2 && l2.ranges || ki(t4.sel, r2.done), i2 = { changes: [Ci(t4, e3)], generation: r2.generation }, r2.done.push(i2); r2.done.length > r2.undoDepth; ) r2.done.shift(), r2.done[0].ranges || r2.done.shift();
            }
            r2.done.push(n3), r2.generation = ++r2.maxGeneration, r2.lastModTime = r2.lastSelTime = s2, r2.lastOp = r2.lastSelOp = o3, r2.lastOrigin = r2.lastSelOrigin = e3.origin, a2 || yt(t4, "historyAdded");
          }
          function Pi(t4, e3, n3, o3) {
            var r2 = e3.charAt(0);
            return "*" == r2 || "+" == r2 && n3.ranges.length == o3.ranges.length && n3.somethingSelected() == o3.somethingSelected() && /* @__PURE__ */ new Date() - t4.history.lastSelTime <= (t4.cm ? t4.cm.options.historyEventDelay : 500);
          }
          function Ei(t4, e3, n3, o3) {
            var r2 = t4.history, i2 = o3 && o3.origin;
            n3 == r2.lastSelOp || i2 && r2.lastSelOrigin == i2 && (r2.lastModTime == r2.lastSelTime && r2.lastOrigin == i2 || Pi(t4, i2, Y(r2.done), e3)) ? r2.done[r2.done.length - 1] = e3 : ki(e3, r2.done), r2.lastSelTime = +/* @__PURE__ */ new Date(), r2.lastSelOrigin = i2, r2.lastSelOp = n3, o3 && false !== o3.clearRedo && Si(r2.undone);
          }
          function ki(t4, e3) {
            var n3 = Y(e3);
            n3 && n3.ranges && n3.equals(t4) || e3.push(t4);
          }
          function Ai(t4, e3, n3, o3) {
            var r2 = e3["spans_" + t4.id], i2 = 0;
            t4.iter(Math.max(t4.first, n3), Math.min(t4.first + t4.size, o3), (function(n4) {
              n4.markedSpans && ((r2 || (r2 = e3["spans_" + t4.id] = {}))[i2] = n4.markedSpans), ++i2;
            }));
          }
          function ji(t4) {
            if (!t4) return null;
            for (var e3, n3 = 0; n3 < t4.length; ++n3) t4[n3].marker.explicitlyCleared ? e3 || (e3 = t4.slice(0, n3)) : e3 && e3.push(t4[n3]);
            return e3 ? e3.length ? e3 : null : t4;
          }
          function Mi(t4, e3) {
            var n3 = e3["spans_" + t4.id];
            if (!n3) return null;
            for (var o3 = [], r2 = 0; r2 < e3.text.length; ++r2) o3.push(ji(n3[r2]));
            return o3;
          }
          function Di(t4, e3) {
            var n3 = Mi(t4, e3), o3 = Fe(t4, e3);
            if (!n3) return o3;
            if (!o3) return n3;
            for (var r2 = 0; r2 < n3.length; ++r2) {
              var i2 = n3[r2], a2 = o3[r2];
              if (i2 && a2) t: for (var s2 = 0; s2 < a2.length; ++s2) {
                for (var l2 = a2[s2], c2 = 0; c2 < i2.length; ++c2) if (i2[c2].marker == l2.marker) continue t;
                i2.push(l2);
              }
              else a2 && (n3[r2] = a2);
            }
            return n3;
          }
          function Li(t4, e3, n3) {
            for (var o3 = [], r2 = 0; r2 < t4.length; ++r2) {
              var i2 = t4[r2];
              if (i2.ranges) o3.push(n3 ? ii.prototype.deepCopy.call(i2) : i2);
              else {
                var a2 = i2.changes, s2 = [];
                o3.push({ changes: s2 });
                for (var l2 = 0; l2 < a2.length; ++l2) {
                  var c2 = a2[l2], u2 = void 0;
                  if (s2.push({ from: c2.from, to: c2.to, text: c2.text }), e3) for (var p2 in c2) (u2 = p2.match(/^spans_(\d+)$/)) && H(e3, Number(u2[1])) > -1 && (Y(s2)[p2] = c2[p2], delete c2[p2]);
                }
              }
            }
            return o3;
          }
          function Ii(t4, e3, n3, o3) {
            if (o3) {
              var r2 = t4.anchor;
              if (n3) {
                var i2 = ae(e3, r2) < 0;
                i2 != ae(n3, r2) < 0 ? (r2 = e3, e3 = n3) : i2 != ae(e3, n3) < 0 && (e3 = n3);
              }
              return new ai(r2, e3);
            }
            return new ai(n3 || e3, e3);
          }
          function Ni(t4, e3, n3, o3, r2) {
            null == r2 && (r2 = t4.cm && (t4.cm.display.shift || t4.extend)), zi(t4, new ii([Ii(t4.sel.primary(), e3, n3, r2)], 0), o3);
          }
          function Ri(t4, e3, n3) {
            for (var o3 = [], r2 = t4.cm && (t4.cm.display.shift || t4.extend), i2 = 0; i2 < t4.sel.ranges.length; i2++) o3[i2] = Ii(t4.sel.ranges[i2], e3[i2], null, r2);
            zi(t4, si(t4.cm, o3, t4.sel.primIndex), n3);
          }
          function Vi(t4, e3, n3, o3) {
            var r2 = t4.sel.ranges.slice(0);
            r2[e3] = n3, zi(t4, si(t4.cm, r2, t4.sel.primIndex), o3);
          }
          function Fi(t4, e3, n3, o3) {
            zi(t4, li(e3, n3), o3);
          }
          function Hi(t4, e3, n3) {
            var o3 = { ranges: e3.ranges, update: function(e4) {
              this.ranges = [];
              for (var n4 = 0; n4 < e4.length; n4++) this.ranges[n4] = new ai(de(t4, e4[n4].anchor), de(t4, e4[n4].head));
            }, origin: n3 && n3.origin };
            return yt(t4, "beforeSelectionChange", t4, o3), t4.cm && yt(t4.cm, "beforeSelectionChange", t4.cm, o3), o3.ranges != e3.ranges ? si(t4.cm, o3.ranges, o3.ranges.length - 1) : e3;
          }
          function Ui(t4, e3, n3) {
            var o3 = t4.history.done, r2 = Y(o3);
            r2 && r2.ranges ? (o3[o3.length - 1] = e3, Bi(t4, e3, n3)) : zi(t4, e3, n3);
          }
          function zi(t4, e3, n3) {
            Bi(t4, e3, n3), Ei(t4, t4.sel, t4.cm ? t4.cm.curOp.id : NaN, n3);
          }
          function Bi(t4, e3, n3) {
            (_t(t4, "beforeSelectionChange") || t4.cm && _t(t4.cm, "beforeSelectionChange")) && (e3 = Hi(t4, e3, n3));
            var o3 = n3 && n3.bias || (ae(e3.primary().head, t4.sel.primary().head) < 0 ? -1 : 1);
            Wi(t4, qi(t4, e3, o3, true)), n3 && false === n3.scroll || !t4.cm || "nocursor" == t4.cm.getOption("readOnly") || lr(t4.cm);
          }
          function Wi(t4, e3) {
            e3.equals(t4.sel) || (t4.sel = e3, t4.cm && (t4.cm.curOp.updateInput = 1, t4.cm.curOp.selectionChanged = true, bt(t4.cm)), kn(t4, "cursorActivity", t4));
          }
          function $i(t4) {
            Wi(t4, qi(t4, t4.sel, null, false));
          }
          function qi(t4, e3, n3, o3) {
            for (var r2, i2 = 0; i2 < e3.ranges.length; i2++) {
              var a2 = e3.ranges[i2], s2 = e3.ranges.length == t4.sel.ranges.length && t4.sel.ranges[i2], l2 = Ki(t4, a2.anchor, s2 && s2.anchor, n3, o3), c2 = Ki(t4, a2.head, s2 && s2.head, n3, o3);
              (r2 || l2 != a2.anchor || c2 != a2.head) && (r2 || (r2 = e3.ranges.slice(0, i2)), r2[i2] = new ai(l2, c2));
            }
            return r2 ? si(t4.cm, r2, e3.primIndex) : e3;
          }
          function Gi(t4, e3, n3, o3, r2) {
            var i2 = Xt(t4, e3.line);
            if (i2.markedSpans) for (var a2 = 0; a2 < i2.markedSpans.length; ++a2) {
              var s2 = i2.markedSpans[a2], l2 = s2.marker, c2 = "selectLeft" in l2 ? !l2.selectLeft : l2.inclusiveLeft, u2 = "selectRight" in l2 ? !l2.selectRight : l2.inclusiveRight;
              if ((null == s2.from || (c2 ? s2.from <= e3.ch : s2.from < e3.ch)) && (null == s2.to || (u2 ? s2.to >= e3.ch : s2.to > e3.ch))) {
                if (r2 && (yt(l2, "beforeCursorEnter"), l2.explicitlyCleared)) {
                  if (i2.markedSpans) {
                    --a2;
                    continue;
                  }
                  break;
                }
                if (!l2.atomic) continue;
                if (n3) {
                  var p2 = l2.find(o3 < 0 ? 1 : -1), d2 = void 0;
                  if ((o3 < 0 ? u2 : c2) && (p2 = Yi(t4, p2, -o3, p2 && p2.line == e3.line ? i2 : null)), p2 && p2.line == e3.line && (d2 = ae(p2, n3)) && (o3 < 0 ? d2 < 0 : d2 > 0)) return Gi(t4, p2, e3, o3, r2);
                }
                var f2 = l2.find(o3 < 0 ? -1 : 1);
                return (o3 < 0 ? c2 : u2) && (f2 = Yi(t4, f2, o3, f2.line == e3.line ? i2 : null)), f2 ? Gi(t4, f2, e3, o3, r2) : null;
              }
            }
            return e3;
          }
          function Ki(t4, e3, n3, o3, r2) {
            var i2 = o3 || 1, a2 = Gi(t4, e3, n3, i2, r2) || !r2 && Gi(t4, e3, n3, i2, true) || Gi(t4, e3, n3, -i2, r2) || !r2 && Gi(t4, e3, n3, -i2, true);
            return a2 || (t4.cantEdit = true, ie(t4.first, 0));
          }
          function Yi(t4, e3, n3, o3) {
            return n3 < 0 && 0 == e3.ch ? e3.line > t4.first ? de(t4, ie(e3.line - 1)) : null : n3 > 0 && e3.ch == (o3 || Xt(t4, e3.line)).text.length ? e3.line < t4.first + t4.size - 1 ? ie(e3.line + 1, 0) : null : new ie(e3.line, e3.ch + n3);
          }
          function Ji(t4) {
            t4.setSelection(ie(t4.firstLine(), 0), ie(t4.lastLine()), B);
          }
          function Xi(t4, e3, n3) {
            var o3 = { canceled: false, from: e3.from, to: e3.to, text: e3.text, origin: e3.origin, cancel: function() {
              return o3.canceled = true;
            } };
            return n3 && (o3.update = function(e4, n4, r2, i2) {
              e4 && (o3.from = de(t4, e4)), n4 && (o3.to = de(t4, n4)), r2 && (o3.text = r2), void 0 !== i2 && (o3.origin = i2);
            }), yt(t4, "beforeChange", t4, o3), t4.cm && yt(t4.cm, "beforeChange", t4.cm, o3), o3.canceled ? (t4.cm && (t4.cm.curOp.updateInput = 2), null) : { from: o3.from, to: o3.to, text: o3.text, origin: o3.origin };
          }
          function Zi(t4, e3, n3) {
            if (t4.cm) {
              if (!t4.cm.curOp) return Dr(t4.cm, Zi)(t4, e3, n3);
              if (t4.cm.state.suppressEdits) return;
            }
            if (!(_t(t4, "beforeChange") || t4.cm && _t(t4.cm, "beforeChange")) || (e3 = Xi(t4, e3, true))) {
              var o3 = ke && !n3 && Ue(t4, e3.from, e3.to);
              if (o3) for (var r2 = o3.length - 1; r2 >= 0; --r2) Qi(t4, { from: o3[r2].from, to: o3[r2].to, text: r2 ? [""] : e3.text, origin: e3.origin });
              else Qi(t4, e3);
            }
          }
          function Qi(t4, e3) {
            if (1 != e3.text.length || "" != e3.text[0] || 0 != ae(e3.from, e3.to)) {
              var n3 = pi(t4, e3);
              Ti(t4, e3, n3, t4.cm ? t4.cm.curOp.id : NaN), na(t4, e3, n3, Fe(t4, e3));
              var o3 = [];
              mi(t4, (function(t5, n4) {
                n4 || -1 != H(o3, t5.history) || (sa(t5.history, e3), o3.push(t5.history)), na(t5, e3, null, Fe(t5, e3));
              }));
            }
          }
          function ta(t4, e3, n3) {
            var o3 = t4.cm && t4.cm.state.suppressEdits;
            if (!o3 || n3) {
              for (var r2, i2 = t4.history, a2 = t4.sel, s2 = "undo" == e3 ? i2.done : i2.undone, l2 = "undo" == e3 ? i2.undone : i2.done, c2 = 0; c2 < s2.length && (r2 = s2[c2], n3 ? !r2.ranges || r2.equals(t4.sel) : r2.ranges); c2++) ;
              if (c2 != s2.length) {
                for (i2.lastOrigin = i2.lastSelOrigin = null; ; ) {
                  if (!(r2 = s2.pop()).ranges) {
                    if (o3) return void s2.push(r2);
                    break;
                  }
                  if (ki(r2, l2), n3 && !r2.equals(t4.sel)) return void zi(t4, r2, { clearRedo: false });
                  a2 = r2;
                }
                var u2 = [];
                ki(a2, l2), l2.push({ changes: u2, generation: i2.generation }), i2.generation = r2.generation || ++i2.maxGeneration;
                for (var p2 = _t(t4, "beforeChange") || t4.cm && _t(t4.cm, "beforeChange"), d2 = function(n4) {
                  var o4 = r2.changes[n4];
                  if (o4.origin = e3, p2 && !Xi(t4, o4, false)) return s2.length = 0, {};
                  u2.push(Ci(t4, o4));
                  var i3 = n4 ? pi(t4, o4) : Y(s2);
                  na(t4, o4, i3, Di(t4, o4)), !n4 && t4.cm && t4.cm.scrollIntoView({ from: o4.from, to: ci(o4) });
                  var a3 = [];
                  mi(t4, (function(t5, e4) {
                    e4 || -1 != H(a3, t5.history) || (sa(t5.history, o4), a3.push(t5.history)), na(t5, o4, null, Di(t5, o4));
                  }));
                }, f2 = r2.changes.length - 1; f2 >= 0; --f2) {
                  var h2 = d2(f2);
                  if (h2) return h2.v;
                }
              }
            }
          }
          function ea(t4, e3) {
            if (0 != e3 && (t4.first += e3, t4.sel = new ii(J(t4.sel.ranges, (function(t5) {
              return new ai(ie(t5.anchor.line + e3, t5.anchor.ch), ie(t5.head.line + e3, t5.head.ch));
            })), t4.sel.primIndex), t4.cm)) {
              Vo(t4.cm, t4.first, t4.first - e3, e3);
              for (var n3 = t4.cm.display, o3 = n3.viewFrom; o3 < n3.viewTo; o3++) Fo(t4.cm, o3, "gutter");
            }
          }
          function na(t4, e3, n3, o3) {
            if (t4.cm && !t4.cm.curOp) return Dr(t4.cm, na)(t4, e3, n3, o3);
            if (e3.to.line < t4.first) ea(t4, e3.text.length - 1 - (e3.to.line - e3.from.line));
            else if (!(e3.from.line > t4.lastLine())) {
              if (e3.from.line < t4.first) {
                var r2 = e3.text.length - 1 - (t4.first - e3.from.line);
                ea(t4, r2), e3 = { from: ie(t4.first, 0), to: ie(e3.to.line + r2, e3.to.ch), text: [Y(e3.text)], origin: e3.origin };
              }
              var i2 = t4.lastLine();
              e3.to.line > i2 && (e3 = { from: e3.from, to: ie(i2, Xt(t4, i2).text.length), text: [e3.text[0]], origin: e3.origin }), e3.removed = Zt(t4, e3.from, e3.to), n3 || (n3 = pi(t4, e3)), t4.cm ? oa(t4.cm, e3, o3) : yi(t4, e3, o3), Bi(t4, n3, B), t4.cantEdit && Ki(t4, ie(t4.firstLine(), 0)) && (t4.cantEdit = false);
            }
          }
          function oa(t4, e3, n3) {
            var o3 = t4.doc, r2 = t4.display, i2 = e3.from, a2 = e3.to, s2 = false, l2 = i2.line;
            t4.options.lineWrapping || (l2 = ee(Ze(Xt(o3, i2.line))), o3.iter(l2, a2.line + 1, (function(t5) {
              if (t5 == r2.maxLine) return s2 = true, true;
            }))), o3.sel.contains(e3.from, e3.to) > -1 && bt(t4), yi(o3, e3, n3, Lo(t4)), t4.options.lineWrapping || (o3.iter(l2, i2.line + e3.text.length, (function(t5) {
              var e4 = sn(t5);
              e4 > r2.maxLineLength && (r2.maxLine = t5, r2.maxLineLength = e4, r2.maxLineChanged = true, s2 = false);
            })), s2 && (t4.curOp.updateMaxLine = true)), Ee(o3, i2.line), Nr(t4, 400);
            var c2 = e3.text.length - (a2.line - i2.line) - 1;
            e3.full ? Vo(t4) : i2.line != a2.line || 1 != e3.text.length || gi(t4.doc, e3) ? Vo(t4, i2.line, a2.line + 1, c2) : Fo(t4, i2.line, "text");
            var u2 = _t(t4, "changes"), p2 = _t(t4, "change");
            if (p2 || u2) {
              var d2 = { from: i2, to: a2, text: e3.text, removed: e3.removed, origin: e3.origin };
              p2 && kn(t4, "change", t4, d2), u2 && (t4.curOp.changeObjs || (t4.curOp.changeObjs = [])).push(d2);
            }
            t4.display.selForContextMenu = null;
          }
          function ra(t4, e3, n3, o3, r2) {
            var i2;
            o3 || (o3 = n3), ae(o3, n3) < 0 && (n3 = (i2 = [o3, n3])[0], o3 = i2[1]), "string" == typeof e3 && (e3 = t4.splitLines(e3)), Zi(t4, { from: n3, to: o3, text: e3, origin: r2 });
          }
          function ia(t4, e3, n3, o3) {
            n3 < t4.line ? t4.line += o3 : e3 < t4.line && (t4.line = e3, t4.ch = 0);
          }
          function aa(t4, e3, n3, o3) {
            for (var r2 = 0; r2 < t4.length; ++r2) {
              var i2 = t4[r2], a2 = true;
              if (i2.ranges) {
                i2.copied || ((i2 = t4[r2] = i2.deepCopy()).copied = true);
                for (var s2 = 0; s2 < i2.ranges.length; s2++) ia(i2.ranges[s2].anchor, e3, n3, o3), ia(i2.ranges[s2].head, e3, n3, o3);
              } else {
                for (var l2 = 0; l2 < i2.changes.length; ++l2) {
                  var c2 = i2.changes[l2];
                  if (n3 < c2.from.line) c2.from = ie(c2.from.line + o3, c2.from.ch), c2.to = ie(c2.to.line + o3, c2.to.ch);
                  else if (e3 <= c2.to.line) {
                    a2 = false;
                    break;
                  }
                }
                a2 || (t4.splice(0, r2 + 1), r2 = 0);
              }
            }
          }
          function sa(t4, e3) {
            var n3 = e3.from.line, o3 = e3.to.line, r2 = e3.text.length - (o3 - n3) - 1;
            aa(t4.done, n3, o3, r2), aa(t4.undone, n3, o3, r2);
          }
          function la(t4, e3, n3, o3) {
            var r2 = e3, i2 = e3;
            return "number" == typeof e3 ? i2 = Xt(t4, pe(t4, e3)) : r2 = ee(e3), null == r2 ? null : (o3(i2, r2) && t4.cm && Fo(t4.cm, r2, n3), i2);
          }
          function ca(t4) {
            this.lines = t4, this.parent = null;
            for (var e3 = 0, n3 = 0; n3 < t4.length; ++n3) t4[n3].parent = this, e3 += t4[n3].height;
            this.height = e3;
          }
          function ua(t4) {
            this.children = t4;
            for (var e3 = 0, n3 = 0, o3 = 0; o3 < t4.length; ++o3) {
              var r2 = t4[o3];
              e3 += r2.chunkSize(), n3 += r2.height, r2.parent = this;
            }
            this.size = e3, this.height = n3, this.parent = null;
          }
          ai.prototype.from = function() {
            return ue(this.anchor, this.head);
          }, ai.prototype.to = function() {
            return ce(this.anchor, this.head);
          }, ai.prototype.empty = function() {
            return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;
          }, ca.prototype = { chunkSize: function() {
            return this.lines.length;
          }, removeInner: function(t4, e3) {
            for (var n3 = t4, o3 = t4 + e3; n3 < o3; ++n3) {
              var r2 = this.lines[n3];
              this.height -= r2.height, pn(r2), kn(r2, "delete");
            }
            this.lines.splice(t4, e3);
          }, collapse: function(t4) {
            t4.push.apply(t4, this.lines);
          }, insertInner: function(t4, e3, n3) {
            this.height += n3, this.lines = this.lines.slice(0, t4).concat(e3).concat(this.lines.slice(t4));
            for (var o3 = 0; o3 < e3.length; ++o3) e3[o3].parent = this;
          }, iterN: function(t4, e3, n3) {
            for (var o3 = t4 + e3; t4 < o3; ++t4) if (n3(this.lines[t4])) return true;
          } }, ua.prototype = { chunkSize: function() {
            return this.size;
          }, removeInner: function(t4, e3) {
            this.size -= e3;
            for (var n3 = 0; n3 < this.children.length; ++n3) {
              var o3 = this.children[n3], r2 = o3.chunkSize();
              if (t4 < r2) {
                var i2 = Math.min(e3, r2 - t4), a2 = o3.height;
                if (o3.removeInner(t4, i2), this.height -= a2 - o3.height, r2 == i2 && (this.children.splice(n3--, 1), o3.parent = null), 0 == (e3 -= i2)) break;
                t4 = 0;
              } else t4 -= r2;
            }
            if (this.size - e3 < 25 && (this.children.length > 1 || !(this.children[0] instanceof ca))) {
              var s2 = [];
              this.collapse(s2), this.children = [new ca(s2)], this.children[0].parent = this;
            }
          }, collapse: function(t4) {
            for (var e3 = 0; e3 < this.children.length; ++e3) this.children[e3].collapse(t4);
          }, insertInner: function(t4, e3, n3) {
            this.size += e3.length, this.height += n3;
            for (var o3 = 0; o3 < this.children.length; ++o3) {
              var r2 = this.children[o3], i2 = r2.chunkSize();
              if (t4 <= i2) {
                if (r2.insertInner(t4, e3, n3), r2.lines && r2.lines.length > 50) {
                  for (var a2 = r2.lines.length % 25 + 25, s2 = a2; s2 < r2.lines.length; ) {
                    var l2 = new ca(r2.lines.slice(s2, s2 += 25));
                    r2.height -= l2.height, this.children.splice(++o3, 0, l2), l2.parent = this;
                  }
                  r2.lines = r2.lines.slice(0, a2), this.maybeSpill();
                }
                break;
              }
              t4 -= i2;
            }
          }, maybeSpill: function() {
            if (!(this.children.length <= 10)) {
              var t4 = this;
              do {
                var e3 = new ua(t4.children.splice(t4.children.length - 5, 5));
                if (t4.parent) {
                  t4.size -= e3.size, t4.height -= e3.height;
                  var n3 = H(t4.parent.children, t4);
                  t4.parent.children.splice(n3 + 1, 0, e3);
                } else {
                  var o3 = new ua(t4.children);
                  o3.parent = t4, t4.children = [o3, e3], t4 = o3;
                }
                e3.parent = t4.parent;
              } while (t4.children.length > 10);
              t4.parent.maybeSpill();
            }
          }, iterN: function(t4, e3, n3) {
            for (var o3 = 0; o3 < this.children.length; ++o3) {
              var r2 = this.children[o3], i2 = r2.chunkSize();
              if (t4 < i2) {
                var a2 = Math.min(e3, i2 - t4);
                if (r2.iterN(t4, a2, n3)) return true;
                if (0 == (e3 -= a2)) break;
                t4 = 0;
              } else t4 -= i2;
            }
          } };
          var pa = function(t4, e3, n3) {
            if (n3) for (var o3 in n3) n3.hasOwnProperty(o3) && (this[o3] = n3[o3]);
            this.doc = t4, this.node = e3;
          };
          function da(t4, e3, n3) {
            an(e3) < (t4.curOp && t4.curOp.scrollTop || t4.doc.scrollTop) && sr(t4, n3);
          }
          function fa(t4, e3, n3, o3) {
            var r2 = new pa(t4, n3, o3), i2 = t4.cm;
            return i2 && r2.noHScroll && (i2.display.alignWidgets = true), la(t4, e3, "widget", (function(e4) {
              var n4 = e4.widgets || (e4.widgets = []);
              if (null == r2.insertAt ? n4.push(r2) : n4.splice(Math.min(n4.length, Math.max(0, r2.insertAt)), 0, r2), r2.line = e4, i2 && !on(t4, e4)) {
                var o4 = an(e4) < t4.scrollTop;
                te(e4, e4.height + Bn(r2)), o4 && sr(i2, r2.height), i2.curOp.forceUpdate = true;
              }
              return true;
            })), i2 && kn(i2, "lineWidgetAdded", i2, r2, "number" == typeof e3 ? e3 : ee(e3)), r2;
          }
          pa.prototype.clear = function() {
            var t4 = this.doc.cm, e3 = this.line.widgets, n3 = this.line, o3 = ee(n3);
            if (null != o3 && e3) {
              for (var r2 = 0; r2 < e3.length; ++r2) e3[r2] == this && e3.splice(r2--, 1);
              e3.length || (n3.widgets = null);
              var i2 = Bn(this);
              te(n3, Math.max(0, n3.height - i2)), t4 && (Mr(t4, (function() {
                da(t4, n3, -i2), Fo(t4, o3, "widget");
              })), kn(t4, "lineWidgetCleared", t4, this, o3));
            }
          }, pa.prototype.changed = function() {
            var t4 = this, e3 = this.height, n3 = this.doc.cm, o3 = this.line;
            this.height = null;
            var r2 = Bn(this) - e3;
            r2 && (on(this.doc, o3) || te(o3, o3.height + r2), n3 && Mr(n3, (function() {
              n3.curOp.forceUpdate = true, da(n3, o3, r2), kn(n3, "lineWidgetChanged", n3, t4, ee(o3));
            })));
          }, wt(pa);
          var ha = 0, va = function(t4, e3) {
            this.lines = [], this.type = e3, this.doc = t4, this.id = ++ha;
          };
          function ga(t4, e3, n3, o3, r2) {
            if (o3 && o3.shared) return ma(t4, e3, n3, o3, r2);
            if (t4.cm && !t4.cm.curOp) return Dr(t4.cm, ga)(t4, e3, n3, o3, r2);
            var i2 = new va(t4, r2), a2 = ae(e3, n3);
            if (o3 && R(o3, i2, false), a2 > 0 || 0 == a2 && false !== i2.clearWhenEmpty) return i2;
            if (i2.replacedWith && (i2.collapsed = true, i2.widgetNode = A("span", [i2.replacedWith], "CodeMirror-widget"), o3.handleMouseEvents || i2.widgetNode.setAttribute("cm-ignore-events", "true"), o3.insertLeft && (i2.widgetNode.insertLeft = true)), i2.collapsed) {
              if (Xe(t4, e3.line, e3, n3, i2) || e3.line != n3.line && Xe(t4, n3.line, e3, n3, i2)) throw new Error("Inserting collapsed marker partially overlapping an existing one");
              Me();
            }
            i2.addToHistory && Ti(t4, { from: e3, to: n3, origin: "markText" }, t4.sel, NaN);
            var s2, l2 = e3.line, c2 = t4.cm;
            if (t4.iter(l2, n3.line + 1, (function(o4) {
              c2 && i2.collapsed && !c2.options.lineWrapping && Ze(o4) == c2.display.maxLine && (s2 = true), i2.collapsed && l2 != e3.line && te(o4, 0), Ne(o4, new De(i2, l2 == e3.line ? e3.ch : null, l2 == n3.line ? n3.ch : null), t4.cm && t4.cm.curOp), ++l2;
            })), i2.collapsed && t4.iter(e3.line, n3.line + 1, (function(e4) {
              on(t4, e4) && te(e4, 0);
            })), i2.clearOnEnter && ht(i2, "beforeCursorEnter", (function() {
              return i2.clear();
            })), i2.readOnly && (je(), (t4.history.done.length || t4.history.undone.length) && t4.clearHistory()), i2.collapsed && (i2.id = ++ha, i2.atomic = true), c2) {
              if (s2 && (c2.curOp.updateMaxLine = true), i2.collapsed) Vo(c2, e3.line, n3.line + 1);
              else if (i2.className || i2.startStyle || i2.endStyle || i2.css || i2.attributes || i2.title) for (var u2 = e3.line; u2 <= n3.line; u2++) Fo(c2, u2, "text");
              i2.atomic && $i(c2.doc), kn(c2, "markerAdded", c2, i2);
            }
            return i2;
          }
          va.prototype.clear = function() {
            if (!this.explicitlyCleared) {
              var t4 = this.doc.cm, e3 = t4 && !t4.curOp;
              if (e3 && Sr(t4), _t(this, "clear")) {
                var n3 = this.find();
                n3 && kn(this, "clear", n3.from, n3.to);
              }
              for (var o3 = null, r2 = null, i2 = 0; i2 < this.lines.length; ++i2) {
                var a2 = this.lines[i2], s2 = Le(a2.markedSpans, this);
                t4 && !this.collapsed ? Fo(t4, ee(a2), "text") : t4 && (null != s2.to && (r2 = ee(a2)), null != s2.from && (o3 = ee(a2))), a2.markedSpans = Ie(a2.markedSpans, s2), null == s2.from && this.collapsed && !on(this.doc, a2) && t4 && te(a2, Ao(t4.display));
              }
              if (t4 && this.collapsed && !t4.options.lineWrapping) for (var l2 = 0; l2 < this.lines.length; ++l2) {
                var c2 = Ze(this.lines[l2]), u2 = sn(c2);
                u2 > t4.display.maxLineLength && (t4.display.maxLine = c2, t4.display.maxLineLength = u2, t4.display.maxLineChanged = true);
              }
              null != o3 && t4 && this.collapsed && Vo(t4, o3, r2 + 1), this.lines.length = 0, this.explicitlyCleared = true, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = false, t4 && $i(t4.doc)), t4 && kn(t4, "markerCleared", t4, this, o3, r2), e3 && Or(t4), this.parent && this.parent.clear();
            }
          }, va.prototype.find = function(t4, e3) {
            var n3, o3;
            null == t4 && "bookmark" == this.type && (t4 = 1);
            for (var r2 = 0; r2 < this.lines.length; ++r2) {
              var i2 = this.lines[r2], a2 = Le(i2.markedSpans, this);
              if (null != a2.from && (n3 = ie(e3 ? i2 : ee(i2), a2.from), -1 == t4)) return n3;
              if (null != a2.to && (o3 = ie(e3 ? i2 : ee(i2), a2.to), 1 == t4)) return o3;
            }
            return n3 && { from: n3, to: o3 };
          }, va.prototype.changed = function() {
            var t4 = this, e3 = this.find(-1, true), n3 = this, o3 = this.doc.cm;
            e3 && o3 && Mr(o3, (function() {
              var r2 = e3.line, i2 = ee(e3.line), a2 = eo(o3, i2);
              if (a2 && (uo(a2), o3.curOp.selectionChanged = o3.curOp.forceUpdate = true), o3.curOp.updateMaxLine = true, !on(n3.doc, r2) && null != n3.height) {
                var s2 = n3.height;
                n3.height = null;
                var l2 = Bn(n3) - s2;
                l2 && te(r2, r2.height + l2);
              }
              kn(o3, "markerChanged", o3, t4);
            }));
          }, va.prototype.attachLine = function(t4) {
            if (!this.lines.length && this.doc.cm) {
              var e3 = this.doc.cm.curOp;
              e3.maybeHiddenMarkers && -1 != H(e3.maybeHiddenMarkers, this) || (e3.maybeUnhiddenMarkers || (e3.maybeUnhiddenMarkers = [])).push(this);
            }
            this.lines.push(t4);
          }, va.prototype.detachLine = function(t4) {
            if (this.lines.splice(H(this.lines, t4), 1), !this.lines.length && this.doc.cm) {
              var e3 = this.doc.cm.curOp;
              (e3.maybeHiddenMarkers || (e3.maybeHiddenMarkers = [])).push(this);
            }
          }, wt(va);
          var ya = function(t4, e3) {
            this.markers = t4, this.primary = e3;
            for (var n3 = 0; n3 < t4.length; ++n3) t4[n3].parent = this;
          };
          function ma(t4, e3, n3, o3, r2) {
            (o3 = R(o3)).shared = false;
            var i2 = [ga(t4, e3, n3, o3, r2)], a2 = i2[0], s2 = o3.widgetNode;
            return mi(t4, (function(t5) {
              s2 && (o3.widgetNode = s2.cloneNode(true)), i2.push(ga(t5, de(t5, e3), de(t5, n3), o3, r2));
              for (var l2 = 0; l2 < t5.linked.length; ++l2) if (t5.linked[l2].isParent) return;
              a2 = Y(i2);
            })), new ya(i2, a2);
          }
          function ba(t4) {
            return t4.findMarks(ie(t4.first, 0), t4.clipPos(ie(t4.lastLine())), (function(t5) {
              return t5.parent;
            }));
          }
          function _a(t4, e3) {
            for (var n3 = 0; n3 < e3.length; n3++) {
              var o3 = e3[n3], r2 = o3.find(), i2 = t4.clipPos(r2.from), a2 = t4.clipPos(r2.to);
              if (ae(i2, a2)) {
                var s2 = ga(t4, i2, a2, o3.primary, o3.primary.type);
                o3.markers.push(s2), s2.parent = o3;
              }
            }
          }
          function wa(t4) {
            for (var e3 = function(e4) {
              var n4 = t4[e4], o3 = [n4.primary.doc];
              mi(n4.primary.doc, (function(t5) {
                return o3.push(t5);
              }));
              for (var r2 = 0; r2 < n4.markers.length; r2++) {
                var i2 = n4.markers[r2];
                -1 == H(o3, i2.doc) && (i2.parent = null, n4.markers.splice(r2--, 1));
              }
            }, n3 = 0; n3 < t4.length; n3++) e3(n3);
          }
          ya.prototype.clear = function() {
            if (!this.explicitlyCleared) {
              this.explicitlyCleared = true;
              for (var t4 = 0; t4 < this.markers.length; ++t4) this.markers[t4].clear();
              kn(this, "clear");
            }
          }, ya.prototype.find = function(t4, e3) {
            return this.primary.find(t4, e3);
          }, wt(ya);
          var xa = 0, Ca = function(t4, e3, n3, o3, r2) {
            if (!(this instanceof Ca)) return new Ca(t4, e3, n3, o3, r2);
            null == n3 && (n3 = 0), ua.call(this, [new ca([new cn("", null)])]), this.first = n3, this.scrollTop = this.scrollLeft = 0, this.cantEdit = false, this.cleanGeneration = 1, this.modeFrontier = this.highlightFrontier = n3;
            var i2 = ie(n3, 0);
            this.sel = li(i2), this.history = new xi(null), this.id = ++xa, this.modeOption = e3, this.lineSep = o3, this.direction = "rtl" == r2 ? "rtl" : "ltr", this.extend = false, "string" == typeof t4 && (t4 = this.splitLines(t4)), yi(this, { from: i2, to: i2, text: t4 }), zi(this, li(i2), B);
          };
          Ca.prototype = Q(ua.prototype, { constructor: Ca, iter: function(t4, e3, n3) {
            n3 ? this.iterN(t4 - this.first, e3 - t4, n3) : this.iterN(this.first, this.first + this.size, t4);
          }, insert: function(t4, e3) {
            for (var n3 = 0, o3 = 0; o3 < e3.length; ++o3) n3 += e3[o3].height;
            this.insertInner(t4 - this.first, e3, n3);
          }, remove: function(t4, e3) {
            this.removeInner(t4 - this.first, e3);
          }, getValue: function(t4) {
            var e3 = Qt(this, this.first, this.first + this.size);
            return false === t4 ? e3 : e3.join(t4 || this.lineSeparator());
          }, setValue: Ir((function(t4) {
            var e3 = ie(this.first, 0), n3 = this.first + this.size - 1;
            Zi(this, { from: e3, to: ie(n3, Xt(this, n3).text.length), text: this.splitLines(t4), origin: "setValue", full: true }, true), this.cm && cr(this.cm, 0, 0), zi(this, li(e3), B);
          })), replaceRange: function(t4, e3, n3, o3) {
            ra(this, t4, e3 = de(this, e3), n3 = n3 ? de(this, n3) : e3, o3);
          }, getRange: function(t4, e3, n3) {
            var o3 = Zt(this, de(this, t4), de(this, e3));
            return false === n3 ? o3 : "" === n3 ? o3.join("") : o3.join(n3 || this.lineSeparator());
          }, getLine: function(t4) {
            var e3 = this.getLineHandle(t4);
            return e3 && e3.text;
          }, getLineHandle: function(t4) {
            if (oe(this, t4)) return Xt(this, t4);
          }, getLineNumber: function(t4) {
            return ee(t4);
          }, getLineHandleVisualStart: function(t4) {
            return "number" == typeof t4 && (t4 = Xt(this, t4)), Ze(t4);
          }, lineCount: function() {
            return this.size;
          }, firstLine: function() {
            return this.first;
          }, lastLine: function() {
            return this.first + this.size - 1;
          }, clipPos: function(t4) {
            return de(this, t4);
          }, getCursor: function(t4) {
            var e3 = this.sel.primary();
            return null == t4 || "head" == t4 ? e3.head : "anchor" == t4 ? e3.anchor : "end" == t4 || "to" == t4 || false === t4 ? e3.to() : e3.from();
          }, listSelections: function() {
            return this.sel.ranges;
          }, somethingSelected: function() {
            return this.sel.somethingSelected();
          }, setCursor: Ir((function(t4, e3, n3) {
            Fi(this, de(this, "number" == typeof t4 ? ie(t4, e3 || 0) : t4), null, n3);
          })), setSelection: Ir((function(t4, e3, n3) {
            Fi(this, de(this, t4), de(this, e3 || t4), n3);
          })), extendSelection: Ir((function(t4, e3, n3) {
            Ni(this, de(this, t4), e3 && de(this, e3), n3);
          })), extendSelections: Ir((function(t4, e3) {
            Ri(this, he(this, t4), e3);
          })), extendSelectionsBy: Ir((function(t4, e3) {
            Ri(this, he(this, J(this.sel.ranges, t4)), e3);
          })), setSelections: Ir((function(t4, e3, n3) {
            if (t4.length) {
              for (var o3 = [], r2 = 0; r2 < t4.length; r2++) o3[r2] = new ai(de(this, t4[r2].anchor), de(this, t4[r2].head || t4[r2].anchor));
              null == e3 && (e3 = Math.min(t4.length - 1, this.sel.primIndex)), zi(this, si(this.cm, o3, e3), n3);
            }
          })), addSelection: Ir((function(t4, e3, n3) {
            var o3 = this.sel.ranges.slice(0);
            o3.push(new ai(de(this, t4), de(this, e3 || t4))), zi(this, si(this.cm, o3, o3.length - 1), n3);
          })), getSelection: function(t4) {
            for (var e3, n3 = this.sel.ranges, o3 = 0; o3 < n3.length; o3++) {
              var r2 = Zt(this, n3[o3].from(), n3[o3].to());
              e3 = e3 ? e3.concat(r2) : r2;
            }
            return false === t4 ? e3 : e3.join(t4 || this.lineSeparator());
          }, getSelections: function(t4) {
            for (var e3 = [], n3 = this.sel.ranges, o3 = 0; o3 < n3.length; o3++) {
              var r2 = Zt(this, n3[o3].from(), n3[o3].to());
              false !== t4 && (r2 = r2.join(t4 || this.lineSeparator())), e3[o3] = r2;
            }
            return e3;
          }, replaceSelection: function(t4, e3, n3) {
            for (var o3 = [], r2 = 0; r2 < this.sel.ranges.length; r2++) o3[r2] = t4;
            this.replaceSelections(o3, e3, n3 || "+input");
          }, replaceSelections: Ir((function(t4, e3, n3) {
            for (var o3 = [], r2 = this.sel, i2 = 0; i2 < r2.ranges.length; i2++) {
              var a2 = r2.ranges[i2];
              o3[i2] = { from: a2.from(), to: a2.to(), text: this.splitLines(t4[i2]), origin: n3 };
            }
            for (var s2 = e3 && "end" != e3 && fi(this, o3, e3), l2 = o3.length - 1; l2 >= 0; l2--) Zi(this, o3[l2]);
            s2 ? Ui(this, s2) : this.cm && lr(this.cm);
          })), undo: Ir((function() {
            ta(this, "undo");
          })), redo: Ir((function() {
            ta(this, "redo");
          })), undoSelection: Ir((function() {
            ta(this, "undo", true);
          })), redoSelection: Ir((function() {
            ta(this, "redo", true);
          })), setExtending: function(t4) {
            this.extend = t4;
          }, getExtending: function() {
            return this.extend;
          }, historySize: function() {
            for (var t4 = this.history, e3 = 0, n3 = 0, o3 = 0; o3 < t4.done.length; o3++) t4.done[o3].ranges || ++e3;
            for (var r2 = 0; r2 < t4.undone.length; r2++) t4.undone[r2].ranges || ++n3;
            return { undo: e3, redo: n3 };
          }, clearHistory: function() {
            var t4 = this;
            this.history = new xi(this.history), mi(this, (function(e3) {
              return e3.history = t4.history;
            }), true);
          }, markClean: function() {
            this.cleanGeneration = this.changeGeneration(true);
          }, changeGeneration: function(t4) {
            return t4 && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation;
          }, isClean: function(t4) {
            return this.history.generation == (t4 || this.cleanGeneration);
          }, getHistory: function() {
            return { done: Li(this.history.done), undone: Li(this.history.undone) };
          }, setHistory: function(t4) {
            var e3 = this.history = new xi(this.history);
            e3.done = Li(t4.done.slice(0), null, true), e3.undone = Li(t4.undone.slice(0), null, true);
          }, setGutterMarker: Ir((function(t4, e3, n3) {
            return la(this, t4, "gutter", (function(t5) {
              var o3 = t5.gutterMarkers || (t5.gutterMarkers = {});
              return o3[e3] = n3, !n3 && ot(o3) && (t5.gutterMarkers = null), true;
            }));
          })), clearGutter: Ir((function(t4) {
            var e3 = this;
            this.iter((function(n3) {
              n3.gutterMarkers && n3.gutterMarkers[t4] && la(e3, n3, "gutter", (function() {
                return n3.gutterMarkers[t4] = null, ot(n3.gutterMarkers) && (n3.gutterMarkers = null), true;
              }));
            }));
          })), lineInfo: function(t4) {
            var e3;
            if ("number" == typeof t4) {
              if (!oe(this, t4)) return null;
              if (e3 = t4, !(t4 = Xt(this, t4))) return null;
            } else if (null == (e3 = ee(t4))) return null;
            return { line: e3, handle: t4, text: t4.text, gutterMarkers: t4.gutterMarkers, textClass: t4.textClass, bgClass: t4.bgClass, wrapClass: t4.wrapClass, widgets: t4.widgets };
          }, addLineClass: Ir((function(t4, e3, n3) {
            return la(this, t4, "gutter" == e3 ? "gutter" : "class", (function(t5) {
              var o3 = "text" == e3 ? "textClass" : "background" == e3 ? "bgClass" : "gutter" == e3 ? "gutterClass" : "wrapClass";
              if (t5[o3]) {
                if (S(n3).test(t5[o3])) return false;
                t5[o3] += " " + n3;
              } else t5[o3] = n3;
              return true;
            }));
          })), removeLineClass: Ir((function(t4, e3, n3) {
            return la(this, t4, "gutter" == e3 ? "gutter" : "class", (function(t5) {
              var o3 = "text" == e3 ? "textClass" : "background" == e3 ? "bgClass" : "gutter" == e3 ? "gutterClass" : "wrapClass", r2 = t5[o3];
              if (!r2) return false;
              if (null == n3) t5[o3] = null;
              else {
                var i2 = r2.match(S(n3));
                if (!i2) return false;
                var a2 = i2.index + i2[0].length;
                t5[o3] = r2.slice(0, i2.index) + (i2.index && a2 != r2.length ? " " : "") + r2.slice(a2) || null;
              }
              return true;
            }));
          })), addLineWidget: Ir((function(t4, e3, n3) {
            return fa(this, t4, e3, n3);
          })), removeLineWidget: function(t4) {
            t4.clear();
          }, markText: function(t4, e3, n3) {
            return ga(this, de(this, t4), de(this, e3), n3, n3 && n3.type || "range");
          }, setBookmark: function(t4, e3) {
            var n3 = { replacedWith: e3 && (null == e3.nodeType ? e3.widget : e3), insertLeft: e3 && e3.insertLeft, clearWhenEmpty: false, shared: e3 && e3.shared, handleMouseEvents: e3 && e3.handleMouseEvents };
            return ga(this, t4 = de(this, t4), t4, n3, "bookmark");
          }, findMarksAt: function(t4) {
            var e3 = [], n3 = Xt(this, (t4 = de(this, t4)).line).markedSpans;
            if (n3) for (var o3 = 0; o3 < n3.length; ++o3) {
              var r2 = n3[o3];
              (null == r2.from || r2.from <= t4.ch) && (null == r2.to || r2.to >= t4.ch) && e3.push(r2.marker.parent || r2.marker);
            }
            return e3;
          }, findMarks: function(t4, e3, n3) {
            t4 = de(this, t4), e3 = de(this, e3);
            var o3 = [], r2 = t4.line;
            return this.iter(t4.line, e3.line + 1, (function(i2) {
              var a2 = i2.markedSpans;
              if (a2) for (var s2 = 0; s2 < a2.length; s2++) {
                var l2 = a2[s2];
                null != l2.to && r2 == t4.line && t4.ch >= l2.to || null == l2.from && r2 != t4.line || null != l2.from && r2 == e3.line && l2.from >= e3.ch || n3 && !n3(l2.marker) || o3.push(l2.marker.parent || l2.marker);
              }
              ++r2;
            })), o3;
          }, getAllMarks: function() {
            var t4 = [];
            return this.iter((function(e3) {
              var n3 = e3.markedSpans;
              if (n3) for (var o3 = 0; o3 < n3.length; ++o3) null != n3[o3].from && t4.push(n3[o3].marker);
            })), t4;
          }, posFromIndex: function(t4) {
            var e3, n3 = this.first, o3 = this.lineSeparator().length;
            return this.iter((function(r2) {
              var i2 = r2.text.length + o3;
              if (i2 > t4) return e3 = t4, true;
              t4 -= i2, ++n3;
            })), de(this, ie(n3, e3));
          }, indexFromPos: function(t4) {
            var e3 = (t4 = de(this, t4)).ch;
            if (t4.line < this.first || t4.ch < 0) return 0;
            var n3 = this.lineSeparator().length;
            return this.iter(this.first, t4.line, (function(t5) {
              e3 += t5.text.length + n3;
            })), e3;
          }, copy: function(t4) {
            var e3 = new Ca(Qt(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction);
            return e3.scrollTop = this.scrollTop, e3.scrollLeft = this.scrollLeft, e3.sel = this.sel, e3.extend = false, t4 && (e3.history.undoDepth = this.history.undoDepth, e3.setHistory(this.getHistory())), e3;
          }, linkedDoc: function(t4) {
            t4 || (t4 = {});
            var e3 = this.first, n3 = this.first + this.size;
            null != t4.from && t4.from > e3 && (e3 = t4.from), null != t4.to && t4.to < n3 && (n3 = t4.to);
            var o3 = new Ca(Qt(this, e3, n3), t4.mode || this.modeOption, e3, this.lineSep, this.direction);
            return t4.sharedHist && (o3.history = this.history), (this.linked || (this.linked = [])).push({ doc: o3, sharedHist: t4.sharedHist }), o3.linked = [{ doc: this, isParent: true, sharedHist: t4.sharedHist }], _a(o3, ba(this)), o3;
          }, unlinkDoc: function(t4) {
            if (t4 instanceof Rs && (t4 = t4.doc), this.linked) {
              for (var e3 = 0; e3 < this.linked.length; ++e3) if (this.linked[e3].doc == t4) {
                this.linked.splice(e3, 1), t4.unlinkDoc(this), wa(ba(this));
                break;
              }
            }
            if (t4.history == this.history) {
              var n3 = [t4.id];
              mi(t4, (function(t5) {
                return n3.push(t5.id);
              }), true), t4.history = new xi(null), t4.history.done = Li(this.history.done, n3), t4.history.undone = Li(this.history.undone, n3);
            }
          }, iterLinkedDocs: function(t4) {
            mi(this, t4);
          }, getMode: function() {
            return this.mode;
          }, getEditor: function() {
            return this.cm;
          }, splitLines: function(t4) {
            return this.lineSep ? t4.split(this.lineSep) : Lt(t4);
          }, lineSeparator: function() {
            return this.lineSep || "\n";
          }, setDirection: Ir((function(t4) {
            "rtl" != t4 && (t4 = "ltr"), t4 != this.direction && (this.direction = t4, this.iter((function(t5) {
              return t5.order = null;
            })), this.cm && wi(this.cm));
          })) }), Ca.prototype.eachLine = Ca.prototype.iter;
          var Sa = 0;
          function Oa(t4) {
            var e3 = this;
            if (Ea(e3), !mt(e3, t4) && !Wn(e3.display, t4)) {
              xt(t4), a && (Sa = +/* @__PURE__ */ new Date());
              var n3 = No(e3, t4, true), o3 = t4.dataTransfer.files;
              if (n3 && !e3.isReadOnly()) if (o3 && o3.length && window.FileReader && window.File) for (var r2 = o3.length, i2 = Array(r2), s2 = 0, l2 = function() {
                ++s2 == r2 && Dr(e3, (function() {
                  var t5 = { from: n3 = de(e3.doc, n3), to: n3, text: e3.doc.splitLines(i2.filter((function(t6) {
                    return null != t6;
                  })).join(e3.doc.lineSeparator())), origin: "paste" };
                  Zi(e3.doc, t5), Ui(e3.doc, li(de(e3.doc, n3), de(e3.doc, ci(t5))));
                }))();
              }, c2 = function(t5, n4) {
                if (e3.options.allowDropFileTypes && -1 == H(e3.options.allowDropFileTypes, t5.type)) l2();
                else {
                  var o4 = new FileReader();
                  o4.onerror = function() {
                    return l2();
                  }, o4.onload = function() {
                    var t6 = o4.result;
                    /[\x00-\x08\x0e-\x1f]{2}/.test(t6) || (i2[n4] = t6), l2();
                  }, o4.readAsText(t5);
                }
              }, u2 = 0; u2 < o3.length; u2++) c2(o3[u2], u2);
              else {
                if (e3.state.draggingText && e3.doc.sel.contains(n3) > -1) return e3.state.draggingText(t4), void setTimeout((function() {
                  return e3.display.input.focus();
                }), 20);
                try {
                  var p2 = t4.dataTransfer.getData("Text");
                  if (p2) {
                    var d2;
                    if (e3.state.draggingText && !e3.state.draggingText.copy && (d2 = e3.listSelections()), Bi(e3.doc, li(n3, n3)), d2) for (var f2 = 0; f2 < d2.length; ++f2) ra(e3.doc, "", d2[f2].anchor, d2[f2].head, "drag");
                    e3.replaceSelection(p2, "around", "paste"), e3.display.input.focus();
                  }
                } catch (t5) {
                }
              }
            }
          }
          function Ta(t4, e3) {
            if (a && (!t4.state.draggingText || +/* @__PURE__ */ new Date() - Sa < 100)) Ot(e3);
            else if (!mt(t4, e3) && !Wn(t4.display, e3) && (e3.dataTransfer.setData("Text", t4.getSelection()), e3.dataTransfer.effectAllowed = "copyMove", e3.dataTransfer.setDragImage && !d)) {
              var n3 = k("img", null, null, "position: fixed; left: 0; top: 0;");
              n3.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", p && (n3.width = n3.height = 1, t4.display.wrapper.appendChild(n3), n3._top = n3.offsetTop), e3.dataTransfer.setDragImage(n3, 0, 0), p && n3.parentNode.removeChild(n3);
            }
          }
          function Pa(t4, e3) {
            var n3 = No(t4, e3);
            if (n3) {
              var o3 = document.createDocumentFragment();
              qo(t4, n3, o3), t4.display.dragCursor || (t4.display.dragCursor = k("div", null, "CodeMirror-cursors CodeMirror-dragcursors"), t4.display.lineSpace.insertBefore(t4.display.dragCursor, t4.display.cursorDiv)), E(t4.display.dragCursor, o3);
            }
          }
          function Ea(t4) {
            t4.display.dragCursor && (t4.display.lineSpace.removeChild(t4.display.dragCursor), t4.display.dragCursor = null);
          }
          function ka(t4) {
            if (document.getElementsByClassName) {
              for (var e3 = document.getElementsByClassName("CodeMirror"), n3 = [], o3 = 0; o3 < e3.length; o3++) {
                var r2 = e3[o3].CodeMirror;
                r2 && n3.push(r2);
              }
              n3.length && n3[0].operation((function() {
                for (var e4 = 0; e4 < n3.length; e4++) t4(n3[e4]);
              }));
            }
          }
          var Aa = false;
          function ja() {
            Aa || (Ma(), Aa = true);
          }
          function Ma() {
            var t4;
            ht(window, "resize", (function() {
              null == t4 && (t4 = setTimeout((function() {
                t4 = null, ka(Da);
              }), 100));
            })), ht(window, "blur", (function() {
              return ka(Qo);
            }));
          }
          function Da(t4) {
            var e3 = t4.display;
            e3.cachedCharWidth = e3.cachedTextHeight = e3.cachedPaddingH = null, e3.scrollbarsClipped = false, t4.setSize();
          }
          for (var La = { 3: "Pause", 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "PrintScrn", 45: "Insert", 46: "Delete", 59: ";", 61: "=", 91: "Mod", 92: "Mod", 93: "Mod", 106: "*", 107: "=", 109: "-", 110: ".", 111: "/", 145: "ScrollLock", 173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'", 224: "Mod", 63232: "Up", 63233: "Down", 63234: "Left", 63235: "Right", 63272: "Delete", 63273: "Home", 63275: "End", 63276: "PageUp", 63277: "PageDown", 63302: "Insert" }, Ia = 0; Ia < 10; Ia++) La[Ia + 48] = La[Ia + 96] = String(Ia);
          for (var Na = 65; Na <= 90; Na++) La[Na] = String.fromCharCode(Na);
          for (var Ra = 1; Ra <= 12; Ra++) La[Ra + 111] = La[Ra + 63235] = "F" + Ra;
          var Va = {};
          function Fa(t4) {
            var e3, n3, o3, r2, i2 = t4.split(/-(?!$)/);
            t4 = i2[i2.length - 1];
            for (var a2 = 0; a2 < i2.length - 1; a2++) {
              var s2 = i2[a2];
              if (/^(cmd|meta|m)$/i.test(s2)) r2 = true;
              else if (/^a(lt)?$/i.test(s2)) e3 = true;
              else if (/^(c|ctrl|control)$/i.test(s2)) n3 = true;
              else {
                if (!/^s(hift)?$/i.test(s2)) throw new Error("Unrecognized modifier name: " + s2);
                o3 = true;
              }
            }
            return e3 && (t4 = "Alt-" + t4), n3 && (t4 = "Ctrl-" + t4), r2 && (t4 = "Cmd-" + t4), o3 && (t4 = "Shift-" + t4), t4;
          }
          function Ha(t4) {
            var e3 = {};
            for (var n3 in t4) if (t4.hasOwnProperty(n3)) {
              var o3 = t4[n3];
              if (/^(name|fallthrough|(de|at)tach)$/.test(n3)) continue;
              if ("..." == o3) {
                delete t4[n3];
                continue;
              }
              for (var r2 = J(n3.split(" "), Fa), i2 = 0; i2 < r2.length; i2++) {
                var a2 = void 0, s2 = void 0;
                i2 == r2.length - 1 ? (s2 = r2.join(" "), a2 = o3) : (s2 = r2.slice(0, i2 + 1).join(" "), a2 = "...");
                var l2 = e3[s2];
                if (l2) {
                  if (l2 != a2) throw new Error("Inconsistent bindings for " + s2);
                } else e3[s2] = a2;
              }
              delete t4[n3];
            }
            for (var c2 in e3) t4[c2] = e3[c2];
            return t4;
          }
          function Ua(t4, e3, n3, o3) {
            var r2 = (e3 = $a(e3)).call ? e3.call(t4, o3) : e3[t4];
            if (false === r2) return "nothing";
            if ("..." === r2) return "multi";
            if (null != r2 && n3(r2)) return "handled";
            if (e3.fallthrough) {
              if ("[object Array]" != Object.prototype.toString.call(e3.fallthrough)) return Ua(t4, e3.fallthrough, n3, o3);
              for (var i2 = 0; i2 < e3.fallthrough.length; i2++) {
                var a2 = Ua(t4, e3.fallthrough[i2], n3, o3);
                if (a2) return a2;
              }
            }
          }
          function za(t4) {
            var e3 = "string" == typeof t4 ? t4 : La[t4.keyCode];
            return "Ctrl" == e3 || "Alt" == e3 || "Shift" == e3 || "Mod" == e3;
          }
          function Ba(t4, e3, n3) {
            var o3 = t4;
            return e3.altKey && "Alt" != o3 && (t4 = "Alt-" + t4), (x ? e3.metaKey : e3.ctrlKey) && "Ctrl" != o3 && (t4 = "Ctrl-" + t4), (x ? e3.ctrlKey : e3.metaKey) && "Mod" != o3 && (t4 = "Cmd-" + t4), !n3 && e3.shiftKey && "Shift" != o3 && (t4 = "Shift-" + t4), t4;
          }
          function Wa(t4, e3) {
            if (p && 34 == t4.keyCode && t4["char"]) return false;
            var n3 = La[t4.keyCode];
            return null != n3 && !t4.altGraphKey && (3 == t4.keyCode && t4.code && (n3 = t4.code), Ba(n3, t4, e3));
          }
          function $a(t4) {
            return "string" == typeof t4 ? Va[t4] : t4;
          }
          function qa(t4, e3) {
            for (var n3 = t4.doc.sel.ranges, o3 = [], r2 = 0; r2 < n3.length; r2++) {
              for (var i2 = e3(n3[r2]); o3.length && ae(i2.from, Y(o3).to) <= 0; ) {
                var a2 = o3.pop();
                if (ae(a2.from, i2.from) < 0) {
                  i2.from = a2.from;
                  break;
                }
              }
              o3.push(i2);
            }
            Mr(t4, (function() {
              for (var e4 = o3.length - 1; e4 >= 0; e4--) ra(t4.doc, "", o3[e4].from, o3[e4].to, "+delete");
              lr(t4);
            }));
          }
          function Ga(t4, e3, n3) {
            var o3 = at(t4.text, e3 + n3, n3);
            return o3 < 0 || o3 > t4.text.length ? null : o3;
          }
          function Ka(t4, e3, n3) {
            var o3 = Ga(t4, e3.ch, n3);
            return null == o3 ? null : new ie(e3.line, o3, n3 < 0 ? "after" : "before");
          }
          function Ya(t4, e3, n3, o3, r2) {
            if (t4) {
              "rtl" == e3.doc.direction && (r2 = -r2);
              var i2 = dt(n3, e3.doc.direction);
              if (i2) {
                var a2, s2 = r2 < 0 ? Y(i2) : i2[0], l2 = r2 < 0 == (1 == s2.level) ? "after" : "before";
                if (s2.level > 0 || "rtl" == e3.doc.direction) {
                  var c2 = no(e3, n3);
                  a2 = r2 < 0 ? n3.text.length - 1 : 0;
                  var u2 = oo(e3, c2, a2).top;
                  a2 = st((function(t5) {
                    return oo(e3, c2, t5).top == u2;
                  }), r2 < 0 == (1 == s2.level) ? s2.from : s2.to - 1, a2), "before" == l2 && (a2 = Ga(n3, a2, 1));
                } else a2 = r2 < 0 ? s2.to : s2.from;
                return new ie(o3, a2, l2);
              }
            }
            return new ie(o3, r2 < 0 ? n3.text.length : 0, r2 < 0 ? "before" : "after");
          }
          function Ja(t4, e3, n3, o3) {
            var r2 = dt(e3, t4.doc.direction);
            if (!r2) return Ka(e3, n3, o3);
            n3.ch >= e3.text.length ? (n3.ch = e3.text.length, n3.sticky = "before") : n3.ch <= 0 && (n3.ch = 0, n3.sticky = "after");
            var i2 = ut(r2, n3.ch, n3.sticky), a2 = r2[i2];
            if ("ltr" == t4.doc.direction && a2.level % 2 == 0 && (o3 > 0 ? a2.to > n3.ch : a2.from < n3.ch)) return Ka(e3, n3, o3);
            var s2, l2 = function(t5, n4) {
              return Ga(e3, t5 instanceof ie ? t5.ch : t5, n4);
            }, c2 = function(n4) {
              return t4.options.lineWrapping ? (s2 = s2 || no(t4, e3), Oo(t4, e3, s2, n4)) : { begin: 0, end: e3.text.length };
            }, u2 = c2("before" == n3.sticky ? l2(n3, -1) : n3.ch);
            if ("rtl" == t4.doc.direction || 1 == a2.level) {
              var p2 = 1 == a2.level == o3 < 0, d2 = l2(n3, p2 ? 1 : -1);
              if (null != d2 && (p2 ? d2 <= a2.to && d2 <= u2.end : d2 >= a2.from && d2 >= u2.begin)) {
                var f2 = p2 ? "before" : "after";
                return new ie(n3.line, d2, f2);
              }
            }
            var h2 = function(t5, e4, o4) {
              for (var i3 = function(t6, e5) {
                return e5 ? new ie(n3.line, l2(t6, 1), "before") : new ie(n3.line, t6, "after");
              }; t5 >= 0 && t5 < r2.length; t5 += e4) {
                var a3 = r2[t5], s3 = e4 > 0 == (1 != a3.level), c3 = s3 ? o4.begin : l2(o4.end, -1);
                if (a3.from <= c3 && c3 < a3.to) return i3(c3, s3);
                if (c3 = s3 ? a3.from : l2(a3.to, -1), o4.begin <= c3 && c3 < o4.end) return i3(c3, s3);
              }
            }, v2 = h2(i2 + o3, o3, u2);
            if (v2) return v2;
            var g2 = o3 > 0 ? u2.end : l2(u2.begin, -1);
            return null == g2 || o3 > 0 && g2 == e3.text.length || !(v2 = h2(o3 > 0 ? 0 : r2.length - 1, o3, c2(g2))) ? null : v2;
          }
          Va.basic = { Left: "goCharLeft", Right: "goCharRight", Up: "goLineUp", Down: "goLineDown", End: "goLineEnd", Home: "goLineStartSmart", PageUp: "goPageUp", PageDown: "goPageDown", Delete: "delCharAfter", Backspace: "delCharBefore", "Shift-Backspace": "delCharBefore", Tab: "defaultTab", "Shift-Tab": "indentAuto", Enter: "newlineAndIndent", Insert: "toggleOverwrite", Esc: "singleSelection" }, Va.pcDefault = { "Ctrl-A": "selectAll", "Ctrl-D": "deleteLine", "Ctrl-Z": "undo", "Shift-Ctrl-Z": "redo", "Ctrl-Y": "redo", "Ctrl-Home": "goDocStart", "Ctrl-End": "goDocEnd", "Ctrl-Up": "goLineUp", "Ctrl-Down": "goLineDown", "Ctrl-Left": "goGroupLeft", "Ctrl-Right": "goGroupRight", "Alt-Left": "goLineStart", "Alt-Right": "goLineEnd", "Ctrl-Backspace": "delGroupBefore", "Ctrl-Delete": "delGroupAfter", "Ctrl-S": "save", "Ctrl-F": "find", "Ctrl-G": "findNext", "Shift-Ctrl-G": "findPrev", "Shift-Ctrl-F": "replace", "Shift-Ctrl-R": "replaceAll", "Ctrl-[": "indentLess", "Ctrl-]": "indentMore", "Ctrl-U": "undoSelection", "Shift-Ctrl-U": "redoSelection", "Alt-U": "redoSelection", fallthrough: "basic" }, Va.emacsy = { "Ctrl-F": "goCharRight", "Ctrl-B": "goCharLeft", "Ctrl-P": "goLineUp", "Ctrl-N": "goLineDown", "Ctrl-A": "goLineStart", "Ctrl-E": "goLineEnd", "Ctrl-V": "goPageDown", "Shift-Ctrl-V": "goPageUp", "Ctrl-D": "delCharAfter", "Ctrl-H": "delCharBefore", "Alt-Backspace": "delWordBefore", "Ctrl-K": "killLine", "Ctrl-T": "transposeChars", "Ctrl-O": "openLine" }, Va.macDefault = { "Cmd-A": "selectAll", "Cmd-D": "deleteLine", "Cmd-Z": "undo", "Shift-Cmd-Z": "redo", "Cmd-Y": "redo", "Cmd-Home": "goDocStart", "Cmd-Up": "goDocStart", "Cmd-End": "goDocEnd", "Cmd-Down": "goDocEnd", "Alt-Left": "goGroupLeft", "Alt-Right": "goGroupRight", "Cmd-Left": "goLineLeft", "Cmd-Right": "goLineRight", "Alt-Backspace": "delGroupBefore", "Ctrl-Alt-Backspace": "delGroupAfter", "Alt-Delete": "delGroupAfter", "Cmd-S": "save", "Cmd-F": "find", "Cmd-G": "findNext", "Shift-Cmd-G": "findPrev", "Cmd-Alt-F": "replace", "Shift-Cmd-Alt-F": "replaceAll", "Cmd-[": "indentLess", "Cmd-]": "indentMore", "Cmd-Backspace": "delWrappedLineLeft", "Cmd-Delete": "delWrappedLineRight", "Cmd-U": "undoSelection", "Shift-Cmd-U": "redoSelection", "Ctrl-Up": "goDocStart", "Ctrl-Down": "goDocEnd", fallthrough: ["basic", "emacsy"] }, Va["default"] = m ? Va.macDefault : Va.pcDefault;
          var Xa = { selectAll: Ji, singleSelection: function(t4) {
            return t4.setSelection(t4.getCursor("anchor"), t4.getCursor("head"), B);
          }, killLine: function(t4) {
            return qa(t4, (function(e3) {
              if (e3.empty()) {
                var n3 = Xt(t4.doc, e3.head.line).text.length;
                return e3.head.ch == n3 && e3.head.line < t4.lastLine() ? { from: e3.head, to: ie(e3.head.line + 1, 0) } : { from: e3.head, to: ie(e3.head.line, n3) };
              }
              return { from: e3.from(), to: e3.to() };
            }));
          }, deleteLine: function(t4) {
            return qa(t4, (function(e3) {
              return { from: ie(e3.from().line, 0), to: de(t4.doc, ie(e3.to().line + 1, 0)) };
            }));
          }, delLineLeft: function(t4) {
            return qa(t4, (function(t5) {
              return { from: ie(t5.from().line, 0), to: t5.from() };
            }));
          }, delWrappedLineLeft: function(t4) {
            return qa(t4, (function(e3) {
              var n3 = t4.charCoords(e3.head, "div").top + 5;
              return { from: t4.coordsChar({ left: 0, top: n3 }, "div"), to: e3.from() };
            }));
          }, delWrappedLineRight: function(t4) {
            return qa(t4, (function(e3) {
              var n3 = t4.charCoords(e3.head, "div").top + 5, o3 = t4.coordsChar({ left: t4.display.lineDiv.offsetWidth + 100, top: n3 }, "div");
              return { from: e3.from(), to: o3 };
            }));
          }, undo: function(t4) {
            return t4.undo();
          }, redo: function(t4) {
            return t4.redo();
          }, undoSelection: function(t4) {
            return t4.undoSelection();
          }, redoSelection: function(t4) {
            return t4.redoSelection();
          }, goDocStart: function(t4) {
            return t4.extendSelection(ie(t4.firstLine(), 0));
          }, goDocEnd: function(t4) {
            return t4.extendSelection(ie(t4.lastLine()));
          }, goLineStart: function(t4) {
            return t4.extendSelectionsBy((function(e3) {
              return Za(t4, e3.head.line);
            }), { origin: "+move", bias: 1 });
          }, goLineStartSmart: function(t4) {
            return t4.extendSelectionsBy((function(e3) {
              return ts(t4, e3.head);
            }), { origin: "+move", bias: 1 });
          }, goLineEnd: function(t4) {
            return t4.extendSelectionsBy((function(e3) {
              return Qa(t4, e3.head.line);
            }), { origin: "+move", bias: -1 });
          }, goLineRight: function(t4) {
            return t4.extendSelectionsBy((function(e3) {
              var n3 = t4.cursorCoords(e3.head, "div").top + 5;
              return t4.coordsChar({ left: t4.display.lineDiv.offsetWidth + 100, top: n3 }, "div");
            }), $);
          }, goLineLeft: function(t4) {
            return t4.extendSelectionsBy((function(e3) {
              var n3 = t4.cursorCoords(e3.head, "div").top + 5;
              return t4.coordsChar({ left: 0, top: n3 }, "div");
            }), $);
          }, goLineLeftSmart: function(t4) {
            return t4.extendSelectionsBy((function(e3) {
              var n3 = t4.cursorCoords(e3.head, "div").top + 5, o3 = t4.coordsChar({ left: 0, top: n3 }, "div");
              return o3.ch < t4.getLine(o3.line).search(/\S/) ? ts(t4, e3.head) : o3;
            }), $);
          }, goLineUp: function(t4) {
            return t4.moveV(-1, "line");
          }, goLineDown: function(t4) {
            return t4.moveV(1, "line");
          }, goPageUp: function(t4) {
            return t4.moveV(-1, "page");
          }, goPageDown: function(t4) {
            return t4.moveV(1, "page");
          }, goCharLeft: function(t4) {
            return t4.moveH(-1, "char");
          }, goCharRight: function(t4) {
            return t4.moveH(1, "char");
          }, goColumnLeft: function(t4) {
            return t4.moveH(-1, "column");
          }, goColumnRight: function(t4) {
            return t4.moveH(1, "column");
          }, goWordLeft: function(t4) {
            return t4.moveH(-1, "word");
          }, goGroupRight: function(t4) {
            return t4.moveH(1, "group");
          }, goGroupLeft: function(t4) {
            return t4.moveH(-1, "group");
          }, goWordRight: function(t4) {
            return t4.moveH(1, "word");
          }, delCharBefore: function(t4) {
            return t4.deleteH(-1, "codepoint");
          }, delCharAfter: function(t4) {
            return t4.deleteH(1, "char");
          }, delWordBefore: function(t4) {
            return t4.deleteH(-1, "word");
          }, delWordAfter: function(t4) {
            return t4.deleteH(1, "word");
          }, delGroupBefore: function(t4) {
            return t4.deleteH(-1, "group");
          }, delGroupAfter: function(t4) {
            return t4.deleteH(1, "group");
          }, indentAuto: function(t4) {
            return t4.indentSelection("smart");
          }, indentMore: function(t4) {
            return t4.indentSelection("add");
          }, indentLess: function(t4) {
            return t4.indentSelection("subtract");
          }, insertTab: function(t4) {
            return t4.replaceSelection("	");
          }, insertSoftTab: function(t4) {
            for (var e3 = [], n3 = t4.listSelections(), o3 = t4.options.tabSize, r2 = 0; r2 < n3.length; r2++) {
              var i2 = n3[r2].from(), a2 = V(t4.getLine(i2.line), i2.ch, o3);
              e3.push(K(o3 - a2 % o3));
            }
            t4.replaceSelections(e3);
          }, defaultTab: function(t4) {
            t4.somethingSelected() ? t4.indentSelection("add") : t4.execCommand("insertTab");
          }, transposeChars: function(t4) {
            return Mr(t4, (function() {
              for (var e3 = t4.listSelections(), n3 = [], o3 = 0; o3 < e3.length; o3++) if (e3[o3].empty()) {
                var r2 = e3[o3].head, i2 = Xt(t4.doc, r2.line).text;
                if (i2) {
                  if (r2.ch == i2.length && (r2 = new ie(r2.line, r2.ch - 1)), r2.ch > 0) r2 = new ie(r2.line, r2.ch + 1), t4.replaceRange(i2.charAt(r2.ch - 1) + i2.charAt(r2.ch - 2), ie(r2.line, r2.ch - 2), r2, "+transpose");
                  else if (r2.line > t4.doc.first) {
                    var a2 = Xt(t4.doc, r2.line - 1).text;
                    a2 && (r2 = new ie(r2.line, 1), t4.replaceRange(i2.charAt(0) + t4.doc.lineSeparator() + a2.charAt(a2.length - 1), ie(r2.line - 1, a2.length - 1), r2, "+transpose"));
                  }
                }
                n3.push(new ai(r2, r2));
              }
              t4.setSelections(n3);
            }));
          }, newlineAndIndent: function(t4) {
            return Mr(t4, (function() {
              for (var e3 = t4.listSelections(), n3 = e3.length - 1; n3 >= 0; n3--) t4.replaceRange(t4.doc.lineSeparator(), e3[n3].anchor, e3[n3].head, "+input");
              e3 = t4.listSelections();
              for (var o3 = 0; o3 < e3.length; o3++) t4.indentLine(e3[o3].from().line, null, true);
              lr(t4);
            }));
          }, openLine: function(t4) {
            return t4.replaceSelection("\n", "start");
          }, toggleOverwrite: function(t4) {
            return t4.toggleOverwrite();
          } };
          function Za(t4, e3) {
            var n3 = Xt(t4.doc, e3), o3 = Ze(n3);
            return o3 != n3 && (e3 = ee(o3)), Ya(true, t4, o3, e3, 1);
          }
          function Qa(t4, e3) {
            var n3 = Xt(t4.doc, e3), o3 = Qe(n3);
            return o3 != n3 && (e3 = ee(o3)), Ya(true, t4, n3, e3, -1);
          }
          function ts(t4, e3) {
            var n3 = Za(t4, e3.line), o3 = Xt(t4.doc, n3.line), r2 = dt(o3, t4.doc.direction);
            if (!r2 || 0 == r2[0].level) {
              var i2 = Math.max(n3.ch, o3.text.search(/\S/)), a2 = e3.line == n3.line && e3.ch <= i2 && e3.ch;
              return ie(n3.line, a2 ? 0 : i2, n3.sticky);
            }
            return n3;
          }
          function es(t4, e3, n3) {
            if ("string" == typeof e3 && !(e3 = Xa[e3])) return false;
            t4.display.input.ensurePolled();
            var o3 = t4.display.shift, r2 = false;
            try {
              t4.isReadOnly() && (t4.state.suppressEdits = true), n3 && (t4.display.shift = false), r2 = e3(t4) != z;
            } finally {
              t4.display.shift = o3, t4.state.suppressEdits = false;
            }
            return r2;
          }
          function ns(t4, e3, n3) {
            for (var o3 = 0; o3 < t4.state.keyMaps.length; o3++) {
              var r2 = Ua(e3, t4.state.keyMaps[o3], n3, t4);
              if (r2) return r2;
            }
            return t4.options.extraKeys && Ua(e3, t4.options.extraKeys, n3, t4) || Ua(e3, t4.options.keyMap, n3, t4);
          }
          var os = new F();
          function rs(t4, e3, n3, o3) {
            var r2 = t4.state.keySeq;
            if (r2) {
              if (za(e3)) return "handled";
              if (/\'$/.test(e3) ? t4.state.keySeq = null : os.set(50, (function() {
                t4.state.keySeq == r2 && (t4.state.keySeq = null, t4.display.input.reset());
              })), is(t4, r2 + " " + e3, n3, o3)) return true;
            }
            return is(t4, e3, n3, o3);
          }
          function is(t4, e3, n3, o3) {
            var r2 = ns(t4, e3, o3);
            return "multi" == r2 && (t4.state.keySeq = e3), "handled" == r2 && kn(t4, "keyHandled", t4, e3, n3), "handled" != r2 && "multi" != r2 || (xt(n3), Yo(t4)), !!r2;
          }
          function as(t4, e3) {
            var n3 = Wa(e3, true);
            return !!n3 && (e3.shiftKey && !t4.state.keySeq ? rs(t4, "Shift-" + n3, e3, (function(e4) {
              return es(t4, e4, true);
            })) || rs(t4, n3, e3, (function(e4) {
              if ("string" == typeof e4 ? /^go[A-Z]/.test(e4) : e4.motion) return es(t4, e4);
            })) : rs(t4, n3, e3, (function(e4) {
              return es(t4, e4);
            })));
          }
          function ss(t4, e3, n3) {
            return rs(t4, "'" + n3 + "'", e3, (function(e4) {
              return es(t4, e4, true);
            }));
          }
          var ls = null;
          function cs(t4) {
            var e3 = this;
            if (!(t4.target && t4.target != e3.display.input.getField() || (e3.curOp.focus = M(), mt(e3, t4)))) {
              a && s < 11 && 27 == t4.keyCode && (t4.returnValue = false);
              var o3 = t4.keyCode;
              e3.display.shift = 16 == o3 || t4.shiftKey;
              var r2 = as(e3, t4);
              p && (ls = r2 ? o3 : null, r2 || 88 != o3 || Nt || !(m ? t4.metaKey : t4.ctrlKey) || e3.replaceSelection("", null, "cut")), n2 && !m && !r2 && 46 == o3 && t4.shiftKey && !t4.ctrlKey && document.execCommand && document.execCommand("cut"), 18 != o3 || /\bCodeMirror-crosshair\b/.test(e3.display.lineDiv.className) || us(e3);
            }
          }
          function us(t4) {
            var e3 = t4.display.lineDiv;
            function n3(t5) {
              18 != t5.keyCode && t5.altKey || (T(e3, "CodeMirror-crosshair"), gt(document, "keyup", n3), gt(document, "mouseover", n3));
            }
            D(e3, "CodeMirror-crosshair"), ht(document, "keyup", n3), ht(document, "mouseover", n3);
          }
          function ps(t4) {
            16 == t4.keyCode && (this.doc.sel.shift = false), mt(this, t4);
          }
          function ds(t4) {
            var e3 = this;
            if (!(t4.target && t4.target != e3.display.input.getField() || Wn(e3.display, t4) || mt(e3, t4) || t4.ctrlKey && !t4.altKey || m && t4.metaKey)) {
              var n3 = t4.keyCode, o3 = t4.charCode;
              if (p && n3 == ls) return ls = null, void xt(t4);
              if (!p || t4.which && !(t4.which < 10) || !as(e3, t4)) {
                var r2 = String.fromCharCode(null == o3 ? n3 : o3);
                "\b" != r2 && (ss(e3, t4, r2) || e3.display.input.onKeyPress(t4));
              }
            }
          }
          var fs, hs, vs = 400, gs = function(t4, e3, n3) {
            this.time = t4, this.pos = e3, this.button = n3;
          };
          function ys(t4, e3) {
            var n3 = +/* @__PURE__ */ new Date();
            return hs && hs.compare(n3, t4, e3) ? (fs = hs = null, "triple") : fs && fs.compare(n3, t4, e3) ? (hs = new gs(n3, t4, e3), fs = null, "double") : (fs = new gs(n3, t4, e3), hs = null, "single");
          }
          function ms(t4) {
            var e3 = this, n3 = e3.display;
            if (!(mt(e3, t4) || n3.activeTouch && n3.input.supportsTouch())) {
              if (n3.input.ensurePolled(), n3.shift = t4.shiftKey, Wn(n3, t4)) l || (n3.scroller.draggable = false, setTimeout((function() {
                return n3.scroller.draggable = true;
              }), 100));
              else if (!Ps(e3, t4)) {
                var o3 = No(e3, t4), r2 = Pt(t4), i2 = o3 ? ys(o3, r2) : "single";
                window.focus(), 1 == r2 && e3.state.selectingText && e3.state.selectingText(t4), o3 && bs(e3, r2, o3, i2, t4) || (1 == r2 ? o3 ? ws(e3, o3, i2, t4) : Tt(t4) == n3.scroller && xt(t4) : 2 == r2 ? (o3 && Ni(e3.doc, o3), setTimeout((function() {
                  return n3.input.focus();
                }), 20)) : 3 == r2 && (C ? e3.display.input.onContextMenu(t4) : Xo(e3)));
              }
            }
          }
          function bs(t4, e3, n3, o3, r2) {
            var i2 = "Click";
            return "double" == o3 ? i2 = "Double" + i2 : "triple" == o3 && (i2 = "Triple" + i2), rs(t4, Ba(i2 = (1 == e3 ? "Left" : 2 == e3 ? "Middle" : "Right") + i2, r2), r2, (function(e4) {
              if ("string" == typeof e4 && (e4 = Xa[e4]), !e4) return false;
              var o4 = false;
              try {
                t4.isReadOnly() && (t4.state.suppressEdits = true), o4 = e4(t4, n3) != z;
              } finally {
                t4.state.suppressEdits = false;
              }
              return o4;
            }));
          }
          function _s(t4, e3, n3) {
            var o3 = t4.getOption("configureMouse"), r2 = o3 ? o3(t4, e3, n3) : {};
            if (null == r2.unit) {
              var i2 = b ? n3.shiftKey && n3.metaKey : n3.altKey;
              r2.unit = i2 ? "rectangle" : "single" == e3 ? "char" : "double" == e3 ? "word" : "line";
            }
            return (null == r2.extend || t4.doc.extend) && (r2.extend = t4.doc.extend || n3.shiftKey), null == r2.addNew && (r2.addNew = m ? n3.metaKey : n3.ctrlKey), null == r2.moveOnDrag && (r2.moveOnDrag = !(m ? n3.altKey : n3.ctrlKey)), r2;
          }
          function ws(t4, e3, n3, o3) {
            a ? setTimeout(N(Jo, t4), 0) : t4.curOp.focus = M();
            var r2, i2 = _s(t4, n3, o3), s2 = t4.doc.sel;
            t4.options.dragDrop && At && !t4.isReadOnly() && "single" == n3 && (r2 = s2.contains(e3)) > -1 && (ae((r2 = s2.ranges[r2]).from(), e3) < 0 || e3.xRel > 0) && (ae(r2.to(), e3) > 0 || e3.xRel < 0) ? xs(t4, o3, e3, i2) : Ss(t4, o3, e3, i2);
          }
          function xs(t4, e3, n3, o3) {
            var r2 = t4.display, i2 = false, c2 = Dr(t4, (function(e4) {
              l && (r2.scroller.draggable = false), t4.state.draggingText = false, t4.state.delayingBlurEvent && (t4.hasFocus() ? t4.state.delayingBlurEvent = false : Xo(t4)), gt(r2.wrapper.ownerDocument, "mouseup", c2), gt(r2.wrapper.ownerDocument, "mousemove", u2), gt(r2.scroller, "dragstart", p2), gt(r2.scroller, "drop", c2), i2 || (xt(e4), o3.addNew || Ni(t4.doc, n3, null, null, o3.extend), l && !d || a && 9 == s ? setTimeout((function() {
                r2.wrapper.ownerDocument.body.focus({ preventScroll: true }), r2.input.focus();
              }), 20) : r2.input.focus());
            })), u2 = function(t5) {
              i2 = i2 || Math.abs(e3.clientX - t5.clientX) + Math.abs(e3.clientY - t5.clientY) >= 10;
            }, p2 = function() {
              return i2 = true;
            };
            l && (r2.scroller.draggable = true), t4.state.draggingText = c2, c2.copy = !o3.moveOnDrag, ht(r2.wrapper.ownerDocument, "mouseup", c2), ht(r2.wrapper.ownerDocument, "mousemove", u2), ht(r2.scroller, "dragstart", p2), ht(r2.scroller, "drop", c2), t4.state.delayingBlurEvent = true, setTimeout((function() {
              return r2.input.focus();
            }), 20), r2.scroller.dragDrop && r2.scroller.dragDrop();
          }
          function Cs(t4, e3, n3) {
            if ("char" == n3) return new ai(e3, e3);
            if ("word" == n3) return t4.findWordAt(e3);
            if ("line" == n3) return new ai(ie(e3.line, 0), de(t4.doc, ie(e3.line + 1, 0)));
            var o3 = n3(t4, e3);
            return new ai(o3.from, o3.to);
          }
          function Ss(t4, e3, n3, o3) {
            a && Xo(t4);
            var r2 = t4.display, i2 = t4.doc;
            xt(e3);
            var s2, l2, c2 = i2.sel, u2 = c2.ranges;
            if (o3.addNew && !o3.extend ? (l2 = i2.sel.contains(n3), s2 = l2 > -1 ? u2[l2] : new ai(n3, n3)) : (s2 = i2.sel.primary(), l2 = i2.sel.primIndex), "rectangle" == o3.unit) o3.addNew || (s2 = new ai(n3, n3)), n3 = No(t4, e3, true, true), l2 = -1;
            else {
              var p2 = Cs(t4, n3, o3.unit);
              s2 = o3.extend ? Ii(s2, p2.anchor, p2.head, o3.extend) : p2;
            }
            o3.addNew ? -1 == l2 ? (l2 = u2.length, zi(i2, si(t4, u2.concat([s2]), l2), { scroll: false, origin: "*mouse" })) : u2.length > 1 && u2[l2].empty() && "char" == o3.unit && !o3.extend ? (zi(i2, si(t4, u2.slice(0, l2).concat(u2.slice(l2 + 1)), 0), { scroll: false, origin: "*mouse" }), c2 = i2.sel) : Vi(i2, l2, s2, W) : (l2 = 0, zi(i2, new ii([s2], 0), W), c2 = i2.sel);
            var d2 = n3;
            function f2(e4) {
              if (0 != ae(d2, e4)) if (d2 = e4, "rectangle" == o3.unit) {
                for (var r3 = [], a2 = t4.options.tabSize, u3 = V(Xt(i2, n3.line).text, n3.ch, a2), p3 = V(Xt(i2, e4.line).text, e4.ch, a2), f3 = Math.min(u3, p3), h3 = Math.max(u3, p3), v3 = Math.min(n3.line, e4.line), g3 = Math.min(t4.lastLine(), Math.max(n3.line, e4.line)); v3 <= g3; v3++) {
                  var y3 = Xt(i2, v3).text, m3 = q(y3, f3, a2);
                  f3 == h3 ? r3.push(new ai(ie(v3, m3), ie(v3, m3))) : y3.length > m3 && r3.push(new ai(ie(v3, m3), ie(v3, q(y3, h3, a2))));
                }
                r3.length || r3.push(new ai(n3, n3)), zi(i2, si(t4, c2.ranges.slice(0, l2).concat(r3), l2), { origin: "*mouse", scroll: false }), t4.scrollIntoView(e4);
              } else {
                var b3, _2 = s2, w2 = Cs(t4, e4, o3.unit), x2 = _2.anchor;
                ae(w2.anchor, x2) > 0 ? (b3 = w2.head, x2 = ue(_2.from(), w2.anchor)) : (b3 = w2.anchor, x2 = ce(_2.to(), w2.head));
                var C2 = c2.ranges.slice(0);
                C2[l2] = Os(t4, new ai(de(i2, x2), b3)), zi(i2, si(t4, C2, l2), W);
              }
            }
            var h2 = r2.wrapper.getBoundingClientRect(), v2 = 0;
            function g2(e4) {
              var n4 = ++v2, a2 = No(t4, e4, true, "rectangle" == o3.unit);
              if (a2) if (0 != ae(a2, d2)) {
                t4.curOp.focus = M(), f2(a2);
                var s3 = nr(r2, i2);
                (a2.line >= s3.to || a2.line < s3.from) && setTimeout(Dr(t4, (function() {
                  v2 == n4 && g2(e4);
                })), 150);
              } else {
                var l3 = e4.clientY < h2.top ? -20 : e4.clientY > h2.bottom ? 20 : 0;
                l3 && setTimeout(Dr(t4, (function() {
                  v2 == n4 && (r2.scroller.scrollTop += l3, g2(e4));
                })), 50);
              }
            }
            function y2(e4) {
              t4.state.selectingText = false, v2 = 1 / 0, e4 && (xt(e4), r2.input.focus()), gt(r2.wrapper.ownerDocument, "mousemove", m2), gt(r2.wrapper.ownerDocument, "mouseup", b2), i2.history.lastSelOrigin = null;
            }
            var m2 = Dr(t4, (function(t5) {
              0 !== t5.buttons && Pt(t5) ? g2(t5) : y2(t5);
            })), b2 = Dr(t4, y2);
            t4.state.selectingText = b2, ht(r2.wrapper.ownerDocument, "mousemove", m2), ht(r2.wrapper.ownerDocument, "mouseup", b2);
          }
          function Os(t4, e3) {
            var n3 = e3.anchor, o3 = e3.head, r2 = Xt(t4.doc, n3.line);
            if (0 == ae(n3, o3) && n3.sticky == o3.sticky) return e3;
            var i2 = dt(r2);
            if (!i2) return e3;
            var a2 = ut(i2, n3.ch, n3.sticky), s2 = i2[a2];
            if (s2.from != n3.ch && s2.to != n3.ch) return e3;
            var l2, c2 = a2 + (s2.from == n3.ch == (1 != s2.level) ? 0 : 1);
            if (0 == c2 || c2 == i2.length) return e3;
            if (o3.line != n3.line) l2 = (o3.line - n3.line) * ("ltr" == t4.doc.direction ? 1 : -1) > 0;
            else {
              var u2 = ut(i2, o3.ch, o3.sticky), p2 = u2 - a2 || (o3.ch - n3.ch) * (1 == s2.level ? -1 : 1);
              l2 = u2 == c2 - 1 || u2 == c2 ? p2 < 0 : p2 > 0;
            }
            var d2 = i2[c2 + (l2 ? -1 : 0)], f2 = l2 == (1 == d2.level), h2 = f2 ? d2.from : d2.to, v2 = f2 ? "after" : "before";
            return n3.ch == h2 && n3.sticky == v2 ? e3 : new ai(new ie(n3.line, h2, v2), o3);
          }
          function Ts(t4, e3, n3, o3) {
            var r2, i2;
            if (e3.touches) r2 = e3.touches[0].clientX, i2 = e3.touches[0].clientY;
            else try {
              r2 = e3.clientX, i2 = e3.clientY;
            } catch (t5) {
              return false;
            }
            if (r2 >= Math.floor(t4.display.gutters.getBoundingClientRect().right)) return false;
            o3 && xt(e3);
            var a2 = t4.display, s2 = a2.lineDiv.getBoundingClientRect();
            if (i2 > s2.bottom || !_t(t4, n3)) return St(e3);
            i2 -= s2.top - a2.viewOffset;
            for (var l2 = 0; l2 < t4.display.gutterSpecs.length; ++l2) {
              var c2 = a2.gutters.childNodes[l2];
              if (c2 && c2.getBoundingClientRect().right >= r2) return yt(t4, n3, t4, ne(t4.doc, i2), t4.display.gutterSpecs[l2].className, e3), St(e3);
            }
          }
          function Ps(t4, e3) {
            return Ts(t4, e3, "gutterClick", true);
          }
          function Es(t4, e3) {
            Wn(t4.display, e3) || ks(t4, e3) || mt(t4, e3, "contextmenu") || C || t4.display.input.onContextMenu(e3);
          }
          function ks(t4, e3) {
            return !!_t(t4, "gutterContextMenu") && Ts(t4, e3, "gutterContextMenu", false);
          }
          function As(t4) {
            t4.display.wrapper.className = t4.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") + t4.options.theme.replace(/(^|\s)\s*/g, " cm-s-"), fo(t4);
          }
          gs.prototype.compare = function(t4, e3, n3) {
            return this.time + vs > t4 && 0 == ae(e3, this.pos) && n3 == this.button;
          };
          var js = { toString: function() {
            return "CodeMirror.Init";
          } }, Ms = {}, Ds = {};
          function Ls(t4) {
            var e3 = t4.optionHandlers;
            function n3(n4, o3, r2, i2) {
              t4.defaults[n4] = o3, r2 && (e3[n4] = i2 ? function(t5, e4, n5) {
                n5 != js && r2(t5, e4, n5);
              } : r2);
            }
            t4.defineOption = n3, t4.Init = js, n3("value", "", (function(t5, e4) {
              return t5.setValue(e4);
            }), true), n3("mode", null, (function(t5, e4) {
              t5.doc.modeOption = e4, hi(t5);
            }), true), n3("indentUnit", 2, hi, true), n3("indentWithTabs", false), n3("smartIndent", true), n3("tabSize", 4, (function(t5) {
              vi(t5), fo(t5), Vo(t5);
            }), true), n3("lineSeparator", null, (function(t5, e4) {
              if (t5.doc.lineSep = e4, e4) {
                var n4 = [], o3 = t5.doc.first;
                t5.doc.iter((function(t6) {
                  for (var r3 = 0; ; ) {
                    var i2 = t6.text.indexOf(e4, r3);
                    if (-1 == i2) break;
                    r3 = i2 + e4.length, n4.push(ie(o3, i2));
                  }
                  o3++;
                }));
                for (var r2 = n4.length - 1; r2 >= 0; r2--) ra(t5.doc, e4, n4[r2], ie(n4[r2].line, n4[r2].ch + e4.length));
              }
            })), n3("specialChars", /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g, (function(t5, e4, n4) {
              t5.state.specialChars = new RegExp(e4.source + (e4.test("	") ? "" : "|	"), "g"), n4 != js && t5.refresh();
            })), n3("specialCharPlaceholder", gn, (function(t5) {
              return t5.refresh();
            }), true), n3("electricChars", true), n3("inputStyle", y ? "contenteditable" : "textarea", (function() {
              throw new Error("inputStyle can not (yet) be changed in a running editor");
            }), true), n3("spellcheck", false, (function(t5, e4) {
              return t5.getInputField().spellcheck = e4;
            }), true), n3("autocorrect", false, (function(t5, e4) {
              return t5.getInputField().autocorrect = e4;
            }), true), n3("autocapitalize", false, (function(t5, e4) {
              return t5.getInputField().autocapitalize = e4;
            }), true), n3("rtlMoveVisually", !_), n3("wholeLineUpdateBefore", true), n3("theme", "default", (function(t5) {
              As(t5), Zr(t5);
            }), true), n3("keyMap", "default", (function(t5, e4, n4) {
              var o3 = $a(e4), r2 = n4 != js && $a(n4);
              r2 && r2.detach && r2.detach(t5, o3), o3.attach && o3.attach(t5, r2 || null);
            })), n3("extraKeys", null), n3("configureMouse", null), n3("lineWrapping", false, Ns, true), n3("gutters", [], (function(t5, e4) {
              t5.display.gutterSpecs = Jr(e4, t5.options.lineNumbers), Zr(t5);
            }), true), n3("fixedGutter", true, (function(t5, e4) {
              t5.display.gutters.style.left = e4 ? Do(t5.display) + "px" : "0", t5.refresh();
            }), true), n3("coverGutterNextToScrollbar", false, (function(t5) {
              return br(t5);
            }), true), n3("scrollbarStyle", "native", (function(t5) {
              xr(t5), br(t5), t5.display.scrollbars.setScrollTop(t5.doc.scrollTop), t5.display.scrollbars.setScrollLeft(t5.doc.scrollLeft);
            }), true), n3("lineNumbers", false, (function(t5, e4) {
              t5.display.gutterSpecs = Jr(t5.options.gutters, e4), Zr(t5);
            }), true), n3("firstLineNumber", 1, Zr, true), n3("lineNumberFormatter", (function(t5) {
              return t5;
            }), Zr, true), n3("showCursorWhenSelecting", false, Wo, true), n3("resetSelectionOnContextMenu", true), n3("lineWiseCopyCut", true), n3("pasteLinesPerSelection", true), n3("selectionsMayTouch", false), n3("readOnly", false, (function(t5, e4) {
              "nocursor" == e4 && (Qo(t5), t5.display.input.blur()), t5.display.input.readOnlyChanged(e4);
            })), n3("screenReaderLabel", null, (function(t5, e4) {
              e4 = "" === e4 ? null : e4, t5.display.input.screenReaderLabelChanged(e4);
            })), n3("disableInput", false, (function(t5, e4) {
              e4 || t5.display.input.reset();
            }), true), n3("dragDrop", true, Is), n3("allowDropFileTypes", null), n3("cursorBlinkRate", 530), n3("cursorScrollMargin", 0), n3("cursorHeight", 1, Wo, true), n3("singleCursorHeightPerLine", true, Wo, true), n3("workTime", 100), n3("workDelay", 100), n3("flattenSpans", true, vi, true), n3("addModeClass", false, vi, true), n3("pollInterval", 100), n3("undoDepth", 200, (function(t5, e4) {
              return t5.doc.history.undoDepth = e4;
            })), n3("historyEventDelay", 1250), n3("viewportMargin", 10, (function(t5) {
              return t5.refresh();
            }), true), n3("maxHighlightLength", 1e4, vi, true), n3("moveInputWithCursor", true, (function(t5, e4) {
              e4 || t5.display.input.resetPosition();
            })), n3("tabindex", null, (function(t5, e4) {
              return t5.display.input.getField().tabIndex = e4 || "";
            })), n3("autofocus", null), n3("direction", "ltr", (function(t5, e4) {
              return t5.doc.setDirection(e4);
            }), true), n3("phrases", null);
          }
          function Is(t4, e3, n3) {
            if (!e3 != !(n3 && n3 != js)) {
              var o3 = t4.display.dragFunctions, r2 = e3 ? ht : gt;
              r2(t4.display.scroller, "dragstart", o3.start), r2(t4.display.scroller, "dragenter", o3.enter), r2(t4.display.scroller, "dragover", o3.over), r2(t4.display.scroller, "dragleave", o3.leave), r2(t4.display.scroller, "drop", o3.drop);
            }
          }
          function Ns(t4) {
            t4.options.lineWrapping ? (D(t4.display.wrapper, "CodeMirror-wrap"), t4.display.sizer.style.minWidth = "", t4.display.sizerWidth = null) : (T(t4.display.wrapper, "CodeMirror-wrap"), ln(t4)), Io(t4), Vo(t4), fo(t4), setTimeout((function() {
              return br(t4);
            }), 100);
          }
          function Rs(t4, e3) {
            var n3 = this;
            if (!(this instanceof Rs)) return new Rs(t4, e3);
            this.options = e3 = e3 ? R(e3) : {}, R(Ms, e3, false);
            var o3 = e3.value;
            "string" == typeof o3 ? o3 = new Ca(o3, e3.mode, null, e3.lineSeparator, e3.direction) : e3.mode && (o3.modeOption = e3.mode), this.doc = o3;
            var r2 = new Rs.inputStyles[e3.inputStyle](this), i2 = this.display = new Qr(t4, o3, r2, e3);
            for (var c2 in i2.wrapper.CodeMirror = this, As(this), e3.lineWrapping && (this.display.wrapper.className += " CodeMirror-wrap"), xr(this), this.state = { keyMaps: [], overlays: [], modeGen: 0, overwrite: false, delayingBlurEvent: false, focused: false, suppressEdits: false, pasteIncoming: -1, cutIncoming: -1, selectingText: false, draggingText: false, highlight: new F(), keySeq: null, specialChars: null }, e3.autofocus && !y && i2.input.focus(), a && s < 11 && setTimeout((function() {
              return n3.display.input.reset(true);
            }), 20), Vs(this), ja(), Sr(this), this.curOp.forceUpdate = true, bi(this, o3), e3.autofocus && !y || this.hasFocus() ? setTimeout((function() {
              n3.hasFocus() && !n3.state.focused && Zo(n3);
            }), 20) : Qo(this), Ds) Ds.hasOwnProperty(c2) && Ds[c2](this, e3[c2], js);
            Yr(this), e3.finishInit && e3.finishInit(this);
            for (var u2 = 0; u2 < Fs.length; ++u2) Fs[u2](this);
            Or(this), l && e3.lineWrapping && "optimizelegibility" == getComputedStyle(i2.lineDiv).textRendering && (i2.lineDiv.style.textRendering = "auto");
          }
          function Vs(t4) {
            var e3 = t4.display;
            ht(e3.scroller, "mousedown", Dr(t4, ms)), ht(e3.scroller, "dblclick", a && s < 11 ? Dr(t4, (function(e4) {
              if (!mt(t4, e4)) {
                var n4 = No(t4, e4);
                if (n4 && !Ps(t4, e4) && !Wn(t4.display, e4)) {
                  xt(e4);
                  var o4 = t4.findWordAt(n4);
                  Ni(t4.doc, o4.anchor, o4.head);
                }
              }
            })) : function(e4) {
              return mt(t4, e4) || xt(e4);
            }), ht(e3.scroller, "contextmenu", (function(e4) {
              return Es(t4, e4);
            })), ht(e3.input.getField(), "contextmenu", (function(n4) {
              e3.scroller.contains(n4.target) || Es(t4, n4);
            }));
            var n3, o3 = { end: 0 };
            function r2() {
              e3.activeTouch && (n3 = setTimeout((function() {
                return e3.activeTouch = null;
              }), 1e3), (o3 = e3.activeTouch).end = +/* @__PURE__ */ new Date());
            }
            function i2(t5) {
              if (1 != t5.touches.length) return false;
              var e4 = t5.touches[0];
              return e4.radiusX <= 1 && e4.radiusY <= 1;
            }
            function l2(t5, e4) {
              if (null == e4.left) return true;
              var n4 = e4.left - t5.left, o4 = e4.top - t5.top;
              return n4 * n4 + o4 * o4 > 20 * 20;
            }
            ht(e3.scroller, "touchstart", (function(r3) {
              if (!mt(t4, r3) && !i2(r3) && !Ps(t4, r3)) {
                e3.input.ensurePolled(), clearTimeout(n3);
                var a2 = +/* @__PURE__ */ new Date();
                e3.activeTouch = { start: a2, moved: false, prev: a2 - o3.end <= 300 ? o3 : null }, 1 == r3.touches.length && (e3.activeTouch.left = r3.touches[0].pageX, e3.activeTouch.top = r3.touches[0].pageY);
              }
            })), ht(e3.scroller, "touchmove", (function() {
              e3.activeTouch && (e3.activeTouch.moved = true);
            })), ht(e3.scroller, "touchend", (function(n4) {
              var o4 = e3.activeTouch;
              if (o4 && !Wn(e3, n4) && null != o4.left && !o4.moved && /* @__PURE__ */ new Date() - o4.start < 300) {
                var i3, a2 = t4.coordsChar(e3.activeTouch, "page");
                i3 = !o4.prev || l2(o4, o4.prev) ? new ai(a2, a2) : !o4.prev.prev || l2(o4, o4.prev.prev) ? t4.findWordAt(a2) : new ai(ie(a2.line, 0), de(t4.doc, ie(a2.line + 1, 0))), t4.setSelection(i3.anchor, i3.head), t4.focus(), xt(n4);
              }
              r2();
            })), ht(e3.scroller, "touchcancel", r2), ht(e3.scroller, "scroll", (function() {
              e3.scroller.clientHeight && (fr(t4, e3.scroller.scrollTop), vr(t4, e3.scroller.scrollLeft, true), yt(t4, "scroll", t4));
            })), ht(e3.scroller, "mousewheel", (function(e4) {
              return ri(t4, e4);
            })), ht(e3.scroller, "DOMMouseScroll", (function(e4) {
              return ri(t4, e4);
            })), ht(e3.wrapper, "scroll", (function() {
              return e3.wrapper.scrollTop = e3.wrapper.scrollLeft = 0;
            })), e3.dragFunctions = { enter: function(e4) {
              mt(t4, e4) || Ot(e4);
            }, over: function(e4) {
              mt(t4, e4) || (Pa(t4, e4), Ot(e4));
            }, start: function(e4) {
              return Ta(t4, e4);
            }, drop: Dr(t4, Oa), leave: function(e4) {
              mt(t4, e4) || Ea(t4);
            } };
            var c2 = e3.input.getField();
            ht(c2, "keyup", (function(e4) {
              return ps.call(t4, e4);
            })), ht(c2, "keydown", Dr(t4, cs)), ht(c2, "keypress", Dr(t4, ds)), ht(c2, "focus", (function(e4) {
              return Zo(t4, e4);
            })), ht(c2, "blur", (function(e4) {
              return Qo(t4, e4);
            }));
          }
          Rs.defaults = Ms, Rs.optionHandlers = Ds;
          var Fs = [];
          function Hs(t4, e3, n3, o3) {
            var r2, i2 = t4.doc;
            null == n3 && (n3 = "add"), "smart" == n3 && (i2.mode.indent ? r2 = be(t4, e3).state : n3 = "prev");
            var a2 = t4.options.tabSize, s2 = Xt(i2, e3), l2 = V(s2.text, null, a2);
            s2.stateAfter && (s2.stateAfter = null);
            var c2, u2 = s2.text.match(/^\s*/)[0];
            if (o3 || /\S/.test(s2.text)) {
              if ("smart" == n3 && ((c2 = i2.mode.indent(r2, s2.text.slice(u2.length), s2.text)) == z || c2 > 150)) {
                if (!o3) return;
                n3 = "prev";
              }
            } else c2 = 0, n3 = "not";
            "prev" == n3 ? c2 = e3 > i2.first ? V(Xt(i2, e3 - 1).text, null, a2) : 0 : "add" == n3 ? c2 = l2 + t4.options.indentUnit : "subtract" == n3 ? c2 = l2 - t4.options.indentUnit : "number" == typeof n3 && (c2 = l2 + n3), c2 = Math.max(0, c2);
            var p2 = "", d2 = 0;
            if (t4.options.indentWithTabs) for (var f2 = Math.floor(c2 / a2); f2; --f2) d2 += a2, p2 += "	";
            if (d2 < c2 && (p2 += K(c2 - d2)), p2 != u2) return ra(i2, p2, ie(e3, 0), ie(e3, u2.length), "+input"), s2.stateAfter = null, true;
            for (var h2 = 0; h2 < i2.sel.ranges.length; h2++) {
              var v2 = i2.sel.ranges[h2];
              if (v2.head.line == e3 && v2.head.ch < u2.length) {
                var g2 = ie(e3, u2.length);
                Vi(i2, h2, new ai(g2, g2));
                break;
              }
            }
          }
          Rs.defineInitHook = function(t4) {
            return Fs.push(t4);
          };
          var Us = null;
          function zs(t4) {
            Us = t4;
          }
          function Bs(t4, e3, n3, o3, r2) {
            var i2 = t4.doc;
            t4.display.shift = false, o3 || (o3 = i2.sel);
            var a2 = +/* @__PURE__ */ new Date() - 200, s2 = "paste" == r2 || t4.state.pasteIncoming > a2, l2 = Lt(e3), c2 = null;
            if (s2 && o3.ranges.length > 1) if (Us && Us.text.join("\n") == e3) {
              if (o3.ranges.length % Us.text.length == 0) {
                c2 = [];
                for (var u2 = 0; u2 < Us.text.length; u2++) c2.push(i2.splitLines(Us.text[u2]));
              }
            } else l2.length == o3.ranges.length && t4.options.pasteLinesPerSelection && (c2 = J(l2, (function(t5) {
              return [t5];
            })));
            for (var p2 = t4.curOp.updateInput, d2 = o3.ranges.length - 1; d2 >= 0; d2--) {
              var f2 = o3.ranges[d2], h2 = f2.from(), v2 = f2.to();
              f2.empty() && (n3 && n3 > 0 ? h2 = ie(h2.line, h2.ch - n3) : t4.state.overwrite && !s2 ? v2 = ie(v2.line, Math.min(Xt(i2, v2.line).text.length, v2.ch + Y(l2).length)) : s2 && Us && Us.lineWise && Us.text.join("\n") == l2.join("\n") && (h2 = v2 = ie(h2.line, 0)));
              var g2 = { from: h2, to: v2, text: c2 ? c2[d2 % c2.length] : l2, origin: r2 || (s2 ? "paste" : t4.state.cutIncoming > a2 ? "cut" : "+input") };
              Zi(t4.doc, g2), kn(t4, "inputRead", t4, g2);
            }
            e3 && !s2 && $s(t4, e3), lr(t4), t4.curOp.updateInput < 2 && (t4.curOp.updateInput = p2), t4.curOp.typing = true, t4.state.pasteIncoming = t4.state.cutIncoming = -1;
          }
          function Ws(t4, e3) {
            var n3 = t4.clipboardData && t4.clipboardData.getData("Text");
            if (n3) return t4.preventDefault(), e3.isReadOnly() || e3.options.disableInput || Mr(e3, (function() {
              return Bs(e3, n3, 0, null, "paste");
            })), true;
          }
          function $s(t4, e3) {
            if (t4.options.electricChars && t4.options.smartIndent) for (var n3 = t4.doc.sel, o3 = n3.ranges.length - 1; o3 >= 0; o3--) {
              var r2 = n3.ranges[o3];
              if (!(r2.head.ch > 100 || o3 && n3.ranges[o3 - 1].head.line == r2.head.line)) {
                var i2 = t4.getModeAt(r2.head), a2 = false;
                if (i2.electricChars) {
                  for (var s2 = 0; s2 < i2.electricChars.length; s2++) if (e3.indexOf(i2.electricChars.charAt(s2)) > -1) {
                    a2 = Hs(t4, r2.head.line, "smart");
                    break;
                  }
                } else i2.electricInput && i2.electricInput.test(Xt(t4.doc, r2.head.line).text.slice(0, r2.head.ch)) && (a2 = Hs(t4, r2.head.line, "smart"));
                a2 && kn(t4, "electricInput", t4, r2.head.line);
              }
            }
          }
          function qs(t4) {
            for (var e3 = [], n3 = [], o3 = 0; o3 < t4.doc.sel.ranges.length; o3++) {
              var r2 = t4.doc.sel.ranges[o3].head.line, i2 = { anchor: ie(r2, 0), head: ie(r2 + 1, 0) };
              n3.push(i2), e3.push(t4.getRange(i2.anchor, i2.head));
            }
            return { text: e3, ranges: n3 };
          }
          function Gs(t4, e3, n3, o3) {
            t4.setAttribute("autocorrect", n3 ? "" : "off"), t4.setAttribute("autocapitalize", o3 ? "" : "off"), t4.setAttribute("spellcheck", !!e3);
          }
          function Ks() {
            var t4 = k("textarea", null, null, "position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"), e3 = k("div", [t4], null, "overflow: hidden; position: relative; width: 3px; height: 0px;");
            return l ? t4.style.width = "1000px" : t4.setAttribute("wrap", "off"), v && (t4.style.border = "1px solid black"), Gs(t4), e3;
          }
          function Ys(t4) {
            var e3 = t4.optionHandlers, n3 = t4.helpers = {};
            t4.prototype = { constructor: t4, focus: function() {
              window.focus(), this.display.input.focus();
            }, setOption: function(t5, n4) {
              var o3 = this.options, r2 = o3[t5];
              o3[t5] == n4 && "mode" != t5 || (o3[t5] = n4, e3.hasOwnProperty(t5) && Dr(this, e3[t5])(this, n4, r2), yt(this, "optionChange", this, t5));
            }, getOption: function(t5) {
              return this.options[t5];
            }, getDoc: function() {
              return this.doc;
            }, addKeyMap: function(t5, e4) {
              this.state.keyMaps[e4 ? "push" : "unshift"]($a(t5));
            }, removeKeyMap: function(t5) {
              for (var e4 = this.state.keyMaps, n4 = 0; n4 < e4.length; ++n4) if (e4[n4] == t5 || e4[n4].name == t5) return e4.splice(n4, 1), true;
            }, addOverlay: Lr((function(e4, n4) {
              var o3 = e4.token ? e4 : t4.getMode(this.options, e4);
              if (o3.startState) throw new Error("Overlays may not be stateful.");
              X(this.state.overlays, { mode: o3, modeSpec: e4, opaque: n4 && n4.opaque, priority: n4 && n4.priority || 0 }, (function(t5) {
                return t5.priority;
              })), this.state.modeGen++, Vo(this);
            })), removeOverlay: Lr((function(t5) {
              for (var e4 = this.state.overlays, n4 = 0; n4 < e4.length; ++n4) {
                var o3 = e4[n4].modeSpec;
                if (o3 == t5 || "string" == typeof t5 && o3.name == t5) return e4.splice(n4, 1), this.state.modeGen++, void Vo(this);
              }
            })), indentLine: Lr((function(t5, e4, n4) {
              "string" != typeof e4 && "number" != typeof e4 && (e4 = null == e4 ? this.options.smartIndent ? "smart" : "prev" : e4 ? "add" : "subtract"), oe(this.doc, t5) && Hs(this, t5, e4, n4);
            })), indentSelection: Lr((function(t5) {
              for (var e4 = this.doc.sel.ranges, n4 = -1, o3 = 0; o3 < e4.length; o3++) {
                var r2 = e4[o3];
                if (r2.empty()) r2.head.line > n4 && (Hs(this, r2.head.line, t5, true), n4 = r2.head.line, o3 == this.doc.sel.primIndex && lr(this));
                else {
                  var i2 = r2.from(), a2 = r2.to(), s2 = Math.max(n4, i2.line);
                  n4 = Math.min(this.lastLine(), a2.line - (a2.ch ? 0 : 1)) + 1;
                  for (var l2 = s2; l2 < n4; ++l2) Hs(this, l2, t5);
                  var c2 = this.doc.sel.ranges;
                  0 == i2.ch && e4.length == c2.length && c2[o3].from().ch > 0 && Vi(this.doc, o3, new ai(i2, c2[o3].to()), B);
                }
              }
            })), getTokenAt: function(t5, e4) {
              return Se(this, t5, e4);
            }, getLineTokens: function(t5, e4) {
              return Se(this, ie(t5), e4, true);
            }, getTokenTypeAt: function(t5) {
              t5 = de(this.doc, t5);
              var e4, n4 = me(this, Xt(this.doc, t5.line)), o3 = 0, r2 = (n4.length - 1) / 2, i2 = t5.ch;
              if (0 == i2) e4 = n4[2];
              else for (; ; ) {
                var a2 = o3 + r2 >> 1;
                if ((a2 ? n4[2 * a2 - 1] : 0) >= i2) r2 = a2;
                else {
                  if (!(n4[2 * a2 + 1] < i2)) {
                    e4 = n4[2 * a2 + 2];
                    break;
                  }
                  o3 = a2 + 1;
                }
              }
              var s2 = e4 ? e4.indexOf("overlay ") : -1;
              return s2 < 0 ? e4 : 0 == s2 ? null : e4.slice(0, s2 - 1);
            }, getModeAt: function(e4) {
              var n4 = this.doc.mode;
              return n4.innerMode ? t4.innerMode(n4, this.getTokenAt(e4).state).mode : n4;
            }, getHelper: function(t5, e4) {
              return this.getHelpers(t5, e4)[0];
            }, getHelpers: function(t5, e4) {
              var o3 = [];
              if (!n3.hasOwnProperty(e4)) return o3;
              var r2 = n3[e4], i2 = this.getModeAt(t5);
              if ("string" == typeof i2[e4]) r2[i2[e4]] && o3.push(r2[i2[e4]]);
              else if (i2[e4]) for (var a2 = 0; a2 < i2[e4].length; a2++) {
                var s2 = r2[i2[e4][a2]];
                s2 && o3.push(s2);
              }
              else i2.helperType && r2[i2.helperType] ? o3.push(r2[i2.helperType]) : r2[i2.name] && o3.push(r2[i2.name]);
              for (var l2 = 0; l2 < r2._global.length; l2++) {
                var c2 = r2._global[l2];
                c2.pred(i2, this) && -1 == H(o3, c2.val) && o3.push(c2.val);
              }
              return o3;
            }, getStateAfter: function(t5, e4) {
              var n4 = this.doc;
              return be(this, (t5 = pe(n4, null == t5 ? n4.first + n4.size - 1 : t5)) + 1, e4).state;
            }, cursorCoords: function(t5, e4) {
              var n4 = this.doc.sel.primary();
              return _o(this, null == t5 ? n4.head : "object" == typeof t5 ? de(this.doc, t5) : t5 ? n4.from() : n4.to(), e4 || "page");
            }, charCoords: function(t5, e4) {
              return bo(this, de(this.doc, t5), e4 || "page");
            }, coordsChar: function(t5, e4) {
              return Co(this, (t5 = mo(this, t5, e4 || "page")).left, t5.top);
            }, lineAtHeight: function(t5, e4) {
              return t5 = mo(this, { top: t5, left: 0 }, e4 || "page").top, ne(this.doc, t5 + this.display.viewOffset);
            }, heightAtLine: function(t5, e4, n4) {
              var o3, r2 = false;
              if ("number" == typeof t5) {
                var i2 = this.doc.first + this.doc.size - 1;
                t5 < this.doc.first ? t5 = this.doc.first : t5 > i2 && (t5 = i2, r2 = true), o3 = Xt(this.doc, t5);
              } else o3 = t5;
              return yo(this, o3, { top: 0, left: 0 }, e4 || "page", n4 || r2).top + (r2 ? this.doc.height - an(o3) : 0);
            }, defaultTextHeight: function() {
              return Ao(this.display);
            }, defaultCharWidth: function() {
              return jo(this.display);
            }, getViewport: function() {
              return { from: this.display.viewFrom, to: this.display.viewTo };
            }, addWidget: function(t5, e4, n4, o3, r2) {
              var i2 = this.display, a2 = (t5 = _o(this, de(this.doc, t5))).bottom, s2 = t5.left;
              if (e4.style.position = "absolute", e4.setAttribute("cm-ignore-events", "true"), this.display.input.setUneditable(e4), i2.sizer.appendChild(e4), "over" == o3) a2 = t5.top;
              else if ("above" == o3 || "near" == o3) {
                var l2 = Math.max(i2.wrapper.clientHeight, this.doc.height), c2 = Math.max(i2.sizer.clientWidth, i2.lineSpace.clientWidth);
                ("above" == o3 || t5.bottom + e4.offsetHeight > l2) && t5.top > e4.offsetHeight ? a2 = t5.top - e4.offsetHeight : t5.bottom + e4.offsetHeight <= l2 && (a2 = t5.bottom), s2 + e4.offsetWidth > c2 && (s2 = c2 - e4.offsetWidth);
              }
              e4.style.top = a2 + "px", e4.style.left = e4.style.right = "", "right" == r2 ? (s2 = i2.sizer.clientWidth - e4.offsetWidth, e4.style.right = "0px") : ("left" == r2 ? s2 = 0 : "middle" == r2 && (s2 = (i2.sizer.clientWidth - e4.offsetWidth) / 2), e4.style.left = s2 + "px"), n4 && ir(this, { left: s2, top: a2, right: s2 + e4.offsetWidth, bottom: a2 + e4.offsetHeight });
            }, triggerOnKeyDown: Lr(cs), triggerOnKeyPress: Lr(ds), triggerOnKeyUp: ps, triggerOnMouseDown: Lr(ms), execCommand: function(t5) {
              if (Xa.hasOwnProperty(t5)) return Xa[t5].call(null, this);
            }, triggerElectric: Lr((function(t5) {
              $s(this, t5);
            })), findPosH: function(t5, e4, n4, o3) {
              var r2 = 1;
              e4 < 0 && (r2 = -1, e4 = -e4);
              for (var i2 = de(this.doc, t5), a2 = 0; a2 < e4 && !(i2 = Js(this.doc, i2, r2, n4, o3)).hitSide; ++a2) ;
              return i2;
            }, moveH: Lr((function(t5, e4) {
              var n4 = this;
              this.extendSelectionsBy((function(o3) {
                return n4.display.shift || n4.doc.extend || o3.empty() ? Js(n4.doc, o3.head, t5, e4, n4.options.rtlMoveVisually) : t5 < 0 ? o3.from() : o3.to();
              }), $);
            })), deleteH: Lr((function(t5, e4) {
              var n4 = this.doc.sel, o3 = this.doc;
              n4.somethingSelected() ? o3.replaceSelection("", null, "+delete") : qa(this, (function(n5) {
                var r2 = Js(o3, n5.head, t5, e4, false);
                return t5 < 0 ? { from: r2, to: n5.head } : { from: n5.head, to: r2 };
              }));
            })), findPosV: function(t5, e4, n4, o3) {
              var r2 = 1, i2 = o3;
              e4 < 0 && (r2 = -1, e4 = -e4);
              for (var a2 = de(this.doc, t5), s2 = 0; s2 < e4; ++s2) {
                var l2 = _o(this, a2, "div");
                if (null == i2 ? i2 = l2.left : l2.left = i2, (a2 = Xs(this, l2, r2, n4)).hitSide) break;
              }
              return a2;
            }, moveV: Lr((function(t5, e4) {
              var n4 = this, o3 = this.doc, r2 = [], i2 = !this.display.shift && !o3.extend && o3.sel.somethingSelected();
              if (o3.extendSelectionsBy((function(a3) {
                if (i2) return t5 < 0 ? a3.from() : a3.to();
                var s2 = _o(n4, a3.head, "div");
                null != a3.goalColumn && (s2.left = a3.goalColumn), r2.push(s2.left);
                var l2 = Xs(n4, s2, t5, e4);
                return "page" == e4 && a3 == o3.sel.primary() && sr(n4, bo(n4, l2, "div").top - s2.top), l2;
              }), $), r2.length) for (var a2 = 0; a2 < o3.sel.ranges.length; a2++) o3.sel.ranges[a2].goalColumn = r2[a2];
            })), findWordAt: function(t5) {
              var e4 = Xt(this.doc, t5.line).text, n4 = t5.ch, o3 = t5.ch;
              if (e4) {
                var r2 = this.getHelper(t5, "wordChars");
                "before" != t5.sticky && o3 != e4.length || !n4 ? ++o3 : --n4;
                for (var i2 = e4.charAt(n4), a2 = nt(i2, r2) ? function(t6) {
                  return nt(t6, r2);
                } : /\s/.test(i2) ? function(t6) {
                  return /\s/.test(t6);
                } : function(t6) {
                  return !/\s/.test(t6) && !nt(t6);
                }; n4 > 0 && a2(e4.charAt(n4 - 1)); ) --n4;
                for (; o3 < e4.length && a2(e4.charAt(o3)); ) ++o3;
              }
              return new ai(ie(t5.line, n4), ie(t5.line, o3));
            }, toggleOverwrite: function(t5) {
              null != t5 && t5 == this.state.overwrite || ((this.state.overwrite = !this.state.overwrite) ? D(this.display.cursorDiv, "CodeMirror-overwrite") : T(this.display.cursorDiv, "CodeMirror-overwrite"), yt(this, "overwriteToggle", this, this.state.overwrite));
            }, hasFocus: function() {
              return this.display.input.getField() == M();
            }, isReadOnly: function() {
              return !(!this.options.readOnly && !this.doc.cantEdit);
            }, scrollTo: Lr((function(t5, e4) {
              cr(this, t5, e4);
            })), getScrollInfo: function() {
              var t5 = this.display.scroller;
              return { left: t5.scrollLeft, top: t5.scrollTop, height: t5.scrollHeight - Kn(this) - this.display.barHeight, width: t5.scrollWidth - Kn(this) - this.display.barWidth, clientHeight: Jn(this), clientWidth: Yn(this) };
            }, scrollIntoView: Lr((function(t5, e4) {
              null == t5 ? (t5 = { from: this.doc.sel.primary().head, to: null }, null == e4 && (e4 = this.options.cursorScrollMargin)) : "number" == typeof t5 ? t5 = { from: ie(t5, 0), to: null } : null == t5.from && (t5 = { from: t5, to: null }), t5.to || (t5.to = t5.from), t5.margin = e4 || 0, null != t5.from.line ? ur(this, t5) : dr(this, t5.from, t5.to, t5.margin);
            })), setSize: Lr((function(t5, e4) {
              var n4 = this, o3 = function(t6) {
                return "number" == typeof t6 || /^\d+$/.test(String(t6)) ? t6 + "px" : t6;
              };
              null != t5 && (this.display.wrapper.style.width = o3(t5)), null != e4 && (this.display.wrapper.style.height = o3(e4)), this.options.lineWrapping && po(this);
              var r2 = this.display.viewFrom;
              this.doc.iter(r2, this.display.viewTo, (function(t6) {
                if (t6.widgets) {
                  for (var e5 = 0; e5 < t6.widgets.length; e5++) if (t6.widgets[e5].noHScroll) {
                    Fo(n4, r2, "widget");
                    break;
                  }
                }
                ++r2;
              })), this.curOp.forceUpdate = true, yt(this, "refresh", this);
            })), operation: function(t5) {
              return Mr(this, t5);
            }, startOperation: function() {
              return Sr(this);
            }, endOperation: function() {
              return Or(this);
            }, refresh: Lr((function() {
              var t5 = this.display.cachedTextHeight;
              Vo(this), this.curOp.forceUpdate = true, fo(this), cr(this, this.doc.scrollLeft, this.doc.scrollTop), qr(this.display), (null == t5 || Math.abs(t5 - Ao(this.display)) > 0.5 || this.options.lineWrapping) && Io(this), yt(this, "refresh", this);
            })), swapDoc: Lr((function(t5) {
              var e4 = this.doc;
              return e4.cm = null, this.state.selectingText && this.state.selectingText(), bi(this, t5), fo(this), this.display.input.reset(), cr(this, t5.scrollLeft, t5.scrollTop), this.curOp.forceScroll = true, kn(this, "swapDoc", this, e4), e4;
            })), phrase: function(t5) {
              var e4 = this.options.phrases;
              return e4 && Object.prototype.hasOwnProperty.call(e4, t5) ? e4[t5] : t5;
            }, getInputField: function() {
              return this.display.input.getField();
            }, getWrapperElement: function() {
              return this.display.wrapper;
            }, getScrollerElement: function() {
              return this.display.scroller;
            }, getGutterElement: function() {
              return this.display.gutters;
            } }, wt(t4), t4.registerHelper = function(e4, o3, r2) {
              n3.hasOwnProperty(e4) || (n3[e4] = t4[e4] = { _global: [] }), n3[e4][o3] = r2;
            }, t4.registerGlobalHelper = function(e4, o3, r2, i2) {
              t4.registerHelper(e4, o3, i2), n3[e4]._global.push({ pred: r2, val: i2 });
            };
          }
          function Js(t4, e3, n3, o3, r2) {
            var i2 = e3, a2 = n3, s2 = Xt(t4, e3.line), l2 = r2 && "rtl" == t4.direction ? -n3 : n3;
            function c2() {
              var n4 = e3.line + l2;
              return !(n4 < t4.first || n4 >= t4.first + t4.size) && (e3 = new ie(n4, e3.ch, e3.sticky), s2 = Xt(t4, n4));
            }
            function u2(i3) {
              var a3;
              if ("codepoint" == o3) {
                var u3 = s2.text.charCodeAt(e3.ch + (n3 > 0 ? 0 : -1));
                if (isNaN(u3)) a3 = null;
                else {
                  var p3 = n3 > 0 ? u3 >= 55296 && u3 < 56320 : u3 >= 56320 && u3 < 57343;
                  a3 = new ie(e3.line, Math.max(0, Math.min(s2.text.length, e3.ch + n3 * (p3 ? 2 : 1))), -n3);
                }
              } else a3 = r2 ? Ja(t4.cm, s2, e3, n3) : Ka(s2, e3, n3);
              if (null == a3) {
                if (i3 || !c2()) return false;
                e3 = Ya(r2, t4.cm, s2, e3.line, l2);
              } else e3 = a3;
              return true;
            }
            if ("char" == o3 || "codepoint" == o3) u2();
            else if ("column" == o3) u2(true);
            else if ("word" == o3 || "group" == o3) for (var p2 = null, d2 = "group" == o3, f2 = t4.cm && t4.cm.getHelper(e3, "wordChars"), h2 = true; !(n3 < 0) || u2(!h2); h2 = false) {
              var v2 = s2.text.charAt(e3.ch) || "\n", g2 = nt(v2, f2) ? "w" : d2 && "\n" == v2 ? "n" : !d2 || /\s/.test(v2) ? null : "p";
              if (!d2 || h2 || g2 || (g2 = "s"), p2 && p2 != g2) {
                n3 < 0 && (n3 = 1, u2(), e3.sticky = "after");
                break;
              }
              if (g2 && (p2 = g2), n3 > 0 && !u2(!h2)) break;
            }
            var y2 = Ki(t4, e3, i2, a2, true);
            return se(i2, y2) && (y2.hitSide = true), y2;
          }
          function Xs(t4, e3, n3, o3) {
            var r2, i2, a2 = t4.doc, s2 = e3.left;
            if ("page" == o3) {
              var l2 = Math.min(t4.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight), c2 = Math.max(l2 - 0.5 * Ao(t4.display), 3);
              r2 = (n3 > 0 ? e3.bottom : e3.top) + n3 * c2;
            } else "line" == o3 && (r2 = n3 > 0 ? e3.bottom + 3 : e3.top - 3);
            for (; (i2 = Co(t4, s2, r2)).outside; ) {
              if (n3 < 0 ? r2 <= 0 : r2 >= a2.height) {
                i2.hitSide = true;
                break;
              }
              r2 += 5 * n3;
            }
            return i2;
          }
          var Zs = function(t4) {
            this.cm = t4, this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null, this.polling = new F(), this.composing = null, this.gracePeriod = false, this.readDOMTimeout = null;
          };
          function Qs(t4, e3) {
            var n3 = eo(t4, e3.line);
            if (!n3 || n3.hidden) return null;
            var o3 = Xt(t4.doc, e3.line), r2 = Zn(n3, o3, e3.line), i2 = dt(o3, t4.doc.direction), a2 = "left";
            i2 && (a2 = ut(i2, e3.ch) % 2 ? "right" : "left");
            var s2 = ao(r2.map, e3.ch, a2);
            return s2.offset = "right" == s2.collapse ? s2.end : s2.start, s2;
          }
          function tl(t4) {
            for (var e3 = t4; e3; e3 = e3.parentNode) if (/CodeMirror-gutter-wrapper/.test(e3.className)) return true;
            return false;
          }
          function el(t4, e3) {
            return e3 && (t4.bad = true), t4;
          }
          function nl(t4, e3, n3, o3, r2) {
            var i2 = "", a2 = false, s2 = t4.doc.lineSeparator(), l2 = false;
            function c2(t5) {
              return function(e4) {
                return e4.id == t5;
              };
            }
            function u2() {
              a2 && (i2 += s2, l2 && (i2 += s2), a2 = l2 = false);
            }
            function p2(t5) {
              t5 && (u2(), i2 += t5);
            }
            function d2(e4) {
              if (1 == e4.nodeType) {
                var n4 = e4.getAttribute("cm-text");
                if (n4) return void p2(n4);
                var i3, f2 = e4.getAttribute("cm-marker");
                if (f2) {
                  var h2 = t4.findMarks(ie(o3, 0), ie(r2 + 1, 0), c2(+f2));
                  return void (h2.length && (i3 = h2[0].find(0)) && p2(Zt(t4.doc, i3.from, i3.to).join(s2)));
                }
                if ("false" == e4.getAttribute("contenteditable")) return;
                var v2 = /^(pre|div|p|li|table|br)$/i.test(e4.nodeName);
                if (!/^br$/i.test(e4.nodeName) && 0 == e4.textContent.length) return;
                v2 && u2();
                for (var g2 = 0; g2 < e4.childNodes.length; g2++) d2(e4.childNodes[g2]);
                /^(pre|p)$/i.test(e4.nodeName) && (l2 = true), v2 && (a2 = true);
              } else 3 == e4.nodeType && p2(e4.nodeValue.replace(/\u200b/g, "").replace(/\u00a0/g, " "));
            }
            for (; d2(e3), e3 != n3; ) e3 = e3.nextSibling, l2 = false;
            return i2;
          }
          function ol(t4, e3, n3) {
            var o3;
            if (e3 == t4.display.lineDiv) {
              if (!(o3 = t4.display.lineDiv.childNodes[n3])) return el(t4.clipPos(ie(t4.display.viewTo - 1)), true);
              e3 = null, n3 = 0;
            } else for (o3 = e3; ; o3 = o3.parentNode) {
              if (!o3 || o3 == t4.display.lineDiv) return null;
              if (o3.parentNode && o3.parentNode == t4.display.lineDiv) break;
            }
            for (var r2 = 0; r2 < t4.display.view.length; r2++) {
              var i2 = t4.display.view[r2];
              if (i2.node == o3) return rl(i2, e3, n3);
            }
          }
          function rl(t4, e3, n3) {
            var o3 = t4.text.firstChild, r2 = false;
            if (!e3 || !j(o3, e3)) return el(ie(ee(t4.line), 0), true);
            if (e3 == o3 && (r2 = true, e3 = o3.childNodes[n3], n3 = 0, !e3)) {
              var i2 = t4.rest ? Y(t4.rest) : t4.line;
              return el(ie(ee(i2), i2.text.length), r2);
            }
            var a2 = 3 == e3.nodeType ? e3 : null, s2 = e3;
            for (a2 || 1 != e3.childNodes.length || 3 != e3.firstChild.nodeType || (a2 = e3.firstChild, n3 && (n3 = a2.nodeValue.length)); s2.parentNode != o3; ) s2 = s2.parentNode;
            var l2 = t4.measure, c2 = l2.maps;
            function u2(e4, n4, o4) {
              for (var r3 = -1; r3 < (c2 ? c2.length : 0); r3++) for (var i3 = r3 < 0 ? l2.map : c2[r3], a3 = 0; a3 < i3.length; a3 += 3) {
                var s3 = i3[a3 + 2];
                if (s3 == e4 || s3 == n4) {
                  var u3 = ee(r3 < 0 ? t4.line : t4.rest[r3]), p3 = i3[a3] + o4;
                  return (o4 < 0 || s3 != e4) && (p3 = i3[a3 + (o4 ? 1 : 0)]), ie(u3, p3);
                }
              }
            }
            var p2 = u2(a2, s2, n3);
            if (p2) return el(p2, r2);
            for (var d2 = s2.nextSibling, f2 = a2 ? a2.nodeValue.length - n3 : 0; d2; d2 = d2.nextSibling) {
              if (p2 = u2(d2, d2.firstChild, 0)) return el(ie(p2.line, p2.ch - f2), r2);
              f2 += d2.textContent.length;
            }
            for (var h2 = s2.previousSibling, v2 = n3; h2; h2 = h2.previousSibling) {
              if (p2 = u2(h2, h2.firstChild, -1)) return el(ie(p2.line, p2.ch + v2), r2);
              v2 += h2.textContent.length;
            }
          }
          Zs.prototype.init = function(t4) {
            var e3 = this, n3 = this, o3 = n3.cm, r2 = n3.div = t4.lineDiv;
            function i2(t5) {
              for (var e4 = t5.target; e4; e4 = e4.parentNode) {
                if (e4 == r2) return true;
                if (/\bCodeMirror-(?:line)?widget\b/.test(e4.className)) break;
              }
              return false;
            }
            function a2(t5) {
              if (i2(t5) && !mt(o3, t5)) {
                if (o3.somethingSelected()) zs({ lineWise: false, text: o3.getSelections() }), "cut" == t5.type && o3.replaceSelection("", null, "cut");
                else {
                  if (!o3.options.lineWiseCopyCut) return;
                  var e4 = qs(o3);
                  zs({ lineWise: true, text: e4.text }), "cut" == t5.type && o3.operation((function() {
                    o3.setSelections(e4.ranges, 0, B), o3.replaceSelection("", null, "cut");
                  }));
                }
                if (t5.clipboardData) {
                  t5.clipboardData.clearData();
                  var a3 = Us.text.join("\n");
                  if (t5.clipboardData.setData("Text", a3), t5.clipboardData.getData("Text") == a3) return void t5.preventDefault();
                }
                var s2 = Ks(), l2 = s2.firstChild;
                o3.display.lineSpace.insertBefore(s2, o3.display.lineSpace.firstChild), l2.value = Us.text.join("\n");
                var c2 = M();
                I(l2), setTimeout((function() {
                  o3.display.lineSpace.removeChild(s2), c2.focus(), c2 == r2 && n3.showPrimarySelection();
                }), 50);
              }
            }
            r2.contentEditable = true, Gs(r2, o3.options.spellcheck, o3.options.autocorrect, o3.options.autocapitalize), ht(r2, "paste", (function(t5) {
              !i2(t5) || mt(o3, t5) || Ws(t5, o3) || s <= 11 && setTimeout(Dr(o3, (function() {
                return e3.updateFromDOM();
              })), 20);
            })), ht(r2, "compositionstart", (function(t5) {
              e3.composing = { data: t5.data, done: false };
            })), ht(r2, "compositionupdate", (function(t5) {
              e3.composing || (e3.composing = { data: t5.data, done: false });
            })), ht(r2, "compositionend", (function(t5) {
              e3.composing && (t5.data != e3.composing.data && e3.readFromDOMSoon(), e3.composing.done = true);
            })), ht(r2, "touchstart", (function() {
              return n3.forceCompositionEnd();
            })), ht(r2, "input", (function() {
              e3.composing || e3.readFromDOMSoon();
            })), ht(r2, "copy", a2), ht(r2, "cut", a2);
          }, Zs.prototype.screenReaderLabelChanged = function(t4) {
            t4 ? this.div.setAttribute("aria-label", t4) : this.div.removeAttribute("aria-label");
          }, Zs.prototype.prepareSelection = function() {
            var t4 = $o(this.cm, false);
            return t4.focus = M() == this.div, t4;
          }, Zs.prototype.showSelection = function(t4, e3) {
            t4 && this.cm.display.view.length && ((t4.focus || e3) && this.showPrimarySelection(), this.showMultipleSelections(t4));
          }, Zs.prototype.getSelection = function() {
            return this.cm.display.wrapper.ownerDocument.getSelection();
          }, Zs.prototype.showPrimarySelection = function() {
            var t4 = this.getSelection(), e3 = this.cm, o3 = e3.doc.sel.primary(), r2 = o3.from(), i2 = o3.to();
            if (e3.display.viewTo == e3.display.viewFrom || r2.line >= e3.display.viewTo || i2.line < e3.display.viewFrom) t4.removeAllRanges();
            else {
              var a2 = ol(e3, t4.anchorNode, t4.anchorOffset), s2 = ol(e3, t4.focusNode, t4.focusOffset);
              if (!a2 || a2.bad || !s2 || s2.bad || 0 != ae(ue(a2, s2), r2) || 0 != ae(ce(a2, s2), i2)) {
                var l2 = e3.display.view, c2 = r2.line >= e3.display.viewFrom && Qs(e3, r2) || { node: l2[0].measure.map[2], offset: 0 }, u2 = i2.line < e3.display.viewTo && Qs(e3, i2);
                if (!u2) {
                  var p2 = l2[l2.length - 1].measure, d2 = p2.maps ? p2.maps[p2.maps.length - 1] : p2.map;
                  u2 = { node: d2[d2.length - 1], offset: d2[d2.length - 2] - d2[d2.length - 3] };
                }
                if (c2 && u2) {
                  var f2, h2 = t4.rangeCount && t4.getRangeAt(0);
                  try {
                    f2 = O(c2.node, c2.offset, u2.offset, u2.node);
                  } catch (t5) {
                  }
                  f2 && (!n2 && e3.state.focused ? (t4.collapse(c2.node, c2.offset), f2.collapsed || (t4.removeAllRanges(), t4.addRange(f2))) : (t4.removeAllRanges(), t4.addRange(f2)), h2 && null == t4.anchorNode ? t4.addRange(h2) : n2 && this.startGracePeriod()), this.rememberSelection();
                } else t4.removeAllRanges();
              }
            }
          }, Zs.prototype.startGracePeriod = function() {
            var t4 = this;
            clearTimeout(this.gracePeriod), this.gracePeriod = setTimeout((function() {
              t4.gracePeriod = false, t4.selectionChanged() && t4.cm.operation((function() {
                return t4.cm.curOp.selectionChanged = true;
              }));
            }), 20);
          }, Zs.prototype.showMultipleSelections = function(t4) {
            E(this.cm.display.cursorDiv, t4.cursors), E(this.cm.display.selectionDiv, t4.selection);
          }, Zs.prototype.rememberSelection = function() {
            var t4 = this.getSelection();
            this.lastAnchorNode = t4.anchorNode, this.lastAnchorOffset = t4.anchorOffset, this.lastFocusNode = t4.focusNode, this.lastFocusOffset = t4.focusOffset;
          }, Zs.prototype.selectionInEditor = function() {
            var t4 = this.getSelection();
            if (!t4.rangeCount) return false;
            var e3 = t4.getRangeAt(0).commonAncestorContainer;
            return j(this.div, e3);
          }, Zs.prototype.focus = function() {
            "nocursor" != this.cm.options.readOnly && (this.selectionInEditor() && M() == this.div || this.showSelection(this.prepareSelection(), true), this.div.focus());
          }, Zs.prototype.blur = function() {
            this.div.blur();
          }, Zs.prototype.getField = function() {
            return this.div;
          }, Zs.prototype.supportsTouch = function() {
            return true;
          }, Zs.prototype.receivedFocus = function() {
            var t4 = this, e3 = this;
            function n3() {
              e3.cm.state.focused && (e3.pollSelection(), e3.polling.set(e3.cm.options.pollInterval, n3));
            }
            this.selectionInEditor() ? setTimeout((function() {
              return t4.pollSelection();
            }), 20) : Mr(this.cm, (function() {
              return e3.cm.curOp.selectionChanged = true;
            })), this.polling.set(this.cm.options.pollInterval, n3);
          }, Zs.prototype.selectionChanged = function() {
            var t4 = this.getSelection();
            return t4.anchorNode != this.lastAnchorNode || t4.anchorOffset != this.lastAnchorOffset || t4.focusNode != this.lastFocusNode || t4.focusOffset != this.lastFocusOffset;
          }, Zs.prototype.pollSelection = function() {
            if (null == this.readDOMTimeout && !this.gracePeriod && this.selectionChanged()) {
              var t4 = this.getSelection(), e3 = this.cm;
              if (g && u && this.cm.display.gutterSpecs.length && tl(t4.anchorNode)) return this.cm.triggerOnKeyDown({ type: "keydown", keyCode: 8, preventDefault: Math.abs }), this.blur(), void this.focus();
              if (!this.composing) {
                this.rememberSelection();
                var n3 = ol(e3, t4.anchorNode, t4.anchorOffset), o3 = ol(e3, t4.focusNode, t4.focusOffset);
                n3 && o3 && Mr(e3, (function() {
                  zi(e3.doc, li(n3, o3), B), (n3.bad || o3.bad) && (e3.curOp.selectionChanged = true);
                }));
              }
            }
          }, Zs.prototype.pollContent = function() {
            null != this.readDOMTimeout && (clearTimeout(this.readDOMTimeout), this.readDOMTimeout = null);
            var t4, e3, n3, o3 = this.cm, r2 = o3.display, i2 = o3.doc.sel.primary(), a2 = i2.from(), s2 = i2.to();
            if (0 == a2.ch && a2.line > o3.firstLine() && (a2 = ie(a2.line - 1, Xt(o3.doc, a2.line - 1).length)), s2.ch == Xt(o3.doc, s2.line).text.length && s2.line < o3.lastLine() && (s2 = ie(s2.line + 1, 0)), a2.line < r2.viewFrom || s2.line > r2.viewTo - 1) return false;
            a2.line == r2.viewFrom || 0 == (t4 = Ro(o3, a2.line)) ? (e3 = ee(r2.view[0].line), n3 = r2.view[0].node) : (e3 = ee(r2.view[t4].line), n3 = r2.view[t4 - 1].node.nextSibling);
            var l2, c2, u2 = Ro(o3, s2.line);
            if (u2 == r2.view.length - 1 ? (l2 = r2.viewTo - 1, c2 = r2.lineDiv.lastChild) : (l2 = ee(r2.view[u2 + 1].line) - 1, c2 = r2.view[u2 + 1].node.previousSibling), !n3) return false;
            for (var p2 = o3.doc.splitLines(nl(o3, n3, c2, e3, l2)), d2 = Zt(o3.doc, ie(e3, 0), ie(l2, Xt(o3.doc, l2).text.length)); p2.length > 1 && d2.length > 1; ) if (Y(p2) == Y(d2)) p2.pop(), d2.pop(), l2--;
            else {
              if (p2[0] != d2[0]) break;
              p2.shift(), d2.shift(), e3++;
            }
            for (var f2 = 0, h2 = 0, v2 = p2[0], g2 = d2[0], y2 = Math.min(v2.length, g2.length); f2 < y2 && v2.charCodeAt(f2) == g2.charCodeAt(f2); ) ++f2;
            for (var m2 = Y(p2), b2 = Y(d2), _2 = Math.min(m2.length - (1 == p2.length ? f2 : 0), b2.length - (1 == d2.length ? f2 : 0)); h2 < _2 && m2.charCodeAt(m2.length - h2 - 1) == b2.charCodeAt(b2.length - h2 - 1); ) ++h2;
            if (1 == p2.length && 1 == d2.length && e3 == a2.line) for (; f2 && f2 > a2.ch && m2.charCodeAt(m2.length - h2 - 1) == b2.charCodeAt(b2.length - h2 - 1); ) f2--, h2++;
            p2[p2.length - 1] = m2.slice(0, m2.length - h2).replace(/^\u200b+/, ""), p2[0] = p2[0].slice(f2).replace(/\u200b+$/, "");
            var w2 = ie(e3, f2), x2 = ie(l2, d2.length ? Y(d2).length - h2 : 0);
            return p2.length > 1 || p2[0] || ae(w2, x2) ? (ra(o3.doc, p2, w2, x2, "+input"), true) : void 0;
          }, Zs.prototype.ensurePolled = function() {
            this.forceCompositionEnd();
          }, Zs.prototype.reset = function() {
            this.forceCompositionEnd();
          }, Zs.prototype.forceCompositionEnd = function() {
            this.composing && (clearTimeout(this.readDOMTimeout), this.composing = null, this.updateFromDOM(), this.div.blur(), this.div.focus());
          }, Zs.prototype.readFromDOMSoon = function() {
            var t4 = this;
            null == this.readDOMTimeout && (this.readDOMTimeout = setTimeout((function() {
              if (t4.readDOMTimeout = null, t4.composing) {
                if (!t4.composing.done) return;
                t4.composing = null;
              }
              t4.updateFromDOM();
            }), 80));
          }, Zs.prototype.updateFromDOM = function() {
            var t4 = this;
            !this.cm.isReadOnly() && this.pollContent() || Mr(this.cm, (function() {
              return Vo(t4.cm);
            }));
          }, Zs.prototype.setUneditable = function(t4) {
            t4.contentEditable = "false";
          }, Zs.prototype.onKeyPress = function(t4) {
            0 == t4.charCode || this.composing || (t4.preventDefault(), this.cm.isReadOnly() || Dr(this.cm, Bs)(this.cm, String.fromCharCode(null == t4.charCode ? t4.keyCode : t4.charCode), 0));
          }, Zs.prototype.readOnlyChanged = function(t4) {
            this.div.contentEditable = String("nocursor" != t4);
          }, Zs.prototype.onContextMenu = function() {
          }, Zs.prototype.resetPosition = function() {
          }, Zs.prototype.needsContentAttribute = true;
          var il = function(t4) {
            this.cm = t4, this.prevInput = "", this.pollingFast = false, this.polling = new F(), this.hasSelection = false, this.composing = null;
          };
          function al(t4, e3) {
            if ((e3 = e3 ? R(e3) : {}).value = t4.value, !e3.tabindex && t4.tabIndex && (e3.tabindex = t4.tabIndex), !e3.placeholder && t4.placeholder && (e3.placeholder = t4.placeholder), null == e3.autofocus) {
              var n3 = M();
              e3.autofocus = n3 == t4 || null != t4.getAttribute("autofocus") && n3 == document.body;
            }
            function o3() {
              t4.value = s2.getValue();
            }
            var r2;
            if (t4.form && (ht(t4.form, "submit", o3), !e3.leaveSubmitMethodAlone)) {
              var i2 = t4.form;
              r2 = i2.submit;
              try {
                var a2 = i2.submit = function() {
                  o3(), i2.submit = r2, i2.submit(), i2.submit = a2;
                };
              } catch (t5) {
              }
            }
            e3.finishInit = function(n4) {
              n4.save = o3, n4.getTextArea = function() {
                return t4;
              }, n4.toTextArea = function() {
                n4.toTextArea = isNaN, o3(), t4.parentNode.removeChild(n4.getWrapperElement()), t4.style.display = "", t4.form && (gt(t4.form, "submit", o3), e3.leaveSubmitMethodAlone || "function" != typeof t4.form.submit || (t4.form.submit = r2));
              };
            }, t4.style.display = "none";
            var s2 = Rs((function(e4) {
              return t4.parentNode.insertBefore(e4, t4.nextSibling);
            }), e3);
            return s2;
          }
          function sl(t4) {
            t4.off = gt, t4.on = ht, t4.wheelEventPixels = oi, t4.Doc = Ca, t4.splitLines = Lt, t4.countColumn = V, t4.findColumn = q, t4.isWordChar = et, t4.Pass = z, t4.signal = yt, t4.Line = cn, t4.changeEnd = ci, t4.scrollbarModel = wr, t4.Pos = ie, t4.cmpPos = ae, t4.modes = Ft, t4.mimeModes = Ht, t4.resolveMode = Bt, t4.getMode = Wt, t4.modeExtensions = $t, t4.extendMode = qt, t4.copyState = Gt, t4.startState = Yt, t4.innerMode = Kt, t4.commands = Xa, t4.keyMap = Va, t4.keyName = Wa, t4.isModifierKey = za, t4.lookupKey = Ua, t4.normalizeKeyMap = Ha, t4.StringStream = Jt, t4.SharedTextMarker = ya, t4.TextMarker = va, t4.LineWidget = pa, t4.e_preventDefault = xt, t4.e_stopPropagation = Ct, t4.e_stop = Ot, t4.addClass = D, t4.contains = j, t4.rmClass = T, t4.keyNames = La;
          }
          il.prototype.init = function(t4) {
            var e3 = this, n3 = this, o3 = this.cm;
            this.createField(t4);
            var r2 = this.textarea;
            function i2(t5) {
              if (!mt(o3, t5)) {
                if (o3.somethingSelected()) zs({ lineWise: false, text: o3.getSelections() });
                else {
                  if (!o3.options.lineWiseCopyCut) return;
                  var e4 = qs(o3);
                  zs({ lineWise: true, text: e4.text }), "cut" == t5.type ? o3.setSelections(e4.ranges, null, B) : (n3.prevInput = "", r2.value = e4.text.join("\n"), I(r2));
                }
                "cut" == t5.type && (o3.state.cutIncoming = +/* @__PURE__ */ new Date());
              }
            }
            t4.wrapper.insertBefore(this.wrapper, t4.wrapper.firstChild), v && (r2.style.width = "0px"), ht(r2, "input", (function() {
              a && s >= 9 && e3.hasSelection && (e3.hasSelection = null), n3.poll();
            })), ht(r2, "paste", (function(t5) {
              mt(o3, t5) || Ws(t5, o3) || (o3.state.pasteIncoming = +/* @__PURE__ */ new Date(), n3.fastPoll());
            })), ht(r2, "cut", i2), ht(r2, "copy", i2), ht(t4.scroller, "paste", (function(e4) {
              if (!Wn(t4, e4) && !mt(o3, e4)) {
                if (!r2.dispatchEvent) return o3.state.pasteIncoming = +/* @__PURE__ */ new Date(), void n3.focus();
                var i3 = new Event("paste");
                i3.clipboardData = e4.clipboardData, r2.dispatchEvent(i3);
              }
            })), ht(t4.lineSpace, "selectstart", (function(e4) {
              Wn(t4, e4) || xt(e4);
            })), ht(r2, "compositionstart", (function() {
              var t5 = o3.getCursor("from");
              n3.composing && n3.composing.range.clear(), n3.composing = { start: t5, range: o3.markText(t5, o3.getCursor("to"), { className: "CodeMirror-composing" }) };
            })), ht(r2, "compositionend", (function() {
              n3.composing && (n3.poll(), n3.composing.range.clear(), n3.composing = null);
            }));
          }, il.prototype.createField = function(t4) {
            this.wrapper = Ks(), this.textarea = this.wrapper.firstChild;
          }, il.prototype.screenReaderLabelChanged = function(t4) {
            t4 ? this.textarea.setAttribute("aria-label", t4) : this.textarea.removeAttribute("aria-label");
          }, il.prototype.prepareSelection = function() {
            var t4 = this.cm, e3 = t4.display, n3 = t4.doc, o3 = $o(t4);
            if (t4.options.moveInputWithCursor) {
              var r2 = _o(t4, n3.sel.primary().head, "div"), i2 = e3.wrapper.getBoundingClientRect(), a2 = e3.lineDiv.getBoundingClientRect();
              o3.teTop = Math.max(0, Math.min(e3.wrapper.clientHeight - 10, r2.top + a2.top - i2.top)), o3.teLeft = Math.max(0, Math.min(e3.wrapper.clientWidth - 10, r2.left + a2.left - i2.left));
            }
            return o3;
          }, il.prototype.showSelection = function(t4) {
            var e3 = this.cm.display;
            E(e3.cursorDiv, t4.cursors), E(e3.selectionDiv, t4.selection), null != t4.teTop && (this.wrapper.style.top = t4.teTop + "px", this.wrapper.style.left = t4.teLeft + "px");
          }, il.prototype.reset = function(t4) {
            if (!this.contextMenuPending && !this.composing) {
              var e3 = this.cm;
              if (e3.somethingSelected()) {
                this.prevInput = "";
                var n3 = e3.getSelection();
                this.textarea.value = n3, e3.state.focused && I(this.textarea), a && s >= 9 && (this.hasSelection = n3);
              } else t4 || (this.prevInput = this.textarea.value = "", a && s >= 9 && (this.hasSelection = null));
            }
          }, il.prototype.getField = function() {
            return this.textarea;
          }, il.prototype.supportsTouch = function() {
            return false;
          }, il.prototype.focus = function() {
            if ("nocursor" != this.cm.options.readOnly && (!y || M() != this.textarea)) try {
              this.textarea.focus();
            } catch (t4) {
            }
          }, il.prototype.blur = function() {
            this.textarea.blur();
          }, il.prototype.resetPosition = function() {
            this.wrapper.style.top = this.wrapper.style.left = 0;
          }, il.prototype.receivedFocus = function() {
            this.slowPoll();
          }, il.prototype.slowPoll = function() {
            var t4 = this;
            this.pollingFast || this.polling.set(this.cm.options.pollInterval, (function() {
              t4.poll(), t4.cm.state.focused && t4.slowPoll();
            }));
          }, il.prototype.fastPoll = function() {
            var t4 = false, e3 = this;
            function n3() {
              e3.poll() || t4 ? (e3.pollingFast = false, e3.slowPoll()) : (t4 = true, e3.polling.set(60, n3));
            }
            e3.pollingFast = true, e3.polling.set(20, n3);
          }, il.prototype.poll = function() {
            var t4 = this, e3 = this.cm, n3 = this.textarea, o3 = this.prevInput;
            if (this.contextMenuPending || !e3.state.focused || It(n3) && !o3 && !this.composing || e3.isReadOnly() || e3.options.disableInput || e3.state.keySeq) return false;
            var r2 = n3.value;
            if (r2 == o3 && !e3.somethingSelected()) return false;
            if (a && s >= 9 && this.hasSelection === r2 || m && /[\uf700-\uf7ff]/.test(r2)) return e3.display.input.reset(), false;
            if (e3.doc.sel == e3.display.selForContextMenu) {
              var i2 = r2.charCodeAt(0);
              if (8203 != i2 || o3 || (o3 = ""), 8666 == i2) return this.reset(), this.cm.execCommand("undo");
            }
            for (var l2 = 0, c2 = Math.min(o3.length, r2.length); l2 < c2 && o3.charCodeAt(l2) == r2.charCodeAt(l2); ) ++l2;
            return Mr(e3, (function() {
              Bs(e3, r2.slice(l2), o3.length - l2, null, t4.composing ? "*compose" : null), r2.length > 1e3 || r2.indexOf("\n") > -1 ? n3.value = t4.prevInput = "" : t4.prevInput = r2, t4.composing && (t4.composing.range.clear(), t4.composing.range = e3.markText(t4.composing.start, e3.getCursor("to"), { className: "CodeMirror-composing" }));
            })), true;
          }, il.prototype.ensurePolled = function() {
            this.pollingFast && this.poll() && (this.pollingFast = false);
          }, il.prototype.onKeyPress = function() {
            a && s >= 9 && (this.hasSelection = null), this.fastPoll();
          }, il.prototype.onContextMenu = function(t4) {
            var e3 = this, n3 = e3.cm, o3 = n3.display, r2 = e3.textarea;
            e3.contextMenuPending && e3.contextMenuPending();
            var i2 = No(n3, t4), c2 = o3.scroller.scrollTop;
            if (i2 && !p) {
              n3.options.resetSelectionOnContextMenu && -1 == n3.doc.sel.contains(i2) && Dr(n3, zi)(n3.doc, li(i2), B);
              var u2, d2 = r2.style.cssText, f2 = e3.wrapper.style.cssText, h2 = e3.wrapper.offsetParent.getBoundingClientRect();
              if (e3.wrapper.style.cssText = "position: static", r2.style.cssText = "position: absolute; width: 30px; height: 30px;\n      top: " + (t4.clientY - h2.top - 5) + "px; left: " + (t4.clientX - h2.left - 5) + "px;\n      z-index: 1000; background: " + (a ? "rgba(255, 255, 255, .05)" : "transparent") + ";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);", l && (u2 = window.scrollY), o3.input.focus(), l && window.scrollTo(null, u2), o3.input.reset(), n3.somethingSelected() || (r2.value = e3.prevInput = " "), e3.contextMenuPending = y2, o3.selForContextMenu = n3.doc.sel, clearTimeout(o3.detectingSelectAll), a && s >= 9 && g2(), C) {
                Ot(t4);
                var v2 = function() {
                  gt(window, "mouseup", v2), setTimeout(y2, 20);
                };
                ht(window, "mouseup", v2);
              } else setTimeout(y2, 50);
            }
            function g2() {
              if (null != r2.selectionStart) {
                var t5 = n3.somethingSelected(), i3 = "" + (t5 ? r2.value : "");
                r2.value = "", r2.value = i3, e3.prevInput = t5 ? "" : "", r2.selectionStart = 1, r2.selectionEnd = i3.length, o3.selForContextMenu = n3.doc.sel;
              }
            }
            function y2() {
              if (e3.contextMenuPending == y2 && (e3.contextMenuPending = false, e3.wrapper.style.cssText = f2, r2.style.cssText = d2, a && s < 9 && o3.scrollbars.setScrollTop(o3.scroller.scrollTop = c2), null != r2.selectionStart)) {
                (!a || a && s < 9) && g2();
                var t5 = 0, i3 = function() {
                  o3.selForContextMenu == n3.doc.sel && 0 == r2.selectionStart && r2.selectionEnd > 0 && "" == e3.prevInput ? Dr(n3, Ji)(n3) : t5++ < 10 ? o3.detectingSelectAll = setTimeout(i3, 500) : (o3.selForContextMenu = null, o3.input.reset());
                };
                o3.detectingSelectAll = setTimeout(i3, 200);
              }
            }
          }, il.prototype.readOnlyChanged = function(t4) {
            t4 || this.reset(), this.textarea.disabled = "nocursor" == t4, this.textarea.readOnly = !!t4;
          }, il.prototype.setUneditable = function() {
          }, il.prototype.needsContentAttribute = false, Ls(Rs), Ys(Rs);
          var ll = "iter insert remove copy getEditor constructor".split(" ");
          for (var cl in Ca.prototype) Ca.prototype.hasOwnProperty(cl) && H(ll, cl) < 0 && (Rs.prototype[cl] = /* @__PURE__ */ (function(t4) {
            return function() {
              return t4.apply(this.doc, arguments);
            };
          })(Ca.prototype[cl]));
          return wt(Ca), Rs.inputStyles = { textarea: il, contenteditable: Zs }, Rs.defineMode = function(t4) {
            Rs.defaults.mode || "null" == t4 || (Rs.defaults.mode = t4), Ut.apply(this, arguments);
          }, Rs.defineMIME = zt, Rs.defineMode("null", (function() {
            return { token: function(t4) {
              return t4.skipToEnd();
            } };
          })), Rs.defineMIME("text/plain", "null"), Rs.defineExtension = function(t4, e3) {
            Rs.prototype[t4] = e3;
          }, Rs.defineDocExtension = function(t4, e3) {
            Ca.prototype[t4] = e3;
          }, Rs.fromTextArea = al, sl(Rs), Rs.version = "5.63.0", Rs;
        })();
      }, 7389: (t2, e2, n2) => {
        (function(t3) {
          "use strict";
          function e3(t4) {
            for (var e4 = {}, n4 = 0; n4 < t4.length; ++n4) e4[t4[n4].toLowerCase()] = true;
            return e4;
          }
          t3.defineMode("css", (function(e4, n4) {
            var o3 = n4.inline;
            n4.propertyKeywords || (n4 = t3.resolveMode("text/css"));
            var r2, i2, a2 = e4.indentUnit, s2 = n4.tokenHooks, l2 = n4.documentTypes || {}, c2 = n4.mediaTypes || {}, u2 = n4.mediaFeatures || {}, p2 = n4.mediaValueKeywords || {}, d2 = n4.propertyKeywords || {}, f2 = n4.nonStandardPropertyKeywords || {}, h2 = n4.fontProperties || {}, v2 = n4.counterDescriptors || {}, g2 = n4.colorKeywords || {}, y2 = n4.valueKeywords || {}, m2 = n4.allowNested, b2 = n4.lineComment, _2 = true === n4.supportsAtComponent, w2 = false !== e4.highlightNonStandardPropertyKeywords;
            function x(t4, e5) {
              return r2 = e5, t4;
            }
            function C(t4, e5) {
              var n5 = t4.next();
              if (s2[n5]) {
                var o4 = s2[n5](t4, e5);
                if (false !== o4) return o4;
              }
              return "@" == n5 ? (t4.eatWhile(/[\w\\\-]/), x("def", t4.current())) : "=" == n5 || ("~" == n5 || "|" == n5) && t4.eat("=") ? x(null, "compare") : '"' == n5 || "'" == n5 ? (e5.tokenize = S(n5), e5.tokenize(t4, e5)) : "#" == n5 ? (t4.eatWhile(/[\w\\\-]/), x("atom", "hash")) : "!" == n5 ? (t4.match(/^\s*\w*/), x("keyword", "important")) : /\d/.test(n5) || "." == n5 && t4.eat(/\d/) ? (t4.eatWhile(/[\w.%]/), x("number", "unit")) : "-" !== n5 ? /[,+>*\/]/.test(n5) ? x(null, "select-op") : "." == n5 && t4.match(/^-?[_a-z][_a-z0-9-]*/i) ? x("qualifier", "qualifier") : /[:;{}\[\]\(\)]/.test(n5) ? x(null, n5) : t4.match(/^[\w-.]+(?=\()/) ? (/^(url(-prefix)?|domain|regexp)$/i.test(t4.current()) && (e5.tokenize = O), x("variable callee", "variable")) : /[\w\\\-]/.test(n5) ? (t4.eatWhile(/[\w\\\-]/), x("property", "word")) : x(null, null) : /[\d.]/.test(t4.peek()) ? (t4.eatWhile(/[\w.%]/), x("number", "unit")) : t4.match(/^-[\w\\\-]*/) ? (t4.eatWhile(/[\w\\\-]/), t4.match(/^\s*:/, false) ? x("variable-2", "variable-definition") : x("variable-2", "variable")) : t4.match(/^\w+-/) ? x("meta", "meta") : void 0;
            }
            function S(t4) {
              return function(e5, n5) {
                for (var o4, r3 = false; null != (o4 = e5.next()); ) {
                  if (o4 == t4 && !r3) {
                    ")" == t4 && e5.backUp(1);
                    break;
                  }
                  r3 = !r3 && "\\" == o4;
                }
                return (o4 == t4 || !r3 && ")" != t4) && (n5.tokenize = null), x("string", "string");
              };
            }
            function O(t4, e5) {
              return t4.next(), t4.match(/^\s*[\"\')]/, false) ? e5.tokenize = null : e5.tokenize = S(")"), x(null, "(");
            }
            function T(t4, e5, n5) {
              this.type = t4, this.indent = e5, this.prev = n5;
            }
            function P(t4, e5, n5, o4) {
              return t4.context = new T(n5, e5.indentation() + (false === o4 ? 0 : a2), t4.context), n5;
            }
            function E(t4) {
              return t4.context.prev && (t4.context = t4.context.prev), t4.context.type;
            }
            function k(t4, e5, n5) {
              return M[n5.context.type](t4, e5, n5);
            }
            function A(t4, e5, n5, o4) {
              for (var r3 = o4 || 1; r3 > 0; r3--) n5.context = n5.context.prev;
              return k(t4, e5, n5);
            }
            function j(t4) {
              var e5 = t4.current().toLowerCase();
              i2 = y2.hasOwnProperty(e5) ? "atom" : g2.hasOwnProperty(e5) ? "keyword" : "variable";
            }
            var M = { top: function(t4, e5, n5) {
              if ("{" == t4) return P(n5, e5, "block");
              if ("}" == t4 && n5.context.prev) return E(n5);
              if (_2 && /@component/i.test(t4)) return P(n5, e5, "atComponentBlock");
              if (/^@(-moz-)?document$/i.test(t4)) return P(n5, e5, "documentTypes");
              if (/^@(media|supports|(-moz-)?document|import)$/i.test(t4)) return P(n5, e5, "atBlock");
              if (/^@(font-face|counter-style)/i.test(t4)) return n5.stateArg = t4, "restricted_atBlock_before";
              if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(t4)) return "keyframes";
              if (t4 && "@" == t4.charAt(0)) return P(n5, e5, "at");
              if ("hash" == t4) i2 = "builtin";
              else if ("word" == t4) i2 = "tag";
              else {
                if ("variable-definition" == t4) return "maybeprop";
                if ("interpolation" == t4) return P(n5, e5, "interpolation");
                if (":" == t4) return "pseudo";
                if (m2 && "(" == t4) return P(n5, e5, "parens");
              }
              return n5.context.type;
            }, block: function(t4, e5, n5) {
              if ("word" == t4) {
                var o4 = e5.current().toLowerCase();
                return d2.hasOwnProperty(o4) ? (i2 = "property", "maybeprop") : f2.hasOwnProperty(o4) ? (i2 = w2 ? "string-2" : "property", "maybeprop") : m2 ? (i2 = e5.match(/^\s*:(?:\s|$)/, false) ? "property" : "tag", "block") : (i2 += " error", "maybeprop");
              }
              return "meta" == t4 ? "block" : m2 || "hash" != t4 && "qualifier" != t4 ? M.top(t4, e5, n5) : (i2 = "error", "block");
            }, maybeprop: function(t4, e5, n5) {
              return ":" == t4 ? P(n5, e5, "prop") : k(t4, e5, n5);
            }, prop: function(t4, e5, n5) {
              if (";" == t4) return E(n5);
              if ("{" == t4 && m2) return P(n5, e5, "propBlock");
              if ("}" == t4 || "{" == t4) return A(t4, e5, n5);
              if ("(" == t4) return P(n5, e5, "parens");
              if ("hash" != t4 || /^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(e5.current())) {
                if ("word" == t4) j(e5);
                else if ("interpolation" == t4) return P(n5, e5, "interpolation");
              } else i2 += " error";
              return "prop";
            }, propBlock: function(t4, e5, n5) {
              return "}" == t4 ? E(n5) : "word" == t4 ? (i2 = "property", "maybeprop") : n5.context.type;
            }, parens: function(t4, e5, n5) {
              return "{" == t4 || "}" == t4 ? A(t4, e5, n5) : ")" == t4 ? E(n5) : "(" == t4 ? P(n5, e5, "parens") : "interpolation" == t4 ? P(n5, e5, "interpolation") : ("word" == t4 && j(e5), "parens");
            }, pseudo: function(t4, e5, n5) {
              return "meta" == t4 ? "pseudo" : "word" == t4 ? (i2 = "variable-3", n5.context.type) : k(t4, e5, n5);
            }, documentTypes: function(t4, e5, n5) {
              return "word" == t4 && l2.hasOwnProperty(e5.current()) ? (i2 = "tag", n5.context.type) : M.atBlock(t4, e5, n5);
            }, atBlock: function(t4, e5, n5) {
              if ("(" == t4) return P(n5, e5, "atBlock_parens");
              if ("}" == t4 || ";" == t4) return A(t4, e5, n5);
              if ("{" == t4) return E(n5) && P(n5, e5, m2 ? "block" : "top");
              if ("interpolation" == t4) return P(n5, e5, "interpolation");
              if ("word" == t4) {
                var o4 = e5.current().toLowerCase();
                i2 = "only" == o4 || "not" == o4 || "and" == o4 || "or" == o4 ? "keyword" : c2.hasOwnProperty(o4) ? "attribute" : u2.hasOwnProperty(o4) ? "property" : p2.hasOwnProperty(o4) ? "keyword" : d2.hasOwnProperty(o4) ? "property" : f2.hasOwnProperty(o4) ? w2 ? "string-2" : "property" : y2.hasOwnProperty(o4) ? "atom" : g2.hasOwnProperty(o4) ? "keyword" : "error";
              }
              return n5.context.type;
            }, atComponentBlock: function(t4, e5, n5) {
              return "}" == t4 ? A(t4, e5, n5) : "{" == t4 ? E(n5) && P(n5, e5, m2 ? "block" : "top", false) : ("word" == t4 && (i2 = "error"), n5.context.type);
            }, atBlock_parens: function(t4, e5, n5) {
              return ")" == t4 ? E(n5) : "{" == t4 || "}" == t4 ? A(t4, e5, n5, 2) : M.atBlock(t4, e5, n5);
            }, restricted_atBlock_before: function(t4, e5, n5) {
              return "{" == t4 ? P(n5, e5, "restricted_atBlock") : "word" == t4 && "@counter-style" == n5.stateArg ? (i2 = "variable", "restricted_atBlock_before") : k(t4, e5, n5);
            }, restricted_atBlock: function(t4, e5, n5) {
              return "}" == t4 ? (n5.stateArg = null, E(n5)) : "word" == t4 ? (i2 = "@font-face" == n5.stateArg && !h2.hasOwnProperty(e5.current().toLowerCase()) || "@counter-style" == n5.stateArg && !v2.hasOwnProperty(e5.current().toLowerCase()) ? "error" : "property", "maybeprop") : "restricted_atBlock";
            }, keyframes: function(t4, e5, n5) {
              return "word" == t4 ? (i2 = "variable", "keyframes") : "{" == t4 ? P(n5, e5, "top") : k(t4, e5, n5);
            }, at: function(t4, e5, n5) {
              return ";" == t4 ? E(n5) : "{" == t4 || "}" == t4 ? A(t4, e5, n5) : ("word" == t4 ? i2 = "tag" : "hash" == t4 && (i2 = "builtin"), "at");
            }, interpolation: function(t4, e5, n5) {
              return "}" == t4 ? E(n5) : "{" == t4 || ";" == t4 ? A(t4, e5, n5) : ("word" == t4 ? i2 = "variable" : "variable" != t4 && "(" != t4 && ")" != t4 && (i2 = "error"), "interpolation");
            } };
            return { startState: function(t4) {
              return { tokenize: null, state: o3 ? "block" : "top", stateArg: null, context: new T(o3 ? "block" : "top", t4 || 0, null) };
            }, token: function(t4, e5) {
              if (!e5.tokenize && t4.eatSpace()) return null;
              var n5 = (e5.tokenize || C)(t4, e5);
              return n5 && "object" == typeof n5 && (r2 = n5[1], n5 = n5[0]), i2 = n5, "comment" != r2 && (e5.state = M[e5.state](r2, t4, e5)), i2;
            }, indent: function(t4, e5) {
              var n5 = t4.context, o4 = e5 && e5.charAt(0), r3 = n5.indent;
              return "prop" != n5.type || "}" != o4 && ")" != o4 || (n5 = n5.prev), n5.prev && ("}" != o4 || "block" != n5.type && "top" != n5.type && "interpolation" != n5.type && "restricted_atBlock" != n5.type ? (")" != o4 || "parens" != n5.type && "atBlock_parens" != n5.type) && ("{" != o4 || "at" != n5.type && "atBlock" != n5.type) || (r3 = Math.max(0, n5.indent - a2)) : r3 = (n5 = n5.prev).indent), r3;
            }, electricChars: "}", blockCommentStart: "/*", blockCommentEnd: "*/", blockCommentContinue: " * ", lineComment: b2, fold: "brace" };
          }));
          var n3 = ["domain", "regexp", "url", "url-prefix"], o2 = e3(n3), r = ["all", "aural", "braille", "handheld", "print", "projection", "screen", "tty", "tv", "embossed"], i = e3(r), a = ["width", "min-width", "max-width", "height", "min-height", "max-height", "device-width", "min-device-width", "max-device-width", "device-height", "min-device-height", "max-device-height", "aspect-ratio", "min-aspect-ratio", "max-aspect-ratio", "device-aspect-ratio", "min-device-aspect-ratio", "max-device-aspect-ratio", "color", "min-color", "max-color", "color-index", "min-color-index", "max-color-index", "monochrome", "min-monochrome", "max-monochrome", "resolution", "min-resolution", "max-resolution", "scan", "grid", "orientation", "device-pixel-ratio", "min-device-pixel-ratio", "max-device-pixel-ratio", "pointer", "any-pointer", "hover", "any-hover", "prefers-color-scheme"], s = e3(a), l = ["landscape", "portrait", "none", "coarse", "fine", "on-demand", "hover", "interlace", "progressive", "dark", "light"], c = e3(l), u = ["align-content", "align-items", "align-self", "alignment-adjust", "alignment-baseline", "all", "anchor-point", "animation", "animation-delay", "animation-direction", "animation-duration", "animation-fill-mode", "animation-iteration-count", "animation-name", "animation-play-state", "animation-timing-function", "appearance", "azimuth", "backdrop-filter", "backface-visibility", "background", "background-attachment", "background-blend-mode", "background-clip", "background-color", "background-image", "background-origin", "background-position", "background-position-x", "background-position-y", "background-repeat", "background-size", "baseline-shift", "binding", "bleed", "block-size", "bookmark-label", "bookmark-level", "bookmark-state", "bookmark-target", "border", "border-bottom", "border-bottom-color", "border-bottom-left-radius", "border-bottom-right-radius", "border-bottom-style", "border-bottom-width", "border-collapse", "border-color", "border-image", "border-image-outset", "border-image-repeat", "border-image-slice", "border-image-source", "border-image-width", "border-left", "border-left-color", "border-left-style", "border-left-width", "border-radius", "border-right", "border-right-color", "border-right-style", "border-right-width", "border-spacing", "border-style", "border-top", "border-top-color", "border-top-left-radius", "border-top-right-radius", "border-top-style", "border-top-width", "border-width", "bottom", "box-decoration-break", "box-shadow", "box-sizing", "break-after", "break-before", "break-inside", "caption-side", "caret-color", "clear", "clip", "color", "color-profile", "column-count", "column-fill", "column-gap", "column-rule", "column-rule-color", "column-rule-style", "column-rule-width", "column-span", "column-width", "columns", "contain", "content", "counter-increment", "counter-reset", "crop", "cue", "cue-after", "cue-before", "cursor", "direction", "display", "dominant-baseline", "drop-initial-after-adjust", "drop-initial-after-align", "drop-initial-before-adjust", "drop-initial-before-align", "drop-initial-size", "drop-initial-value", "elevation", "empty-cells", "fit", "fit-content", "fit-position", "flex", "flex-basis", "flex-direction", "flex-flow", "flex-grow", "flex-shrink", "flex-wrap", "float", "float-offset", "flow-from", "flow-into", "font", "font-family", "font-feature-settings", "font-kerning", "font-language-override", "font-optical-sizing", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-synthesis", "font-variant", "font-variant-alternates", "font-variant-caps", "font-variant-east-asian", "font-variant-ligatures", "font-variant-numeric", "font-variant-position", "font-variation-settings", "font-weight", "gap", "grid", "grid-area", "grid-auto-columns", "grid-auto-flow", "grid-auto-rows", "grid-column", "grid-column-end", "grid-column-gap", "grid-column-start", "grid-gap", "grid-row", "grid-row-end", "grid-row-gap", "grid-row-start", "grid-template", "grid-template-areas", "grid-template-columns", "grid-template-rows", "hanging-punctuation", "height", "hyphens", "icon", "image-orientation", "image-rendering", "image-resolution", "inline-box-align", "inset", "inset-block", "inset-block-end", "inset-block-start", "inset-inline", "inset-inline-end", "inset-inline-start", "isolation", "justify-content", "justify-items", "justify-self", "left", "letter-spacing", "line-break", "line-height", "line-height-step", "line-stacking", "line-stacking-ruby", "line-stacking-shift", "line-stacking-strategy", "list-style", "list-style-image", "list-style-position", "list-style-type", "margin", "margin-bottom", "margin-left", "margin-right", "margin-top", "marks", "marquee-direction", "marquee-loop", "marquee-play-count", "marquee-speed", "marquee-style", "mask-clip", "mask-composite", "mask-image", "mask-mode", "mask-origin", "mask-position", "mask-repeat", "mask-size", "mask-type", "max-block-size", "max-height", "max-inline-size", "max-width", "min-block-size", "min-height", "min-inline-size", "min-width", "mix-blend-mode", "move-to", "nav-down", "nav-index", "nav-left", "nav-right", "nav-up", "object-fit", "object-position", "offset", "offset-anchor", "offset-distance", "offset-path", "offset-position", "offset-rotate", "opacity", "order", "orphans", "outline", "outline-color", "outline-offset", "outline-style", "outline-width", "overflow", "overflow-style", "overflow-wrap", "overflow-x", "overflow-y", "padding", "padding-bottom", "padding-left", "padding-right", "padding-top", "page", "page-break-after", "page-break-before", "page-break-inside", "page-policy", "pause", "pause-after", "pause-before", "perspective", "perspective-origin", "pitch", "pitch-range", "place-content", "place-items", "place-self", "play-during", "position", "presentation-level", "punctuation-trim", "quotes", "region-break-after", "region-break-before", "region-break-inside", "region-fragment", "rendering-intent", "resize", "rest", "rest-after", "rest-before", "richness", "right", "rotate", "rotation", "rotation-point", "row-gap", "ruby-align", "ruby-overhang", "ruby-position", "ruby-span", "scale", "scroll-behavior", "scroll-margin", "scroll-margin-block", "scroll-margin-block-end", "scroll-margin-block-start", "scroll-margin-bottom", "scroll-margin-inline", "scroll-margin-inline-end", "scroll-margin-inline-start", "scroll-margin-left", "scroll-margin-right", "scroll-margin-top", "scroll-padding", "scroll-padding-block", "scroll-padding-block-end", "scroll-padding-block-start", "scroll-padding-bottom", "scroll-padding-inline", "scroll-padding-inline-end", "scroll-padding-inline-start", "scroll-padding-left", "scroll-padding-right", "scroll-padding-top", "scroll-snap-align", "scroll-snap-type", "shape-image-threshold", "shape-inside", "shape-margin", "shape-outside", "size", "speak", "speak-as", "speak-header", "speak-numeral", "speak-punctuation", "speech-rate", "stress", "string-set", "tab-size", "table-layout", "target", "target-name", "target-new", "target-position", "text-align", "text-align-last", "text-combine-upright", "text-decoration", "text-decoration-color", "text-decoration-line", "text-decoration-skip", "text-decoration-skip-ink", "text-decoration-style", "text-emphasis", "text-emphasis-color", "text-emphasis-position", "text-emphasis-style", "text-height", "text-indent", "text-justify", "text-orientation", "text-outline", "text-overflow", "text-rendering", "text-shadow", "text-size-adjust", "text-space-collapse", "text-transform", "text-underline-position", "text-wrap", "top", "touch-action", "transform", "transform-origin", "transform-style", "transition", "transition-delay", "transition-duration", "transition-property", "transition-timing-function", "translate", "unicode-bidi", "user-select", "vertical-align", "visibility", "voice-balance", "voice-duration", "voice-family", "voice-pitch", "voice-range", "voice-rate", "voice-stress", "voice-volume", "volume", "white-space", "widows", "width", "will-change", "word-break", "word-spacing", "word-wrap", "writing-mode", "z-index", "clip-path", "clip-rule", "mask", "enable-background", "filter", "flood-color", "flood-opacity", "lighting-color", "stop-color", "stop-opacity", "pointer-events", "color-interpolation", "color-interpolation-filters", "color-rendering", "fill", "fill-opacity", "fill-rule", "image-rendering", "marker", "marker-end", "marker-mid", "marker-start", "paint-order", "shape-rendering", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "text-rendering", "baseline-shift", "dominant-baseline", "glyph-orientation-horizontal", "glyph-orientation-vertical", "text-anchor", "writing-mode"], p = e3(u), d = ["accent-color", "aspect-ratio", "border-block", "border-block-color", "border-block-end", "border-block-end-color", "border-block-end-style", "border-block-end-width", "border-block-start", "border-block-start-color", "border-block-start-style", "border-block-start-width", "border-block-style", "border-block-width", "border-inline", "border-inline-color", "border-inline-end", "border-inline-end-color", "border-inline-end-style", "border-inline-end-width", "border-inline-start", "border-inline-start-color", "border-inline-start-style", "border-inline-start-width", "border-inline-style", "border-inline-width", "content-visibility", "margin-block", "margin-block-end", "margin-block-start", "margin-inline", "margin-inline-end", "margin-inline-start", "overflow-anchor", "overscroll-behavior", "padding-block", "padding-block-end", "padding-block-start", "padding-inline", "padding-inline-end", "padding-inline-start", "scroll-snap-stop", "scrollbar-3d-light-color", "scrollbar-arrow-color", "scrollbar-base-color", "scrollbar-dark-shadow-color", "scrollbar-face-color", "scrollbar-highlight-color", "scrollbar-shadow-color", "scrollbar-track-color", "searchfield-cancel-button", "searchfield-decoration", "searchfield-results-button", "searchfield-results-decoration", "shape-inside", "zoom"], f = e3(d), h = e3(["font-display", "font-family", "src", "unicode-range", "font-variant", "font-feature-settings", "font-stretch", "font-weight", "font-style"]), v = e3(["additive-symbols", "fallback", "negative", "pad", "prefix", "range", "speak-as", "suffix", "symbols", "system"]), g = ["aliceblue", "antiquewhite", "aqua", "aquamarine", "azure", "beige", "bisque", "black", "blanchedalmond", "blue", "blueviolet", "brown", "burlywood", "cadetblue", "chartreuse", "chocolate", "coral", "cornflowerblue", "cornsilk", "crimson", "cyan", "darkblue", "darkcyan", "darkgoldenrod", "darkgray", "darkgreen", "darkgrey", "darkkhaki", "darkmagenta", "darkolivegreen", "darkorange", "darkorchid", "darkred", "darksalmon", "darkseagreen", "darkslateblue", "darkslategray", "darkslategrey", "darkturquoise", "darkviolet", "deeppink", "deepskyblue", "dimgray", "dimgrey", "dodgerblue", "firebrick", "floralwhite", "forestgreen", "fuchsia", "gainsboro", "ghostwhite", "gold", "goldenrod", "gray", "grey", "green", "greenyellow", "honeydew", "hotpink", "indianred", "indigo", "ivory", "khaki", "lavender", "lavenderblush", "lawngreen", "lemonchiffon", "lightblue", "lightcoral", "lightcyan", "lightgoldenrodyellow", "lightgray", "lightgreen", "lightgrey", "lightpink", "lightsalmon", "lightseagreen", "lightskyblue", "lightslategray", "lightslategrey", "lightsteelblue", "lightyellow", "lime", "limegreen", "linen", "magenta", "maroon", "mediumaquamarine", "mediumblue", "mediumorchid", "mediumpurple", "mediumseagreen", "mediumslateblue", "mediumspringgreen", "mediumturquoise", "mediumvioletred", "midnightblue", "mintcream", "mistyrose", "moccasin", "navajowhite", "navy", "oldlace", "olive", "olivedrab", "orange", "orangered", "orchid", "palegoldenrod", "palegreen", "paleturquoise", "palevioletred", "papayawhip", "peachpuff", "peru", "pink", "plum", "powderblue", "purple", "rebeccapurple", "red", "rosybrown", "royalblue", "saddlebrown", "salmon", "sandybrown", "seagreen", "seashell", "sienna", "silver", "skyblue", "slateblue", "slategray", "slategrey", "snow", "springgreen", "steelblue", "tan", "teal", "thistle", "tomato", "turquoise", "violet", "wheat", "white", "whitesmoke", "yellow", "yellowgreen"], y = e3(g), m = ["above", "absolute", "activeborder", "additive", "activecaption", "afar", "after-white-space", "ahead", "alias", "all", "all-scroll", "alphabetic", "alternate", "always", "amharic", "amharic-abegede", "antialiased", "appworkspace", "arabic-indic", "armenian", "asterisks", "attr", "auto", "auto-flow", "avoid", "avoid-column", "avoid-page", "avoid-region", "axis-pan", "background", "backwards", "baseline", "below", "bidi-override", "binary", "bengali", "blink", "block", "block-axis", "blur", "bold", "bolder", "border", "border-box", "both", "bottom", "break", "break-all", "break-word", "brightness", "bullets", "button", "button-bevel", "buttonface", "buttonhighlight", "buttonshadow", "buttontext", "calc", "cambodian", "capitalize", "caps-lock-indicator", "caption", "captiontext", "caret", "cell", "center", "checkbox", "circle", "cjk-decimal", "cjk-earthly-branch", "cjk-heavenly-stem", "cjk-ideographic", "clear", "clip", "close-quote", "col-resize", "collapse", "color", "color-burn", "color-dodge", "column", "column-reverse", "compact", "condensed", "contain", "content", "contents", "content-box", "context-menu", "continuous", "contrast", "copy", "counter", "counters", "cover", "crop", "cross", "crosshair", "cubic-bezier", "currentcolor", "cursive", "cyclic", "darken", "dashed", "decimal", "decimal-leading-zero", "default", "default-button", "dense", "destination-atop", "destination-in", "destination-out", "destination-over", "devanagari", "difference", "disc", "discard", "disclosure-closed", "disclosure-open", "document", "dot-dash", "dot-dot-dash", "dotted", "double", "down", "drop-shadow", "e-resize", "ease", "ease-in", "ease-in-out", "ease-out", "element", "ellipse", "ellipsis", "embed", "end", "ethiopic", "ethiopic-abegede", "ethiopic-abegede-am-et", "ethiopic-abegede-gez", "ethiopic-abegede-ti-er", "ethiopic-abegede-ti-et", "ethiopic-halehame-aa-er", "ethiopic-halehame-aa-et", "ethiopic-halehame-am-et", "ethiopic-halehame-gez", "ethiopic-halehame-om-et", "ethiopic-halehame-sid-et", "ethiopic-halehame-so-et", "ethiopic-halehame-ti-er", "ethiopic-halehame-ti-et", "ethiopic-halehame-tig", "ethiopic-numeric", "ew-resize", "exclusion", "expanded", "extends", "extra-condensed", "extra-expanded", "fantasy", "fast", "fill", "fill-box", "fixed", "flat", "flex", "flex-end", "flex-start", "footnotes", "forwards", "from", "geometricPrecision", "georgian", "grayscale", "graytext", "grid", "groove", "gujarati", "gurmukhi", "hand", "hangul", "hangul-consonant", "hard-light", "hebrew", "help", "hidden", "hide", "higher", "highlight", "highlighttext", "hiragana", "hiragana-iroha", "horizontal", "hsl", "hsla", "hue", "hue-rotate", "icon", "ignore", "inactiveborder", "inactivecaption", "inactivecaptiontext", "infinite", "infobackground", "infotext", "inherit", "initial", "inline", "inline-axis", "inline-block", "inline-flex", "inline-grid", "inline-table", "inset", "inside", "intrinsic", "invert", "italic", "japanese-formal", "japanese-informal", "justify", "kannada", "katakana", "katakana-iroha", "keep-all", "khmer", "korean-hangul-formal", "korean-hanja-formal", "korean-hanja-informal", "landscape", "lao", "large", "larger", "left", "level", "lighter", "lighten", "line-through", "linear", "linear-gradient", "lines", "list-item", "listbox", "listitem", "local", "logical", "loud", "lower", "lower-alpha", "lower-armenian", "lower-greek", "lower-hexadecimal", "lower-latin", "lower-norwegian", "lower-roman", "lowercase", "ltr", "luminosity", "malayalam", "manipulation", "match", "matrix", "matrix3d", "media-controls-background", "media-current-time-display", "media-fullscreen-button", "media-mute-button", "media-play-button", "media-return-to-realtime-button", "media-rewind-button", "media-seek-back-button", "media-seek-forward-button", "media-slider", "media-sliderthumb", "media-time-remaining-display", "media-volume-slider", "media-volume-slider-container", "media-volume-sliderthumb", "medium", "menu", "menulist", "menulist-button", "menulist-text", "menulist-textfield", "menutext", "message-box", "middle", "min-intrinsic", "mix", "mongolian", "monospace", "move", "multiple", "multiple_mask_images", "multiply", "myanmar", "n-resize", "narrower", "ne-resize", "nesw-resize", "no-close-quote", "no-drop", "no-open-quote", "no-repeat", "none", "normal", "not-allowed", "nowrap", "ns-resize", "numbers", "numeric", "nw-resize", "nwse-resize", "oblique", "octal", "opacity", "open-quote", "optimizeLegibility", "optimizeSpeed", "oriya", "oromo", "outset", "outside", "outside-shape", "overlay", "overline", "padding", "padding-box", "painted", "page", "paused", "persian", "perspective", "pinch-zoom", "plus-darker", "plus-lighter", "pointer", "polygon", "portrait", "pre", "pre-line", "pre-wrap", "preserve-3d", "progress", "push-button", "radial-gradient", "radio", "read-only", "read-write", "read-write-plaintext-only", "rectangle", "region", "relative", "repeat", "repeating-linear-gradient", "repeating-radial-gradient", "repeat-x", "repeat-y", "reset", "reverse", "rgb", "rgba", "ridge", "right", "rotate", "rotate3d", "rotateX", "rotateY", "rotateZ", "round", "row", "row-resize", "row-reverse", "rtl", "run-in", "running", "s-resize", "sans-serif", "saturate", "saturation", "scale", "scale3d", "scaleX", "scaleY", "scaleZ", "screen", "scroll", "scrollbar", "scroll-position", "se-resize", "searchfield", "searchfield-cancel-button", "searchfield-decoration", "searchfield-results-button", "searchfield-results-decoration", "self-start", "self-end", "semi-condensed", "semi-expanded", "separate", "sepia", "serif", "show", "sidama", "simp-chinese-formal", "simp-chinese-informal", "single", "skew", "skewX", "skewY", "skip-white-space", "slide", "slider-horizontal", "slider-vertical", "sliderthumb-horizontal", "sliderthumb-vertical", "slow", "small", "small-caps", "small-caption", "smaller", "soft-light", "solid", "somali", "source-atop", "source-in", "source-out", "source-over", "space", "space-around", "space-between", "space-evenly", "spell-out", "square", "square-button", "start", "static", "status-bar", "stretch", "stroke", "stroke-box", "sub", "subpixel-antialiased", "svg_masks", "super", "sw-resize", "symbolic", "symbols", "system-ui", "table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row", "table-row-group", "tamil", "telugu", "text", "text-bottom", "text-top", "textarea", "textfield", "thai", "thick", "thin", "threeddarkshadow", "threedface", "threedhighlight", "threedlightshadow", "threedshadow", "tibetan", "tigre", "tigrinya-er", "tigrinya-er-abegede", "tigrinya-et", "tigrinya-et-abegede", "to", "top", "trad-chinese-formal", "trad-chinese-informal", "transform", "translate", "translate3d", "translateX", "translateY", "translateZ", "transparent", "ultra-condensed", "ultra-expanded", "underline", "unidirectional-pan", "unset", "up", "upper-alpha", "upper-armenian", "upper-greek", "upper-hexadecimal", "upper-latin", "upper-norwegian", "upper-roman", "uppercase", "urdu", "url", "var", "vertical", "vertical-text", "view-box", "visible", "visibleFill", "visiblePainted", "visibleStroke", "visual", "w-resize", "wait", "wave", "wider", "window", "windowframe", "windowtext", "words", "wrap", "wrap-reverse", "x-large", "x-small", "xor", "xx-large", "xx-small"], b = e3(m), _ = n3.concat(r).concat(a).concat(l).concat(u).concat(d).concat(g).concat(m);
          function w(t4, e4) {
            for (var n4, o3 = false; null != (n4 = t4.next()); ) {
              if (o3 && "/" == n4) {
                e4.tokenize = null;
                break;
              }
              o3 = "*" == n4;
            }
            return ["comment", "comment"];
          }
          t3.registerHelper("hintWords", "css", _), t3.defineMIME("text/css", { documentTypes: o2, mediaTypes: i, mediaFeatures: s, mediaValueKeywords: c, propertyKeywords: p, nonStandardPropertyKeywords: f, fontProperties: h, counterDescriptors: v, colorKeywords: y, valueKeywords: b, tokenHooks: { "/": function(t4, e4) {
            return !!t4.eat("*") && (e4.tokenize = w, w(t4, e4));
          } }, name: "css" }), t3.defineMIME("text/x-scss", { mediaTypes: i, mediaFeatures: s, mediaValueKeywords: c, propertyKeywords: p, nonStandardPropertyKeywords: f, colorKeywords: y, valueKeywords: b, fontProperties: h, allowNested: true, lineComment: "//", tokenHooks: { "/": function(t4, e4) {
            return t4.eat("/") ? (t4.skipToEnd(), ["comment", "comment"]) : t4.eat("*") ? (e4.tokenize = w, w(t4, e4)) : ["operator", "operator"];
          }, ":": function(t4) {
            return !!t4.match(/^\s*\{/, false) && [null, null];
          }, $: function(t4) {
            return t4.match(/^[\w-]+/), t4.match(/^\s*:/, false) ? ["variable-2", "variable-definition"] : ["variable-2", "variable"];
          }, "#": function(t4) {
            return !!t4.eat("{") && [null, "interpolation"];
          } }, name: "css", helperType: "scss" }), t3.defineMIME("text/x-less", { mediaTypes: i, mediaFeatures: s, mediaValueKeywords: c, propertyKeywords: p, nonStandardPropertyKeywords: f, colorKeywords: y, valueKeywords: b, fontProperties: h, allowNested: true, lineComment: "//", tokenHooks: { "/": function(t4, e4) {
            return t4.eat("/") ? (t4.skipToEnd(), ["comment", "comment"]) : t4.eat("*") ? (e4.tokenize = w, w(t4, e4)) : ["operator", "operator"];
          }, "@": function(t4) {
            return t4.eat("{") ? [null, "interpolation"] : !t4.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i, false) && (t4.eatWhile(/[\w\\\-]/), t4.match(/^\s*:/, false) ? ["variable-2", "variable-definition"] : ["variable-2", "variable"]);
          }, "&": function() {
            return ["atom", "atom"];
          } }, name: "css", helperType: "less" }), t3.defineMIME("text/x-gss", { documentTypes: o2, mediaTypes: i, mediaFeatures: s, propertyKeywords: p, nonStandardPropertyKeywords: f, fontProperties: h, counterDescriptors: v, colorKeywords: y, valueKeywords: b, supportsAtComponent: true, tokenHooks: { "/": function(t4, e4) {
            return !!t4.eat("*") && (e4.tokenize = w, w(t4, e4));
          } }, name: "css", helperType: "gss" });
        })(n2(4408));
      }, 8253: (t2, e2, n2) => {
        (function(t3) {
          "use strict";
          var e3 = { script: [["lang", /(javascript|babel)/i, "javascript"], ["type", /^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i, "javascript"], ["type", /./, "text/plain"], [null, null, "javascript"]], style: [["lang", /^css$/i, "css"], ["type", /^(text\/)?(x-)?(stylesheet|css)$/i, "css"], ["type", /./, "text/plain"], [null, null, "css"]] };
          function n3(t4, e4, n4) {
            var o3 = t4.current(), r2 = o3.search(e4);
            return r2 > -1 ? t4.backUp(o3.length - r2) : o3.match(/<\/?$/) && (t4.backUp(o3.length), t4.match(e4, false) || t4.match(o3)), n4;
          }
          var o2 = {};
          function r(t4) {
            var e4 = o2[t4];
            return e4 || (o2[t4] = new RegExp("\\s+" + t4 + `\\s*=\\s*('|")?([^'"]+)('|")?\\s*`));
          }
          function i(t4, e4) {
            var n4 = t4.match(r(e4));
            return n4 ? /^\s*(.*?)\s*$/.exec(n4[2])[1] : "";
          }
          function a(t4, e4) {
            return new RegExp((e4 ? "^" : "") + "</s*" + t4 + "s*>", "i");
          }
          function s(t4, e4) {
            for (var n4 in t4) for (var o3 = e4[n4] || (e4[n4] = []), r2 = t4[n4], i2 = r2.length - 1; i2 >= 0; i2--) o3.unshift(r2[i2]);
          }
          function l(t4, e4) {
            for (var n4 = 0; n4 < t4.length; n4++) {
              var o3 = t4[n4];
              if (!o3[0] || o3[1].test(i(e4, o3[0]))) return o3[2];
            }
          }
          t3.defineMode("htmlmixed", (function(o3, r2) {
            var i2 = t3.getMode(o3, { name: "xml", htmlMode: true, multilineTagIndentFactor: r2.multilineTagIndentFactor, multilineTagIndentPastTag: r2.multilineTagIndentPastTag, allowMissingTagName: r2.allowMissingTagName }), c = {}, u = r2 && r2.tags, p = r2 && r2.scriptTypes;
            if (s(e3, c), u && s(u, c), p) for (var d = p.length - 1; d >= 0; d--) c.script.unshift(["type", p[d].matches, p[d].mode]);
            function f(e4, r3) {
              var s2, u2 = i2.token(e4, r3.htmlState), p2 = /\btag\b/.test(u2);
              if (p2 && !/[<>\s\/]/.test(e4.current()) && (s2 = r3.htmlState.tagName && r3.htmlState.tagName.toLowerCase()) && c.hasOwnProperty(s2)) r3.inTag = s2 + " ";
              else if (r3.inTag && p2 && />$/.test(e4.current())) {
                var d2 = /^([\S]+) (.*)/.exec(r3.inTag);
                r3.inTag = null;
                var h = ">" == e4.current() && l(c[d2[1]], d2[2]), v = t3.getMode(o3, h), g = a(d2[1], true), y = a(d2[1], false);
                r3.token = function(t4, e5) {
                  return t4.match(g, false) ? (e5.token = f, e5.localState = e5.localMode = null, null) : n3(t4, y, e5.localMode.token(t4, e5.localState));
                }, r3.localMode = v, r3.localState = t3.startState(v, i2.indent(r3.htmlState, "", ""));
              } else r3.inTag && (r3.inTag += e4.current(), e4.eol() && (r3.inTag += " "));
              return u2;
            }
            return { startState: function() {
              return { token: f, inTag: null, localMode: null, localState: null, htmlState: t3.startState(i2) };
            }, copyState: function(e4) {
              var n4;
              return e4.localState && (n4 = t3.copyState(e4.localMode, e4.localState)), { token: e4.token, inTag: e4.inTag, localMode: e4.localMode, localState: n4, htmlState: t3.copyState(i2, e4.htmlState) };
            }, token: function(t4, e4) {
              return e4.token(t4, e4);
            }, indent: function(e4, n4, o4) {
              return !e4.localMode || /^\s*<\//.test(n4) ? i2.indent(e4.htmlState, n4, o4) : e4.localMode.indent ? e4.localMode.indent(e4.localState, n4, o4) : t3.Pass;
            }, innerMode: function(t4) {
              return { state: t4.localState || t4.htmlState, mode: t4.localMode || i2 };
            } };
          }), "xml", "javascript", "css"), t3.defineMIME("text/html", "htmlmixed");
        })(n2(4408), n2(9701), n2(6061), n2(7389));
      }, 6061: (t2, e2, n2) => {
        (function(t3) {
          "use strict";
          t3.defineMode("javascript", (function(e3, n3) {
            var o2, r, i = e3.indentUnit, a = n3.statementIndent, s = n3.jsonld, l = n3.json || s, c = false !== n3.trackScope, u = n3.typescript, p = n3.wordCharacters || /[\w$\xa1-\uffff]/, d = (function() {
              function t4(t5) {
                return { type: t5, style: "keyword" };
              }
              var e4 = t4("keyword a"), n4 = t4("keyword b"), o3 = t4("keyword c"), r2 = t4("keyword d"), i2 = t4("operator"), a2 = { type: "atom", style: "atom" };
              return { if: t4("if"), while: e4, with: e4, else: n4, do: n4, try: n4, finally: n4, return: r2, break: r2, continue: r2, new: t4("new"), delete: o3, void: o3, throw: o3, debugger: t4("debugger"), var: t4("var"), const: t4("var"), let: t4("var"), function: t4("function"), catch: t4("catch"), for: t4("for"), switch: t4("switch"), case: t4("case"), default: t4("default"), in: i2, typeof: i2, instanceof: i2, true: a2, false: a2, null: a2, undefined: a2, NaN: a2, Infinity: a2, this: t4("this"), class: t4("class"), super: t4("atom"), yield: o3, export: t4("export"), import: t4("import"), extends: o3, await: o3 };
            })(), f = /[+\-*&%=<>!?|~^@]/, h = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;
            function v(t4) {
              for (var e4, n4 = false, o3 = false; null != (e4 = t4.next()); ) {
                if (!n4) {
                  if ("/" == e4 && !o3) return;
                  "[" == e4 ? o3 = true : o3 && "]" == e4 && (o3 = false);
                }
                n4 = !n4 && "\\" == e4;
              }
            }
            function g(t4, e4, n4) {
              return o2 = t4, r = n4, e4;
            }
            function y(t4, e4) {
              var n4 = t4.next();
              if ('"' == n4 || "'" == n4) return e4.tokenize = m(n4), e4.tokenize(t4, e4);
              if ("." == n4 && t4.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/)) return g("number", "number");
              if ("." == n4 && t4.match("..")) return g("spread", "meta");
              if (/[\[\]{}\(\),;\:\.]/.test(n4)) return g(n4);
              if ("=" == n4 && t4.eat(">")) return g("=>", "operator");
              if ("0" == n4 && t4.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) return g("number", "number");
              if (/\d/.test(n4)) return t4.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/), g("number", "number");
              if ("/" == n4) return t4.eat("*") ? (e4.tokenize = b, b(t4, e4)) : t4.eat("/") ? (t4.skipToEnd(), g("comment", "comment")) : re(t4, e4, 1) ? (v(t4), t4.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/), g("regexp", "string-2")) : (t4.eat("="), g("operator", "operator", t4.current()));
              if ("`" == n4) return e4.tokenize = _, _(t4, e4);
              if ("#" == n4 && "!" == t4.peek()) return t4.skipToEnd(), g("meta", "meta");
              if ("#" == n4 && t4.eatWhile(p)) return g("variable", "property");
              if ("<" == n4 && t4.match("!--") || "-" == n4 && t4.match("->") && !/\S/.test(t4.string.slice(0, t4.start))) return t4.skipToEnd(), g("comment", "comment");
              if (f.test(n4)) return ">" == n4 && e4.lexical && ">" == e4.lexical.type || (t4.eat("=") ? "!" != n4 && "=" != n4 || t4.eat("=") : /[<>*+\-|&?]/.test(n4) && (t4.eat(n4), ">" == n4 && t4.eat(n4))), "?" == n4 && t4.eat(".") ? g(".") : g("operator", "operator", t4.current());
              if (p.test(n4)) {
                t4.eatWhile(p);
                var o3 = t4.current();
                if ("." != e4.lastType) {
                  if (d.propertyIsEnumerable(o3)) {
                    var r2 = d[o3];
                    return g(r2.type, r2.style, o3);
                  }
                  if ("async" == o3 && t4.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/, false)) return g("async", "keyword", o3);
                }
                return g("variable", "variable", o3);
              }
            }
            function m(t4) {
              return function(e4, n4) {
                var o3, r2 = false;
                if (s && "@" == e4.peek() && e4.match(h)) return n4.tokenize = y, g("jsonld-keyword", "meta");
                for (; null != (o3 = e4.next()) && (o3 != t4 || r2); ) r2 = !r2 && "\\" == o3;
                return r2 || (n4.tokenize = y), g("string", "string");
              };
            }
            function b(t4, e4) {
              for (var n4, o3 = false; n4 = t4.next(); ) {
                if ("/" == n4 && o3) {
                  e4.tokenize = y;
                  break;
                }
                o3 = "*" == n4;
              }
              return g("comment", "comment");
            }
            function _(t4, e4) {
              for (var n4, o3 = false; null != (n4 = t4.next()); ) {
                if (!o3 && ("`" == n4 || "$" == n4 && t4.eat("{"))) {
                  e4.tokenize = y;
                  break;
                }
                o3 = !o3 && "\\" == n4;
              }
              return g("quasi", "string-2", t4.current());
            }
            var w = "([{}])";
            function x(t4, e4) {
              e4.fatArrowAt && (e4.fatArrowAt = null);
              var n4 = t4.string.indexOf("=>", t4.start);
              if (!(n4 < 0)) {
                if (u) {
                  var o3 = /:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t4.string.slice(t4.start, n4));
                  o3 && (n4 = o3.index);
                }
                for (var r2 = 0, i2 = false, a2 = n4 - 1; a2 >= 0; --a2) {
                  var s2 = t4.string.charAt(a2), l2 = w.indexOf(s2);
                  if (l2 >= 0 && l2 < 3) {
                    if (!r2) {
                      ++a2;
                      break;
                    }
                    if (0 == --r2) {
                      "(" == s2 && (i2 = true);
                      break;
                    }
                  } else if (l2 >= 3 && l2 < 6) ++r2;
                  else if (p.test(s2)) i2 = true;
                  else if (/["'\/`]/.test(s2)) for (; ; --a2) {
                    if (0 == a2) return;
                    if (t4.string.charAt(a2 - 1) == s2 && "\\" != t4.string.charAt(a2 - 2)) {
                      a2--;
                      break;
                    }
                  }
                  else if (i2 && !r2) {
                    ++a2;
                    break;
                  }
                }
                i2 && !r2 && (e4.fatArrowAt = a2);
              }
            }
            var C = { atom: true, number: true, variable: true, string: true, regexp: true, this: true, import: true, "jsonld-keyword": true };
            function S(t4, e4, n4, o3, r2, i2) {
              this.indented = t4, this.column = e4, this.type = n4, this.prev = r2, this.info = i2, null != o3 && (this.align = o3);
            }
            function O(t4, e4) {
              if (!c) return false;
              for (var n4 = t4.localVars; n4; n4 = n4.next) if (n4.name == e4) return true;
              for (var o3 = t4.context; o3; o3 = o3.prev) for (n4 = o3.vars; n4; n4 = n4.next) if (n4.name == e4) return true;
            }
            function T(t4, e4, n4, o3, r2) {
              var i2 = t4.cc;
              for (P.state = t4, P.stream = r2, P.marked = null, P.cc = i2, P.style = e4, t4.lexical.hasOwnProperty("align") || (t4.lexical.align = true); 1; ) if ((i2.length ? i2.pop() : l ? $ : B)(n4, o3)) {
                for (; i2.length && i2[i2.length - 1].lex; ) i2.pop()();
                return P.marked ? P.marked : "variable" == n4 && O(t4, o3) ? "variable-2" : e4;
              }
            }
            var P = { state: null, column: null, marked: null, cc: null };
            function E() {
              for (var t4 = arguments.length - 1; t4 >= 0; t4--) P.cc.push(arguments[t4]);
            }
            function k() {
              return E.apply(null, arguments), true;
            }
            function A(t4, e4) {
              for (var n4 = e4; n4; n4 = n4.next) if (n4.name == t4) return true;
              return false;
            }
            function j(t4) {
              var e4 = P.state;
              if (P.marked = "def", c) {
                if (e4.context) {
                  if ("var" == e4.lexical.info && e4.context && e4.context.block) {
                    var o3 = M(t4, e4.context);
                    if (null != o3) return void (e4.context = o3);
                  } else if (!A(t4, e4.localVars)) return void (e4.localVars = new I(t4, e4.localVars));
                }
                n3.globalVars && !A(t4, e4.globalVars) && (e4.globalVars = new I(t4, e4.globalVars));
              }
            }
            function M(t4, e4) {
              if (e4) {
                if (e4.block) {
                  var n4 = M(t4, e4.prev);
                  return n4 ? n4 == e4.prev ? e4 : new L(n4, e4.vars, true) : null;
                }
                return A(t4, e4.vars) ? e4 : new L(e4.prev, new I(t4, e4.vars), false);
              }
              return null;
            }
            function D(t4) {
              return "public" == t4 || "private" == t4 || "protected" == t4 || "abstract" == t4 || "readonly" == t4;
            }
            function L(t4, e4, n4) {
              this.prev = t4, this.vars = e4, this.block = n4;
            }
            function I(t4, e4) {
              this.name = t4, this.next = e4;
            }
            var N = new I("this", new I("arguments", null));
            function R() {
              P.state.context = new L(P.state.context, P.state.localVars, false), P.state.localVars = N;
            }
            function V() {
              P.state.context = new L(P.state.context, P.state.localVars, true), P.state.localVars = null;
            }
            function F() {
              P.state.localVars = P.state.context.vars, P.state.context = P.state.context.prev;
            }
            function H(t4, e4) {
              var n4 = function() {
                var n5 = P.state, o3 = n5.indented;
                if ("stat" == n5.lexical.type) o3 = n5.lexical.indented;
                else for (var r2 = n5.lexical; r2 && ")" == r2.type && r2.align; r2 = r2.prev) o3 = r2.indented;
                n5.lexical = new S(o3, P.stream.column(), t4, null, n5.lexical, e4);
              };
              return n4.lex = true, n4;
            }
            function U() {
              var t4 = P.state;
              t4.lexical.prev && (")" == t4.lexical.type && (t4.indented = t4.lexical.indented), t4.lexical = t4.lexical.prev);
            }
            function z(t4) {
              function e4(n4) {
                return n4 == t4 ? k() : ";" == t4 || "}" == n4 || ")" == n4 || "]" == n4 ? E() : k(e4);
              }
              return e4;
            }
            function B(t4, e4) {
              return "var" == t4 ? k(H("vardef", e4), Et, z(";"), U) : "keyword a" == t4 ? k(H("form"), G, B, U) : "keyword b" == t4 ? k(H("form"), B, U) : "keyword d" == t4 ? P.stream.match(/^\s*$/, false) ? k() : k(H("stat"), Y, z(";"), U) : "debugger" == t4 ? k(z(";")) : "{" == t4 ? k(H("}"), V, dt, U, F) : ";" == t4 ? k() : "if" == t4 ? ("else" == P.state.lexical.info && P.state.cc[P.state.cc.length - 1] == U && P.state.cc.pop()(), k(H("form"), G, B, U, Lt)) : "function" == t4 ? k(Vt) : "for" == t4 ? k(H("form"), V, It, B, F, U) : "class" == t4 || u && "interface" == e4 ? (P.marked = "keyword", k(H("form", "class" == t4 ? t4 : e4), Bt, U)) : "variable" == t4 ? u && "declare" == e4 ? (P.marked = "keyword", k(B)) : u && ("module" == e4 || "enum" == e4 || "type" == e4) && P.stream.match(/^\s*\w/, false) ? (P.marked = "keyword", "enum" == e4 ? k(ee) : "type" == e4 ? k(Ht, z("operator"), yt, z(";")) : k(H("form"), kt, z("{"), H("}"), dt, U, U)) : u && "namespace" == e4 ? (P.marked = "keyword", k(H("form"), $, B, U)) : u && "abstract" == e4 ? (P.marked = "keyword", k(B)) : k(H("stat"), it) : "switch" == t4 ? k(H("form"), G, z("{"), H("}", "switch"), V, dt, U, U, F) : "case" == t4 ? k($, z(":")) : "default" == t4 ? k(z(":")) : "catch" == t4 ? k(H("form"), R, W, B, U, F) : "export" == t4 ? k(H("stat"), Gt, U) : "import" == t4 ? k(H("stat"), Yt, U) : "async" == t4 ? k(B) : "@" == e4 ? k($, B) : E(H("stat"), $, z(";"), U);
            }
            function W(t4) {
              if ("(" == t4) return k(Ut, z(")"));
            }
            function $(t4, e4) {
              return K(t4, e4, false);
            }
            function q(t4, e4) {
              return K(t4, e4, true);
            }
            function G(t4) {
              return "(" != t4 ? E() : k(H(")"), Y, z(")"), U);
            }
            function K(t4, e4, n4) {
              if (P.state.fatArrowAt == P.stream.start) {
                var o3 = n4 ? et : tt;
                if ("(" == t4) return k(R, H(")"), ut(Ut, ")"), U, z("=>"), o3, F);
                if ("variable" == t4) return E(R, kt, z("=>"), o3, F);
              }
              var r2 = n4 ? X : J;
              return C.hasOwnProperty(t4) ? k(r2) : "function" == t4 ? k(Vt, r2) : "class" == t4 || u && "interface" == e4 ? (P.marked = "keyword", k(H("form"), zt, U)) : "keyword c" == t4 || "async" == t4 ? k(n4 ? q : $) : "(" == t4 ? k(H(")"), Y, z(")"), U, r2) : "operator" == t4 || "spread" == t4 ? k(n4 ? q : $) : "[" == t4 ? k(H("]"), te, U, r2) : "{" == t4 ? pt(st, "}", null, r2) : "quasi" == t4 ? E(Z, r2) : "new" == t4 ? k(nt(n4)) : k();
            }
            function Y(t4) {
              return t4.match(/[;\}\)\],]/) ? E() : E($);
            }
            function J(t4, e4) {
              return "," == t4 ? k(Y) : X(t4, e4, false);
            }
            function X(t4, e4, n4) {
              var o3 = 0 == n4 ? J : X, r2 = 0 == n4 ? $ : q;
              return "=>" == t4 ? k(R, n4 ? et : tt, F) : "operator" == t4 ? /\+\+|--/.test(e4) || u && "!" == e4 ? k(o3) : u && "<" == e4 && P.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/, false) ? k(H(">"), ut(yt, ">"), U, o3) : "?" == e4 ? k($, z(":"), r2) : k(r2) : "quasi" == t4 ? E(Z, o3) : ";" != t4 ? "(" == t4 ? pt(q, ")", "call", o3) : "." == t4 ? k(at, o3) : "[" == t4 ? k(H("]"), Y, z("]"), U, o3) : u && "as" == e4 ? (P.marked = "keyword", k(yt, o3)) : "regexp" == t4 ? (P.state.lastType = P.marked = "operator", P.stream.backUp(P.stream.pos - P.stream.start - 1), k(r2)) : void 0 : void 0;
            }
            function Z(t4, e4) {
              return "quasi" != t4 ? E() : "${" != e4.slice(e4.length - 2) ? k(Z) : k(Y, Q);
            }
            function Q(t4) {
              if ("}" == t4) return P.marked = "string-2", P.state.tokenize = _, k(Z);
            }
            function tt(t4) {
              return x(P.stream, P.state), E("{" == t4 ? B : $);
            }
            function et(t4) {
              return x(P.stream, P.state), E("{" == t4 ? B : q);
            }
            function nt(t4) {
              return function(e4) {
                return "." == e4 ? k(t4 ? rt : ot) : "variable" == e4 && u ? k(Ot, t4 ? X : J) : E(t4 ? q : $);
              };
            }
            function ot(t4, e4) {
              if ("target" == e4) return P.marked = "keyword", k(J);
            }
            function rt(t4, e4) {
              if ("target" == e4) return P.marked = "keyword", k(X);
            }
            function it(t4) {
              return ":" == t4 ? k(U, B) : E(J, z(";"), U);
            }
            function at(t4) {
              if ("variable" == t4) return P.marked = "property", k();
            }
            function st(t4, e4) {
              return "async" == t4 ? (P.marked = "property", k(st)) : "variable" == t4 || "keyword" == P.style ? (P.marked = "property", "get" == e4 || "set" == e4 ? k(lt) : (u && P.state.fatArrowAt == P.stream.start && (n4 = P.stream.match(/^\s*:\s*/, false)) && (P.state.fatArrowAt = P.stream.pos + n4[0].length), k(ct))) : "number" == t4 || "string" == t4 ? (P.marked = s ? "property" : P.style + " property", k(ct)) : "jsonld-keyword" == t4 ? k(ct) : u && D(e4) ? (P.marked = "keyword", k(st)) : "[" == t4 ? k($, ft, z("]"), ct) : "spread" == t4 ? k(q, ct) : "*" == e4 ? (P.marked = "keyword", k(st)) : ":" == t4 ? E(ct) : void 0;
              var n4;
            }
            function lt(t4) {
              return "variable" != t4 ? E(ct) : (P.marked = "property", k(Vt));
            }
            function ct(t4) {
              return ":" == t4 ? k(q) : "(" == t4 ? E(Vt) : void 0;
            }
            function ut(t4, e4, n4) {
              function o3(r2, i2) {
                if (n4 ? n4.indexOf(r2) > -1 : "," == r2) {
                  var a2 = P.state.lexical;
                  return "call" == a2.info && (a2.pos = (a2.pos || 0) + 1), k((function(n5, o4) {
                    return n5 == e4 || o4 == e4 ? E() : E(t4);
                  }), o3);
                }
                return r2 == e4 || i2 == e4 ? k() : n4 && n4.indexOf(";") > -1 ? E(t4) : k(z(e4));
              }
              return function(n5, r2) {
                return n5 == e4 || r2 == e4 ? k() : E(t4, o3);
              };
            }
            function pt(t4, e4, n4) {
              for (var o3 = 3; o3 < arguments.length; o3++) P.cc.push(arguments[o3]);
              return k(H(e4, n4), ut(t4, e4), U);
            }
            function dt(t4) {
              return "}" == t4 ? k() : E(B, dt);
            }
            function ft(t4, e4) {
              if (u) {
                if (":" == t4) return k(yt);
                if ("?" == e4) return k(ft);
              }
            }
            function ht(t4, e4) {
              if (u && (":" == t4 || "in" == e4)) return k(yt);
            }
            function vt(t4) {
              if (u && ":" == t4) return P.stream.match(/^\s*\w+\s+is\b/, false) ? k($, gt, yt) : k(yt);
            }
            function gt(t4, e4) {
              if ("is" == e4) return P.marked = "keyword", k();
            }
            function yt(t4, e4) {
              return "keyof" == e4 || "typeof" == e4 || "infer" == e4 || "readonly" == e4 ? (P.marked = "keyword", k("typeof" == e4 ? q : yt)) : "variable" == t4 || "void" == e4 ? (P.marked = "type", k(St)) : "|" == e4 || "&" == e4 ? k(yt) : "string" == t4 || "number" == t4 || "atom" == t4 ? k(St) : "[" == t4 ? k(H("]"), ut(yt, "]", ","), U, St) : "{" == t4 ? k(H("}"), bt, U, St) : "(" == t4 ? k(ut(Ct, ")"), mt, St) : "<" == t4 ? k(ut(yt, ">"), yt) : "quasi" == t4 ? E(wt, St) : void 0;
            }
            function mt(t4) {
              if ("=>" == t4) return k(yt);
            }
            function bt(t4) {
              return t4.match(/[\}\)\]]/) ? k() : "," == t4 || ";" == t4 ? k(bt) : E(_t, bt);
            }
            function _t(t4, e4) {
              return "variable" == t4 || "keyword" == P.style ? (P.marked = "property", k(_t)) : "?" == e4 || "number" == t4 || "string" == t4 ? k(_t) : ":" == t4 ? k(yt) : "[" == t4 ? k(z("variable"), ht, z("]"), _t) : "(" == t4 ? E(Ft, _t) : t4.match(/[;\}\)\],]/) ? void 0 : k();
            }
            function wt(t4, e4) {
              return "quasi" != t4 ? E() : "${" != e4.slice(e4.length - 2) ? k(wt) : k(yt, xt);
            }
            function xt(t4) {
              if ("}" == t4) return P.marked = "string-2", P.state.tokenize = _, k(wt);
            }
            function Ct(t4, e4) {
              return "variable" == t4 && P.stream.match(/^\s*[?:]/, false) || "?" == e4 ? k(Ct) : ":" == t4 ? k(yt) : "spread" == t4 ? k(Ct) : E(yt);
            }
            function St(t4, e4) {
              return "<" == e4 ? k(H(">"), ut(yt, ">"), U, St) : "|" == e4 || "." == t4 || "&" == e4 ? k(yt) : "[" == t4 ? k(yt, z("]"), St) : "extends" == e4 || "implements" == e4 ? (P.marked = "keyword", k(yt)) : "?" == e4 ? k(yt, z(":"), yt) : void 0;
            }
            function Ot(t4, e4) {
              if ("<" == e4) return k(H(">"), ut(yt, ">"), U, St);
            }
            function Tt() {
              return E(yt, Pt);
            }
            function Pt(t4, e4) {
              if ("=" == e4) return k(yt);
            }
            function Et(t4, e4) {
              return "enum" == e4 ? (P.marked = "keyword", k(ee)) : E(kt, ft, Mt, Dt);
            }
            function kt(t4, e4) {
              return u && D(e4) ? (P.marked = "keyword", k(kt)) : "variable" == t4 ? (j(e4), k()) : "spread" == t4 ? k(kt) : "[" == t4 ? pt(jt, "]") : "{" == t4 ? pt(At, "}") : void 0;
            }
            function At(t4, e4) {
              return "variable" != t4 || P.stream.match(/^\s*:/, false) ? ("variable" == t4 && (P.marked = "property"), "spread" == t4 ? k(kt) : "}" == t4 ? E() : "[" == t4 ? k($, z("]"), z(":"), At) : k(z(":"), kt, Mt)) : (j(e4), k(Mt));
            }
            function jt() {
              return E(kt, Mt);
            }
            function Mt(t4, e4) {
              if ("=" == e4) return k(q);
            }
            function Dt(t4) {
              if ("," == t4) return k(Et);
            }
            function Lt(t4, e4) {
              if ("keyword b" == t4 && "else" == e4) return k(H("form", "else"), B, U);
            }
            function It(t4, e4) {
              return "await" == e4 ? k(It) : "(" == t4 ? k(H(")"), Nt, U) : void 0;
            }
            function Nt(t4) {
              return "var" == t4 ? k(Et, Rt) : "variable" == t4 ? k(Rt) : E(Rt);
            }
            function Rt(t4, e4) {
              return ")" == t4 ? k() : ";" == t4 ? k(Rt) : "in" == e4 || "of" == e4 ? (P.marked = "keyword", k($, Rt)) : E($, Rt);
            }
            function Vt(t4, e4) {
              return "*" == e4 ? (P.marked = "keyword", k(Vt)) : "variable" == t4 ? (j(e4), k(Vt)) : "(" == t4 ? k(R, H(")"), ut(Ut, ")"), U, vt, B, F) : u && "<" == e4 ? k(H(">"), ut(Tt, ">"), U, Vt) : void 0;
            }
            function Ft(t4, e4) {
              return "*" == e4 ? (P.marked = "keyword", k(Ft)) : "variable" == t4 ? (j(e4), k(Ft)) : "(" == t4 ? k(R, H(")"), ut(Ut, ")"), U, vt, F) : u && "<" == e4 ? k(H(">"), ut(Tt, ">"), U, Ft) : void 0;
            }
            function Ht(t4, e4) {
              return "keyword" == t4 || "variable" == t4 ? (P.marked = "type", k(Ht)) : "<" == e4 ? k(H(">"), ut(Tt, ">"), U) : void 0;
            }
            function Ut(t4, e4) {
              return "@" == e4 && k($, Ut), "spread" == t4 ? k(Ut) : u && D(e4) ? (P.marked = "keyword", k(Ut)) : u && "this" == t4 ? k(ft, Mt) : E(kt, ft, Mt);
            }
            function zt(t4, e4) {
              return "variable" == t4 ? Bt(t4, e4) : Wt(t4, e4);
            }
            function Bt(t4, e4) {
              if ("variable" == t4) return j(e4), k(Wt);
            }
            function Wt(t4, e4) {
              return "<" == e4 ? k(H(">"), ut(Tt, ">"), U, Wt) : "extends" == e4 || "implements" == e4 || u && "," == t4 ? ("implements" == e4 && (P.marked = "keyword"), k(u ? yt : $, Wt)) : "{" == t4 ? k(H("}"), $t, U) : void 0;
            }
            function $t(t4, e4) {
              return "async" == t4 || "variable" == t4 && ("static" == e4 || "get" == e4 || "set" == e4 || u && D(e4)) && P.stream.match(/^\s+[\w$\xa1-\uffff]/, false) ? (P.marked = "keyword", k($t)) : "variable" == t4 || "keyword" == P.style ? (P.marked = "property", k(qt, $t)) : "number" == t4 || "string" == t4 ? k(qt, $t) : "[" == t4 ? k($, ft, z("]"), qt, $t) : "*" == e4 ? (P.marked = "keyword", k($t)) : u && "(" == t4 ? E(Ft, $t) : ";" == t4 || "," == t4 ? k($t) : "}" == t4 ? k() : "@" == e4 ? k($, $t) : void 0;
            }
            function qt(t4, e4) {
              if ("!" == e4) return k(qt);
              if ("?" == e4) return k(qt);
              if (":" == t4) return k(yt, Mt);
              if ("=" == e4) return k(q);
              var n4 = P.state.lexical.prev;
              return E(n4 && "interface" == n4.info ? Ft : Vt);
            }
            function Gt(t4, e4) {
              return "*" == e4 ? (P.marked = "keyword", k(Qt, z(";"))) : "default" == e4 ? (P.marked = "keyword", k($, z(";"))) : "{" == t4 ? k(ut(Kt, "}"), Qt, z(";")) : E(B);
            }
            function Kt(t4, e4) {
              return "as" == e4 ? (P.marked = "keyword", k(z("variable"))) : "variable" == t4 ? E(q, Kt) : void 0;
            }
            function Yt(t4) {
              return "string" == t4 ? k() : "(" == t4 ? E($) : "." == t4 ? E(J) : E(Jt, Xt, Qt);
            }
            function Jt(t4, e4) {
              return "{" == t4 ? pt(Jt, "}") : ("variable" == t4 && j(e4), "*" == e4 && (P.marked = "keyword"), k(Zt));
            }
            function Xt(t4) {
              if ("," == t4) return k(Jt, Xt);
            }
            function Zt(t4, e4) {
              if ("as" == e4) return P.marked = "keyword", k(Jt);
            }
            function Qt(t4, e4) {
              if ("from" == e4) return P.marked = "keyword", k($);
            }
            function te(t4) {
              return "]" == t4 ? k() : E(ut(q, "]"));
            }
            function ee() {
              return E(H("form"), kt, z("{"), H("}"), ut(ne, "}"), U, U);
            }
            function ne() {
              return E(kt, Mt);
            }
            function oe(t4, e4) {
              return "operator" == t4.lastType || "," == t4.lastType || f.test(e4.charAt(0)) || /[,.]/.test(e4.charAt(0));
            }
            function re(t4, e4, n4) {
              return e4.tokenize == y && /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e4.lastType) || "quasi" == e4.lastType && /\{\s*$/.test(t4.string.slice(0, t4.pos - (n4 || 0)));
            }
            return F.lex = true, U.lex = true, { startState: function(t4) {
              var e4 = { tokenize: y, lastType: "sof", cc: [], lexical: new S((t4 || 0) - i, 0, "block", false), localVars: n3.localVars, context: n3.localVars && new L(null, null, false), indented: t4 || 0 };
              return n3.globalVars && "object" == typeof n3.globalVars && (e4.globalVars = n3.globalVars), e4;
            }, token: function(t4, e4) {
              if (t4.sol() && (e4.lexical.hasOwnProperty("align") || (e4.lexical.align = false), e4.indented = t4.indentation(), x(t4, e4)), e4.tokenize != b && t4.eatSpace()) return null;
              var n4 = e4.tokenize(t4, e4);
              return "comment" == o2 ? n4 : (e4.lastType = "operator" != o2 || "++" != r && "--" != r ? o2 : "incdec", T(e4, n4, o2, r, t4));
            }, indent: function(e4, o3) {
              if (e4.tokenize == b || e4.tokenize == _) return t3.Pass;
              if (e4.tokenize != y) return 0;
              var r2, s2 = o3 && o3.charAt(0), l2 = e4.lexical;
              if (!/^\s*else\b/.test(o3)) for (var c2 = e4.cc.length - 1; c2 >= 0; --c2) {
                var u2 = e4.cc[c2];
                if (u2 == U) l2 = l2.prev;
                else if (u2 != Lt && u2 != F) break;
              }
              for (; ("stat" == l2.type || "form" == l2.type) && ("}" == s2 || (r2 = e4.cc[e4.cc.length - 1]) && (r2 == J || r2 == X) && !/^[,\.=+\-*:?[\(]/.test(o3)); ) l2 = l2.prev;
              a && ")" == l2.type && "stat" == l2.prev.type && (l2 = l2.prev);
              var p2 = l2.type, d2 = s2 == p2;
              return "vardef" == p2 ? l2.indented + ("operator" == e4.lastType || "," == e4.lastType ? l2.info.length + 1 : 0) : "form" == p2 && "{" == s2 ? l2.indented : "form" == p2 ? l2.indented + i : "stat" == p2 ? l2.indented + (oe(e4, o3) ? a || i : 0) : "switch" != l2.info || d2 || 0 == n3.doubleIndentSwitch ? l2.align ? l2.column + (d2 ? 0 : 1) : l2.indented + (d2 ? 0 : i) : l2.indented + (/^(?:case|default)\b/.test(o3) ? i : 2 * i);
            }, electricInput: /^\s*(?:case .*?:|default:|\{|\})$/, blockCommentStart: l ? null : "/*", blockCommentEnd: l ? null : "*/", blockCommentContinue: l ? null : " * ", lineComment: l ? null : "//", fold: "brace", closeBrackets: "()[]{}''\"\"``", helperType: l ? "json" : "javascript", jsonldMode: s, jsonMode: l, expressionAllowed: re, skipExpression: function(e4) {
              T(e4, "atom", "atom", "true", new t3.StringStream("", 2, null));
            } };
          })), t3.registerHelper("wordChars", "javascript", /[\w$]/), t3.defineMIME("text/javascript", "javascript"), t3.defineMIME("text/ecmascript", "javascript"), t3.defineMIME("application/javascript", "javascript"), t3.defineMIME("application/x-javascript", "javascript"), t3.defineMIME("application/ecmascript", "javascript"), t3.defineMIME("application/json", { name: "javascript", json: true }), t3.defineMIME("application/x-json", { name: "javascript", json: true }), t3.defineMIME("application/manifest+json", { name: "javascript", json: true }), t3.defineMIME("application/ld+json", { name: "javascript", jsonld: true }), t3.defineMIME("text/typescript", { name: "javascript", typescript: true }), t3.defineMIME("application/typescript", { name: "javascript", typescript: true });
        })(n2(4408));
      }, 9701: (t2, e2, n2) => {
        (function(t3) {
          "use strict";
          var e3 = { autoSelfClosers: { area: true, base: true, br: true, col: true, command: true, embed: true, frame: true, hr: true, img: true, input: true, keygen: true, link: true, meta: true, param: true, source: true, track: true, wbr: true, menuitem: true }, implicitlyClosed: { dd: true, li: true, optgroup: true, option: true, p: true, rp: true, rt: true, tbody: true, td: true, tfoot: true, th: true, tr: true }, contextGrabbers: { dd: { dd: true, dt: true }, dt: { dd: true, dt: true }, li: { li: true }, option: { option: true, optgroup: true }, optgroup: { optgroup: true }, p: { address: true, article: true, aside: true, blockquote: true, dir: true, div: true, dl: true, fieldset: true, footer: true, form: true, h1: true, h2: true, h3: true, h4: true, h5: true, h6: true, header: true, hgroup: true, hr: true, menu: true, nav: true, ol: true, p: true, pre: true, section: true, table: true, ul: true }, rp: { rp: true, rt: true }, rt: { rp: true, rt: true }, tbody: { tbody: true, tfoot: true }, td: { td: true, th: true }, tfoot: { tbody: true }, th: { td: true, th: true }, thead: { tbody: true, tfoot: true }, tr: { tr: true } }, doNotIndent: { pre: true }, allowUnquoted: true, allowMissing: true, caseFold: true }, n3 = { autoSelfClosers: {}, implicitlyClosed: {}, contextGrabbers: {}, doNotIndent: {}, allowUnquoted: false, allowMissing: false, allowMissingTagName: false, caseFold: false };
          t3.defineMode("xml", (function(o2, r) {
            var i, a, s = o2.indentUnit, l = {}, c = r.htmlMode ? e3 : n3;
            for (var u in c) l[u] = c[u];
            for (var u in r) l[u] = r[u];
            function p(t4, e4) {
              function n4(n5) {
                return e4.tokenize = n5, n5(t4, e4);
              }
              var o3 = t4.next();
              return "<" == o3 ? t4.eat("!") ? t4.eat("[") ? t4.match("CDATA[") ? n4(h("atom", "]]>")) : null : t4.match("--") ? n4(h("comment", "-->")) : t4.match("DOCTYPE", true, true) ? (t4.eatWhile(/[\w\._\-]/), n4(v(1))) : null : t4.eat("?") ? (t4.eatWhile(/[\w\._\-]/), e4.tokenize = h("meta", "?>"), "meta") : (i = t4.eat("/") ? "closeTag" : "openTag", e4.tokenize = d, "tag bracket") : "&" == o3 ? (t4.eat("#") ? t4.eat("x") ? t4.eatWhile(/[a-fA-F\d]/) && t4.eat(";") : t4.eatWhile(/[\d]/) && t4.eat(";") : t4.eatWhile(/[\w\.\-:]/) && t4.eat(";")) ? "atom" : "error" : (t4.eatWhile(/[^&<]/), null);
            }
            function d(t4, e4) {
              var n4 = t4.next();
              if (">" == n4 || "/" == n4 && t4.eat(">")) return e4.tokenize = p, i = ">" == n4 ? "endTag" : "selfcloseTag", "tag bracket";
              if ("=" == n4) return i = "equals", null;
              if ("<" == n4) {
                e4.tokenize = p, e4.state = _, e4.tagName = e4.tagStart = null;
                var o3 = e4.tokenize(t4, e4);
                return o3 ? o3 + " tag error" : "tag error";
              }
              return /[\'\"]/.test(n4) ? (e4.tokenize = f(n4), e4.stringStartCol = t4.column(), e4.tokenize(t4, e4)) : (t4.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/), "word");
            }
            function f(t4) {
              var e4 = function(e5, n4) {
                for (; !e5.eol(); ) if (e5.next() == t4) {
                  n4.tokenize = d;
                  break;
                }
                return "string";
              };
              return e4.isInAttribute = true, e4;
            }
            function h(t4, e4) {
              return function(n4, o3) {
                for (; !n4.eol(); ) {
                  if (n4.match(e4)) {
                    o3.tokenize = p;
                    break;
                  }
                  n4.next();
                }
                return t4;
              };
            }
            function v(t4) {
              return function(e4, n4) {
                for (var o3; null != (o3 = e4.next()); ) {
                  if ("<" == o3) return n4.tokenize = v(t4 + 1), n4.tokenize(e4, n4);
                  if (">" == o3) {
                    if (1 == t4) {
                      n4.tokenize = p;
                      break;
                    }
                    return n4.tokenize = v(t4 - 1), n4.tokenize(e4, n4);
                  }
                }
                return "meta";
              };
            }
            function g(t4) {
              return t4 && t4.toLowerCase();
            }
            function y(t4, e4, n4) {
              this.prev = t4.context, this.tagName = e4 || "", this.indent = t4.indented, this.startOfLine = n4, (l.doNotIndent.hasOwnProperty(e4) || t4.context && t4.context.noIndent) && (this.noIndent = true);
            }
            function m(t4) {
              t4.context && (t4.context = t4.context.prev);
            }
            function b(t4, e4) {
              for (var n4; 1; ) {
                if (!t4.context) return;
                if (n4 = t4.context.tagName, !l.contextGrabbers.hasOwnProperty(g(n4)) || !l.contextGrabbers[g(n4)].hasOwnProperty(g(e4))) return;
                m(t4);
              }
            }
            function _(t4, e4, n4) {
              return "openTag" == t4 ? (n4.tagStart = e4.column(), w) : "closeTag" == t4 ? x : _;
            }
            function w(t4, e4, n4) {
              return "word" == t4 ? (n4.tagName = e4.current(), a = "tag", O) : l.allowMissingTagName && "endTag" == t4 ? (a = "tag bracket", O(t4, e4, n4)) : (a = "error", w);
            }
            function x(t4, e4, n4) {
              if ("word" == t4) {
                var o3 = e4.current();
                return n4.context && n4.context.tagName != o3 && l.implicitlyClosed.hasOwnProperty(g(n4.context.tagName)) && m(n4), n4.context && n4.context.tagName == o3 || false === l.matchClosing ? (a = "tag", C) : (a = "tag error", S);
              }
              return l.allowMissingTagName && "endTag" == t4 ? (a = "tag bracket", C(t4, e4, n4)) : (a = "error", S);
            }
            function C(t4, e4, n4) {
              return "endTag" != t4 ? (a = "error", C) : (m(n4), _);
            }
            function S(t4, e4, n4) {
              return a = "error", C(t4, e4, n4);
            }
            function O(t4, e4, n4) {
              if ("word" == t4) return a = "attribute", T;
              if ("endTag" == t4 || "selfcloseTag" == t4) {
                var o3 = n4.tagName, r2 = n4.tagStart;
                return n4.tagName = n4.tagStart = null, "selfcloseTag" == t4 || l.autoSelfClosers.hasOwnProperty(g(o3)) ? b(n4, o3) : (b(n4, o3), n4.context = new y(n4, o3, r2 == n4.indented)), _;
              }
              return a = "error", O;
            }
            function T(t4, e4, n4) {
              return "equals" == t4 ? P : (l.allowMissing || (a = "error"), O(t4, e4, n4));
            }
            function P(t4, e4, n4) {
              return "string" == t4 ? E : "word" == t4 && l.allowUnquoted ? (a = "string", O) : (a = "error", O(t4, e4, n4));
            }
            function E(t4, e4, n4) {
              return "string" == t4 ? E : O(t4, e4, n4);
            }
            return p.isInText = true, { startState: function(t4) {
              var e4 = { tokenize: p, state: _, indented: t4 || 0, tagName: null, tagStart: null, context: null };
              return null != t4 && (e4.baseIndent = t4), e4;
            }, token: function(t4, e4) {
              if (!e4.tagName && t4.sol() && (e4.indented = t4.indentation()), t4.eatSpace()) return null;
              i = null;
              var n4 = e4.tokenize(t4, e4);
              return (n4 || i) && "comment" != n4 && (a = null, e4.state = e4.state(i || n4, t4, e4), a && (n4 = "error" == a ? n4 + " error" : a)), n4;
            }, indent: function(e4, n4, o3) {
              var r2 = e4.context;
              if (e4.tokenize.isInAttribute) return e4.tagStart == e4.indented ? e4.stringStartCol + 1 : e4.indented + s;
              if (r2 && r2.noIndent) return t3.Pass;
              if (e4.tokenize != d && e4.tokenize != p) return o3 ? o3.match(/^(\s*)/)[0].length : 0;
              if (e4.tagName) return false !== l.multilineTagIndentPastTag ? e4.tagStart + e4.tagName.length + 2 : e4.tagStart + s * (l.multilineTagIndentFactor || 1);
              if (l.alignCDATA && /<!\[CDATA\[/.test(n4)) return 0;
              var i2 = n4 && /^<(\/)?([\w_:\.-]*)/.exec(n4);
              if (i2 && i2[1]) for (; r2; ) {
                if (r2.tagName == i2[2]) {
                  r2 = r2.prev;
                  break;
                }
                if (!l.implicitlyClosed.hasOwnProperty(g(r2.tagName))) break;
                r2 = r2.prev;
              }
              else if (i2) for (; r2; ) {
                var a2 = l.contextGrabbers[g(r2.tagName)];
                if (!a2 || !a2.hasOwnProperty(g(i2[2]))) break;
                r2 = r2.prev;
              }
              for (; r2 && r2.prev && !r2.startOfLine; ) r2 = r2.prev;
              return r2 ? r2.indent + s : e4.baseIndent || 0;
            }, electricInput: /<\/[\s\w:]+>$/, blockCommentStart: "<!--", blockCommentEnd: "-->", configuration: l.htmlMode ? "html" : "xml", helperType: l.htmlMode ? "html" : "xml", skipAttribute: function(t4) {
              t4.state == P && (t4.state = O);
            }, xmlCurrentTag: function(t4) {
              return t4.tagName ? { name: t4.tagName, close: "closeTag" == t4.type } : null;
            }, xmlCurrentContext: function(t4) {
              for (var e4 = [], n4 = t4.context; n4; n4 = n4.prev) e4.push(n4.tagName);
              return e4.reverse();
            } };
          })), t3.defineMIME("text/xml", "xml"), t3.defineMIME("application/xml", "xml"), t3.mimeModes.hasOwnProperty("text/html") || t3.defineMIME("text/html", { name: "xml", htmlMode: true });
        })(n2(4408));
      }, 7058: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { A: () => a });
        var o2, r = n2(9156), i = (o2 = function(t3, e3) {
          return o2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, o2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          o2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        });
        const a = (function(t3) {
          function e3(e4, n3, o3) {
            var r2 = t3.call(this, n3, o3) || this;
            return r2._module = e4, r2;
          }
          return i(e3, t3), Object.defineProperty(e3.prototype, "module", { get: function() {
            return this._module;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "config", { get: function() {
            return this._module.config;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "em", { get: function() {
            return this._module.em;
          }, enumerable: false, configurable: true }), e3;
        })(r.Kx);
      }, 179: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { A: () => s, F: () => r });
        var o2, r, i = n2(7058), a = (o2 = function(t3, e3) {
          return o2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, o2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          o2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        });
        !(function(t3) {
          t3["Select"] = "select", t3["Hover"] = "hover", t3["Spacing"] = "spacing", t3["Target"] = "target", t3["Resize"] = "resize";
        })(r || (r = {}));
        const s = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return a(e3, t3), e3.prototype.defaults = function() {
            return { id: "", type: "" };
          }, Object.defineProperty(e3.prototype, "type", { get: function() {
            return this.get("type") || "";
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "component", { get: function() {
            var t4;
            return this.get("component") || (null === (t4 = this.get("componentView")) || void 0 === t4 ? void 0 : t4.model);
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "componentView", { get: function() {
            var t4;
            return this.get("componentView") || (null === (t4 = this.get("component")) || void 0 === t4 ? void 0 : t4.getView());
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "el", { get: function() {
            var t4;
            return null === (t4 = this.componentView) || void 0 === t4 ? void 0 : t4.el;
          }, enumerable: false, configurable: true }), e3.prototype.getBoxRect = function(t4) {
            var e4 = this.el, n3 = this.em.Canvas.getCanvasView(), o3 = this.get("boxRect");
            return o3 || (e4 && n3 ? n3.getElBoxRect(e4, t4) : { x: 0, y: 0, width: 0, height: 0 });
          }, e3.prototype.getStyle = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = t4.boxRect || this.getBoxRect(t4), n3 = e4.width, o3 = e4.height, r2 = e4.x, i2 = e4.y;
            return { width: "".concat(n3, "px"), height: "".concat(o3, "px"), top: "0", left: "0", position: "absolute", translate: "".concat(r2, "px ").concat(i2, "px") };
          }, e3.prototype.isType = function(t4) {
            return this.type === t4;
          }, e3;
        })(i.A);
      }, 1738: (t2, e2, n2) => {
        "use strict";
        var o2;
        n2.d(e2, { A: () => r }), (function(t3) {
          t3["run"] = "command:run", t3["runCommand"] = "command:run:", t3["runBeforeCommand"] = "command:run:before:", t3["abort"] = "command:abort:", t3["stop"] = "command:stop", t3["stopCommand"] = "command:stop:", t3["stopBeforeCommand"] = "command:stop:before:", t3["call"] = "command:call", t3["callCommand"] = "command:call:";
        })(o2 || (o2 = {}));
        const r = o2;
      }, 9484: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o2 });
        const o2 = { run: function(t3) {
          t3.Components.clear(), t3.Css.clear();
        } };
      }, 9516: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => a });
        var o2 = n2(5706), r = n2(9966), i = n2(6294);
        const a = { run: function(t3) {
          (0, o2.bindAll)(this, "onKeyUp", "enableDragger", "disableDragger"), this.editor = t3, this.canvasModel = this.canvas.getCanvasView().model, this.toggleMove(1);
        }, stop: function(t3) {
          this.toggleMove(), this.disableDragger();
        }, onKeyUp: function(t3) {
          " " === (0, i.Ch)(t3) && this.editor.stopCommand(this.id);
        }, enableDragger: function(t3) {
          this.toggleDragger(1, t3);
        }, disableDragger: function(t3) {
          this.toggleDragger(0, t3);
        }, toggleDragger: function(t3, e3) {
          var n3 = this.canvasModel, o3 = this.em, i2 = this.dragger, a2 = t3 ? "add" : "remove";
          this.getCanvas().classList[a2]("".concat(this.ppfx, "is__grabbing")), i2 || (i2 = new r.A({ getPosition: function() {
            return { x: n3.get("x"), y: n3.get("y") };
          }, setPosition: function(t4) {
            var e4 = t4.x, o4 = t4.y;
            n3.set({ x: e4, y: o4 });
          }, onStart: function(t4, e4) {
            o3.trigger("canvas:move:start", e4);
          }, onDrag: function(t4, e4) {
            o3.trigger("canvas:move", e4);
          }, onEnd: function(t4, e4) {
            o3.trigger("canvas:move:end", e4);
          } }), this.dragger = i2), t3 ? i2.start(e3) : i2.stop();
        }, toggleMove: function(t3) {
          var e3 = this.ppfx, n3 = t3 ? "add" : "remove", o3 = t3 ? "on" : "off", r2 = { on: i.on, off: i.AU }, a2 = this.getCanvas(), s = ["".concat(e3, "is__grab")];
          !t3 && s.push("".concat(e3, "is__grabbing")), s.forEach((function(t4) {
            return a2.classList[n3](t4);
          })), r2[o3](document, "keyup", this.onKeyUp), r2[o3](a2, "mousedown", this.enableDragger), r2[o3](document, "mouseup", this.disableDragger);
        } };
      }, 9946: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => c, defineCommand: () => l });
        var o2, r = n2(9156), i = n2(1738), a = (o2 = function(t3, e3) {
          return o2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, o2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          o2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), s = function() {
          return s = Object.assign || function(t3) {
            for (var e3, n3 = 1, o3 = arguments.length; n3 < o3; n3++) for (var r2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, s.apply(this, arguments);
        };
        function l(t3) {
          return t3;
        }
        const c = (function(t3) {
          function e3(e4) {
            var n3 = t3.call(this, 0) || this;
            n3.config = e4 || {}, n3.em = n3.config.em || {};
            var o3 = n3.config.stylePrefix;
            return n3.pfx = o3, n3.ppfx = n3.config.pStylePrefix, n3.hoverClass = "".concat(o3, "hover"), n3.badgeClass = "".concat(o3, "badge"), n3.plhClass = "".concat(o3, "placeholder"), n3.freezClass = "".concat(n3.ppfx, "freezed"), n3.canvas = n3.em.Canvas, n3.init(n3.config), n3;
          }
          return a(e3, t3), e3.prototype.onFrameScroll = function(t4) {
          }, e3.prototype.getCanvas = function() {
            return this.canvas.getElement();
          }, e3.prototype.getCanvasBody = function() {
            return this.canvas.getBody();
          }, e3.prototype.getCanvasTools = function() {
            return this.canvas.getToolsEl();
          }, e3.prototype.offset = function(t4) {
            var e4 = t4.getBoundingClientRect();
            return { top: e4.top + t4.ownerDocument.body.scrollTop, left: e4.left + t4.ownerDocument.body.scrollLeft };
          }, e3.prototype.init = function(t4) {
          }, e3.prototype.callRun = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = this.id;
            if (t4.trigger("".concat(i.A.runBeforeCommand).concat(n3), { options: e4 }), !e4.abort) {
              var o3 = e4.sender || t4, r2 = this.run(t4, o3, e4), a2 = { id: n3, result: r2, options: e4 }, l2 = s(s({}, a2), { type: "run" });
              return this.noStop || (t4.Commands.active[n3] = r2), t4.trigger("".concat(i.A.runCommand).concat(n3), a2), t4.trigger("".concat(i.A.callCommand).concat(n3), l2), t4.trigger(i.A.run, a2), t4.trigger(i.A.call, l2), r2;
            }
            t4.trigger("".concat(i.A.abort).concat(n3), { options: e4 });
          }, e3.prototype.callStop = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = this.id, o3 = e4.sender || t4;
            t4.trigger("".concat(i.A.stopBeforeCommand).concat(n3), { options: e4 });
            var r2 = this.stop(t4, o3, e4), a2 = { id: n3, result: r2, options: e4 }, l2 = s(s({}, a2), { type: "stop" });
            return delete t4.Commands.active[n3], t4.trigger("".concat(i.A.stopCommand).concat(n3), a2), t4.trigger("".concat(i.A.callCommand).concat(n3), l2), t4.trigger(i.A.stop, a2), t4.trigger(i.A.call, l2), r2;
          }, e3.prototype.stopCommand = function(t4) {
            this.em.Commands.stop(this.id, t4);
          }, e3.prototype.run = function(t4, e4, n3) {
          }, e3.prototype.stop = function(t4, e4, n3) {
          }, e3;
        })(r.Kx);
      }, 7801: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => i });
        var o2 = n2(5706), r = function(t3, e3, n3) {
          if (n3 || 2 === arguments.length) for (var o3, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o3 && r2 in e3 || (o3 || (o3 = Array.prototype.slice.call(e3, 0, r2)), o3[r2] = e3[r2]);
          return t3.concat(o3 || Array.prototype.slice.call(e3));
        };
        const i = { run: function(t3, e3, n3) {
          var i2 = this;
          void 0 === n3 && (n3 = {});
          var a = [], s = n3.component || t3.getSelectedAll();
          return (s = (0, o2.isArray)(s) ? r([], s, true) : [s]).filter(Boolean).forEach((function(t4) {
            var e4, n4;
            if (!t4.get("removable")) return i2.em.logWarning("The element is not removable", { component: t4 });
            a.push(t4), ((null === (n4 = null === (e4 = t4.delegate) || void 0 === e4 ? void 0 : e4.remove) || void 0 === n4 ? void 0 : n4.call(e4, t4)) || t4).remove();
          })), t3.selectRemove(a), a;
        } };
      }, 4864: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => l });
        var o2 = n2(5706), r = n2(9966), i = n2(1166), a = function() {
          return a = Object.assign || function(t3) {
            for (var e3, n3 = 1, o3 = arguments.length; n3 < o3; n3++) for (var r2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, a.apply(this, arguments);
        }, s = "dmode";
        const l = { run: function(t3, e3, n3) {
          var i2, l2, c = this;
          if (void 0 === n3 && (n3 = {}), (0, o2.bindAll)(this, "setPosition", "onStart", "onDrag", "onEnd", "getPosition", "getGuidesStatic", "renderGuide", "getGuidesTarget"), !n3.target) throw new Error("Target option is required");
          var u = a({ doc: null === (i2 = n3.target.getEl()) || void 0 === i2 ? void 0 : i2.ownerDocument, onStart: this.onStart, onEnd: this.onEnd, onDrag: this.onDrag, getPosition: this.getPosition, setPosition: this.setPosition, guidesStatic: function() {
            var t4;
            return null !== (t4 = c.guidesStatic) && void 0 !== t4 ? t4 : [];
          }, guidesTarget: function() {
            var t4;
            return null !== (t4 = c.guidesTarget) && void 0 !== t4 ? t4 : [];
          } }, null !== (l2 = n3.dragger) && void 0 !== l2 ? l2 : {});
          this.setupGuides(), this.opts = n3, this.editor = t3, this.em = t3.getModel(), this.target = n3.target, this.isTran = "translate" == n3.mode, this.guidesContainer = this.getGuidesContainer(), this.guidesTarget = this.getGuidesTarget(), this.guidesStatic = this.getGuidesStatic();
          var p = this.dragger;
          return p ? p.setOptions(u) : (p = new r.A(u), this.dragger = p), n3.event && p.start(n3.event), this.toggleDrag(true), this.em.trigger("".concat(s, ":start"), this.getEventOpts()), p;
        }, getEventOpts: function() {
          var t3, e3, n3 = null !== (e3 = null === (t3 = this.guidesTarget) || void 0 === t3 ? void 0 : t3.filter((function(t4) {
            return t4.active;
          }))) && void 0 !== e3 ? e3 : [];
          return { mode: this.opts.mode, component: this.target, target: this.target, guidesTarget: this.guidesTarget, guidesStatic: this.guidesStatic, guidesMatched: this.getGuidesMatched(n3), command: this };
        }, stop: function() {
          this.toggleDrag();
        }, setupGuides: function() {
          var t3;
          (null !== (t3 = this.guides) && void 0 !== t3 ? t3 : []).forEach((function(t4) {
            var e3, n3 = t4.guide;
            null === (e3 = null == n3 ? void 0 : n3.parentNode) || void 0 === e3 || e3.removeChild(n3);
          })), this.guides = [];
        }, getGuidesContainer: function() {
          var t3, e3, n3, r2, i2 = this, a2 = this.guidesEl;
          if (!a2) {
            var s2 = this, l2 = s2.editor, c = s2.em, u = s2.opts, p = null !== (t3 = l2.getConfig().stylePrefix) && void 0 !== t3 ? t3 : "", d = document.createElement("div"), f = document.createElement("div"), h = '<div class="'.concat(p, "guide-info__line ").concat(p, 'danger-bg">\n        <div class="').concat(p, "guide-info__content ").concat(p, 'danger-color"></div>\n      </div>');
            (a2 = document.createElement("div")).className = "".concat(p, "guides"), d.className = "".concat(p, "guide-info ").concat(p, "guide-info__x"), f.className = "".concat(p, "guide-info ").concat(p, "guide-info__y"), d.innerHTML = h, f.innerHTML = h, a2.appendChild(d), a2.appendChild(f), null === (e3 = l2.Canvas.getGlobalToolsEl()) || void 0 === e3 || e3.appendChild(a2), this.guidesEl = a2, this.elGuideInfoX = d, this.elGuideInfoY = f, this.elGuideInfoContentX = null !== (n3 = d.querySelector(".".concat(p, "guide-info__content"))) && void 0 !== n3 ? n3 : void 0, this.elGuideInfoContentY = null !== (r2 = f.querySelector(".".concat(p, "guide-info__content"))) && void 0 !== r2 ? r2 : void 0, c.on("canvas:update frame:scroll", (0, o2.debounce)((function() {
              var t4;
              i2.updateGuides(), u.debug && (null === (t4 = i2.guides) || void 0 === t4 || t4.forEach((function(t5) {
                return i2.renderGuide(t5);
              })));
            }), 200));
          }
          return a2;
        }, getGuidesStatic: function() {
          var t3 = this, e3 = [], n3 = this.target.getEl(), r2 = null == n3 ? void 0 : n3.parentElement;
          return r2 ? ((0, o2.each)(r2.children, (function(o3) {
            return e3 = e3.concat(n3 !== o3 ? t3.getElementGuides(o3) : []);
          })), e3.concat(this.getElementGuides(r2))) : [];
        }, getGuidesTarget: function() {
          return this.getElementGuides(this.target.getEl());
        }, updateGuides: function(t3) {
          var e3, n3, r2, i2 = this;
          (null !== (e3 = null != t3 ? t3 : this.guides) && void 0 !== e3 ? e3 : []).forEach((function(t4) {
            var e4 = t4.origin, a2 = n3 === e4 ? r2 : i2.getElementPos(e4);
            n3 = e4, r2 = a2, (0, o2.each)(i2.getGuidePosUpdate(t4, a2), (function(e5, n4) {
              t4[n4] = e5;
            })), t4.originRect = a2;
          }));
        }, getGuidePosUpdate: function(t3, e3) {
          var n3 = {}, o3 = e3.top, r2 = e3.height, i2 = e3.left, a2 = e3.width;
          switch (t3.type) {
            case "t":
              n3.y = o3;
              break;
            case "b":
              n3.y = o3 + r2;
              break;
            case "l":
              n3.x = i2;
              break;
            case "r":
              n3.x = i2 + a2;
              break;
            case "x":
              n3.x = i2 + a2 / 2;
              break;
            case "y":
              n3.y = o3 + r2 / 2;
          }
          return n3;
        }, renderGuide: function(t3) {
          var e3, n3;
          if (!this.opts.skipGuidesRender) {
            var o3 = null !== (e3 = t3.guide) && void 0 !== e3 ? e3 : document.createElement("div"), r2 = "px", i2 = t3.active ? 2 : 1;
            if (o3.style.cssText = "position: absolute; background-color: ".concat(t3.active ? "green" : "red", ";"), !o3.children.length) {
              var a2 = document.createElement("div");
              a2.style.cssText = "position: absolute; color: red; padding: 5px; top: 0; left: 0;", o3.appendChild(a2);
            }
            return t3.y ? (o3.style.width = "100%", o3.style.height = "".concat(i2).concat(r2), o3.style.top = "".concat(t3.y).concat(r2), o3.style.left = "0") : (o3.style.width = "".concat(i2).concat(r2), o3.style.height = "100%", o3.style.left = "".concat(t3.x).concat(r2), o3.style.top = "0".concat(r2)), !t3.guide && (null === (n3 = this.guidesContainer) || void 0 === n3 || n3.appendChild(o3)), o3;
          }
        }, getElementPos: function(t3) {
          return this.editor.Canvas.getElementPos(t3, { noScroll: 1 });
        }, getElementGuides: function(t3) {
          var e3 = this, n3 = this.opts, o3 = t3, r2 = this.getElementPos(t3), s2 = (0, i.getComponentModel)(t3), l2 = (0, i.getComponentView)(t3), c = r2.top, u = r2.height, p = r2.left, d = r2.width, f = [{ type: "t", y: c }, { type: "b", y: c + u }, { type: "l", x: p }, { type: "r", x: p + d }, { type: "x", x: p + d / 2 }, { type: "y", y: c + u / 2 }].map((function(t4) {
            var i2 = n3.debug ? e3.renderGuide(t4) : void 0;
            return a(a({}, t4), { component: s2, componentView: l2, componentEl: o3, origin: o3, componentElRect: r2, originRect: r2, guideEl: i2, guide: i2 });
          }));
          return f.forEach((function(t4) {
            var n4;
            return null === (n4 = e3.guides) || void 0 === n4 ? void 0 : n4.push(t4);
          })), f;
        }, getTranslate: function(t3, e3) {
          void 0 === e3 && (e3 = "x");
          var n3 = 0;
          return (t3 || "").split(" ").forEach((function(t4) {
            var o3 = t4.trim(), r2 = "translate".concat(e3.toUpperCase(), "(");
            0 === o3.indexOf(r2) && (n3 = parseFloat(o3.replace(r2, "")));
          })), n3;
        }, setTranslate: function(t3, e3, n3) {
          var o3 = "translate".concat(e3.toUpperCase(), "("), r2 = "".concat(o3).concat(n3, ")"), i2 = (t3 || "").split(" ").map((function(t4) {
            return 0 === t4.trim().indexOf(o3) && (t4 = r2), t4;
          })).join(" ");
          return i2.indexOf(o3) < 0 && (i2 += " ".concat(r2)), i2;
        }, getPosition: function() {
          var t3 = this.target, e3 = this.isTran, n3 = t3.getStyle(), o3 = n3.transform, r2 = n3.left, i2 = n3.top, a2 = 0, s2 = 0;
          return e3 && o3 ? (a2 = this.getTranslate(o3), s2 = this.getTranslate(o3, "y")) : (a2 = parseFloat(null != r2 ? r2 : "0"), s2 = parseFloat(null != i2 ? i2 : "0")), { x: a2, y: s2 };
        }, setPosition: function(t3) {
          var e3, n3, r2 = t3.x, i2 = t3.y, a2 = t3.end, s2 = t3.position, l2 = t3.width, c = t3.height, u = this, p = u.target, d = u.isTran, f = u.em, h = u.opts, v = "px", g = !a2, y = "".concat(parseInt("".concat(r2), 10)).concat(v), m = "".concat(parseInt("".concat(i2), 10)).concat(v), b = {};
          if (d) {
            var _ = null !== (n3 = null === (e3 = p.getStyle()) || void 0 === e3 ? void 0 : e3.transform) && void 0 !== n3 ? n3 : "";
            _ = this.setTranslate(_, "x", y), b = { transform: _ = this.setTranslate(_, "y", m), __p: g };
          } else {
            var w = { position: s2, width: l2, height: c }, x = { left: y, top: m, __p: g };
            (0, o2.keys)(w).forEach((function(t4) {
              var e4 = w[t4];
              e4 && (x[t4] = e4);
            })), b = x;
          }
          h.addStyle ? h.addStyle({ component: p, styles: b, partial: !a2 }) : p.addStyle(b, { avoidStore: !a2 }), f.Styles.__emitCmpStyleUpdate(b, { components: f.getSelected() });
        }, _getDragData: function() {
          var t3 = this.target;
          return { target: t3, parent: t3.parent(), index: t3.index() };
        }, onStart: function(t3) {
          var e3, n3 = this, o3 = n3.target, r2 = n3.editor, i2 = n3.isTran, a2 = n3.opts, s2 = r2.Canvas, l2 = o3.getStyle(), c = "absolute", u = [c, "relative"];
          if (null === (e3 = a2.onStart) || void 0 === e3 || e3.call(a2, this._getDragData()), !i2) {
            if (l2.position !== c) {
              var p = s2.offset(o3.getEl()), d = p.left, f = p.top, h = p.width, v = p.height, g = o3.parent(), y = null;
              do {
                var m = null == g ? void 0 : g.getStyle(), b = null == m ? void 0 : m.position;
                b && (y = u.indexOf(b) >= 0 ? g : null), g = null == g ? void 0 : g.parent();
              } while (g && !y);
              if (a2.center) {
                var _ = s2.getMouseRelativeCanvas(t3);
                d = _.x, f = _.y;
              } else if (y) {
                var w = s2.offset(y.getEl());
                d -= w.left, f -= w.top;
              }
              this.setPosition({ x: d, y: f, width: "".concat(h, "px"), height: "".concat(v, "px"), position: c });
            }
            this.guidesStatic = this.getGuidesStatic();
          }
        }, onDrag: function(t3) {
          var e3, n3, o3 = this, r2 = this.guidesTarget, i2 = this.opts;
          this.updateGuides(r2), i2.debug && (null == r2 || r2.forEach((function(t4) {
            return o3.renderGuide(t4);
          }))), i2.guidesInfo && this.renderGuideInfo(null !== (e3 = null == r2 ? void 0 : r2.filter((function(t4) {
            return t4.active;
          }))) && void 0 !== e3 ? e3 : []), null === (n3 = i2.onDrag) || void 0 === n3 || n3.call(i2, this._getDragData()), this.opts.event = t3, this.em.trigger("".concat(s, ":move"), this.getEventOpts());
        }, onEnd: function(t3, e3, n3) {
          var o3, r2 = this, i2 = r2.editor, l2 = r2.opts, c = r2.id;
          null === (o3 = l2.onEnd) || void 0 === o3 || o3.call(l2, t3, n3, a(a({ event: t3 }, n3), this._getDragData())), i2.stopCommand("".concat(c)), this.hideGuidesInfo(), this.em.trigger("".concat(s, ":end"), this.getEventOpts());
        }, hideGuidesInfo: function() {
          var t3 = this;
          ["X", "Y"].forEach((function(e3) {
            var n3 = t3["elGuideInfo".concat(e3)];
            n3 && (n3.style.display = "none");
          }));
        }, renderGuideInfo: function(t3) {
          var e3 = this;
          void 0 === t3 && (t3 = []), this.hideGuidesInfo(), this.getGuidesMatched(t3).forEach((function(t4) {
            e3.opts.skipGuidesRender || e3.renderSingleGuideInfo(t4), e3.em.trigger("".concat(s, ":active"), a(a({}, e3.getEventOpts()), t4));
          }));
        }, renderSingleGuideInfo: function(t3) {
          var e3 = t3.posFirst, n3 = t3.posSecond, r2 = t3.size, i2 = t3.sizeRaw, a2 = t3.guide, s2 = t3.elGuideInfo, l2 = t3.elGuideInfoCnt, c = "y" === ((0, o2.isUndefined)(a2.x) ? "y" : "x"), u = s2.style;
          u.display = "", u[c ? "top" : "left"] = "".concat(e3, "px"), u[c ? "left" : "top"] = "".concat(n3, "px"), u[c ? "width" : "height"] = "".concat(r2, "px"), l2.innerHTML = "".concat(Math.round(i2), "px");
        }, getGuidesMatched: function(t3) {
          var e3 = this;
          void 0 === t3 && (t3 = []);
          var n3 = this.guidesStatic, r2 = void 0 === n3 ? [] : n3;
          return t3.map((function(t4) {
            var n4 = t4.origin, i2 = t4.x, a2 = e3.getElementPos(n4), s2 = (0, o2.isUndefined)(i2) ? "y" : "x", l2 = "y" === s2, c = a2[l2 ? "left" : "top"], u = a2.rect[l2 ? "left" : "top"], p = l2 ? c + a2.width : c + a2.height, d = l2 ? u + a2.rect.width : u + a2.rect.height, f = r2.filter((function(e4) {
              var n5;
              return e4.type === t4.type || (null === (n5 = { l: ["r", "x"], r: ["l", "x"], x: ["l", "r"], t: ["b", "y"], b: ["t", "y"], y: ["t", "b"] }[t4.type]) || void 0 === n5 ? void 0 : n5.includes(e4.type));
            })).map((function(t5) {
              var e4 = t5.originRect, n5 = e4.left, o3 = e4.width, r3 = e4.top, i3 = e4.height, a3 = l2 ? n5 + o3 : r3 + i3;
              return { gap: a3 < c ? c - a3 : (l2 ? n5 : r3) - p, guide: t5 };
            })).filter((function(t5) {
              return t5.gap > 0;
            })).sort((function(t5, e4) {
              return t5.gap - e4.gap;
            })).map((function(t5) {
              return t5.guide;
            })).filter((function(e4) {
              switch (t4.type) {
                case "l":
                case "r":
                case "x":
                  return Math.abs(e4.x - t4.x) < 1;
                case "t":
                case "b":
                case "y":
                  return Math.abs(e4.y - t4.y) < 1;
                default:
                  return false;
              }
            })), h = f[0];
            if (h) {
              var v = h.originRect, g = v.left, y = v.width, m = v.top, b = v.height, _ = v.rect, w = l2 ? g < a2.left : m < a2.top, x = l2 ? g : m, C = l2 ? _.left : _.top, S = l2 ? g + y : m + b, O = l2 ? _.left + _.width : _.top + _.height, T = l2 ? t4.y : t4.x, P = w ? S : p, E = w ? c - S : x - p, k = w ? u - O : C - d, A = e3["elGuideInfo".concat(s2.toUpperCase())], j = e3["elGuideInfoContent".concat(s2.toUpperCase())];
              return { guide: t4, guidesStatic: r2, matched: h, posFirst: T, posSecond: P, size: E, sizeRaw: k, elGuideInfo: A, elGuideInfoCnt: j };
            }
            return null;
          })).filter(Boolean);
        }, toggleDrag: function(t3) {
          var e3 = this.ppfx, n3 = this.editor, o3 = t3 ? "add" : "remove", r2 = ["".concat(e3, "is__grabbing")], i2 = n3.Canvas, a2 = i2.getBody();
          r2.forEach((function(t4) {
            return a2.classList[o3](t4);
          })), i2[t3 ? "startAutoscroll" : "stopAutoscroll"]();
        }, editor: void 0, em: void 0, opts: void 0, target: void 0 };
      }, 6134: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o2 });
        const o2 = { run: function(t3) {
          if (t3.Canvas.hasFocus()) {
            var e3 = [];
            t3.getSelectedAll().forEach((function(t4) {
              var n3 = t4.components(), o3 = n3 && n3.filter((function(t5) {
                return t5.get("selectable");
              }))[0];
              o3 && e3.push(o3);
            })), e3.length && t3.select(e3);
          }
        } };
      }, 914: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o2 });
        const o2 = { run: function(t3, e3, n3) {
          if (void 0 === n3 && (n3 = {}), t3.Canvas.hasFocus() || n3.force) {
            var o3 = [];
            t3.getSelectedAll().forEach((function(t4) {
              for (var e4 = t4.parent(); e4 && !e4.get("selectable"); ) e4 = e4.parent();
              e4 && o3.push(e4);
            })), o3.length && t3.select(o3);
          }
        } };
      }, 5547: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o2 });
        const o2 = { run: function(t3) {
          if (t3.Canvas.hasFocus()) {
            var e3 = [];
            t3.getSelectedAll().forEach((function(t4) {
              var n3 = t4.parent();
              if (n3) {
                var o3, r = n3.components().length, i = 0, a = 0;
                do {
                  i++, o3 = (a = t4.index() + i) <= r ? n3.getChildAt(a) : null;
                } while (o3 && !o3.get("selectable"));
                e3.push(o3 || t4);
              }
            })), e3.length && t3.select(e3);
          }
        } };
      }, 8655: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o2 });
        const o2 = { run: function(t3) {
          if (t3.Canvas.hasFocus()) {
            var e3 = [];
            t3.getSelectedAll().forEach((function(t4) {
              var n3 = t4.parent();
              if (n3) {
                var o3, r = 0, i = 0;
                do {
                  r++, o3 = (i = t4.index() - r) >= 0 ? n3.getChildAt(i) : null;
                } while (o3 && !o3.get("selectable"));
                e3.push(o3 || t4);
              }
            })), e3.length && t3.select(e3);
          }
        } };
      }, 7640: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r });
        var o2 = n2(5706);
        const r = { run: function(t3, e3, n3) {
          void 0 === n3 && (n3 = {});
          var r2 = n3.target, i = [];
          if (!r2.get("styles")) return i;
          var a = r2.get("type"), s = t3.Pages.getAllWrappers();
          if (!(0, o2.flatten)(s.map((function(t4) {
            return t4.findType(a);
          }))).length) {
            var l = t3.CssComposer.getAll();
            i = l.filter((function(t4) {
              return t4.get("group") === "cmp:".concat(a);
            })), l.remove(i);
          }
          return i;
        } };
      }, 5837: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r });
        var o2 = function(t3, e3, n3) {
          if (n3 || 2 === arguments.length) for (var o3, r2 = 0, i = e3.length; r2 < i; r2++) !o3 && r2 in e3 || (o3 || (o3 = Array.prototype.slice.call(e3, 0, r2)), o3[r2] = e3[r2]);
          return t3.concat(o3 || Array.prototype.slice.call(e3));
        };
        const r = { run: function(t3) {
          var e3 = t3.getModel(), n3 = o2([], t3.getSelectedAll(), true).map((function(t4) {
            var e4, n4;
            return (null === (n4 = null === (e4 = t4.delegate) || void 0 === e4 ? void 0 : e4.copy) || void 0 === n4 ? void 0 : n4.call(e4, t4)) || t4;
          })).filter(Boolean);
          n3.length && e3.set("clipboard", n3);
        } };
      }, 6477: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r });
        var o2 = n2(6294);
        const r = { run: function(t3, e3, n3) {
          var r2 = this;
          void 0 === n3 && (n3 = {}), e3 && e3.set && e3.set("active", 0);
          var i = t3.getConfig(), a = t3.Modal, s = i.stylePrefix;
          if (this.cm = t3.CodeManager || null, !this.editors) {
            var l = this.buildEditor("htmlmixed", "hopscotch", "HTML"), c = this.buildEditor("css", "hopscotch", "CSS");
            this.htmlEditor = l.model, this.cssEditor = c.model;
            var u = (0, o2.a_)("div", { class: "".concat(s, "export-dl") });
            u.appendChild(l.el), u.appendChild(c.el), this.editors = u;
          }
          a.open({ title: i.textViewCode, content: this.editors }).getModel().once("change:open", (function() {
            return t3.stopCommand("".concat(r2.id));
          })), this.htmlEditor.setContent(t3.getHtml(n3.optsHtml)), this.cssEditor.setContent(t3.getCss(n3.optsCss));
        }, stop: function(t3) {
          var e3 = t3.Modal;
          e3 && e3.close();
        }, buildEditor: function(t3, e3, n3) {
          var o3 = this.em.CodeManager, r2 = o3.createViewer({ label: n3, codeName: t3, theme: e3 });
          return { model: r2, el: new o3.EditorView({ model: r2, config: o3.getConfig() }).render().el };
        } };
      }, 1772: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r });
        var o2 = n2(5706);
        const r = { isEnabled: function() {
          var t3 = document;
          return !!(t3.fullscreenElement || t3.webkitFullscreenElement || t3.mozFullScreenElement);
        }, enable: function(t3) {
          var e3 = "";
          return t3.requestFullscreen ? t3.requestFullscreen() : t3.webkitRequestFullscreen ? (e3 = "webkit", t3.webkitRequestFullscreen()) : t3.mozRequestFullScreen ? (e3 = "moz", t3.mozRequestFullScreen()) : t3.msRequestFullscreen && t3.msRequestFullscreen(), e3;
        }, disable: function() {
          var t3 = document;
          this.isEnabled() && (t3.exitFullscreen ? t3.exitFullscreen() : t3.webkitExitFullscreen ? t3.webkitExitFullscreen() : t3.mozCancelFullScreen ? t3.mozCancelFullScreen() : t3.msExitFullscreen && t3.msExitFullscreen());
        }, fsChanged: function(t3) {
          this.isEnabled() || (this.stopCommand({ sender: this.sender }), document.removeEventListener("".concat(t3 || "", "fullscreenchange"), this.fsChanged));
        }, run: function(t3, e3, n3) {
          void 0 === n3 && (n3 = {}), this.sender = e3;
          var r2 = n3.target, i = (0, o2.isElement)(r2) ? r2 : document.querySelector(r2), a = this.enable(i || t3.getContainer());
          this.fsChanged = this.fsChanged.bind(this, a), document.addEventListener(a + "fullscreenchange", this.fsChanged);
        }, stop: function(t3, e3) {
          e3 && e3.set && e3.set("active", false), this.disable();
        } };
      }, 741: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => l });
        var o2 = n2(5706), r = n2(7774), i = n2(6294), a = n2(9317), s = n2(1406);
        const l = (0, o2.extend)({}, s["default"], a["default"], { init: function(t3) {
          a["default"].init.apply(this, arguments), (0, o2.bindAll)(this, "initSorter", "rollback", "onEndMove"), this.opt = t3, this.hoverClass = this.ppfx + "highlighter-warning", this.badgeClass = this.ppfx + "badge-warning", this.noSelClass = this.ppfx + "no-select";
        }, enable: function() {
          for (var t3 = [], e3 = 0; e3 < arguments.length; e3++) t3[e3] = arguments[e3];
          a["default"].enable.apply(this, t3), this.getBadgeEl().addClass(this.badgeClass), this.getHighlighterEl().addClass(this.hoverClass);
          var n3 = this.$wrapper;
          n3.css("cursor", "move"), n3.on("mousedown", this.initSorter), n3.addClass(this.noSelClass);
        }, toggleClipboard: function() {
        }, initSorter: function(t3) {
          var e3 = (0, r["default"])(t3.target).data("model").get("draggable");
          e3 && (this.cacheEl = null, this.startSelectPosition(t3.target, this.frameEl.contentDocument), this.sorter.draggable = e3, this.sorter.eventHandlers.legacyOnEndMove = this.onEndMove.bind(this), this.stopSelectComponent(), this.$wrapper.off("mousedown", this.initSorter), (0, i.on)(this.getContentWindow(), "keydown", this.rollback));
        }, initSorterFromModel: function(t3) {
          var e3 = t3.get("draggable");
          if (e3) {
            this.cacheEl = null;
            var n3 = t3.view.el;
            this.startSelectPosition(n3, this.frameEl.contentDocument), this.sorter.draggable = e3, this.sorter.eventHandlers.legacyOnEndMove = this.onEndMoveFromModel.bind(this), this.stopSelectComponent(), (0, i.on)(this.getContentWindow(), "keydown", this.rollback);
          }
        }, initSorterFromModels: function(t3) {
          this.cacheEl = null;
          var e3 = t3[t3.length - 1], n3 = this.em.getCurrentFrame(), o3 = e3.getEl(null == n3 ? void 0 : n3.model).ownerDocument, r2 = t3.map((function(t4) {
            var e4;
            return null === (e4 = null == t4 ? void 0 : t4.view) || void 0 === e4 ? void 0 : e4.el;
          }));
          this.startSelectPosition(r2, o3, { onStart: this.onStart }), this.sorter.eventHandlers.legacyOnMoveClb = this.onDrag, this.sorter.eventHandlers.legacyOnEndMove = this.onEndMoveFromModel.bind(this), this.stopSelectComponent(), (0, i.on)(this.getContentWindow(), "keydown", this.rollback);
        }, onEndMoveFromModel: function() {
          (0, i.AU)(this.getContentWindow(), "keydown", this.rollback);
        }, onEndMove: function() {
          this.enable(), (0, i.AU)(this.getContentWindow(), "keydown", this.rollback);
        }, onSelect: function(t3, e3) {
        }, rollback: function(t3, e3) {
          (27 == (t3.which || t3.keyCode) || e3) && this.sorter.cancelDrag();
        }, getBadgeEl: function() {
          return this.$badge || (this.$badge = (0, r["default"])(this.getBadge())), this.$badge;
        }, getHighlighterEl: function() {
          return this.$hl || (this.$hl = (0, r["default"])(this.canvas.getHighlighter())), this.$hl;
        }, stop: function() {
          for (var t3 = [], e3 = 0; e3 < arguments.length; e3++) t3[e3] = arguments[e3];
          a["default"].stop.apply(this, t3), this.getBadgeEl().removeClass(this.badgeClass), this.getHighlighterEl().removeClass(this.hoverClass), this.$wrapper.css("cursor", "").unbind().removeClass(this.noSelClass);
        } });
      }, 2924: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => i });
        var o2 = n2(5706), r = n2(6294);
        const i = { open: function(t3) {
          var e3 = this, n3 = this, r2 = n3.editor, i2 = n3.title, a = n3.config, s = n3.am, l = a.custom;
          if ((0, o2.isFunction)(l.open)) return l.open(s.__customData());
          r2.Modal.open({ title: i2, content: t3 }).onceClose((function() {
            return r2.stopCommand(e3.id);
          }));
        }, close: function() {
          var t3 = this.config.custom;
          if ((0, o2.isFunction)(t3.close)) return t3.close(this.am.__customData());
          var e3 = this.editor.Modal;
          e3 && e3.close();
        }, run: function(t3, e3, n3) {
          void 0 === n3 && (n3 = {});
          var o3 = t3.AssetManager, i2 = o3.getConfig(), a = n3.types, s = void 0 === a ? [] : a, l = n3.accept, c = n3.select;
          if (this.title = n3.modalTitle || t3.t("assetManager.modalTitle") || "", this.editor = t3, this.config = i2, this.am = o3, o3.setTarget(n3.target), o3.onClick(n3.onClick), o3.onDblClick(n3.onDblClick), o3.onSelect(n3.onSelect), o3.__behaviour({ select: c, types: s, options: n3 }), i2.custom) this.rendered = this.rendered || (0, r.a_)("div"), this.rendered.className = "".concat(i2.stylePrefix, "custom-wrp"), o3.__behaviour({ container: this.rendered }), o3.__trgCustom();
          else {
            if (!this.rendered || s) {
              var u = o3.getAll().filter((function(t4) {
                return t4;
              }));
              s && s.length && (u = u.filter((function(t4) {
                return -1 !== s.indexOf(t4.get("type"));
              }))), o3.render(u), this.rendered = o3.getContainer();
            }
            if (l) {
              var p = this.rendered.querySelector("input#".concat(i2.stylePrefix, "uploadFile"));
              p && p.setAttribute("accept", l);
            }
          }
          return this.open(this.rendered), this;
        }, stop: function(t3) {
          this.editor = t3, this.close(this.rendered);
        } };
      }, 3963: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => i });
        var o2 = n2(5706), r = n2(6294);
        const i = { open: function() {
          var t3 = this, e3 = t3.container, n3 = t3.editor, r2 = t3.bm, i2 = t3.config, a = i2.custom, s = i2.appendTo;
          if ((0, o2.isFunction)(a.open)) return a.open(r2.__customData());
          if (this.firstRender && !s) {
            var l = "views-container", c = n3.Panels;
            (c.getPanel(l) || c.addPanel({ id: l })).set("appendContent", e3).trigger("change:appendContent"), a || e3.appendChild(r2.render());
          }
          e3 && (e3.style.display = "block");
        }, close: function() {
          var t3 = this.container, e3 = this.config.custom;
          if ((0, o2.isFunction)(e3.close)) return e3.close(this.bm.__customData());
          t3 && (t3.style.display = "none");
        }, run: function(t3) {
          var e3 = t3.Blocks;
          this.config = e3.getConfig(), this.firstRender = !this.container, this.container = this.container || (0, r.a_)("div"), this.editor = t3, this.bm = e3;
          var n3 = this.container;
          e3.__behaviour({ container: n3 }), this.config.custom && e3.__trgCustom(), this.open();
        }, stop: function() {
          this.close();
        } };
      }, 1479: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o2 });
        const o2 = { run: function(t3) {
          var e3 = t3.LayerManager, n3 = t3.Panels, o3 = e3.getConfig();
          if (!o3.appendTo) {
            if (!this.layers) {
              var r = "views-container", i = document.createElement("div"), a = n3.getPanel(r) || n3.addPanel({ id: r });
              o3.custom ? e3.__trgCustom({ container: i }) : i.appendChild(e3.render()), a.set("appendContent", i).trigger("change:appendContent"), this.layers = i;
            }
            this.layers.style.display = "block";
          }
        }, stop: function() {
          var t3 = this.layers;
          t3 && (t3.style.display = "none");
        } };
      }, 3473: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r });
        var o2 = n2(7774);
        const r = { run: function(t3, e3) {
          if (this.sender = e3, !this.$cnt) {
            var n3 = t3.getConfig(), r2 = t3.Panels, i = t3.DeviceManager, a = t3.SelectorManager, s = t3.StyleManager, l = "change:appendContent", c = (0, o2["default"])("<div></div>"), u = (0, o2["default"])("<div></div>"), p = (0, o2["default"])("<div></div>"), d = (0, o2["default"])("<div></div>");
            if (this.$cnt = c, this.$cntInner = u, u.append(p), u.append(d), c.append(u), i && n3.showDevices) {
              var f = r2.addPanel({ id: "devices-c" }), h = i.render();
              f.set("appendContent", h).trigger(l);
            }
            var v = a.getConfig();
            v.custom ? a.__trgCustom({ container: p.get(0) }) : v.appendTo || p.append(a.render([])), this.sm = s;
            var g = s.getConfig(), y = g.stylePrefix;
            this.$header = (0, o2["default"])('<div class="'.concat(y, 'header">').concat(t3.t("styleManager.empty"), "</div>")), c.append(this.$header), g.custom ? s.__trgCustom({ container: d.get(0) }) : g.appendTo || d.append(s.render());
            var m = "views-container";
            (r2.getPanel(m) || r2.addPanel({ id: m })).set("appendContent", c).trigger(l);
            var b = t3.getModel();
            this.listenTo(b, s.events.target, this.toggleSm);
          }
          this.toggleSm();
        }, toggleSm: function() {
          var t3 = this, e3 = t3.sender, n3 = t3.sm, o3 = t3.$cntInner, r2 = t3.$header;
          e3 && e3.get && !e3.get("active") || !n3 || (n3.getSelected() ? (null == o3 || o3.show(), null == r2 || r2.hide()) : (null == o3 || o3.hide(), null == r2 || r2.show()));
        }, stop: function() {
          var t3, e3;
          null === (t3 = this.$cntInner) || void 0 === t3 || t3.hide(), null === (e3 = this.$header) || void 0 === e3 || e3.hide();
        } };
      }, 5054: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r });
        var o2 = n2(7774);
        const r = { run: function(t3, e3) {
          this.sender = e3;
          var n3, r2 = t3.getModel(), i = t3.Config.stylePrefix, a = t3.TraitManager, s = a.getConfig();
          if (!s.appendTo) {
            if (!this.$cn) {
              this.$cn = (0, o2["default"])("<div></div>"), this.$cn2 = (0, o2["default"])("<div></div>"), this.$cn.append(this.$cn2), this.$header = (0, o2["default"])("<div>").append('<div class="'.concat(s.stylePrefix, 'header">').concat(r2.t("traitManager.empty"), "</div>")), this.$cn.append(this.$header), s.custom ? a.__trgCustom({ container: this.$cn2.get(0) }) : (this.$cn2.append('<div class="'.concat(i, 'traits-label">').concat(r2.t("traitManager.label"), "</div>")), this.$cn2.append(a.render()));
              var l = t3.Panels;
              null == (n3 = l.getPanel("views-container") ? l.getPanel("views-container") : l.addPanel({ id: "views-container" })) || n3.set("appendContent", this.$cn.get(0)).trigger("change:appendContent"), this.target = t3.getModel(), this.listenTo(this.target, "component:toggled", this.toggleTm);
            }
            this.toggleTm();
          }
        }, toggleTm: function() {
          var t3 = this.sender;
          t3 && t3.get && !t3.get("active") || (1 === this.target.getSelectedAll().length ? (this.$cn2.show(), this.$header.hide()) : (this.$cn2.hide(), this.$header.show()));
        }, stop: function() {
          this.$cn2 && this.$cn2.hide(), this.$header && this.$header.hide();
        } };
      }, 6979: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r });
        var o2 = n2(5706);
        const r = { run: function(t3, e3, n3) {
          void 0 === n3 && (n3 = {});
          var r2 = t3.getModel(), a = r2.get("clipboard"), s = t3.getSelected();
          (null == a ? void 0 : a.length) && s && (t3.getSelectedAll().forEach((function(e4) {
            var s2, l, c, u, p = (null === (l = null === (s2 = e4.delegate) || void 0 === s2 ? void 0 : s2.copy) || void 0 === l ? void 0 : l.call(s2, e4)) || e4, d = p.collection;
            if (d) {
              var f = { at: p.index() + 1, action: n3.action || "paste-component" };
              u = (0, o2.contains)(a, p) && p.get("copyable") ? d.add(p.clone(), f) : i(t3, a, p.parent(), f);
            } else {
              var h = null === (c = r2.Pages.getSelected()) || void 0 === c ? void 0 : c.getMainComponent();
              f = { at: (null == h ? void 0 : h.components().length) || 0, action: n3.action || "paste-component" };
              u = i(t3, a, h, f);
            }
            (u = (0, o2.isArray)(u) ? u : [u]).forEach((function(e5) {
              return t3.trigger("component:paste", e5);
            }));
          })), s.emitUpdate());
        } };
        function i(t3, e3, n3, o3) {
          var r2 = e3.filter((function(t4) {
            return t4.get("copyable");
          })).filter((function(e4) {
            return t3.Components.canMove(n3, e4).result;
          }));
          return n3.components().add(r2.map((function(t4) {
            return t4.clone();
          })), o3);
        }
      }, 4457: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => a });
        var o2 = n2(5706), r = function(t3, e3, n3) {
          if (n3 || 2 === arguments.length) for (var o3, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o3 && r2 in e3 || (o3 || (o3 = Array.prototype.slice.call(e3, 0, r2)), o3[r2] = e3[r2]);
          return t3.concat(o3 || Array.prototype.slice.call(e3));
        }, i = "core:component-outline";
        const a = { getPanels: function(t3) {
          return this.panels || (this.panels = t3.Panels.getPanels()), this.panels;
        }, preventDrag: function(t3) {
          t3.abort = 1;
        }, tglEffects: function(t3) {
          var e3 = this.em, n3 = t3 ? "on" : "off";
          if (e3) {
            var r2 = e3.Canvas, i2 = r2.getBody(), a2 = r2.getToolbarEl();
            a2 && (a2.style.display = t3 ? "none" : "");
            var s = i2.querySelectorAll(".".concat(this.ppfx, "no-pointer"));
            (0, o2.each)(s, (function(e4) {
              return e4.style.pointerEvents = t3 ? "all" : "";
            })), e3[n3]("run:tlb-move:before", this.preventDrag);
          }
        }, run: function(t3, e3) {
          var n3 = this;
          this.sender = e3, this.selected = r([], t3.getSelectedAll(), true), t3.select(), this.shouldRunSwVisibility || (this.shouldRunSwVisibility = t3.Commands.isActive(i)), this.shouldRunSwVisibility && t3.stopCommand(i), t3.getModel().stopDefault();
          var o3 = this.getPanels(t3), a2 = t3.Canvas.getElement(), s = t3.getEl(), l = t3.Config.stylePrefix;
          if (!this.helper) {
            var c = document.createElement("span");
            c.className = "".concat(l, "off-prv fa fa-eye-slash"), s.appendChild(c), c.onclick = function() {
              return n3.stopCommand();
            }, this.helper = c;
          }
          this.helper.style.display = "inline-block", o3.forEach((function(t4) {
            return t4.set("visible", false);
          }));
          var u = a2.style;
          u.width = "100%", u.height = "100%", u.top = "0", u.left = "0", u.padding = "0", u.margin = "0", t3.refresh(), this.tglEffects(1);
        }, stop: function(t3) {
          var e3 = this.sender, n3 = void 0 === e3 ? {} : e3, o3 = this.selected;
          n3.set && n3.set("active", 0);
          var r2 = this.getPanels(t3);
          this.shouldRunSwVisibility && (t3.runCommand(i), this.shouldRunSwVisibility = false), t3.getModel().runDefault(), r2.forEach((function(t4) {
            return t4.set("visible", true);
          })), t3.Canvas.getElement().setAttribute("style", ""), o3 && t3.select(o3), delete this.selected, this.helper && (this.helper.style.display = "none"), t3.refresh(), this.tglEffects();
        } };
      }, 5493: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { ConvertUnitsToPx: () => o2, default: () => l });
        var o2, r = n2(2225), i = n2(1166), a = function() {
          return a = Object.assign || function(t3) {
            for (var e3, n3 = 1, o3 = arguments.length; n3 < o3; n3++) for (var r2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, a.apply(this, arguments);
        }, s = function(t3, e3) {
          var n3 = {};
          for (var o3 in t3) Object.prototype.hasOwnProperty.call(t3, o3) && e3.indexOf(o3) < 0 && (n3[o3] = t3[o3]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o3 = Object.getOwnPropertySymbols(t3); r2 < o3.length; r2++) e3.indexOf(o3[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o3[r2]) && (n3[o3[r2]] = t3[o3[r2]]);
          }
          return n3;
        };
        !(function(t3) {
          t3["pt"] = "pt", t3["pc"] = "pc", t3["in"] = "in", t3["cm"] = "cm", t3["mm"] = "mm", t3["vw"] = "vw", t3["vh"] = "vh", t3["vmin"] = "vmin", t3["vmax"] = "vmax", t3["svw"] = "svw", t3["lvw"] = "lvw", t3["dvw"] = "dvw", t3["svh"] = "svh", t3["lvh"] = "lvh", t3["dvh"] = "dvh", t3["perc"] = "%";
        })(o2 || (o2 = {}));
        const l = { run: function(t3, e3, n3) {
          var o3, l2, c = this, u = t3.Canvas, p = t3.Utils, d = t3.em, f = u.getCanvasView(), h = d.config.stylePrefix || "", v = "".concat(h, "resizing"), g = n3.onStart, y = void 0 === g ? function() {
          } : g, m = n3.onMove, b = void 0 === m ? function() {
          } : m, _ = n3.onEnd, w = void 0 === _ ? function() {
          } : _, x = n3.updateTarget, C = void 0 === x ? function() {
          } : x, S = n3.el, O = n3.componentView, T = n3.component, P = n3.skipPositionUpdate, E = s(n3, ["onStart", "onMove", "onEnd", "updateTarget", "el", "componentView", "component", "skipPositionUpdate"]), k = S || (null == O ? void 0 : O.el) || T.getEl(), A = { component: T, el: k }, j = function(t4, e4, n4) {
            var o4 = n4.docs;
            o4 && o4.forEach((function(e5) {
              var n5 = e5.body, o5 = n5.className || "";
              n5.className = ("add" == t4 ? "".concat(o5, " ").concat(v) : o5.replace(v, "")).trim();
            }));
          }, M = a(a({ appendTo: u.getResizerEl(), prefix: t3.getConfig().stylePrefix, posFetcher: f.getElementPos.bind(f), mousePosFetcher: u.getMouseRelativePos.bind(u), docs: [document], updateOnMove: true, skipUnitAdjustments: true, onStart: function(e4, s2) {
            var c2;
            y(e4, s2);
            var u2 = s2.el, p2 = s2.config, f2 = s2.resizer, h2 = p2.keyHeight, v2 = p2.keyWidth, g2 = p2.currentUnit, m2 = p2.keepAutoHeight, b2 = p2.keepAutoWidth;
            j("add", 0, s2), o3 = d.Styles.getModelToStyle(T), l2 = getComputedStyle(u2);
            var _2 = o3.getStyle(), w2 = a({}, f2.startDim), x2 = _2[v2];
            p2.autoWidth = b2 && "auto" === x2, isNaN(parseFloat(x2)) && (x2 = l2[v2]);
            var C2 = _2[h2];
            p2.autoHeight = m2 && "auto" === C2, isNaN(parseFloat(C2)) && (C2 = l2[h2]);
            var S2 = parseFloat(x2), O2 = parseFloat(C2), P2 = (0, i.getUnitFromValue)(x2), E2 = (0, i.getUnitFromValue)(C2);
            g2 && (p2.unitWidth = P2, p2.unitHeight = E2);
            var k2 = a(a({}, A), { event: e4, rect: w2, model: o3, modelWidth: { value: x2, property: v2, number: S2, unit: P2 }, modelHeight: { value: C2, property: h2, number: O2, unit: E2 } });
            t3.trigger(r.I.resizeStart, k2), t3.trigger(r.I.resize, a(a({}, k2), { type: "start" })), null === (c2 = n3.afterStart) || void 0 === c2 || c2.call(n3);
          }, onMove: function(e4, n4) {
            b(e4, n4);
            var o4 = n4.resizer, i2 = a(a({}, A), { event: e4, delta: o4.delta, pointer: o4.currentPos, rect: o4.rectDim });
            t3.trigger(r.I.resizeStart, i2), t3.trigger(r.I.resize, a(a({}, i2), { type: "move" }));
          }, onEnd: function(e4, o4) {
            var i2;
            w(e4, o4), j("remove", 0, o4);
            var s2 = o4.resizer, l3 = a(a({}, A), { event: e4, rect: s2.rectDim, moved: s2.moved });
            t3.trigger(r.I.resizeEnd, l3), t3.trigger(r.I.resize, a(a({}, A), { type: "end" })), null === (i2 = n3.afterEnd) || void 0 === i2 || i2.call(n3);
          }, updateTarget: function(e4, n4, i2) {
            var s2;
            if (C(e4, n4, i2), o3) {
              var p2 = i2.store, f2 = i2.selectedHandler, h2 = i2.config, v2 = i2.resizer, g2 = i2.event, y2 = h2.keyHeight, m2 = h2.keyWidth, b2 = h2.autoHeight, _2 = h2.autoWidth, w2 = h2.unitWidth, x2 = h2.unitHeight, S2 = ["tc", "bc"].indexOf(f2) >= 0, O2 = ["cl", "cr"].indexOf(f2) >= 0, E2 = !p2, j2 = {};
              if (!S2) {
                var M2 = (null === (s2 = u.getBody()) || void 0 === s2 ? void 0 : s2.offsetWidth) || 0, D2 = n4.w < M2 ? n4.w : M2;
                j2[m2] = _2 ? "auto" : c.convertPxToUnit({ el: k, elComputedStyle: l2, valuePx: D2, unit: w2 });
              }
              O2 || (j2[y2] = b2 ? "auto" : c.convertPxToUnit({ el: k, elComputedStyle: l2, valuePx: n4.h, unit: x2, isHeight: true })), !P && d.getDragMode(T) && (j2.top = "".concat(n4.t, "px"), j2.left = "".concat(n4.l, "px"));
              var L = false, I = function(t4) {
                L = true;
                var e5 = a(a({}, t4 || j2), { __p: E2 });
                o3.addStyle(e5, { avoidStore: E2 }), d.Styles.__emitCmpStyleUpdate(e5, { components: T });
              }, N = a(a({}, A), { rect: n4, partial: E2, event: g2, style: j2, updateStyle: I, convertPxToUnit: function(t4) {
                return c.convertPxToUnit(a({ el: k, elComputedStyle: l2 }, t4));
              }, delta: v2.delta, pointer: v2.currentPos });
              t3.trigger(r.I.resizeUpdate, N), !L && I();
            }
          } }, E), n3.options), D = this.canvasResizer;
          return D || (this.canvasResizer = new p.Resizer(M), D = this.canvasResizer), D.setOptions(M, true), D.blur(), D.focus(k), D;
        }, stop: function() {
          var t3;
          null === (t3 = this.canvasResizer) || void 0 === t3 || t3.blur();
        }, convertPxToUnit: function(t3) {
          var e3 = t3.el, n3 = t3.valuePx, r2 = t3.unit, i2 = t3.dpi, a2 = void 0 === i2 ? 96 : i2, s2 = t3.roundDecimals, l2 = void 0 === s2 ? 3 : s2, c = t3.isHeight, u = t3.elComputedStyle, p = e3.ownerDocument.defaultView, d = (null == p ? void 0 : p.innerWidth) || 1, f = window.innerHeight || 1, h = n3, v = r2;
          switch (r2) {
            case o2.pt:
              h = n3 * (72 / a2);
              break;
            case o2.pc:
              h = n3 * (6 / a2);
              break;
            case o2.in:
              h = n3 / a2;
              break;
            case o2.cm:
              h = n3 / (a2 / 2.54);
              break;
            case o2.mm:
              h = n3 / (a2 / 25.4);
              break;
            case o2.vw:
              h = n3 / d * 100;
              break;
            case o2.vh:
              h = n3 / f * 100;
              break;
            case o2.vmin:
              h = n3 / Math.min(d, f) * 100;
              break;
            case o2.vmax:
              h = n3 / Math.max(d, f) * 100;
              break;
            case o2.perc:
              var g = e3.parentElement, y = e3.offsetParent, m = "absolute" === (null == u ? void 0 : u.position) ? y : g, b = (null == m ? void 0 : m.offsetWidth) || 1, _ = (null == m ? void 0 : m.offsetHeight) || 1;
              h = n3 / (c ? _ : b) * 100;
              break;
            case o2.svw:
            case o2.lvw:
            case o2.dvw:
              h = n3 / d * 100;
              break;
            case o2.svh:
            case o2.lvh:
            case o2.dvh:
              h = n3 / f * 100;
              break;
            default:
              v = "px";
          }
          return "".concat(+h.toFixed(l2)).concat(v);
        } };
      }, 9317: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => S });
        var o2, r = n2(5706), i = n2(179), a = n2(9156), s = (o2 = function(t3, e3) {
          return o2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, o2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          o2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        });
        const l = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return s(e3, t3), e3.prototype.defaults = function() {
            return { command: "", attributes: {} };
          }, e3;
        })(a.Kx);
        var c = /* @__PURE__ */ (function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function o3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (o3.prototype = n3.prototype, new o3());
          };
        })(), u = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return c(e3, t3), e3;
        })(a.pM);
        const p = u;
        u.prototype.model = l;
        var d = n2(2225), f = n2(8242), h = /* @__PURE__ */ (function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function o3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (o3.prototype = n3.prototype, new o3());
          };
        })(), v = function() {
          return v = Object.assign || function(t3) {
            for (var e3, n3 = 1, o3 = arguments.length; n3 < o3; n3++) for (var r2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, v.apply(this, arguments);
        };
        const g = (function(t3) {
          function e3(e4) {
            var n3 = t3.call(this, e4) || this;
            return n3.em = e4.config.em, n3;
          }
          return h(e3, t3), e3.prototype.events = function() {
            return this.model.get("events") || { mousedown: "handleClick" };
          }, e3.prototype.attributes = function() {
            return this.model.get("attributes");
          }, e3.prototype.handleClick = function(t4) {
            t4.preventDefault(), t4.stopPropagation();
            var e4 = this.em, n3 = e4.Canvas.getFrameEl().getBoundingClientRect(), o3 = n3.left, r2 = n3.top, i2 = v(v({}, t4), { clientX: t4.clientX - o3, clientY: t4.clientY - r2 });
            e4.trigger("toolbar:run:before", { event: i2 }), this.execCommand(i2);
          }, e3.prototype.execCommand = function(t4) {
            var e4 = this.em, n3 = { event: t4 }, o3 = this.model.get("command"), i2 = e4.Editor;
            (0, r.isFunction)(o3) && o3(i2, null, n3), (0, r.isString)(o3) && i2.runCommand(o3, n3);
          }, e3.prototype.render = function() {
            var t4 = this, e4 = t4.em, n3 = t4.$el, o3 = t4.model, r2 = o3.get("id"), i2 = o3.get("label"), a2 = e4.getConfig().stylePrefix;
            return n3.addClass("".concat(a2, "toolbar-item")), r2 && n3.addClass("".concat(a2, "toolbar-item__").concat(r2)), i2 && n3.append(i2), this;
          }, e3;
        })(a.Ss);
        var y = /* @__PURE__ */ (function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function o3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (o3.prototype = n3.prototype, new o3());
          };
        })(), m = (function(t3) {
          function e3(e4) {
            var n3 = t3.call(this, e4) || this, o3 = e4.em;
            return n3.em = o3, n3.config = { em: o3 }, n3.listenTo(n3.collection, "reset", n3.render), n3;
          }
          return y(e3, t3), e3.prototype.onRender = function() {
            var t4 = this.em.config.stylePrefix;
            this.el.className = "".concat(t4, "toolbar-items");
          }, e3;
        })(f.A);
        const b = m;
        m.prototype.itemView = g;
        var _, w = n2(6294), x = n2(1166), C = function() {
          return C = Object.assign || function(t3) {
            for (var e3, n3 = 1, o3 = arguments.length; n3 < o3; n3++) for (var r2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, C.apply(this, arguments);
        };
        const S = { activeResizer: false, init: function() {
          this.onSelect = (0, r.debounce)(this.onSelect, 0), (0, r.bindAll)(this, "onHover", "onOut", "onClick", "onCanvasScroll", "onFrameScroll", "onFrameResize", "onFrameUpdated", "onContainerChange");
        }, enable: function() {
          this.frameOff = this.canvasOff = this.adjScroll = null, this.startSelectComponent(), _ = true;
        }, startSelectComponent: function() {
          this.toggleSelectComponent(1), this.em.getSelected() && this.onSelect();
        }, stopSelectComponent: function() {
          this.toggleSelectComponent();
        }, toggleSelectComponent: function(t3) {
          var e3 = this, n3 = this.em, o3 = this.canvas.getCanvasView().el, r2 = n3.getConfig().listenToEl, i2 = n3.getContainer().parentNode, a2 = t3 ? "on" : "off", s2 = { on: w.on, off: w.AU }, l2 = d.I.update;
          !r2.length && i2 && r2.push(i2);
          s2[a2](window, "resize", this.onFrameUpdated), s2[a2](r2, "scroll", this.onContainerChange), n3[a2]("component:toggled ".concat(l2, " undo redo"), this.onSelect, this), n3[a2]("change:componentHovered", this.onHovered, this), n3[a2]("".concat(d.I.resize, " styleable:change ").concat(d.I.input), this.updateGlobalPos, this), n3[a2]("".concat(l2, ":toolbar"), this._upToolbar, this), n3[a2]("frame:updated", this.onFrameUpdated, this), n3[a2]("canvas:updateTools", this.onFrameUpdated, this), n3[a2](n3.Canvas.events.refresh, this.updateAttached, this), n3.Canvas.getFrames().forEach((function(t4) {
            var n4 = t4.view, r3 = null == n4 ? void 0 : n4.getWindow();
            r3 && (function(t5, n5, o4) {
              s2[a2](o4, "scroll", e3.onCanvasScroll, true), s2[a2](n5, "mouseover", e3.onHover), s2[a2](n5, "mouseleave", e3.onOut), s2[a2](n5, "click", e3.onClick), s2[a2](t5, "scroll", e3.onFrameScroll, true), s2[a2](t5, "resize", e3.onFrameResize);
            })(r3, null == n4 ? void 0 : n4.getBody(), o3);
          }));
        }, onHover: function(t3) {
          t3.stopPropagation();
          var e3 = this.em, n3 = t3.target, o3 = (0, x.getComponentView)(n3), r2 = null == o3 ? void 0 : o3.frameView, i2 = null == o3 ? void 0 : o3.model;
          if (!i2) for (var a2 = n3.parentNode; !i2 && a2 && !(0, w.ZQ)(a2); ) i2 = (0, x.getComponentModel)(a2), a2 = a2.parentNode;
          this.currentDoc = n3.ownerDocument, e3.setHovered(i2, { useValid: true }), r2 && e3.setCurrentFrame(r2);
        }, onFrameUpdated: function() {
          this.updateLocalPos(), this.updateGlobalPos();
        }, onHovered: function(t3, e3) {
          var n3, o3 = this, r2 = {};
          e3 ? null === (n3 = e3.views) || void 0 === n3 || n3.forEach((function(t4) {
            var n4 = t4.el, i2 = o3.getElementPos(n4);
            r2 = { el: n4, pos: i2, component: e3, view: t4 }, n4.ownerDocument === o3.currentDoc && (o3.elHovered = r2), o3.updateToolsLocal(r2);
          })) : (this.currentDoc = null, this.elHovered = 0, this.updateToolsLocal(), this.canvas.getFrames().forEach((function(t4) {
            var e4 = t4.view, n4 = e4 && e4.getToolsEl();
            n4 && o3.toggleToolsEl(0, 0, { el: n4 });
          })));
        }, onSelect: function() {
          var t3 = this.em, e3 = t3.getSelected(), n3 = t3.getCurrentFrame(), o3 = e3 && e3.getView(null == n3 ? void 0 : n3.model), r2 = null == o3 ? void 0 : o3.el, i2 = {};
          r2 && (0, w.zN)(r2) && (i2 = { el: r2, pos: this.getElementPos(r2), component: e3, view: o3 });
          this.elSelected = i2, this.updateToolsGlobal(), this.updateLocalPos(i2), this.initResize(e3);
        }, updateGlobalPos: function() {
          var t3 = this.getElSelected();
          t3.el && (t3.pos = this.getElementPos(t3.el), this.updateToolsGlobal());
        }, updateLocalPos: function(t3) {
          var e3 = this.getElHovered();
          e3.el && (e3.pos = this.getElementPos(e3.el), this.updateToolsLocal(t3));
        }, getElHovered: function() {
          return this.elHovered || {};
        }, getElSelected: function() {
          return this.elSelected || {};
        }, onOut: function() {
          this.em.setHovered();
        }, toggleToolsEl: function(t3, e3, n3) {
          void 0 === n3 && (n3 = {});
          var o3 = n3.el || this.canvas.getToolsEl(e3);
          return o3 && (o3.style.display = t3 ? "" : "none"), o3 || {};
        }, showElementOffset: function(t3, e3, n3) {
          void 0 === n3 && (n3 = {}), _ && this.editor.runCommand("show-offset", { el: t3, elPos: e3, view: n3.view, force: 1, top: 0, left: 0 });
        }, hideElementOffset: function(t3) {
          this.editor.stopCommand("show-offset", { view: t3 });
        }, showFixedElementOffset: function(t3, e3) {
          this.editor.runCommand("show-offset", { el: t3, elPos: e3, state: "Fixed" });
        }, hideFixedElementOffset: function() {
          this.editor && this.editor.stopCommand("show-offset", { state: "Fixed" });
        }, hideHighlighter: function(t3) {
          this.canvas.getHighlighter(t3).style.opacity = 0;
        }, onClick: function(t3) {
          t3.stopPropagation(), t3.preventDefault();
          var e3 = this.em;
          if (e3.get("_cmpDrag")) return e3.set("_cmpDrag");
          var n3 = t3.target, o3 = (0, x.getComponentModel)(n3);
          if (!o3) for (var r2 = n3.parentNode; !o3 && r2 && !(0, w.ZQ)(r2); ) o3 = (0, x.getComponentModel)(r2), r2 = r2.parentNode;
          if (o3) {
            if (e3.isEditing() && (!o3.get("textable") && o3.isChildOf("text") || e3.getEditing() !== o3)) return;
            this.select(o3, t3);
          }
        }, select: function(t3, e3) {
          if (t3) {
            var n3 = this.em;
            n3.setSelected(t3, { event: e3, useValid: true }), this.initResize(n3.getSelected());
          }
        }, updateBadge: function(t3, e3, n3) {
          void 0 === n3 && (n3 = {});
          var o3 = this.canvas, r2 = (0, x.getComponentModel)(t3), i2 = this.getBadge(n3), a2 = i2.style;
          if (r2 && r2.get("badgable")) {
            if (!n3.posOnly) {
              var s2 = this.canvas.getConfig(), l2 = r2.getIcon(), c2 = s2.pStylePrefix || "", u2 = "".concat(c2, "badge"), p2 = s2.customBadgeLabel, d2 = "".concat(l2 ? '<div class="'.concat(u2, '__icon">').concat(l2, "</div>") : "", '\n        <div class="').concat(u2, '__name">').concat(r2.getName(), "</div>");
              i2.innerHTML = p2 ? p2(r2) : d2;
            }
            var f2 = "px";
            a2.display = "block";
            var h2 = o3.getTargetToElementFixed(t3, i2, { pos: e3 }).top, v2 = n3.leftOff < 0 ? -n3.leftOff : 0;
            a2.top = h2 + f2, a2.left = v2 + f2;
          } else a2.display = "none";
        }, showHighlighter: function(t3) {
          this.canvas.getHighlighter(t3).style.opacity = "";
        }, initResize: function(t3) {
          var e3, n3 = this, o3 = this.em, a2 = this.canvas, s2 = o3.Editor, l2 = !(0, r.isElement)(t3) && (0, w.GW)(t3) ? t3 : o3.getSelected(), c2 = null === (e3 = null == l2 ? void 0 : l2.get) || void 0 === e3 ? void 0 : e3.call(l2, "resizable"), u2 = i.F.Resize, p2 = a2.hasCustomSpot(u2);
          a2.removeSpots({ type: u2 });
          var f2 = { component: l2, hasCustomResize: p2, resizable: c2 };
          l2 && o3.trigger(d.I.resizeInit, f2);
          var h2 = f2.resizable;
          if (l2 && h2) {
            a2.addSpot({ type: u2, component: l2 });
            var v2 = (0, r.isElement)(t3) ? t3 : l2.getEl(), g2 = (0, x.isObject)(h2) ? h2 : {};
            if (p2 || !v2 || this.activeResizer) return;
            this.resizer = s2.runCommand("resize", C(C({}, g2), { el: v2, component: l2, force: true, afterStart: function() {
              _ = false, n3.activeResizer = true;
            }, afterEnd: function() {
              _ = true, n3.activeResizer = false;
            } }));
          } else {
            if (p2) return;
            s2.stopCommand("resize"), this.resizer = null;
          }
        }, updateToolbar: function(t3) {
          var e3 = this.canvas, n3 = this.config.em, o3 = t3 === n3 ? n3.getSelected() : t3, r2 = e3.getToolbarEl(), a2 = r2.style, s2 = o3.get("toolbar"), l2 = n3.config.showToolbar, c2 = !e3.hasCustomSpot(i.F.Select);
          if (o3 && l2 && s2 && s2.length && c2) {
            if (a2.display = "", !this.toolbar) {
              r2.innerHTML = "", this.toolbar = new p(s2);
              var u2 = new b({ collection: this.toolbar, em: n3 });
              r2.appendChild(u2.render().el);
            }
            this.toolbar.reset(s2), a2.top = "-100px", a2.left = "0";
          } else a2.display = "none";
        }, updateToolbarPos: function(t3) {
          var e3 = "px", n3 = this.canvas.getToolbarEl().style;
          n3.top = "".concat(t3.top).concat(e3), n3.left = "".concat(t3.left).concat(e3), n3.opacity = "";
        }, getCanvasPosition: function() {
          return this.canvas.getCanvasView().getPosition();
        }, getBadge: function(t3) {
          return void 0 === t3 && (t3 = {}), this.canvas.getBadgeEl(t3.view);
        }, onCanvasScroll: function(t3) {
          this.onFrameScroll(t3), this.onContainerChange();
        }, onFrameScroll: function() {
          this.updateTools(), this.canvas.refreshSpots();
        }, onFrameResize: function() {
          this.canvas.refresh({ all: true });
        }, updateTools: function() {
          this.updateLocalPos(), this.updateGlobalPos();
        }, isCompSelected: function(t3) {
          return t3 && "selected" === t3.get("status");
        }, updateToolsLocal: function(t3) {
          var e3 = this.em.getConfig(), n3 = t3 || this.getElHovered(), o3 = n3.el, r2 = n3.pos, a2 = n3.view, s2 = n3.component;
          if (o3) {
            var l2 = s2.get("hoverable"), c2 = this.lastHovered !== o3, u2 = c2 ? {} : { posOnly: 1 }, p2 = this.canvas.hasCustomSpot(i.F.Hover);
            c2 && l2 && (this.lastHovered = o3, p2 ? this.hideHighlighter(a2) : this.showHighlighter(a2), this.showElementOffset(o3, r2, { view: a2 })), this.isCompSelected(s2) && (this.hideHighlighter(a2), !e3.showOffsetsSelected && this.hideElementOffset(a2));
            var d2 = "px", f2 = this.toggleToolsEl(1, a2), h2 = f2.style, v2 = this.canvas.canvasRectOffset(o3, r2), g2 = v2.top, y2 = v2.left;
            !p2 && this.updateBadge(o3, r2, C(C({}, u2), { view: a2, topOff: g2, leftOff: y2 })), h2.top = g2 + d2, h2.left = y2 + d2, h2.width = r2.width + d2, h2.height = r2.height + d2, this._trgToolUp("local", { component: s2, el: f2, top: g2, left: y2, width: r2.width, height: r2.height });
          } else this.lastHovered = 0;
        }, _upToolbar: (0, r.debounce)((function() {
          this.updateToolsGlobal({ force: 1 });
        }), 0), _trgToolUp: function(t3, e3) {
          void 0 === e3 && (e3 = {}), this.em.trigger("canvas:tools:update", C({ type: t3 }, e3));
        }, updateToolsGlobal: function(t3) {
          void 0 === t3 && (t3 = {});
          var e3 = this.getElSelected(), n3 = e3.el, o3 = e3.pos, r2 = e3.component;
          if (!n3) return this.toggleToolsEl(), void (this.lastSelected = 0);
          var i2 = this.canvas;
          (this.lastSelected !== n3 || t3.force) && (this.lastSelected = n3, this.updateToolbar(r2));
          var a2 = "px", s2 = this.toggleToolsEl(1), l2 = s2.style, c2 = i2.getTargetToElementFixed(n3, i2.getToolbarEl(), { pos: o3 }), u2 = c2.canvasOffsetTop, p2 = c2.canvasOffsetLeft;
          l2.top = u2 + a2, l2.left = p2 + a2, l2.width = o3.width + a2, l2.height = o3.height + a2, this.updateToolbarPos({ top: c2.top, left: c2.left }), this._trgToolUp("global", { component: r2, el: s2, top: u2, left: p2, width: o3.width, height: o3.height });
        }, updateAttached: (0, r.debounce)((function() {
          this.updateGlobalPos();
        }), 0), onContainerChange: (0, r.debounce)((function() {
          this.em.refreshCanvas();
        }), 150), getElementPos: function(t3) {
          return this.canvas.getCanvasView().getElementPos(t3, { noScroll: true });
        }, hideBadge: function() {
          this.getBadge().style.display = "none";
        }, cleanPrevious: function(t3) {
          t3 && t3.set({ status: "", state: "" });
        }, getContentWindow: function() {
          return this.canvas.getWindow();
        }, run: function(t3) {
          (0, x.hasWin)() && (this.editor = t3 && t3.get("Editor"), this.enable());
        }, stop: function(t3, e3, n3) {
          if (void 0 === n3 && (n3 = {}), (0, x.hasWin)()) {
            var o3 = this.em, r2 = this.editor;
            this.onHovered(), this.stopSelectComponent(), !n3.preserveSelected && o3.setSelected(), this.toggleToolsEl(), this.updateAttached.cancel(), r2 && r2.stopCommand("resize");
          }
        } };
      }, 1406: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => a });
        var o2 = n2(7774), r = n2(1447), i = n2(8433);
        const a = { startSelectPosition: function(t3, e3, n3) {
          void 0 === n3 && (n3 = {}), this.isPointed = false;
          var o3 = this.em.Utils, a2 = t3[0].ownerDocument.body;
          o3 && (this.sorter = new o3.ComponentSorter({ em: this.em, treeClass: r.A, containerContext: { container: a2, containerSel: "*", itemSel: "*", pfx: this.ppfx, document: e3, placeholderElement: this.canvas.getPlacerEl() }, positionOptions: { windowMargin: 1, canvasRelative: true }, dragBehavior: { dragDirection: i.A.BothDirections, nested: true } })), n3.onStart && (this.sorter.eventHandlers.legacyOnStartSort = n3.onStart), t3 && t3.length > 0 && this.sorter.startSort(t3.map((function(t4) {
            return { element: t4 };
          })));
        }, getOffsetDim: function() {
          var t3 = this.offset(this.canvas.getFrameEl()), e3 = this.offset(this.canvas.getElement());
          return { top: t3.top - e3.top, left: t3.left - e3.left };
        }, stopSelectPosition: function() {
          this.posTargetCollection = null, this.posIndex = "after" == this.posMethod && 0 !== this.cDim.length ? this.posIndex + 1 : this.posIndex, this.sorter && this.sorter.cancelDrag(), this.cDim && (this.posIsLastEl = 0 !== this.cDim.length && "after" == this.posMethod && this.posIndex == this.cDim.length, this.posTargetEl = 0 === this.cDim.length ? (0, o2["default"])(this.outsideElem) : !this.posIsLastEl && this.cDim[this.posIndex] ? (0, o2["default"])(this.cDim[this.posIndex][5]).parent() : (0, o2["default"])(this.outsideElem), this.posTargetModel = this.posTargetEl.data("model"), this.posTargetCollection = this.posTargetEl.data("model-comp"));
        }, enable: function() {
          this.startSelectPosition();
        }, nearFloat: function(t3, e3, n3) {
          var o3 = t3 || 0, r2 = e3 || "before", i2 = n3.length, a2 = 0 !== i2 && "after" == r2 && o3 == i2;
          return 0 !== i2 && (!a2 && !n3[o3][4] || n3[o3 - 1] && !n3[o3 - 1][4] || a2 && !n3[o3 - 1][4]) ? 1 : 0;
        }, run: function() {
          this.enable();
        }, stop: function() {
          this.stopSelectPosition(), this.$wrapper.css("cursor", ""), this.$wrapper.unbind();
        } };
      }, 9395: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => s });
        var o2 = n2(5706), r = n2(179), i = n2(7774), a = function() {
          return a = Object.assign || function(t3) {
            for (var e3, n3 = 1, o3 = arguments.length; n3 < o3; n3++) for (var r2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, a.apply(this, arguments);
        };
        const s = { getOffsetMethod: function(t3) {
          return "get" + (t3 || "") + "OffsetViewerEl";
        }, run: function(t3, e3, n3) {
          var s2 = this.canvas, l = n3 || {}, c = l.state || "", u = t3.getConfig(), p = this.em.getZoomDecimal(), d = l.el;
          if (u.showOffsets && d instanceof HTMLElement && (u.showOffsetsSelected || "Fixed" != c)) {
            if (!s2.hasCustomSpot(r.F.Spacing)) {
              var f = a({}, l.elPos || s2.getElementPos(d));
              (0, o2.isUndefined)(l.top) || (f.top = l.top), (0, o2.isUndefined)(l.left) || (f.left = l.left);
              var h = window.getComputedStyle(d), v = this.ppfx, g = c + "State", y = s2[this.getOffsetMethod(c)](n3.view);
              y.style.opacity = "";
              var m = this["marginT" + c], b = this["marginB" + c], _ = this["marginL" + c], w = this["marginR" + c], x = this["padT" + c], C = this["padB" + c], S = this["padL" + c], O = this["padR" + c];
              if (y.childNodes.length && (this[g] = "1", m = y.querySelector("[data-offset-m-t]"), b = y.querySelector("[data-offset-m-b]"), _ = y.querySelector("[data-offset-m-l]"), w = y.querySelector("[data-offset-m-r]"), x = y.querySelector("[data-offset-p-t]"), C = y.querySelector("[data-offset-p-b]"), S = y.querySelector("[data-offset-p-l]"), O = y.querySelector("[data-offset-p-r]")), !this[g]) {
                var T = c.toLowerCase(), P = T + "margin-v", E = T + "padding-v", k = (0, i["default"])('<div class="'.concat(v, 'marginName">')).get(0), A = (0, i["default"])('<div class="'.concat(v, 'paddingName">')).get(0), j = v + E + "-el", M = "".concat(v + P + "-el", " ").concat(v + P), D = "".concat(j, " ").concat(v + E);
                m = (0, i["default"])('<div class="'.concat(M, '-top"></div>')).get(0), b = (0, i["default"])('<div class="'.concat(M, '-bottom"></div>')).get(0), _ = (0, i["default"])('<div class="'.concat(M, '-left"></div>')).get(0), w = (0, i["default"])('<div class="'.concat(M, '-right"></div>')).get(0), x = (0, i["default"])('<div class="'.concat(D, '-top"></div>')).get(0), C = (0, i["default"])('<div class="'.concat(D, '-bottom"></div>')).get(0), S = (0, i["default"])('<div class="'.concat(D, '-left"></div>')).get(0), O = (0, i["default"])('<div class="'.concat(D, '-right"></div>')).get(0), this["marginT" + c] = m, this["marginB" + c] = b, this["marginL" + c] = _, this["marginR" + c] = w, this["padT" + c] = x, this["padB" + c] = C, this["padL" + c] = S, this["padR" + c] = O, k.appendChild(m), k.appendChild(b), k.appendChild(_), k.appendChild(w), A.appendChild(x), A.appendChild(C), A.appendChild(S), A.appendChild(O), y.appendChild(k), y.appendChild(A), this[g] = "1";
              }
              var L = "px", I = parseFloat(h.marginLeft.replace(L, "")) * p, N = parseFloat(h.marginRight.replace(L, "")) * p, R = parseFloat(h.marginTop.replace(L, "")) * p, V = parseFloat(h.marginBottom.replace(L, "")) * p, F = m.style, H = b.style, U = _.style, z = w.style, B = x.style, W = C.style, $ = S.style, q = O.style, G = parseFloat(f.left), K = parseFloat(h.width) * p + L;
              F.height = R + L, F.width = K, F.top = f.top - R + L, F.left = G + L, H.height = V + L, H.width = K, H.top = f.top + f.height + L, H.left = G + L;
              var Y = f.height + R + V + L, J = f.top - R + L;
              U.height = Y, U.width = I + L, U.top = J, U.left = G - I + L, z.height = Y, z.width = N + L, z.top = J, z.left = G + f.width + L;
              var X = parseFloat(h.paddingTop) * p;
              B.height = X + L;
              var Z = parseFloat(h.paddingBottom) * p;
              W.height = Z + L;
              var Q = f.height - Z - X + L, tt = f.top + X + L;
              $.height = Q, $.width = parseFloat(h.paddingLeft) * p + L, $.top = tt;
              var et = parseFloat(h.paddingRight) * p;
              q.height = Q, q.width = et + L, q.top = tt;
            }
          } else t3.stopCommand("".concat(this.id), n3);
        }, stop: function(t3, e3, n3) {
          void 0 === n3 && (n3 = {});
          var o3 = (n3 || {}).state || "", r2 = this.getOffsetMethod(o3), i2 = n3.view;
          this.canvas[r2](i2).style.opacity = 0;
        } };
      }, 7285: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => i });
        var o2 = n2(5706), r = n2(1166);
        const i = { init: function() {
          (0, o2.bindAll)(this, "_onFramesChange");
        }, run: function(t3) {
          this.toggleVis(t3, true);
        }, stop: function(t3) {
          this.toggleVis(t3, false);
        }, toggleVis: function(t3, e3) {
          if (void 0 === e3 && (e3 = true), !t3.Commands.isActive("preview")) {
            var n3 = t3.Canvas, o3 = e3 ? "on" : "off";
            n3.getModel()[o3]("change:frames", this._onFramesChange), this.handleFrames(n3.getFrames(), e3);
          }
        }, handleFrames: function(t3, e3) {
          var n3 = this;
          t3.forEach((function(t4) {
            var o3;
            (null === (o3 = t4.view) || void 0 === o3 ? void 0 : o3.loaded) && n3._upFrame(t4, e3), t4.__ol || (t4.on("loaded", (function() {
              return n3._upFrame(t4);
            })), t4.__ol = true);
          }));
        }, _onFramesChange: function(t3, e3) {
          this.handleFrames(e3);
        }, _upFrame: function(t3, e3) {
          var n3, o3 = this, i2 = o3.ppfx, a = o3.em, s = o3.id, l = ((0, r.isDef)(e3) ? e3 : a.Commands.isActive(s)) ? "add" : "remove", c = "".concat(i2, "dashed");
          null === (n3 = t3.view) || void 0 === n3 || n3.getBody().classList[l](c);
        } };
      }, 9156: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Kx: () => u, Ss: () => d, e2: () => c, lK: () => f, pM: () => p, x2: () => r });
        var o2, r, i = n2(4193), a = n2.n(i), s = (o2 = function(t3, e3) {
          return o2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, o2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          o2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), l = function() {
          return l = Object.assign || function(t3) {
            for (var e3, n3 = 1, o3 = arguments.length; n3 < o3; n3++) for (var r2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, l.apply(this, arguments);
        }, c = "add remove reset change", u = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return s(e3, t3), e3;
        })(a().Model), p = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return s(e3, t3), e3;
        })(a().Collection), d = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return s(e3, t3), e3;
        })(a().View);
        !(function(t3) {
          t3["Screen"] = "screen", t3["World"] = "world";
        })(r || (r = {}));
        var f = { x: 0, y: 0 };
        l(l({}, f), { width: 0, height: 0 });
      }, 2225: (t2, e2, n2) => {
        "use strict";
        var o2, r;
        n2.d(e2, { I: () => r, t: () => o2 }), (function(t3) {
          t3["remove"] = "component:remove", t3["add"] = "component:add", t3["move"] = "component:move";
        })(o2 || (o2 = {})), (function(t3) {
          t3["add"] = "component:add", t3["remove"] = "component:remove", t3["removeBefore"] = "component:remove:before", t3["removed"] = "component:removed", t3["create"] = "component:create", t3["update"] = "component:update", t3["updateInside"] = "component:update-inside", t3["styleUpdate"] = "component:styleUpdate", t3["styleUpdateProperty"] = "component:styleUpdate:", t3["select"] = "component:select", t3["selectBefore"] = "component:select:before", t3["mount"] = "component:mount", t3["scriptMount"] = "component:script:mount", t3["scriptMountBefore"] = "component:script:mount:before", t3["scriptUnmount"] = "component:script:unmount", t3["render"] = "component:render", t3["input"] = "component:input", t3["resize"] = "component:resize", t3["resizeStart"] = "component:resize:start", t3["resizeMove"] = "component:resize:move", t3["resizeEnd"] = "component:resize:end", t3["resizeUpdate"] = "component:resize:update", t3["resizeInit"] = "component:resize:init", t3["symbolMainAdd"] = "symbol:main:add", t3["symbolMainUpdate"] = "symbol:main:update", t3["symbolMainUpdateDeep"] = "symbol:main:update-deep", t3["symbolMainRemove"] = "symbol:main:remove", t3["symbolMain"] = "symbol:main", t3["symbolInstanceAdd"] = "symbol:instance:add", t3["symbolInstanceRemove"] = "symbol:instance:remove", t3["symbolInstance"] = "symbol:instance", t3["symbol"] = "symbol";
        })(r || (r = {}));
      }, 8242: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { A: () => l });
        var o2, r = n2(5706), i = n2(9156), a = (o2 = function(t3, e3) {
          return o2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, o2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          o2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), s = (function(t3) {
          function e3(e4, n3, o3) {
            void 0 === e4 && (e4 = {}), void 0 === o3 && (o3 = false);
            var r2 = t3.call(this, e4) || this;
            return r2.itemsView = "", r2.itemType = "type", r2.reuseView = false, r2.config = n3 || e4.config || {}, o3 && r2.listenTo(r2.collection, "add", r2.addTo), r2.items = [], r2;
          }
          return a(e3, t3), e3.prototype.addTo = function(t4) {
            this.add(t4);
          }, e3.prototype.itemViewNotFound = function(t4) {
            var e4 = this.config, n3 = this.ns, o3 = e4.em, r2 = "".concat(n3 ? "[".concat(n3, "]: ") : "", "'").concat(t4, "' type not found");
            o3 && o3.logWarning(r2);
          }, e3.prototype.add = function(t4, e4) {
            var n3, o3 = this, i2 = o3.config, a2 = o3.reuseView, s2 = o3.items, l2 = this.itemsView || {}, c = e4 || null, u = this.itemView, p = t4.get(this.itemType);
            l2[p] ? u = l2[p] : !p || l2[p] || (0, r.includes)(["button", "checkbox", "color", "date", "datetime-local", "email", "file", "hidden", "image", "month", "number", "password", "radio", "range", "reset", "search", "submit", "tel", "text", "time", "url", "week"], p) || this.itemViewNotFound(p), n3 = t4.view && a2 ? t4.view : new u({ model: t4, config: i2 }, i2), s2 && s2.push(n3);
            var d = n3.render().el;
            c ? c.appendChild(d) : this.$el.append(d);
          }, e3.prototype.render = function() {
            var t4 = document.createDocumentFragment();
            return this.clearItems(), this.$el.empty(), this.collection.length && this.collection.each((function(e4) {
              this.add(e4, t4);
            }), this), this.$el.append(t4), this.onRender(), this;
          }, e3.prototype.onRender = function() {
          }, e3.prototype.onRemoveBefore = function(t4, e4) {
          }, e3.prototype.onRemove = function(t4, e4) {
          }, e3.prototype.remove = function(e4) {
            void 0 === e4 && (e4 = {});
            var n3 = this.items;
            return this.onRemoveBefore(n3, e4), this.clearItems(), t3.prototype.remove.call(this), this.onRemove(n3, e4), this;
          }, e3.prototype.clearItems = function() {
            this.items;
          }, e3;
        })(i.Ss);
        const l = s;
        s.prototype.itemView = "";
      }, 9966: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { A: () => s });
        var o2 = n2(5706), r = n2(6294), i = function() {
          return i = Object.assign || function(t3) {
            for (var e3, n3 = 1, o3 = arguments.length; n3 < o3; n3++) for (var r2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, i.apply(this, arguments);
        }, a = ["x", "y"];
        const s = (function() {
          function t3(t4) {
            return void 0 === t4 && (t4 = {}), this.opts = { snapGuides: { x: 5, y: 5 }, snapOffset: 5, scale: 1 }, (0, o2.bindAll)(this, "drag", "stop", "keyHandle", "handleScroll"), this.setOptions(t4), this.delta = { x: 0, y: 0 }, this.lastScroll = { x: 0, y: 0 }, this.lastScrollDiff = { x: 0, y: 0 }, this.startPointer = { x: 0, y: 0 }, this.startPosition = { x: 0, y: 0 }, this.globScrollDiff = { x: 0, y: 0 }, this.currentPointer = { x: 0, y: 0 }, this.position = { x: 0, y: 0 }, this.guidesStatic = [], this.guidesTarget = [], this.docs = [], this;
          }
          return t3.prototype.setOptions = function(t4) {
            void 0 === t4 && (t4 = {}), this.opts = i(i({}, this.opts), t4);
          }, t3.prototype.toggleDrag = function(t4) {
            var e3 = this.getDocumentEl(), n3 = this.getContainerEl(), o3 = this.getWindowEl(), i2 = t4 ? "on" : "off", a2 = { on: r.on, off: r.AU };
            a2[i2](n3, "mousemove dragover", this.drag), a2[i2](e3, "mouseup dragend touchend", this.stop), a2[i2](e3, "keydown", this.keyHandle), a2[i2](o3, "scroll", this.handleScroll);
          }, t3.prototype.handleScroll = function() {
            var t4 = this.lastScroll, e3 = this.delta, n3 = this.getScrollInfo(), o3 = { x: n3.x - t4.x, y: n3.y - t4.y };
            this.move(e3.x + o3.x, e3.y + o3.y), this.lastScrollDiff = o3;
          }, t3.prototype.start = function(t4) {
            var e3 = this.opts, n3 = e3.onStart;
            this.toggleDrag(true), this.startPointer = this.getPointerPos(t4), this.guidesStatic = (0, o2.result)(e3, "guidesStatic") || [], this.guidesTarget = (0, o2.result)(e3, "guidesTarget") || [], (0, o2.isFunction)(n3) && n3(t4, this), this.startPosition = this.getStartPosition(), this.lastScrollDiff = { x: 0, y: 0 }, this.globScrollDiff = { x: 0, y: 0 }, this.drag(t4);
          }, t3.prototype.drag = function(t4) {
            var e3 = this, n3 = this, r2 = n3.opts, s2 = n3.lastScrollDiff, l = n3.globScrollDiff, c = r2.onDrag, u = this.startPointer, p = this.getPointerPos(t4), d = { x: l.x + s2.x, y: l.y + s2.y };
            this.globScrollDiff = d;
            var f = { x: p.x - u.x + d.x, y: p.y - u.y + d.y };
            this.lastScrollDiff = { x: 0, y: 0 };
            var h = function(n4) {
              a.forEach((function(t5) {
                return n4[t5] = n4[t5] * (0, o2.result)(r2, "scale");
              })), e3.delta = n4, e3.move(n4.x, n4.y), (0, o2.isFunction)(c) && c(t4, e3);
            }, v = i({}, f);
            if (this.currentPointer = p, this.lastScroll = this.getScrollInfo(), h(f), this.guidesTarget.length) {
              var g = this.snapGuides(v), y = g.newDelta, m = g.trgX, b = g.trgY;
              (m || b) && h(y);
            }
            0 === t4.which && this.stop(t4);
          }, t3.prototype.snapGuides = function(t4) {
            var e3 = this, n3 = i({}, t4), r2 = this.trgX, s2 = this.trgY;
            return this.guidesTarget.forEach((function(n4) {
              n4.x && e3.trgX || n4.y && e3.trgY || (n4.active = false, e3.guidesStatic.forEach((function(i2) {
                if (!(n4.y && i2.x || n4.x && i2.y)) {
                  var a2 = n4.y && i2.y, l = a2 ? "y" : "x", c = n4[l], u = i2[l], p = t4[l], d = a2 ? s2 : r2;
                  if (e3.isPointIn(c, u, { axis: l }) && (0, o2.isUndefined)(d)) {
                    var f = p - (c - u);
                    e3.setGuideLock(n4, f);
                  }
                }
              })));
            })), r2 = this.trgX, s2 = this.trgY, a.forEach((function(r3) {
              var i2 = r3.toUpperCase(), a2 = e3["trg".concat(i2)];
              a2 && !e3.isPointIn(t4[r3], a2.lock, { axis: r3 }) && (e3.setGuideLock(a2, null), a2 = null), a2 && !(0, o2.isUndefined)(a2.lock) && (n3[r3] = a2.lock);
            })), { newDelta: n3, trgX: this.trgX, trgY: this.trgY };
          }, t3.prototype.isPointIn = function(t4, e3, n3) {
            var o3, r2 = void 0 === n3 ? {} : n3, i2 = r2.offset, a2 = r2.axis, s2 = this.opts, l = s2.snapGuides, c = void 0 === l ? {} : l, u = s2.snapOffset, p = void 0 === u ? 0 : u, d = "x" === a2 ? c.x : "y" === a2 ? c.y : void 0, f = 0 === d ? 0 : null !== (o3 = null != i2 ? i2 : d) && void 0 !== o3 ? o3 : p;
            return 0 !== f && (t4 >= e3 && t4 <= e3 + f || t4 <= e3 && t4 >= e3 - f);
          }, t3.prototype.setGuideLock = function(t4, e3) {
            var n3 = (0, o2.isUndefined)(t4.x) ? "Y" : "X", r2 = "trg".concat(n3);
            return null !== e3 ? (t4.active = true, t4.lock = e3, this[r2] = t4) : (delete t4.active, delete t4.lock, delete this[r2]), t4;
          }, t3.prototype.stop = function(t4, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.delta, r2 = !!e3.cancel, i2 = r2 ? 0 : n3.x, a2 = r2 ? 0 : n3.y;
            this.toggleDrag(), this.move(i2, a2, true);
            var s2 = this.opts.onEnd;
            (0, o2.isFunction)(s2) && s2(t4, this, { cancelled: r2 });
          }, t3.prototype.keyHandle = function(t4) {
            (0, r.v$)(t4) && this.stop(t4, { cancel: true });
          }, t3.prototype.move = function(t4, e3, n3) {
            var r2 = this.el, i2 = this.opts, a2 = this.startPosition;
            if (a2) {
              var s2 = i2.setPosition, l = a2.x + t4, c = a2.y + e3;
              this.position = { x: l, y: c, end: n3 }, (0, o2.isFunction)(s2) && s2(this.position), r2 && (r2.style.left = "".concat(l, "px"), r2.style.top = "".concat(c, "px"));
            }
          }, t3.prototype.getContainerEl = function() {
            var t4 = this.opts.container;
            return t4 ? [t4] : this.getDocumentEl();
          }, t3.prototype.getWindowEl = function() {
            return this.getContainerEl().map((function(t4) {
              var e3 = t4.ownerDocument || t4;
              return e3.defaultView || e3.parentWindow;
            }));
          }, t3.prototype.getDocumentEl = function(t4) {
            var e3 = this.opts.doc;
            if (t4 = t4 || this.el, !this.docs.length) {
              var n3 = [document];
              t4 && n3.push(t4.ownerDocument), e3 && n3.push(e3), this.docs = n3;
            }
            return this.docs;
          }, t3.prototype.getPointerPos = function(t4) {
            var e3 = this.opts.getPointerPosition, n3 = (0, r.G2)(t4);
            return e3 ? e3(t4) : { x: n3.clientX, y: n3.clientY };
          }, t3.prototype.getStartPosition = function() {
            var t4 = this.el, e3 = this.opts.getPosition, n3 = { x: 0, y: 0 };
            return (0, o2.isFunction)(e3) ? n3 = e3() : t4 && (n3 = { x: parseFloat(t4.style.left), y: parseFloat(t4.style.top) }), n3;
          }, t3.prototype.getScrollInfo = function() {
            var t4 = this.opts.doc, e3 = t4 && t4.body;
            return { y: e3 ? e3.scrollTop : 0, x: e3 ? e3.scrollLeft : 0 };
          }, t3.prototype.detectAxisLock = function(t4, e3) {
            var n3 = t4, o3 = e3, r2 = Math.abs(n3), i2 = Math.abs(o3);
            return o3 >= r2 || o3 <= -r2 ? "x" : n3 > i2 || n3 < -i2 ? "y" : void 0;
          }, t3;
        })();
      }, 7774: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => gt });
        var o2 = "undefined" != typeof document ? document : null, r = "undefined" != typeof window ? window : null, i = Array.prototype, a = i.filter, s = i.indexOf, l = i.map, c = i.push, u = i.reverse, p = i.slice, d = i.splice, f = /^#[\w-]*$/, h = /^\.[\w-]*$/, v = /<.+>/, g = /^\w+$/;
        function y(t3, e3) {
          return void 0 === e3 && (e3 = o2), h.test(t3) ? e3.getElementsByClassName(t3.slice(1)) : g.test(t3) ? e3.getElementsByTagName(t3) : e3.querySelectorAll(t3);
        }
        function m(t3, e3) {
          if (void 0 === e3 && (e3 = o2), t3) {
            if (t3.__cash) return t3;
            var n3 = t3;
            if (E(t3)) {
              if (e3.__cash && (e3 = e3[0]), !(n3 = f.test(t3) ? e3.getElementById(t3.slice(1)) : v.test(t3) ? ft(t3) : y(t3, e3))) return;
            } else if (P(t3)) return this.ready(t3);
            (n3.nodeType || n3 === r) && (n3 = [n3]), this.length = n3.length;
            for (var i2 = 0, a2 = this.length; i2 < a2; i2++) this[i2] = n3[i2];
          }
        }
        function b(t3, e3) {
          return new m(t3, e3);
        }
        var _ = b.fn = b.prototype = m.prototype = { constructor: b, __cash: true, length: 0, splice: d };
        _.get = function(t3) {
          return void 0 === t3 ? p.call(this) : this[t3 < 0 ? t3 + this.length : t3];
        }, _.eq = function(t3) {
          return b(this.get(t3));
        }, _.first = function() {
          return this.eq(0);
        }, _.last = function() {
          return this.eq(-1);
        }, _.map = function(t3) {
          return b(l.call(this, (function(e3, n3) {
            return t3.call(e3, n3, e3);
          })));
        }, _.slice = function() {
          return b(p.apply(this, arguments));
        };
        var w = /(?:^\w|[A-Z]|\b\w)/g, x = /[\s-_]+/g;
        function C(t3) {
          return t3.replace(w, (function(t4, e3) {
            return t4[e3 ? "toUpperCase" : "toLowerCase"]();
          })).replace(x, "");
        }
        function S(t3, e3) {
          for (var n3 = 0, o3 = t3.length; n3 < o3 && false !== e3.call(t3[n3], t3[n3], n3, t3); n3++) ;
        }
        b.camelCase = C, b.each = S, _.each = function(t3) {
          return S(this, (function(e3, n3) {
            return t3.call(e3, n3, e3);
          })), this;
        }, _.removeProp = function(t3) {
          return this.each((function(e3, n3) {
            delete n3[t3];
          }));
        }, b.extend = _.extend = function(t3) {
          void 0 === t3 && (t3 = this);
          for (var e3 = arguments, n3 = e3.length, o3 = n3 < 2 ? 0 : 1; o3 < n3; o3++) for (var r2 in e3[o3]) t3[r2] = e3[o3][r2];
          return t3;
        };
        var O = 1;
        function T(t3, e3) {
          var n3 = t3 && (t3.matches || t3.webkitMatchesSelector || t3.mozMatchesSelector || t3.msMatchesSelector || t3.oMatchesSelector);
          return !!n3 && n3.call(t3, e3);
        }
        function P(t3) {
          return "function" == typeof t3;
        }
        function E(t3) {
          return "string" == typeof t3;
        }
        function k(t3) {
          return !isNaN(parseFloat(t3)) && isFinite(t3);
        }
        b.guid = O, b.matches = T, b.isFunction = P, b.isString = E, b.isNumeric = k;
        var A = Array.isArray;
        function j(t3) {
          return E(t3) ? function(e3, n3) {
            return T(n3, t3);
          } : t3.__cash ? function(e3, n3) {
            return t3.is(n3);
          } : function(t4, e3, n3) {
            return e3 === n3;
          };
        }
        b.isArray = A, _.prop = function(t3, e3) {
          if (t3) {
            if (E(t3)) return arguments.length < 2 ? this[0] && this[0][t3] : this.each((function(n4, o3) {
              o3[t3] = e3;
            }));
            for (var n3 in t3) this.prop(n3, t3[n3]);
            return this;
          }
        }, _.filter = function(t3) {
          if (!t3) return b();
          var e3 = P(t3) ? t3 : j(t3);
          return b(a.call(this, (function(n3, o3) {
            return e3.call(n3, o3, n3, t3);
          })));
        };
        var M = /\S+/g;
        function D(t3) {
          return E(t3) && t3.match(M) || [];
        }
        function L(t3) {
          return t3.filter((function(t4, e3, n3) {
            return n3.indexOf(t4) === e3;
          }));
        }
        function I(t3, e3, n3) {
          if (1 === t3.nodeType) {
            var o3 = r.getComputedStyle(t3, null);
            return e3 ? n3 ? o3.getPropertyValue(e3) : o3[e3] : o3;
          }
        }
        function N(t3, e3) {
          return parseInt(I(t3, e3), 10) || 0;
        }
        _.hasClass = function(t3) {
          var e3 = D(t3), n3 = false;
          return e3.length && this.each((function(t4, o3) {
            return !(n3 = o3.classList.contains(e3[0]));
          })), n3;
        }, _.removeAttr = function(t3) {
          var e3 = D(t3);
          return e3.length ? this.each((function(t4, n3) {
            S(e3, (function(t5) {
              n3.removeAttribute(t5);
            }));
          })) : this;
        }, _.attr = function(t3, e3) {
          if (t3) {
            if (E(t3)) {
              if (arguments.length < 2) {
                if (!this[0]) return;
                var n3 = this[0].getAttribute(t3);
                return null === n3 ? void 0 : n3;
              }
              return null === e3 ? this.removeAttr(t3) : this.each((function(n4, o4) {
                o4.setAttribute(t3, e3);
              }));
            }
            for (var o3 in t3) this.attr(o3, t3[o3]);
            return this;
          }
        }, _.toggleClass = function(t3, e3) {
          var n3 = D(t3), o3 = void 0 !== e3;
          return n3.length ? this.each((function(t4, r2) {
            S(n3, (function(t5) {
              o3 ? e3 ? r2.classList.add(t5) : r2.classList.remove(t5) : r2.classList.toggle(t5);
            }));
          })) : this;
        }, _.addClass = function(t3) {
          return this.toggleClass(t3, true);
        }, _.removeClass = function(t3) {
          return arguments.length ? this.toggleClass(t3, false) : this.attr("class", "");
        }, b.unique = L, _.add = function(t3, e3) {
          return b(L(this.get().concat(b(t3, e3).get())));
        };
        var R = /^--/;
        function V(t3) {
          return R.test(t3);
        }
        var F = {}, H = o2 && o2.createElement("div"), U = H ? H.style : {}, z = ["webkit", "moz", "ms", "o"];
        function B(t3, e3) {
          if (void 0 === e3 && (e3 = V(t3)), e3) return t3;
          if (!F[t3]) {
            var n3 = C(t3), o3 = "" + n3.charAt(0).toUpperCase() + n3.slice(1);
            S((n3 + " " + z.join(o3 + " ") + o3).split(" "), (function(e4) {
              if (e4 in U) return F[t3] = e4, false;
            }));
          }
          return F[t3];
        }
        b.prefixedProp = B;
        var W = { animationIterationCount: true, columnCount: true, flexGrow: true, flexShrink: true, fontWeight: true, lineHeight: true, opacity: true, order: true, orphans: true, widows: true, zIndex: true };
        function $(t3, e3, n3) {
          return void 0 === n3 && (n3 = V(t3)), n3 || W[t3] || !k(e3) ? e3 : e3 + "px";
        }
        _.css = function(t3, e3) {
          if (E(t3)) {
            var n3 = V(t3);
            return t3 = B(t3, n3), arguments.length < 2 ? this[0] && I(this[0], t3, n3) : t3 ? (e3 = $(t3, e3, n3), this.each((function(o4, r2) {
              1 === r2.nodeType && (n3 ? r2.style.setProperty(t3, e3) : r2.style[t3] = e3);
            }))) : this;
          }
          for (var o3 in t3) this.css(o3, t3[o3]);
          return this;
        };
        var q = "__cashData", G = /^data-(.*)/;
        function K(t3) {
          return t3[q] = t3[q] || {};
        }
        function Y(t3, e3) {
          var n3 = K(t3);
          if (e3) {
            if (!(e3 in n3)) {
              var o3 = t3.dataset ? t3.dataset[e3] || t3.dataset[C(e3)] : b(t3).attr("data-" + e3);
              if (void 0 !== o3) {
                try {
                  o3 = JSON.parse(o3);
                } catch (t4) {
                }
                n3[e3] = o3;
              }
            }
            return n3[e3];
          }
          return n3;
        }
        function J(t3, e3) {
          return N(t3, "border" + (e3 ? "Left" : "Top") + "Width") + N(t3, "padding" + (e3 ? "Left" : "Top")) + N(t3, "padding" + (e3 ? "Right" : "Bottom")) + N(t3, "border" + (e3 ? "Right" : "Bottom") + "Width");
        }
        function X(t3, e3) {
          for (var n3 = 0, o3 = e3.length; n3 < o3; n3++) if (t3.indexOf(e3[n3]) < 0) return false;
          return true;
        }
        function Z(t3, e3, n3) {
          S(t3[n3], (function(t4) {
            t4[0];
            var o3 = t4[1];
            e3.removeEventListener(n3, o3);
          })), delete t3[n3];
        }
        b.hasData = function(t3) {
          return q in t3;
        }, _.data = function(t3, e3) {
          var n3 = this;
          if (!t3) {
            if (!this[0]) return;
            return S(this[0].attributes, (function(t4) {
              var e4 = t4.name.match(G);
              e4 && n3.data(e4[1]);
            })), Y(this[0]);
          }
          if (E(t3)) return void 0 === e3 ? this[0] && Y(this[0], t3) : this.each((function(n4, o4) {
            return (function(t4, e4, n5) {
              K(t4)[e4] = n5;
            })(o4, t3, e3);
          }));
          for (var o3 in t3) this.data(o3, t3[o3]);
          return this;
        }, _.removeData = function(t3) {
          return this.each((function(e3, n3) {
            return (function(t4, e4) {
              void 0 === e4 ? delete t4[q] : delete K(t4)[e4];
            })(n3, t3);
          }));
        }, S(["Width", "Height"], (function(t3) {
          _["inner" + t3] = function() {
            if (this[0]) return this[0] === r ? r["inner" + t3] : this[0]["client" + t3];
          };
        })), S(["width", "height"], (function(t3, e3) {
          _[t3] = function(n3) {
            return this[0] ? arguments.length ? (n3 = parseInt(n3, 10), this.each((function(o3, r2) {
              if (1 === r2.nodeType) {
                var i2 = I(r2, "boxSizing");
                r2.style[t3] = $(t3, n3 + ("border-box" === i2 ? J(r2, !e3) : 0));
              }
            }))) : this[0] === r ? this[0][C("outer-" + t3)] : this[0].getBoundingClientRect()[t3] - J(this[0], !e3) : void 0 === n3 ? void 0 : this;
          };
        })), S(["Width", "Height"], (function(t3, e3) {
          _["outer" + t3] = function(n3) {
            if (this[0]) return this[0] === r ? r["outer" + t3] : this[0]["offset" + t3] + (n3 ? N(this[0], "margin" + (e3 ? "Top" : "Left")) + N(this[0], "margin" + (e3 ? "Bottom" : "Right")) : 0);
          };
        }));
        var Q = "__cashEvents", tt = ".";
        function et(t3) {
          return t3[Q] = t3[Q] || {};
        }
        function nt(t3) {
          var e3 = t3.split(tt);
          return [e3[0], e3.slice(1).sort()];
        }
        function ot(t3, e3, n3, o3) {
          var r2 = et(t3);
          if (e3) {
            var i2 = r2[e3];
            if (!i2) return;
            o3 && (o3.guid = o3.guid || O++), r2[e3] = i2.filter((function(r3) {
              var i3 = r3[0], a2 = r3[1];
              if (o3 && a2.guid !== o3.guid || !X(i3, n3)) return true;
              t3.removeEventListener(e3, a2);
            }));
          } else if (n3 && n3.length) for (e3 in r2) ot(t3, e3, n3, o3);
          else for (e3 in r2) Z(r2, t3, e3);
        }
        _.off = function(t3, e3) {
          var n3 = this;
          return void 0 === t3 ? this.each((function(t4, e4) {
            return ot(e4);
          })) : S(D(t3), (function(t4) {
            var o3 = nt(t4), r2 = o3[0], i2 = o3[1];
            n3.each((function(t5, n4) {
              return ot(n4, r2, i2, e3);
            }));
          })), this;
        }, _.on = function(t3, e3, n3, o3) {
          var r2 = this;
          if (!E(t3)) {
            for (var i2 in t3) this.on(i2, e3, t3[i2]);
            return this;
          }
          return P(e3) && (n3 = e3, e3 = false), S(D(t3), (function(t4) {
            var i3 = nt(t4), a2 = i3[0], s2 = i3[1];
            r2.each((function(t5, r3) {
              var i4 = function t6(i5) {
                if (!i5.namespace || X(s2, i5.namespace.split(tt))) {
                  var l2 = r3;
                  if (e3) {
                    for (var c2 = i5.target; !T(c2, e3); ) {
                      if (c2 === r3) return;
                      if (!(c2 = c2.parentNode)) return;
                    }
                    l2 = c2;
                  }
                  i5.namespace = i5.namespace || "";
                  var u2 = n3.call(l2, i5, i5.data);
                  o3 && ot(r3, a2, s2, t6), false === u2 && (i5.preventDefault(), i5.stopPropagation());
                }
              };
              i4.guid = n3.guid = n3.guid || O++, (function(t6, e4, n4, o4) {
                o4.guid = o4.guid || O++;
                var r4 = et(t6);
                r4[e4] = r4[e4] || [], r4[e4].push([n4, o4]), t6.addEventListener(e4, o4);
              })(r3, a2, s2, i4);
            }));
          })), this;
        }, _.one = function(t3, e3, n3) {
          return this.on(t3, e3, n3, true);
        }, _.ready = function(t3) {
          var e3 = function() {
            return t3(b);
          };
          return "loading" !== o2.readyState ? setTimeout(e3) : o2.addEventListener("DOMContentLoaded", e3), this;
        }, _.trigger = function(t3, e3) {
          var n3 = t3;
          if (E(t3)) {
            var r2 = nt(t3), i2 = r2[0], a2 = r2[1];
            (n3 = o2.createEvent("HTMLEvents")).initEvent(i2, true, true), n3.namespace = a2.join(tt);
          }
          return n3.data = e3, this.each((function(t4, e4) {
            e4.dispatchEvent(n3);
          }));
        };
        var rt = /select-one/i, it = /select-multiple/i;
        function at(t3) {
          var e3 = t3.type;
          return rt.test(e3) ? (function(t4) {
            return t4.selectedIndex < 0 ? null : t4.options[t4.selectedIndex].value;
          })(t3) : it.test(e3) ? (function(t4) {
            var e4 = [];
            return S(t4.options, (function(t5) {
              !t5.selected || t5.disabled || t5.parentNode.disabled || e4.push(t5.value);
            })), e4;
          })(t3) : t3.value;
        }
        var st = /%20/g;
        var lt = /file|reset|submit|button|image/i, ct = /radio|checkbox/i;
        _.serialize = function() {
          var t3 = "";
          return this.each((function(e3, n3) {
            S(n3.elements || [n3], (function(e4) {
              if (!e4.disabled && e4.name && "FIELDSET" !== e4.tagName && !lt.test(e4.type) && (!ct.test(e4.type) || e4.checked)) {
                var n4 = at(e4);
                if (void 0 !== n4) S(A(n4) ? n4 : [n4], (function(n5) {
                  t3 += (function(t4, e5) {
                    return "&" + encodeURIComponent(t4) + "=" + encodeURIComponent(e5).replace(st, "+");
                  })(e4.name, n5);
                }));
              }
            }));
          })), t3.substr(1);
        }, _.val = function(t3) {
          return void 0 === t3 ? this[0] && at(this[0]) : this.each((function(e3, n3) {
            var o3 = it.test(n3.type), r2 = null === t3 ? o3 ? [] : "" : t3;
            o3 && A(r2) ? S(n3.options, (function(t4) {
              t4.selected = r2.indexOf(t4.value) >= 0;
            })) : n3.value = r2;
          }));
        }, _.clone = function() {
          return this.map((function(t3, e3) {
            return e3.cloneNode(true);
          }));
        }, _.detach = function() {
          return this.each((function(t3, e3) {
            e3.parentNode && e3.parentNode.removeChild(e3);
          }));
        };
        var ut, pt = /^\s*<(\w+)[^>]*>/, dt = /^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;
        function ft(t3) {
          if ((function() {
            if (!ut) {
              var t4 = o2.createElement("table"), e4 = o2.createElement("tr");
              ut = { "*": o2.createElement("div"), tr: o2.createElement("tbody"), td: e4, th: e4, thead: t4, tbody: t4, tfoot: t4 };
            }
          })(), !E(t3)) return [];
          if (dt.test(t3)) return [o2.createElement(RegExp.$1)];
          var e3 = pt.test(t3) && RegExp.$1, n3 = ut[e3] || ut["*"];
          return n3.innerHTML = t3, b(n3.childNodes).detach().get();
        }
        function ht(t3, e3, n3) {
          if (void 0 !== e3) {
            var o3 = E(e3);
            !o3 && e3.length ? S(e3, (function(e4) {
              return ht(t3, e4, n3);
            })) : S(t3, o3 ? function(t4) {
              t4.insertAdjacentHTML(n3 ? "afterbegin" : "beforeend", e3);
            } : function(t4, o4) {
              return (function(t5, e4, n4) {
                n4 ? t5.insertBefore(e4, t5.childNodes[0]) : t5.appendChild(e4);
              })(t4, o4 ? e3.cloneNode(true) : e3, n3);
            });
          }
        }
        b.parseHTML = ft, _.empty = function() {
          var t3 = this[0];
          if (t3) for (; t3.firstChild; ) t3.removeChild(t3.firstChild);
          return this;
        }, _.append = function() {
          var t3 = this;
          return S(arguments, (function(e3) {
            ht(t3, e3);
          })), this;
        }, _.appendTo = function(t3) {
          return ht(b(t3), this), this;
        }, _.html = function(t3) {
          if (void 0 === t3) return this[0] && this[0].innerHTML;
          var e3 = t3.nodeType ? t3[0].outerHTML : t3;
          return this.each((function(t4, n3) {
            n3.innerHTML = e3;
          }));
        }, _.insertAfter = function(t3) {
          var e3 = this;
          return b(t3).each((function(t4, n3) {
            var o3 = n3.parentNode;
            e3.each((function(e4, r2) {
              o3.insertBefore(t4 ? r2.cloneNode(true) : r2, n3.nextSibling);
            }));
          })), this;
        }, _.after = function() {
          var t3 = this;
          return S(u.apply(arguments), (function(e3) {
            u.apply(b(e3).slice()).insertAfter(t3);
          })), this;
        }, _.insertBefore = function(t3) {
          var e3 = this;
          return b(t3).each((function(t4, n3) {
            var o3 = n3.parentNode;
            e3.each((function(e4, r2) {
              o3.insertBefore(t4 ? r2.cloneNode(true) : r2, n3);
            }));
          })), this;
        }, _.before = function() {
          var t3 = this;
          return S(arguments, (function(e3) {
            b(e3).insertBefore(t3);
          })), this;
        }, _.prepend = function() {
          var t3 = this;
          return S(arguments, (function(e3) {
            ht(t3, e3, true);
          })), this;
        }, _.prependTo = function(t3) {
          return ht(b(t3), u.apply(this.slice()), true), this;
        }, _.remove = function() {
          return this.detach().off();
        }, _.replaceWith = function(t3) {
          var e3 = this;
          return this.each((function(n3, o3) {
            var r2 = o3.parentNode;
            if (r2) {
              var i2 = n3 ? b(t3).clone() : b(t3);
              if (!i2[0]) return e3.remove(), false;
              r2.replaceChild(i2[0], o3), b(i2[0]).after(i2.slice(1));
            }
          }));
        }, _.replaceAll = function(t3) {
          return b(t3).replaceWith(this), this;
        }, _.text = function(t3) {
          return void 0 === t3 ? this[0] ? this[0].textContent : "" : this.each((function(e3, n3) {
            n3.textContent = t3;
          }));
        };
        var vt = o2 && o2.documentElement;
        _.offset = function() {
          var t3 = this[0];
          if (t3) {
            var e3 = t3.getBoundingClientRect();
            return { top: e3.top + r.pageYOffset - vt.clientTop, left: e3.left + r.pageXOffset - vt.clientLeft };
          }
        }, _.offsetParent = function() {
          return b(this[0] && this[0].offsetParent);
        }, _.position = function() {
          var t3 = this[0];
          if (t3) return { left: t3.offsetLeft, top: t3.offsetTop };
        }, _.children = function(t3) {
          var e3 = [];
          return this.each((function(t4, n3) {
            c.apply(e3, n3.children);
          })), e3 = b(L(e3)), t3 ? e3.filter((function(e4, n3) {
            return T(n3, t3);
          })) : e3;
        }, _.contents = function() {
          var t3 = [];
          return this.each((function(e3, n3) {
            c.apply(t3, "IFRAME" === n3.tagName ? [n3.contentDocument] : n3.childNodes);
          })), b(t3.length && L(t3));
        }, _.find = function(t3) {
          for (var e3 = [], n3 = 0, o3 = this.length; n3 < o3; n3++) {
            var r2 = y(t3, this[n3]);
            r2.length && c.apply(e3, r2);
          }
          return b(e3.length && L(e3));
        }, _.has = function(t3) {
          var e3 = E(t3) ? function(e4, n3) {
            return !!y(t3, n3).length;
          } : function(e4, n3) {
            return n3.contains(t3);
          };
          return this.filter(e3);
        }, _.is = function(t3) {
          if (!t3 || !this[0]) return false;
          var e3 = j(t3), n3 = false;
          return this.each((function(o3, r2) {
            return !(n3 = e3(o3, r2, t3));
          })), n3;
        }, _.next = function() {
          return b(this[0] && this[0].nextElementSibling);
        }, _.not = function(t3) {
          if (!t3 || !this[0]) return this;
          var e3 = j(t3);
          return this.filter((function(n3, o3) {
            return !e3(n3, o3, t3);
          }));
        }, _.parent = function() {
          var t3 = [];
          return this.each((function(e3, n3) {
            n3 && n3.parentNode && t3.push(n3.parentNode);
          })), b(L(t3));
        }, _.index = function(t3) {
          var e3 = t3 ? b(t3)[0] : this[0], n3 = t3 ? this : b(e3).parent().children();
          return s.call(n3, e3);
        }, _.closest = function(t3) {
          return t3 && this[0] ? this.is(t3) ? this.filter(t3) : this.parent().closest(t3) : b();
        }, _.parents = function(t3) {
          var e3, n3 = [];
          return this.each((function(r2, i2) {
            for (e3 = i2; e3 && e3.parentNode && e3 !== o2.body.parentNode; ) e3 = e3.parentNode, (!t3 || t3 && T(e3, t3)) && n3.push(e3);
          })), b(L(n3));
        }, _.prev = function() {
          return b(this[0] && this[0].previousElementSibling);
        }, _.siblings = function() {
          var t3 = this[0];
          return this.parent().children().filter((function(e3, n3) {
            return n3 !== t3;
          }));
        };
        const gt = b;
      }, 6294: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { AU: () => L, BC: () => g, C8: () => C, Ch: () => T, Ci: () => k, D8: () => s, G2: () => P, GW: () => x, GZ: () => m, I6: () => p, LJ: () => j, Sc: () => v, X6: () => d, Xy: () => S, YZ: () => c, ZQ: () => l, _I: () => I, a_: () => y, af: () => _, bG: () => h, cx: () => u, ir: () => w, kk: () => M, on: () => D, rp: () => A, v$: () => E, yL: () => b, zN: () => f });
        var o2 = n2(5706), r = function(t3, e3, n3) {
          if (n3 || 2 === arguments.length) for (var o3, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o3 && r2 in e3 || (o3 || (o3 = Array.prototype.slice.call(e3, 0, r2)), o3[r2] = e3[r2]);
          return t3.concat(o3 || Array.prototype.slice.call(e3));
        }, i = "tag", a = "attributes", s = "transitionend oTransitionEnd transitionend webkitTransitionEnd", l = function(t3) {
          return (null == t3 ? void 0 : t3.nodeType) === Node.DOCUMENT_NODE;
        }, c = function(t3) {
          var e3 = t3 && t3.parentNode;
          e3 && e3.removeChild(t3);
        };
        function u() {
          for (var t3 = [], e3 = 0; e3 < arguments.length; e3++) t3[e3] = arguments[e3];
          return (Array.isArray(t3[0]) ? t3[0] : r([], t3, true)).filter(Boolean).join(" ");
        }
        var p = function(t3, e3) {
          return t3.querySelectorAll(e3);
        }, d = function(t3, e3) {
          return void 0 === e3 && (e3 = {}), t3 && t3.setAttribute && (0, o2.each)(e3, (function(e4, n3) {
            return t3.setAttribute(n3, e4);
          }));
        }, f = function(t3) {
          var e3;
          return t3 && !!(t3.offsetWidth || t3.offsetHeight || (null === (e3 = t3.getClientRects) || void 0 === e3 ? void 0 : e3.call(t3).length));
        }, h = function(t3, e3) {
          var n3;
          null === (n3 = t3.parentNode) || void 0 === n3 || n3.replaceChild(e3, t3);
        }, v = function(t3, e3, n3) {
          var r2 = t3.childNodes, i2 = r2.length, a2 = (0, o2.isUndefined)(n3) ? i2 : n3;
          (0, o2.isString)(e3) && (t3.insertAdjacentHTML("beforeEnd", e3), e3 = t3.lastChild, t3.removeChild(e3)), a2 >= i2 ? t3.appendChild(e3) : t3.insertBefore(e3, r2[a2]);
        }, g = function(t3, e3) {
          return v(t3, e3);
        }, y = function(t3, e3, n3) {
          void 0 === e3 && (e3 = {});
          var r2 = document.createElement(t3);
          return e3 && (0, o2.each)(e3, (function(t4, e4) {
            return r2.setAttribute(e4, t4);
          })), n3 && ((0, o2.isString)(n3) ? r2.innerHTML = n3 : r2.appendChild(n3)), r2;
        }, m = function(t3) {
          return document.createTextNode(t3);
        }, b = function(t3, e3) {
          var n3, o3 = t3.type;
          try {
            n3 = new window[e3](o3, t3);
          } catch (t4) {
            (n3 = document.createEvent(e3)).initEvent(o3, true, true);
          }
          return n3._parentEvent = t3, 0 === o3.indexOf("key") && (n3.keyCodeVal = t3.keyCode, ["keyCode", "which"].forEach((function(t4) {
            Object.defineProperty(n3, t4, { get: function() {
              return this.keyCodeVal;
            } });
          }))), n3;
        }, _ = function(t3, e3) {
          void 0 === e3 && (e3 = []), (Array.isArray(e3) ? e3 : [e3]).forEach((function(e4) {
            var n3 = e4[i] || "div", r2 = e4[a] || {}, s2 = document.createElement(n3);
            (0, o2.each)(r2, (function(t4, e5) {
              s2.setAttribute(e5, t4);
            })), t3.appendChild(s2);
          }));
        }, w = function(t3) {
          return (null == t3 ? void 0 : t3.nodeType) === Node.TEXT_NODE;
        }, x = function(t3) {
          return t3 && !w(t3) && !(function(t4) {
            return (null == t4 ? void 0 : t4.nodeType) === Node.COMMENT_NODE;
          })(t3);
        }, C = function(t3) {
          var e3, n3 = { top: 0, left: 0, width: 0, height: 0 };
          if (!t3) return n3;
          if (w(t3)) {
            var o3 = document.createRange();
            o3.selectNode(t3), e3 = o3.getBoundingClientRect(), o3.detach();
          }
          return e3 || (t3.getBoundingClientRect ? t3.getBoundingClientRect() : n3);
        }, S = function(t3) {
          var e3 = (null == t3 ? void 0 : t3.ownerDocument) || document, n3 = e3.documentElement, o3 = e3.defaultView || window;
          return { x: (o3.pageXOffset || n3.scrollLeft || 0) - (n3.clientLeft || 0), y: (o3.pageYOffset || n3.scrollTop || 0) - (n3.clientTop || 0) };
        }, O = function(t3) {
          return t3.which || t3.keyCode;
        }, T = function(t3) {
          return String.fromCharCode(O(t3));
        }, P = function(t3) {
          return t3.touches && t3.touches[0] ? t3.touches[0] : t3;
        }, E = function(t3) {
          return 27 === O(t3);
        }, k = function(t3) {
          return 13 === O(t3);
        }, A = function(t3) {
          return (function(t4) {
            return t4.ctrlKey;
          })(t3) || t3.metaKey;
        }, j = function(t3) {
          if (!t3) return "";
          var e3 = t3.name, n3 = t3.publicId, o3 = t3.systemId, r2 = n3 ? ' PUBLIC "'.concat(n3, '"') : "", i2 = !n3 && o3 ? ' SYSTEM "'.concat(o3, '"') : "";
          return "<!DOCTYPE ".concat(e3).concat(r2).concat(i2, ">");
        }, M = function(t3) {
          void 0 === t3 && (t3 = {});
          var e3 = [];
          return (0, o2.each)(t3, (function(t4, n3) {
            return e3.push("".concat(n3, '="').concat(t4, '"'));
          })), e3.join(" ");
        }, D = function(t3, e3, n3, r2) {
          var i2 = e3.split(/\s+/), a2 = (0, o2.isArray)(t3) ? t3 : [t3];
          i2.forEach((function(t4) {
            a2.forEach((function(e4) {
              return null == e4 ? void 0 : e4.addEventListener(t4, n3, r2);
            }));
          }));
        }, L = function(t3, e3, n3, r2) {
          var i2 = e3.split(/\s+/), a2 = (0, o2.isArray)(t3) ? t3 : [t3];
          i2.forEach((function(t4) {
            a2.forEach((function(e4) {
              return null == e4 ? void 0 : e4.removeEventListener(t4, n3, r2);
            }));
          }));
        }, I = function(t3) {
          return t3.replace(/-([a-zA-Z0-9])/g, (function(t4, e3) {
            return e3.toUpperCase();
          }));
        };
      }, 1166: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { appendStyles: () => C, buildBase64UrlFromSvg: () => K, camelCase: () => P, capitalize: () => H, createId: () => G, deepMerge: () => N, escape: () => M, escapeAltQuoteAttrValue: () => I, escapeAttrValue: () => L, escapeNodeContent: () => D, find: () => j, get: () => p, getComponentModel: () => $, getComponentView: () => W, getElement: () => A, getGlobal: () => m, getModel: () => R, getUiClass: () => x, getUnitFromValue: () => O, getViewEl: () => z, hasDnd: () => k, hasWin: () => y, isBultInMethod: () => f, isComponent: () => B, isDef: () => g, isEmptyObj: () => F, isObject: () => V, isRule: () => U, matches: () => w, normalizeFloat: () => E, normalizeKey: () => h, serialize: () => d, setViewEl: () => q, shallowDiff: () => S, stringToPath: () => u, toLowerCase: () => b, upFirst: () => T, wait: () => v });
        var o2 = n2(5706), r = n2(6294), i = function() {
          return i = Object.assign || function(t3) {
            for (var e3, n3 = 1, o3 = arguments.length; n3 < o3; n3++) for (var r2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, i.apply(this, arguments);
        }, a = function(t3, e3, n3) {
          if (n3 || 2 === arguments.length) for (var o3, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o3 && r2 in e3 || (o3 || (o3 = Array.prototype.slice.call(e3, 0, r2)), o3[r2] = e3[r2]);
          return t3.concat(o3 || Array.prototype.slice.call(e3));
        }, s = {}, l = /\\(\\)?/g, c = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, u = function(t3) {
          var e3 = [];
          return 46 === t3.charCodeAt(0) && e3.push(""), t3.replace(c, (function(t4, n3, o3, r2) {
            return e3.push(o3 ? r2.replace(l, "$1") : n3 || t4), "";
          })), e3;
        };
        var p = function(t3, e3, n3) {
          for (var r2, i2 = (function(t4, e4) {
            return (0, o2.isArray)(t4) ? t4 : e4.hasOwnProperty(t4) ? [t4] : u(t4);
          })(e3, t3), a2 = i2.length, s2 = 0; null != t3 && s2 < a2; ) t3 = t3["".concat(i2[s2++])];
          return null !== (r2 = s2 && s2 == a2 ? t3 : void 0) && void 0 !== r2 ? r2 : n3;
        }, d = function(t3) {
          return JSON.parse(JSON.stringify(t3));
        }, f = function(t3) {
          return (0, o2.isFunction)(s[t3]);
        }, h = function(t3) {
          return f(t3) ? "_".concat(t3) : t3;
        }, v = function(t3) {
          return void 0 === t3 && (t3 = 0), new Promise((function(e3) {
            return setTimeout(e3, t3);
          }));
        }, g = function(t3) {
          return void 0 !== t3;
        }, y = function() {
          return "undefined" != typeof window;
        }, m = function() {
          return "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : n2.g;
        }, b = function(t3) {
          return (t3 || "").toLowerCase();
        }, _ = y() ? window.Element.prototype : {}, w = _.matches || _.webkitMatchesSelector || _.mozMatchesSelector || _.msMatchesSelector, x = function(t3, e3) {
          var n3 = t3.getConfig(), o3 = n3.stylePrefix;
          return [n3.customUI && "".concat(o3, "cui"), e3].filter((function(t4) {
            return t4;
          })).join(" ");
        }, C = function(t3, e3) {
          void 0 === e3 && (e3 = {});
          var n3 = (0, o2.isArray)(t3) ? a([], t3, true) : [t3];
          if (n3.length) {
            var r2 = n3.shift();
            if (r2 && (!e3.unique || !document.querySelector('link[href="'.concat(r2, '"]')))) {
              var i2 = document.head, s2 = document.createElement("link");
              s2.href = r2, s2.rel = "stylesheet", e3.prepand ? i2.insertBefore(s2, i2.firstChild) : i2.appendChild(s2);
            }
            C(n3);
          }
        }, S = function(t3, e3) {
          var n3 = {}, r2 = (0, o2.keys)(e3);
          for (var i2 in t3) if (t3.hasOwnProperty(i2)) {
            var a2 = t3[i2], s2 = e3[i2];
            r2.indexOf(i2) >= 0 ? a2 !== s2 && (n3[i2] = s2) : n3[i2] = null;
          }
          for (var i2 in e3) e3.hasOwnProperty(i2) && (0, o2.isUndefined)(t3[i2]) && (n3[i2] = e3[i2]);
          return n3;
        }, O = function(t3) {
          return t3.replace(parseFloat(t3), "");
        }, T = function(t3) {
          return t3[0].toUpperCase() + t3.toLowerCase().slice(1);
        }, P = function(t3) {
          return t3.replace(/-./g, (function(t4) {
            return t4[1].toUpperCase();
          }));
        }, E = function(t3, e3, n3) {
          void 0 === e3 && (e3 = 1), void 0 === n3 && (n3 = 0);
          var o3 = 0;
          if (isNaN(t3)) return n3;
          if (t3 = parseFloat(t3), Math.floor(t3) !== t3) {
            var r2 = e3.toString().split(".")[1];
            o3 = r2 ? r2.length : 0;
          }
          return o3 ? parseFloat(t3.toFixed(o3)) : t3;
        }, k = function(t3) {
          return "draggable" in document.createElement("i") && (!t3 || t3.config.nativeDnD);
        }, A = function(t3) {
          return (0, o2.isElement)(t3) || (0, r.ir)(t3) ? t3 : t3 && t3.getEl ? t3.getEl() : void 0;
        }, j = function(t3, e3) {
          var n3 = null;
          return t3.some((function(o3, r2) {
            return e3(o3, r2, t3) ? (n3 = o3, 1) : 0;
          })), n3;
        }, M = function(t3) {
          return void 0 === t3 && (t3 = ""), "".concat(t3).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;").replace(/`/g, "&#96;");
        }, D = function(t3) {
          return void 0 === t3 && (t3 = ""), "".concat(t3).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
        }, L = function(t3) {
          return void 0 === t3 && (t3 = ""), "".concat(t3).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
        }, I = function(t3) {
          return void 0 === t3 && (t3 = ""), "".concat(t3).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/'/g, "&apos;");
        }, N = function() {
          for (var t3 = [], e3 = 0; e3 < arguments.length; e3++) t3[e3] = arguments[e3];
          for (var n3 = i({}, t3[0]), o3 = 1; o3 < t3.length; o3++) {
            var r2 = i({}, t3[o3]);
            for (var a2 in r2) {
              var s2 = n3[a2], l2 = r2[a2];
              V(s2) && V(l2) ? n3[a2] = N(s2, l2) : n3[a2] = l2;
            }
          }
          return n3;
        }, R = function(t3, e3) {
          var n3;
          return !e3 && t3 && t3.__cashData ? n3 = t3.__cashData.model : e3 && (0, o2.isElement)(t3) && (n3 = e3(t3).data("model")), n3;
        }, V = function(t3) {
          return t3 && !Array.isArray(t3) && "object" == typeof t3;
        }, F = function(t3) {
          return Object.keys(t3).length <= 0;
        }, H = function(t3) {
          return void 0 === t3 && (t3 = ""), t3 && t3.charAt(0).toUpperCase() + t3.substring(1);
        }, U = function(t3) {
          return t3 && t3.toCSS;
        }, z = function(t3) {
          return null == t3 ? void 0 : t3.__gjsv;
        }, B = function(t3) {
          return !!(null == t3 ? void 0 : t3.toHTML);
        }, W = function(t3) {
          return z(t3);
        }, $ = function(t3) {
          var e3;
          return null === (e3 = W(t3)) || void 0 === e3 ? void 0 : e3.model;
        }, q = function(t3, e3) {
          t3.__gjsv = e3;
        }, G = function(t3) {
          void 0 === t3 && (t3 = 16);
          for (var e3 = "", n3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", o3 = n3.length, r2 = 0; r2 < t3; r2++) e3 += n3.charAt(Math.floor(Math.random() * o3));
          return e3;
        }, K = function(t3) {
          if (t3 && "<svg" === t3.substr(0, 4)) {
            var e3 = "";
            return y() ? e3 = window.btoa(t3) : "undefined" != typeof Buffer && (e3 = Buffer.from(t3, "utf8").toString("base64")), e3 ? "data:image/svg+xml;base64,".concat(e3) : t3;
          }
          return t3;
        };
      }, 6756: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { h: () => a });
        var o2, r = n2(3178), i = (o2 = function(t3, e3) {
          return o2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, o2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          o2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), a = (function(t3) {
          function e3() {
            var e4 = null !== t3 && t3.apply(this, arguments) || this;
            return e4.displayCache = /* @__PURE__ */ new Map(), e4;
          }
          return i(e3, t3), e3.prototype.getChildren = function() {
            return this.getDisplayedChildren();
          }, e3.prototype.getDisplayedChildren = function() {
            var t4 = this;
            return this.model.components().filter((function(e4) {
              return t4.isChildDisplayed(e4);
            })).map((function(e4) {
              return new t4.constructor(e4);
            }));
          }, e3.prototype.isChildDisplayed = function(t4) {
            if (this.displayCache.has(t4)) return this.displayCache.get(t4);
            var e4 = (function(t5) {
              return !!t5 && ("object" == typeof t5 && t5.nodeType === Node.ELEMENT_NODE && "none" !== window.getComputedStyle(t5).display && t5.offsetWidth > 0 && t5.offsetHeight > 0);
            })(t4.getEl());
            return this.displayCache.set(t4, e4), e4;
          }, e3.prototype.getParent = function() {
            var t4 = this.model.parent();
            return t4 ? new this.constructor(t4) : null;
          }, e3.prototype.addChildAt = function(t4, e4, n3) {
            var o3, r2, i2, a2, s, l, c, u;
            if (void 0 === n3 && (n3 = { action: "add-component" }), (null === (r2 = null === (o3 = this.model) || void 0 === o3 ? void 0 : o3.isInstanceOf) || void 0 === r2 ? void 0 : r2.call(o3, "text")) && (null === (a2 = null === (i2 = null == t4 ? void 0 : t4.model) || void 0 === i2 ? void 0 : i2.get) || void 0 === a2 ? void 0 : a2.call(i2, "textable"))) return null === (u = null === (c = null === (l = null === (s = this.model) || void 0 === s ? void 0 : s.getView) || void 0 === l ? void 0 : l.call(s)) || void 0 === c ? void 0 : c.insertComponent) || void 0 === u ? void 0 : u.call(c, null == t4 ? void 0 : t4.model, { action: n3.action });
            var p = this.model.components().add(t4.model, { at: this.getRealIndex(e4), action: n3.action });
            return new this.constructor(p);
          }, e3.prototype.removeChildAt = function(t4, e4) {
            void 0 === e4 && (e4 = { temporary: false });
            var n3 = this.model.components().at(this.getRealIndex(t4));
            n3 && this.model.components().remove(n3, e4);
          }, e3.prototype.indexOfChild = function(t4) {
            return this.getDisplayIndex(t4);
          }, e3.prototype.getDisplayIndex = function(t4) {
            var e4 = this.getDisplayedChildren();
            return e4 ? e4.findIndex((function(e5) {
              return e5.model === t4.model;
            })) : -1;
          }, e3.prototype.getRealIndex = function(t4) {
            if (-1 === t4) return -1;
            for (var e4 = 0, n3 = this.model.components(), o3 = 0; o3 < n3.length; o3++) {
              var r2 = n3.at(o3);
              if (this.isChildDisplayed(r2) && e4++, e4 === t4 + 1) return o3;
            }
            return -1;
          }, e3.prototype.canMove = function(t4, e4) {
            return this.model.em.Components.canMove(this.model, t4.model, this.getRealIndex(e4)).result;
          }, e3.prototype.equals = function(t4) {
            return !!(null == t4 ? void 0 : t4._model) && this._model.getId() === t4._model.getId();
          }, e3.prototype.restNodeState = function() {
            this.clearState();
            var t4 = this.model;
            this.setContentEditable(false), t4.em.getEditing() === t4 && this.disableEditing();
          }, e3.prototype.setContentEditable = function(t4) {
            this.element && this.isTextNode() && (this.element.contentEditable = t4 ? "true" : "false");
          }, e3.prototype.disableEditing = function() {
            var t4, e4;
            null === (e4 = null === (t4 = this.view) || void 0 === t4 ? void 0 : t4.disableEditing) || void 0 === e4 || e4.call(t4);
          }, e3.prototype.clearState = function() {
            var t4, e4;
            null === (e4 = (t4 = this.model).set) || void 0 === e4 || e4.call(t4, "status", "");
          }, e3.prototype.setSelectedParentState = function() {
            var t4, e4;
            null === (e4 = (t4 = this.model).set) || void 0 === e4 || e4.call(t4, "status", "selected-parent");
          }, e3.prototype.isTextNode = function() {
            var t4, e4;
            return null === (e4 = (t4 = this.model).isInstanceOf) || void 0 === e4 ? void 0 : e4.call(t4, "text");
          }, e3.prototype.isTextable = function() {
            var t4, e4;
            return null === (e4 = (t4 = this.model).get) || void 0 === e4 ? void 0 : e4.call(t4, "textable");
          }, e3;
        })(r.$);
      }, 1447: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { A: () => a });
        var o2, r = n2(6756), i = (o2 = function(t3, e3) {
          return o2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, o2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          o2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        });
        const a = (function(t3) {
          function e3() {
            var e4 = null !== t3 && t3.apply(this, arguments) || this;
            return e4._dropAreaConfig = { ratio: 0.8, minUndroppableDimension: 1, maxUndroppableDimension: 15 }, e4;
          }
          return i(e3, t3), Object.defineProperty(e3.prototype, "view", { get: function() {
            var t4, e4;
            return null === (e4 = (t4 = this.model).getView) || void 0 === e4 ? void 0 : e4.call(t4);
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "element", { get: function() {
            var t4, e4;
            return null === (e4 = (t4 = this.model).getEl) || void 0 === e4 ? void 0 : e4.call(t4);
          }, enumerable: false, configurable: true }), e3;
        })(r.h);
      }, 3178: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { $: () => o2 });
        var o2 = (function() {
          function t3(t4, e3) {
            void 0 === e3 && (e3 = {}), this._dropAreaConfig = { ratio: 1, minUndroppableDimension: 0, maxUndroppableDimension: 0 }, this._model = t4, this._dragSource = e3;
          }
          return Object.defineProperty(t3.prototype, "model", { get: function() {
            return this._model;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "dragSource", { get: function() {
            return this._dragSource;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "dropArea", { get: function() {
            var t4, e3;
            return this.getParent() ? null === (e3 = this.nodeDimensions) || void 0 === e3 ? void 0 : e3.getDropArea(this._dropAreaConfig) : null === (t4 = this.nodeDimensions) || void 0 === t4 ? void 0 : t4.clone();
          }, enumerable: false, configurable: true }), t3.prototype.isWithinDropBounds = function(t4, e3) {
            return !!this.dropArea && this.dropArea.isWithinBounds(t4, e3);
          }, t3.prototype.equals = function(t4) {
            return !!(null == t4 ? void 0 : t4._model) && this._model === t4._model;
          }, t3.prototype.adjustDimensions = function(t4) {
            var e3, n3;
            0 === t4.topDifference && 0 === t4.leftDifference || (null === (e3 = this.nodeDimensions) || void 0 === e3 || e3.adjustDimensions(t4), null === (n3 = this.childrenDimensions) || void 0 === n3 || n3.forEach((function(e4) {
              return e4.adjustDimensions(t4);
            })));
          }, t3;
        })();
      }, 8433: (t2, e2, n2) => {
        "use strict";
        var o2;
        n2.d(e2, { A: () => o2 }), (function(t3) {
          t3["Vertical"] = "Vertical", t3["Horizontal"] = "Horizontal", t3["BothDirections"] = "BothDirections";
        })(o2 || (o2 = {}));
      }, 585: (t2, e2, n2) => {
        var o2 = { "./CanvasClear": 9484, "./CanvasClear.ts": 9484, "./CanvasMove": 9516, "./CanvasMove.ts": 9516, "./CommandAbstract": 9946, "./CommandAbstract.ts": 9946, "./ComponentDelete": 7801, "./ComponentDelete.ts": 7801, "./ComponentDrag": 4864, "./ComponentDrag.ts": 4864, "./ComponentEnter": 6134, "./ComponentEnter.ts": 6134, "./ComponentExit": 914, "./ComponentExit.ts": 914, "./ComponentNext": 5547, "./ComponentNext.ts": 5547, "./ComponentPrev": 8655, "./ComponentPrev.ts": 8655, "./ComponentStyleClear": 7640, "./ComponentStyleClear.ts": 7640, "./CopyComponent": 5837, "./CopyComponent.ts": 5837, "./ExportTemplate": 6477, "./ExportTemplate.ts": 6477, "./Fullscreen": 1772, "./Fullscreen.ts": 1772, "./MoveComponent": 741, "./MoveComponent.ts": 741, "./OpenAssets": 2924, "./OpenAssets.ts": 2924, "./OpenBlocks": 3963, "./OpenBlocks.ts": 3963, "./OpenLayers": 1479, "./OpenLayers.ts": 1479, "./OpenStyleManager": 3473, "./OpenStyleManager.ts": 3473, "./OpenTraitManager": 5054, "./OpenTraitManager.ts": 5054, "./PasteComponent": 6979, "./PasteComponent.ts": 6979, "./Preview": 4457, "./Preview.ts": 4457, "./Resize": 5493, "./Resize.ts": 5493, "./SelectComponent": 9317, "./SelectComponent.ts": 9317, "./SelectPosition": 1406, "./SelectPosition.ts": 1406, "./ShowOffset": 9395, "./ShowOffset.ts": 9395, "./SwitchVisibility": 7285, "./SwitchVisibility.ts": 7285 };
        function r(t3) {
          var e3 = i(t3);
          return n2(e3);
        }
        function i(t3) {
          if (!n2.o(o2, t3)) {
            var e3 = new Error("Cannot find module '" + t3 + "'");
            throw e3.code = "MODULE_NOT_FOUND", e3;
          }
          return o2[t3];
        }
        r.keys = function() {
          return Object.keys(o2);
        }, r.resolve = i, t2.exports = r, r.id = 585;
      }, 5706: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { VERSION: () => r, after: () => Ie, all: () => en, allKeys: () => gt, any: () => nn, assign: () => It, before: () => Ne, bind: () => Ce, bindAll: () => Te, chain: () => be, chunk: () => Fn, clone: () => Ft, collect: () => Ye, compact: () => En, compose: () => Le, constant: () => Z, contains: () => on, countBy: () => gn, create: () => Vt, debounce: () => je, default: () => Wn, defaults: () => Nt, defer: () => ke, delay: () => Ee, detect: () => qe, difference: () => An, drop: () => Tn, each: () => Ke, escape: () => se, every: () => en, extend: () => Lt, extendOwn: () => It, filter: () => Qe, find: () => qe, findIndex: () => He, findKey: () => Ve, findLastIndex: () => Ue, findWhere: () => Ge, first: () => On, flatten: () => kn, foldl: () => Xe, foldr: () => Ze, forEach: () => Ke, functions: () => Mt, get: () => Wt, groupBy: () => hn, has: () => $t, head: () => On, identity: () => qt, include: () => on, includes: () => on, indexBy: () => vn, indexOf: () => We, initial: () => Sn, inject: () => Xe, intersection: () => Ln, invert: () => jt, invoke: () => rn, isArguments: () => Y, isArray: () => q, isArrayBuffer: () => R, isBoolean: () => E, isDataView: () => $, isDate: () => D, isElement: () => k, isEmpty: () => lt, isEqual: () => vt, isError: () => I, isFinite: () => J, isFunction: () => H, isMap: () => Ot, isMatch: () => ct, isNaN: () => X, isNull: () => T, isNumber: () => M, isObject: () => O, isRegExp: () => L, isSet: () => Pt, isString: () => j, isSymbol: () => N, isTypedArray: () => rt, isUndefined: () => P, isWeakMap: () => Tt, isWeakSet: () => Et, iteratee: () => Xt, keys: () => st, last: () => Pn, lastIndexOf: () => $e, map: () => Ye, mapObject: () => Qt, matcher: () => Gt, matches: () => Gt, max: () => ln, memoize: () => Pe, methods: () => Mt, min: () => cn, mixin: () => Un, negate: () => De, noop: () => te, now: () => re, object: () => Rn, omit: () => Cn, once: () => Re, pairs: () => At, partial: () => xe, partition: () => yn, pick: () => xn, pluck: () => an, property: () => Kt, propertyOf: () => ee, random: () => oe, range: () => Vn, reduce: () => Xe, reduceRight: () => Ze, reject: () => tn, rest: () => Tn, restArguments: () => S, result: () => ge, sample: () => un, select: () => Qe, shuffle: () => pn, size: () => _n, some: () => nn, sortBy: () => dn, sortedIndex: () => ze, tail: () => Tn, take: () => On, tap: () => Ht, template: () => ve, templateSettings: () => ce, throttle: () => Ae, times: () => ne, toArray: () => bn, toPath: () => Ut, transpose: () => In, unescape: () => le, union: () => Dn, uniq: () => Mn, unique: () => Mn, uniqueId: () => me, unzip: () => In, values: () => kt, where: () => sn, without: () => jn, wrap: () => Me, zip: () => Nn });
        var o2 = {};
        n2.r(o2), n2.d(o2, { VERSION: () => r, after: () => Ie, all: () => en, allKeys: () => gt, any: () => nn, assign: () => It, before: () => Ne, bind: () => Ce, bindAll: () => Te, chain: () => be, chunk: () => Fn, clone: () => Ft, collect: () => Ye, compact: () => En, compose: () => Le, constant: () => Z, contains: () => on, countBy: () => gn, create: () => Vt, debounce: () => je, default: () => zn, defaults: () => Nt, defer: () => ke, delay: () => Ee, detect: () => qe, difference: () => An, drop: () => Tn, each: () => Ke, escape: () => se, every: () => en, extend: () => Lt, extendOwn: () => It, filter: () => Qe, find: () => qe, findIndex: () => He, findKey: () => Ve, findLastIndex: () => Ue, findWhere: () => Ge, first: () => On, flatten: () => kn, foldl: () => Xe, foldr: () => Ze, forEach: () => Ke, functions: () => Mt, get: () => Wt, groupBy: () => hn, has: () => $t, head: () => On, identity: () => qt, include: () => on, includes: () => on, indexBy: () => vn, indexOf: () => We, initial: () => Sn, inject: () => Xe, intersection: () => Ln, invert: () => jt, invoke: () => rn, isArguments: () => Y, isArray: () => q, isArrayBuffer: () => R, isBoolean: () => E, isDataView: () => $, isDate: () => D, isElement: () => k, isEmpty: () => lt, isEqual: () => vt, isError: () => I, isFinite: () => J, isFunction: () => H, isMap: () => Ot, isMatch: () => ct, isNaN: () => X, isNull: () => T, isNumber: () => M, isObject: () => O, isRegExp: () => L, isSet: () => Pt, isString: () => j, isSymbol: () => N, isTypedArray: () => rt, isUndefined: () => P, isWeakMap: () => Tt, isWeakSet: () => Et, iteratee: () => Xt, keys: () => st, last: () => Pn, lastIndexOf: () => $e, map: () => Ye, mapObject: () => Qt, matcher: () => Gt, matches: () => Gt, max: () => ln, memoize: () => Pe, methods: () => Mt, min: () => cn, mixin: () => Un, negate: () => De, noop: () => te, now: () => re, object: () => Rn, omit: () => Cn, once: () => Re, pairs: () => At, partial: () => xe, partition: () => yn, pick: () => xn, pluck: () => an, property: () => Kt, propertyOf: () => ee, random: () => oe, range: () => Vn, reduce: () => Xe, reduceRight: () => Ze, reject: () => tn, rest: () => Tn, restArguments: () => S, result: () => ge, sample: () => un, select: () => Qe, shuffle: () => pn, size: () => _n, some: () => nn, sortBy: () => dn, sortedIndex: () => ze, tail: () => Tn, take: () => On, tap: () => Ht, template: () => ve, templateSettings: () => ce, throttle: () => Ae, times: () => ne, toArray: () => bn, toPath: () => Ut, transpose: () => In, unescape: () => le, union: () => Dn, uniq: () => Mn, unique: () => Mn, uniqueId: () => me, unzip: () => In, values: () => kt, where: () => sn, without: () => jn, wrap: () => Me, zip: () => Nn });
        var r = "1.13.1", i = "object" == typeof self && self.self === self && self || "object" == typeof global && global.global === global && global || Function("return this")() || {}, a = Array.prototype, s = Object.prototype, l = "undefined" != typeof Symbol ? Symbol.prototype : null, c = a.push, u = a.slice, p = s.toString, d = s.hasOwnProperty, f = "undefined" != typeof ArrayBuffer, h = "undefined" != typeof DataView, v = Array.isArray, g = Object.keys, y = Object.create, m = f && ArrayBuffer.isView, b = isNaN, _ = isFinite, w = !{ toString: null }.propertyIsEnumerable("toString"), x = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"], C = Math.pow(2, 53) - 1;
        function S(t3, e3) {
          return e3 = null == e3 ? t3.length - 1 : +e3, function() {
            for (var n3 = Math.max(arguments.length - e3, 0), o3 = Array(n3), r2 = 0; r2 < n3; r2++) o3[r2] = arguments[r2 + e3];
            switch (e3) {
              case 0:
                return t3.call(this, o3);
              case 1:
                return t3.call(this, arguments[0], o3);
              case 2:
                return t3.call(this, arguments[0], arguments[1], o3);
            }
            var i2 = Array(e3 + 1);
            for (r2 = 0; r2 < e3; r2++) i2[r2] = arguments[r2];
            return i2[e3] = o3, t3.apply(this, i2);
          };
        }
        function O(t3) {
          var e3 = typeof t3;
          return "function" === e3 || "object" === e3 && !!t3;
        }
        function T(t3) {
          return null === t3;
        }
        function P(t3) {
          return void 0 === t3;
        }
        function E(t3) {
          return true === t3 || false === t3 || "[object Boolean]" === p.call(t3);
        }
        function k(t3) {
          return !(!t3 || 1 !== t3.nodeType);
        }
        function A(t3) {
          var e3 = "[object " + t3 + "]";
          return function(t4) {
            return p.call(t4) === e3;
          };
        }
        const j = A("String"), M = A("Number"), D = A("Date"), L = A("RegExp"), I = A("Error"), N = A("Symbol"), R = A("ArrayBuffer");
        var V = A("Function"), F = i.document && i.document.childNodes;
        "object" != typeof Int8Array && "function" != typeof F && (V = function(t3) {
          return "function" == typeof t3 || false;
        });
        const H = V, U = A("Object");
        var z = h && U(new DataView(new ArrayBuffer(8))), B = "undefined" != typeof Map && U(/* @__PURE__ */ new Map()), W = A("DataView");
        const $ = z ? function(t3) {
          return null != t3 && H(t3.getInt8) && R(t3.buffer);
        } : W, q = v || A("Array");
        function G(t3, e3) {
          return null != t3 && d.call(t3, e3);
        }
        var K = A("Arguments");
        !(function() {
          K(arguments) || (K = function(t3) {
            return G(t3, "callee");
          });
        })();
        const Y = K;
        function J(t3) {
          return !N(t3) && _(t3) && !isNaN(parseFloat(t3));
        }
        function X(t3) {
          return M(t3) && b(t3);
        }
        function Z(t3) {
          return function() {
            return t3;
          };
        }
        function Q(t3) {
          return function(e3) {
            var n3 = t3(e3);
            return "number" == typeof n3 && n3 >= 0 && n3 <= C;
          };
        }
        function tt(t3) {
          return function(e3) {
            return null == e3 ? void 0 : e3[t3];
          };
        }
        const et = tt("byteLength"), nt = Q(et);
        var ot = /\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;
        const rt = f ? function(t3) {
          return m ? m(t3) && !$(t3) : nt(t3) && ot.test(p.call(t3));
        } : Z(false), it = tt("length");
        function at(t3, e3) {
          e3 = (function(t4) {
            for (var e4 = {}, n4 = t4.length, o4 = 0; o4 < n4; ++o4) e4[t4[o4]] = true;
            return { contains: function(t5) {
              return e4[t5];
            }, push: function(n5) {
              return e4[n5] = true, t4.push(n5);
            } };
          })(e3);
          var n3 = x.length, o3 = t3.constructor, r2 = H(o3) && o3.prototype || s, i2 = "constructor";
          for (G(t3, i2) && !e3.contains(i2) && e3.push(i2); n3--; ) (i2 = x[n3]) in t3 && t3[i2] !== r2[i2] && !e3.contains(i2) && e3.push(i2);
        }
        function st(t3) {
          if (!O(t3)) return [];
          if (g) return g(t3);
          var e3 = [];
          for (var n3 in t3) G(t3, n3) && e3.push(n3);
          return w && at(t3, e3), e3;
        }
        function lt(t3) {
          if (null == t3) return true;
          var e3 = it(t3);
          return "number" == typeof e3 && (q(t3) || j(t3) || Y(t3)) ? 0 === e3 : 0 === it(st(t3));
        }
        function ct(t3, e3) {
          var n3 = st(e3), o3 = n3.length;
          if (null == t3) return !o3;
          for (var r2 = Object(t3), i2 = 0; i2 < o3; i2++) {
            var a2 = n3[i2];
            if (e3[a2] !== r2[a2] || !(a2 in r2)) return false;
          }
          return true;
        }
        function ut(t3) {
          return t3 instanceof ut ? t3 : this instanceof ut ? void (this._wrapped = t3) : new ut(t3);
        }
        function pt(t3) {
          return new Uint8Array(t3.buffer || t3, t3.byteOffset || 0, et(t3));
        }
        ut.VERSION = r, ut.prototype.value = function() {
          return this._wrapped;
        }, ut.prototype.valueOf = ut.prototype.toJSON = ut.prototype.value, ut.prototype.toString = function() {
          return String(this._wrapped);
        };
        var dt = "[object DataView]";
        function ft(t3, e3, n3, o3) {
          if (t3 === e3) return 0 !== t3 || 1 / t3 == 1 / e3;
          if (null == t3 || null == e3) return false;
          if (t3 != t3) return e3 != e3;
          var r2 = typeof t3;
          return ("function" === r2 || "object" === r2 || "object" == typeof e3) && ht(t3, e3, n3, o3);
        }
        function ht(t3, e3, n3, o3) {
          t3 instanceof ut && (t3 = t3._wrapped), e3 instanceof ut && (e3 = e3._wrapped);
          var r2 = p.call(t3);
          if (r2 !== p.call(e3)) return false;
          if (z && "[object Object]" == r2 && $(t3)) {
            if (!$(e3)) return false;
            r2 = dt;
          }
          switch (r2) {
            case "[object RegExp]":
            case "[object String]":
              return "" + t3 == "" + e3;
            case "[object Number]":
              return +t3 != +t3 ? +e3 != +e3 : 0 == +t3 ? 1 / +t3 == 1 / e3 : +t3 == +e3;
            case "[object Date]":
            case "[object Boolean]":
              return +t3 == +e3;
            case "[object Symbol]":
              return l.valueOf.call(t3) === l.valueOf.call(e3);
            case "[object ArrayBuffer]":
            case dt:
              return ht(pt(t3), pt(e3), n3, o3);
          }
          var i2 = "[object Array]" === r2;
          if (!i2 && rt(t3)) {
            if (et(t3) !== et(e3)) return false;
            if (t3.buffer === e3.buffer && t3.byteOffset === e3.byteOffset) return true;
            i2 = true;
          }
          if (!i2) {
            if ("object" != typeof t3 || "object" != typeof e3) return false;
            var a2 = t3.constructor, s2 = e3.constructor;
            if (a2 !== s2 && !(H(a2) && a2 instanceof a2 && H(s2) && s2 instanceof s2) && "constructor" in t3 && "constructor" in e3) return false;
          }
          o3 = o3 || [];
          for (var c2 = (n3 = n3 || []).length; c2--; ) if (n3[c2] === t3) return o3[c2] === e3;
          if (n3.push(t3), o3.push(e3), i2) {
            if ((c2 = t3.length) !== e3.length) return false;
            for (; c2--; ) if (!ft(t3[c2], e3[c2], n3, o3)) return false;
          } else {
            var u2, d2 = st(t3);
            if (c2 = d2.length, st(e3).length !== c2) return false;
            for (; c2--; ) if (!G(e3, u2 = d2[c2]) || !ft(t3[u2], e3[u2], n3, o3)) return false;
          }
          return n3.pop(), o3.pop(), true;
        }
        function vt(t3, e3) {
          return ft(t3, e3);
        }
        function gt(t3) {
          if (!O(t3)) return [];
          var e3 = [];
          for (var n3 in t3) e3.push(n3);
          return w && at(t3, e3), e3;
        }
        function yt(t3) {
          var e3 = it(t3);
          return function(n3) {
            if (null == n3) return false;
            var o3 = gt(n3);
            if (it(o3)) return false;
            for (var r2 = 0; r2 < e3; r2++) if (!H(n3[t3[r2]])) return false;
            return t3 !== Ct || !H(n3[mt]);
          };
        }
        var mt = "forEach", bt = "has", _t = ["clear", "delete"], wt = ["get", bt, "set"], xt = _t.concat(mt, wt), Ct = _t.concat(wt), St = ["add"].concat(_t, mt, bt);
        const Ot = B ? yt(xt) : A("Map"), Tt = B ? yt(Ct) : A("WeakMap"), Pt = B ? yt(St) : A("Set"), Et = A("WeakSet");
        function kt(t3) {
          for (var e3 = st(t3), n3 = e3.length, o3 = Array(n3), r2 = 0; r2 < n3; r2++) o3[r2] = t3[e3[r2]];
          return o3;
        }
        function At(t3) {
          for (var e3 = st(t3), n3 = e3.length, o3 = Array(n3), r2 = 0; r2 < n3; r2++) o3[r2] = [e3[r2], t3[e3[r2]]];
          return o3;
        }
        function jt(t3) {
          for (var e3 = {}, n3 = st(t3), o3 = 0, r2 = n3.length; o3 < r2; o3++) e3[t3[n3[o3]]] = n3[o3];
          return e3;
        }
        function Mt(t3) {
          var e3 = [];
          for (var n3 in t3) H(t3[n3]) && e3.push(n3);
          return e3.sort();
        }
        function Dt(t3, e3) {
          return function(n3) {
            var o3 = arguments.length;
            if (e3 && (n3 = Object(n3)), o3 < 2 || null == n3) return n3;
            for (var r2 = 1; r2 < o3; r2++) for (var i2 = arguments[r2], a2 = t3(i2), s2 = a2.length, l2 = 0; l2 < s2; l2++) {
              var c2 = a2[l2];
              e3 && void 0 !== n3[c2] || (n3[c2] = i2[c2]);
            }
            return n3;
          };
        }
        const Lt = Dt(gt), It = Dt(st), Nt = Dt(gt, true);
        function Rt(t3) {
          if (!O(t3)) return {};
          if (y) return y(t3);
          var e3 = function() {
          };
          e3.prototype = t3;
          var n3 = new e3();
          return e3.prototype = null, n3;
        }
        function Vt(t3, e3) {
          var n3 = Rt(t3);
          return e3 && It(n3, e3), n3;
        }
        function Ft(t3) {
          return O(t3) ? q(t3) ? t3.slice() : Lt({}, t3) : t3;
        }
        function Ht(t3, e3) {
          return e3(t3), t3;
        }
        function Ut(t3) {
          return q(t3) ? t3 : [t3];
        }
        function zt(t3) {
          return ut.toPath(t3);
        }
        function Bt(t3, e3) {
          for (var n3 = e3.length, o3 = 0; o3 < n3; o3++) {
            if (null == t3) return;
            t3 = t3[e3[o3]];
          }
          return n3 ? t3 : void 0;
        }
        function Wt(t3, e3, n3) {
          var o3 = Bt(t3, zt(e3));
          return P(o3) ? n3 : o3;
        }
        function $t(t3, e3) {
          for (var n3 = (e3 = zt(e3)).length, o3 = 0; o3 < n3; o3++) {
            var r2 = e3[o3];
            if (!G(t3, r2)) return false;
            t3 = t3[r2];
          }
          return !!n3;
        }
        function qt(t3) {
          return t3;
        }
        function Gt(t3) {
          return t3 = It({}, t3), function(e3) {
            return ct(e3, t3);
          };
        }
        function Kt(t3) {
          return t3 = zt(t3), function(e3) {
            return Bt(e3, t3);
          };
        }
        function Yt(t3, e3, n3) {
          if (void 0 === e3) return t3;
          switch (null == n3 ? 3 : n3) {
            case 1:
              return function(n4) {
                return t3.call(e3, n4);
              };
            case 3:
              return function(n4, o3, r2) {
                return t3.call(e3, n4, o3, r2);
              };
            case 4:
              return function(n4, o3, r2, i2) {
                return t3.call(e3, n4, o3, r2, i2);
              };
          }
          return function() {
            return t3.apply(e3, arguments);
          };
        }
        function Jt(t3, e3, n3) {
          return null == t3 ? qt : H(t3) ? Yt(t3, e3, n3) : O(t3) && !q(t3) ? Gt(t3) : Kt(t3);
        }
        function Xt(t3, e3) {
          return Jt(t3, e3, 1 / 0);
        }
        function Zt(t3, e3, n3) {
          return ut.iteratee !== Xt ? ut.iteratee(t3, e3) : Jt(t3, e3, n3);
        }
        function Qt(t3, e3, n3) {
          e3 = Zt(e3, n3);
          for (var o3 = st(t3), r2 = o3.length, i2 = {}, a2 = 0; a2 < r2; a2++) {
            var s2 = o3[a2];
            i2[s2] = e3(t3[s2], s2, t3);
          }
          return i2;
        }
        function te() {
        }
        function ee(t3) {
          return null == t3 ? te : function(e3) {
            return Wt(t3, e3);
          };
        }
        function ne(t3, e3, n3) {
          var o3 = Array(Math.max(0, t3));
          e3 = Yt(e3, n3, 1);
          for (var r2 = 0; r2 < t3; r2++) o3[r2] = e3(r2);
          return o3;
        }
        function oe(t3, e3) {
          return null == e3 && (e3 = t3, t3 = 0), t3 + Math.floor(Math.random() * (e3 - t3 + 1));
        }
        ut.toPath = Ut, ut.iteratee = Xt;
        const re = Date.now || function() {
          return (/* @__PURE__ */ new Date()).getTime();
        };
        function ie(t3) {
          var e3 = function(e4) {
            return t3[e4];
          }, n3 = "(?:" + st(t3).join("|") + ")", o3 = RegExp(n3), r2 = RegExp(n3, "g");
          return function(t4) {
            return t4 = null == t4 ? "" : "" + t4, o3.test(t4) ? t4.replace(r2, e3) : t4;
          };
        }
        const ae = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, se = ie(ae), le = ie(jt(ae)), ce = ut.templateSettings = { evaluate: /<%([\s\S]+?)%>/g, interpolate: /<%=([\s\S]+?)%>/g, escape: /<%-([\s\S]+?)%>/g };
        var ue = /(.)^/, pe = { "'": "'", "\\": "\\", "\r": "r", "\n": "n", "\u2028": "u2028", "\u2029": "u2029" }, de = /\\|'|\r|\n|\u2028|\u2029/g;
        function fe(t3) {
          return "\\" + pe[t3];
        }
        var he = /^\s*(\w|\$)+\s*$/;
        function ve(t3, e3, n3) {
          !e3 && n3 && (e3 = n3), e3 = Nt({}, e3, ut.templateSettings);
          var o3 = RegExp([(e3.escape || ue).source, (e3.interpolate || ue).source, (e3.evaluate || ue).source].join("|") + "|$", "g"), r2 = 0, i2 = "__p+='";
          t3.replace(o3, (function(e4, n4, o4, a3, s3) {
            return i2 += t3.slice(r2, s3).replace(de, fe), r2 = s3 + e4.length, n4 ? i2 += "'+\n((__t=(" + n4 + "))==null?'':_.escape(__t))+\n'" : o4 ? i2 += "'+\n((__t=(" + o4 + "))==null?'':__t)+\n'" : a3 && (i2 += "';\n" + a3 + "\n__p+='"), e4;
          })), i2 += "';\n";
          var a2, s2 = e3.variable;
          if (s2) {
            if (!he.test(s2)) throw new Error("variable is not a bare identifier: " + s2);
          } else i2 = "with(obj||{}){\n" + i2 + "}\n", s2 = "obj";
          i2 = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + i2 + "return __p;\n";
          try {
            a2 = new Function(s2, "_", i2);
          } catch (t4) {
            throw t4.source = i2, t4;
          }
          var l2 = function(t4) {
            return a2.call(this, t4, ut);
          };
          return l2.source = "function(" + s2 + "){\n" + i2 + "}", l2;
        }
        function ge(t3, e3, n3) {
          var o3 = (e3 = zt(e3)).length;
          if (!o3) return H(n3) ? n3.call(t3) : n3;
          for (var r2 = 0; r2 < o3; r2++) {
            var i2 = null == t3 ? void 0 : t3[e3[r2]];
            void 0 === i2 && (i2 = n3, r2 = o3), t3 = H(i2) ? i2.call(t3) : i2;
          }
          return t3;
        }
        var ye = 0;
        function me(t3) {
          var e3 = ++ye + "";
          return t3 ? t3 + e3 : e3;
        }
        function be(t3) {
          var e3 = ut(t3);
          return e3._chain = true, e3;
        }
        function _e(t3, e3, n3, o3, r2) {
          if (!(o3 instanceof e3)) return t3.apply(n3, r2);
          var i2 = Rt(t3.prototype), a2 = t3.apply(i2, r2);
          return O(a2) ? a2 : i2;
        }
        var we = S((function(t3, e3) {
          var n3 = we.placeholder, o3 = function() {
            for (var r2 = 0, i2 = e3.length, a2 = Array(i2), s2 = 0; s2 < i2; s2++) a2[s2] = e3[s2] === n3 ? arguments[r2++] : e3[s2];
            for (; r2 < arguments.length; ) a2.push(arguments[r2++]);
            return _e(t3, o3, this, this, a2);
          };
          return o3;
        }));
        we.placeholder = ut;
        const xe = we, Ce = S((function(t3, e3, n3) {
          if (!H(t3)) throw new TypeError("Bind must be called on a function");
          var o3 = S((function(r2) {
            return _e(t3, o3, e3, this, n3.concat(r2));
          }));
          return o3;
        })), Se = Q(it);
        function Oe(t3, e3, n3, o3) {
          if (o3 = o3 || [], e3 || 0 === e3) {
            if (e3 <= 0) return o3.concat(t3);
          } else e3 = 1 / 0;
          for (var r2 = o3.length, i2 = 0, a2 = it(t3); i2 < a2; i2++) {
            var s2 = t3[i2];
            if (Se(s2) && (q(s2) || Y(s2))) if (e3 > 1) Oe(s2, e3 - 1, n3, o3), r2 = o3.length;
            else for (var l2 = 0, c2 = s2.length; l2 < c2; ) o3[r2++] = s2[l2++];
            else n3 || (o3[r2++] = s2);
          }
          return o3;
        }
        const Te = S((function(t3, e3) {
          var n3 = (e3 = Oe(e3, false, false)).length;
          if (n3 < 1) throw new Error("bindAll must be passed function names");
          for (; n3--; ) {
            var o3 = e3[n3];
            t3[o3] = Ce(t3[o3], t3);
          }
          return t3;
        }));
        function Pe(t3, e3) {
          var n3 = function(o3) {
            var r2 = n3.cache, i2 = "" + (e3 ? e3.apply(this, arguments) : o3);
            return G(r2, i2) || (r2[i2] = t3.apply(this, arguments)), r2[i2];
          };
          return n3.cache = {}, n3;
        }
        const Ee = S((function(t3, e3, n3) {
          return setTimeout((function() {
            return t3.apply(null, n3);
          }), e3);
        })), ke = xe(Ee, ut, 1);
        function Ae(t3, e3, n3) {
          var o3, r2, i2, a2, s2 = 0;
          n3 || (n3 = {});
          var l2 = function() {
            s2 = false === n3.leading ? 0 : re(), o3 = null, a2 = t3.apply(r2, i2), o3 || (r2 = i2 = null);
          }, c2 = function() {
            var c3 = re();
            s2 || false !== n3.leading || (s2 = c3);
            var u2 = e3 - (c3 - s2);
            return r2 = this, i2 = arguments, u2 <= 0 || u2 > e3 ? (o3 && (clearTimeout(o3), o3 = null), s2 = c3, a2 = t3.apply(r2, i2), o3 || (r2 = i2 = null)) : o3 || false === n3.trailing || (o3 = setTimeout(l2, u2)), a2;
          };
          return c2.cancel = function() {
            clearTimeout(o3), s2 = 0, o3 = r2 = i2 = null;
          }, c2;
        }
        function je(t3, e3, n3) {
          var o3, r2, i2, a2, s2, l2 = function() {
            var c3 = re() - r2;
            e3 > c3 ? o3 = setTimeout(l2, e3 - c3) : (o3 = null, n3 || (a2 = t3.apply(s2, i2)), o3 || (i2 = s2 = null));
          }, c2 = S((function(c3) {
            return s2 = this, i2 = c3, r2 = re(), o3 || (o3 = setTimeout(l2, e3), n3 && (a2 = t3.apply(s2, i2))), a2;
          }));
          return c2.cancel = function() {
            clearTimeout(o3), o3 = i2 = s2 = null;
          }, c2;
        }
        function Me(t3, e3) {
          return xe(e3, t3);
        }
        function De(t3) {
          return function() {
            return !t3.apply(this, arguments);
          };
        }
        function Le() {
          var t3 = arguments, e3 = t3.length - 1;
          return function() {
            for (var n3 = e3, o3 = t3[e3].apply(this, arguments); n3--; ) o3 = t3[n3].call(this, o3);
            return o3;
          };
        }
        function Ie(t3, e3) {
          return function() {
            if (--t3 < 1) return e3.apply(this, arguments);
          };
        }
        function Ne(t3, e3) {
          var n3;
          return function() {
            return --t3 > 0 && (n3 = e3.apply(this, arguments)), t3 <= 1 && (e3 = null), n3;
          };
        }
        const Re = xe(Ne, 2);
        function Ve(t3, e3, n3) {
          e3 = Zt(e3, n3);
          for (var o3, r2 = st(t3), i2 = 0, a2 = r2.length; i2 < a2; i2++) if (e3(t3[o3 = r2[i2]], o3, t3)) return o3;
        }
        function Fe(t3) {
          return function(e3, n3, o3) {
            n3 = Zt(n3, o3);
            for (var r2 = it(e3), i2 = t3 > 0 ? 0 : r2 - 1; i2 >= 0 && i2 < r2; i2 += t3) if (n3(e3[i2], i2, e3)) return i2;
            return -1;
          };
        }
        const He = Fe(1), Ue = Fe(-1);
        function ze(t3, e3, n3, o3) {
          for (var r2 = (n3 = Zt(n3, o3, 1))(e3), i2 = 0, a2 = it(t3); i2 < a2; ) {
            var s2 = Math.floor((i2 + a2) / 2);
            n3(t3[s2]) < r2 ? i2 = s2 + 1 : a2 = s2;
          }
          return i2;
        }
        function Be(t3, e3, n3) {
          return function(o3, r2, i2) {
            var a2 = 0, s2 = it(o3);
            if ("number" == typeof i2) t3 > 0 ? a2 = i2 >= 0 ? i2 : Math.max(i2 + s2, a2) : s2 = i2 >= 0 ? Math.min(i2 + 1, s2) : i2 + s2 + 1;
            else if (n3 && i2 && s2) return o3[i2 = n3(o3, r2)] === r2 ? i2 : -1;
            if (r2 != r2) return (i2 = e3(u.call(o3, a2, s2), X)) >= 0 ? i2 + a2 : -1;
            for (i2 = t3 > 0 ? a2 : s2 - 1; i2 >= 0 && i2 < s2; i2 += t3) if (o3[i2] === r2) return i2;
            return -1;
          };
        }
        const We = Be(1, He, ze), $e = Be(-1, Ue);
        function qe(t3, e3, n3) {
          var o3 = (Se(t3) ? He : Ve)(t3, e3, n3);
          if (void 0 !== o3 && -1 !== o3) return t3[o3];
        }
        function Ge(t3, e3) {
          return qe(t3, Gt(e3));
        }
        function Ke(t3, e3, n3) {
          var o3, r2;
          if (e3 = Yt(e3, n3), Se(t3)) for (o3 = 0, r2 = t3.length; o3 < r2; o3++) e3(t3[o3], o3, t3);
          else {
            var i2 = st(t3);
            for (o3 = 0, r2 = i2.length; o3 < r2; o3++) e3(t3[i2[o3]], i2[o3], t3);
          }
          return t3;
        }
        function Ye(t3, e3, n3) {
          e3 = Zt(e3, n3);
          for (var o3 = !Se(t3) && st(t3), r2 = (o3 || t3).length, i2 = Array(r2), a2 = 0; a2 < r2; a2++) {
            var s2 = o3 ? o3[a2] : a2;
            i2[a2] = e3(t3[s2], s2, t3);
          }
          return i2;
        }
        function Je(t3) {
          return function(e3, n3, o3, r2) {
            var i2 = arguments.length >= 3;
            return (function(e4, n4, o4, r3) {
              var i3 = !Se(e4) && st(e4), a2 = (i3 || e4).length, s2 = t3 > 0 ? 0 : a2 - 1;
              for (r3 || (o4 = e4[i3 ? i3[s2] : s2], s2 += t3); s2 >= 0 && s2 < a2; s2 += t3) {
                var l2 = i3 ? i3[s2] : s2;
                o4 = n4(o4, e4[l2], l2, e4);
              }
              return o4;
            })(e3, Yt(n3, r2, 4), o3, i2);
          };
        }
        const Xe = Je(1), Ze = Je(-1);
        function Qe(t3, e3, n3) {
          var o3 = [];
          return e3 = Zt(e3, n3), Ke(t3, (function(t4, n4, r2) {
            e3(t4, n4, r2) && o3.push(t4);
          })), o3;
        }
        function tn(t3, e3, n3) {
          return Qe(t3, De(Zt(e3)), n3);
        }
        function en(t3, e3, n3) {
          e3 = Zt(e3, n3);
          for (var o3 = !Se(t3) && st(t3), r2 = (o3 || t3).length, i2 = 0; i2 < r2; i2++) {
            var a2 = o3 ? o3[i2] : i2;
            if (!e3(t3[a2], a2, t3)) return false;
          }
          return true;
        }
        function nn(t3, e3, n3) {
          e3 = Zt(e3, n3);
          for (var o3 = !Se(t3) && st(t3), r2 = (o3 || t3).length, i2 = 0; i2 < r2; i2++) {
            var a2 = o3 ? o3[i2] : i2;
            if (e3(t3[a2], a2, t3)) return true;
          }
          return false;
        }
        function on(t3, e3, n3, o3) {
          return Se(t3) || (t3 = kt(t3)), ("number" != typeof n3 || o3) && (n3 = 0), We(t3, e3, n3) >= 0;
        }
        const rn = S((function(t3, e3, n3) {
          var o3, r2;
          return H(e3) ? r2 = e3 : (e3 = zt(e3), o3 = e3.slice(0, -1), e3 = e3[e3.length - 1]), Ye(t3, (function(t4) {
            var i2 = r2;
            if (!i2) {
              if (o3 && o3.length && (t4 = Bt(t4, o3)), null == t4) return;
              i2 = t4[e3];
            }
            return null == i2 ? i2 : i2.apply(t4, n3);
          }));
        }));
        function an(t3, e3) {
          return Ye(t3, Kt(e3));
        }
        function sn(t3, e3) {
          return Qe(t3, Gt(e3));
        }
        function ln(t3, e3, n3) {
          var o3, r2, i2 = -1 / 0, a2 = -1 / 0;
          if (null == e3 || "number" == typeof e3 && "object" != typeof t3[0] && null != t3) for (var s2 = 0, l2 = (t3 = Se(t3) ? t3 : kt(t3)).length; s2 < l2; s2++) null != (o3 = t3[s2]) && o3 > i2 && (i2 = o3);
          else e3 = Zt(e3, n3), Ke(t3, (function(t4, n4, o4) {
            ((r2 = e3(t4, n4, o4)) > a2 || r2 === -1 / 0 && i2 === -1 / 0) && (i2 = t4, a2 = r2);
          }));
          return i2;
        }
        function cn(t3, e3, n3) {
          var o3, r2, i2 = 1 / 0, a2 = 1 / 0;
          if (null == e3 || "number" == typeof e3 && "object" != typeof t3[0] && null != t3) for (var s2 = 0, l2 = (t3 = Se(t3) ? t3 : kt(t3)).length; s2 < l2; s2++) null != (o3 = t3[s2]) && o3 < i2 && (i2 = o3);
          else e3 = Zt(e3, n3), Ke(t3, (function(t4, n4, o4) {
            ((r2 = e3(t4, n4, o4)) < a2 || r2 === 1 / 0 && i2 === 1 / 0) && (i2 = t4, a2 = r2);
          }));
          return i2;
        }
        function un(t3, e3, n3) {
          if (null == e3 || n3) return Se(t3) || (t3 = kt(t3)), t3[oe(t3.length - 1)];
          var o3 = Se(t3) ? Ft(t3) : kt(t3), r2 = it(o3);
          e3 = Math.max(Math.min(e3, r2), 0);
          for (var i2 = r2 - 1, a2 = 0; a2 < e3; a2++) {
            var s2 = oe(a2, i2), l2 = o3[a2];
            o3[a2] = o3[s2], o3[s2] = l2;
          }
          return o3.slice(0, e3);
        }
        function pn(t3) {
          return un(t3, 1 / 0);
        }
        function dn(t3, e3, n3) {
          var o3 = 0;
          return e3 = Zt(e3, n3), an(Ye(t3, (function(t4, n4, r2) {
            return { value: t4, index: o3++, criteria: e3(t4, n4, r2) };
          })).sort((function(t4, e4) {
            var n4 = t4.criteria, o4 = e4.criteria;
            if (n4 !== o4) {
              if (n4 > o4 || void 0 === n4) return 1;
              if (n4 < o4 || void 0 === o4) return -1;
            }
            return t4.index - e4.index;
          })), "value");
        }
        function fn(t3, e3) {
          return function(n3, o3, r2) {
            var i2 = e3 ? [[], []] : {};
            return o3 = Zt(o3, r2), Ke(n3, (function(e4, r3) {
              var a2 = o3(e4, r3, n3);
              t3(i2, e4, a2);
            })), i2;
          };
        }
        const hn = fn((function(t3, e3, n3) {
          G(t3, n3) ? t3[n3].push(e3) : t3[n3] = [e3];
        })), vn = fn((function(t3, e3, n3) {
          t3[n3] = e3;
        })), gn = fn((function(t3, e3, n3) {
          G(t3, n3) ? t3[n3]++ : t3[n3] = 1;
        })), yn = fn((function(t3, e3, n3) {
          t3[n3 ? 0 : 1].push(e3);
        }), true);
        var mn = /[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;
        function bn(t3) {
          return t3 ? q(t3) ? u.call(t3) : j(t3) ? t3.match(mn) : Se(t3) ? Ye(t3, qt) : kt(t3) : [];
        }
        function _n(t3) {
          return null == t3 ? 0 : Se(t3) ? t3.length : st(t3).length;
        }
        function wn(t3, e3, n3) {
          return e3 in n3;
        }
        const xn = S((function(t3, e3) {
          var n3 = {}, o3 = e3[0];
          if (null == t3) return n3;
          H(o3) ? (e3.length > 1 && (o3 = Yt(o3, e3[1])), e3 = gt(t3)) : (o3 = wn, e3 = Oe(e3, false, false), t3 = Object(t3));
          for (var r2 = 0, i2 = e3.length; r2 < i2; r2++) {
            var a2 = e3[r2], s2 = t3[a2];
            o3(s2, a2, t3) && (n3[a2] = s2);
          }
          return n3;
        })), Cn = S((function(t3, e3) {
          var n3, o3 = e3[0];
          return H(o3) ? (o3 = De(o3), e3.length > 1 && (n3 = e3[1])) : (e3 = Ye(Oe(e3, false, false), String), o3 = function(t4, n4) {
            return !on(e3, n4);
          }), xn(t3, o3, n3);
        }));
        function Sn(t3, e3, n3) {
          return u.call(t3, 0, Math.max(0, t3.length - (null == e3 || n3 ? 1 : e3)));
        }
        function On(t3, e3, n3) {
          return null == t3 || t3.length < 1 ? null == e3 || n3 ? void 0 : [] : null == e3 || n3 ? t3[0] : Sn(t3, t3.length - e3);
        }
        function Tn(t3, e3, n3) {
          return u.call(t3, null == e3 || n3 ? 1 : e3);
        }
        function Pn(t3, e3, n3) {
          return null == t3 || t3.length < 1 ? null == e3 || n3 ? void 0 : [] : null == e3 || n3 ? t3[t3.length - 1] : Tn(t3, Math.max(0, t3.length - e3));
        }
        function En(t3) {
          return Qe(t3, Boolean);
        }
        function kn(t3, e3) {
          return Oe(t3, e3, false);
        }
        const An = S((function(t3, e3) {
          return e3 = Oe(e3, true, true), Qe(t3, (function(t4) {
            return !on(e3, t4);
          }));
        })), jn = S((function(t3, e3) {
          return An(t3, e3);
        }));
        function Mn(t3, e3, n3, o3) {
          E(e3) || (o3 = n3, n3 = e3, e3 = false), null != n3 && (n3 = Zt(n3, o3));
          for (var r2 = [], i2 = [], a2 = 0, s2 = it(t3); a2 < s2; a2++) {
            var l2 = t3[a2], c2 = n3 ? n3(l2, a2, t3) : l2;
            e3 && !n3 ? (a2 && i2 === c2 || r2.push(l2), i2 = c2) : n3 ? on(i2, c2) || (i2.push(c2), r2.push(l2)) : on(r2, l2) || r2.push(l2);
          }
          return r2;
        }
        const Dn = S((function(t3) {
          return Mn(Oe(t3, true, true));
        }));
        function Ln(t3) {
          for (var e3 = [], n3 = arguments.length, o3 = 0, r2 = it(t3); o3 < r2; o3++) {
            var i2 = t3[o3];
            if (!on(e3, i2)) {
              var a2;
              for (a2 = 1; a2 < n3 && on(arguments[a2], i2); a2++) ;
              a2 === n3 && e3.push(i2);
            }
          }
          return e3;
        }
        function In(t3) {
          for (var e3 = t3 && ln(t3, it).length || 0, n3 = Array(e3), o3 = 0; o3 < e3; o3++) n3[o3] = an(t3, o3);
          return n3;
        }
        const Nn = S(In);
        function Rn(t3, e3) {
          for (var n3 = {}, o3 = 0, r2 = it(t3); o3 < r2; o3++) e3 ? n3[t3[o3]] = e3[o3] : n3[t3[o3][0]] = t3[o3][1];
          return n3;
        }
        function Vn(t3, e3, n3) {
          null == e3 && (e3 = t3 || 0, t3 = 0), n3 || (n3 = e3 < t3 ? -1 : 1);
          for (var o3 = Math.max(Math.ceil((e3 - t3) / n3), 0), r2 = Array(o3), i2 = 0; i2 < o3; i2++, t3 += n3) r2[i2] = t3;
          return r2;
        }
        function Fn(t3, e3) {
          if (null == e3 || e3 < 1) return [];
          for (var n3 = [], o3 = 0, r2 = t3.length; o3 < r2; ) n3.push(u.call(t3, o3, o3 += e3));
          return n3;
        }
        function Hn(t3, e3) {
          return t3._chain ? ut(e3).chain() : e3;
        }
        function Un(t3) {
          return Ke(Mt(t3), (function(e3) {
            var n3 = ut[e3] = t3[e3];
            ut.prototype[e3] = function() {
              var t4 = [this._wrapped];
              return c.apply(t4, arguments), Hn(this, n3.apply(ut, t4));
            };
          })), ut;
        }
        Ke(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], (function(t3) {
          var e3 = a[t3];
          ut.prototype[t3] = function() {
            var n3 = this._wrapped;
            return null != n3 && (e3.apply(n3, arguments), "shift" !== t3 && "splice" !== t3 || 0 !== n3.length || delete n3[0]), Hn(this, n3);
          };
        })), Ke(["concat", "join", "slice"], (function(t3) {
          var e3 = a[t3];
          ut.prototype[t3] = function() {
            var t4 = this._wrapped;
            return null != t4 && (t4 = e3.apply(t4, arguments)), Hn(this, t4);
          };
        }));
        const zn = ut;
        var Bn = Un(o2);
        Bn._ = Bn;
        const Wn = Bn;
      } }, e = {};
      function n(o2) {
        var r = e[o2];
        if (void 0 !== r) return r.exports;
        var i = e[o2] = { exports: {} };
        return t[o2].call(i.exports, i, i.exports, n), i.exports;
      }
      n.n = (t2) => {
        var e2 = t2 && t2.__esModule ? () => t2["default"] : () => t2;
        return n.d(e2, { a: e2 }), e2;
      }, n.d = (t2, e2) => {
        for (var o2 in e2) n.o(e2, o2) && !n.o(t2, o2) && Object.defineProperty(t2, o2, { enumerable: true, get: e2[o2] });
      }, n.g = (function() {
        if ("object" == typeof globalThis) return globalThis;
        try {
          return this || new Function("return this")();
        } catch (t2) {
          if ("object" == typeof window) return window;
        }
      })(), n.o = (t2, e2) => Object.prototype.hasOwnProperty.call(t2, e2), n.r = (t2) => {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t2, "__esModule", { value: true });
      };
      var o = {};
      return (() => {
        "use strict";
        n.d(o, { default: () => sm });
        var t2 = n(5706), e2 = n(1166);
        function r(t3) {
          for (var n2 = [], o2 = 1; o2 < arguments.length; o2++) n2[o2 - 1] = arguments[o2];
          var r2 = t3.raw;
          return r2.reduce((function(t4, o3, i2) {
            var a2 = n2[i2 - 1], s2 = r2[i2 - 1];
            return Array.isArray(a2) ? a2 = a2.join("") : s2 && "$" === s2.slice(-1) ? t4 = t4.slice(0, -1) : a2 = (0, e2.escape)(a2), t4 + a2 + o3;
          }));
        }
        const i = function() {
          return { stylePrefix: "gjs-", components: "", style: "", fromElement: false, projectData: void 0, noticeOnUnload: true, showOffsets: false, showOffsetsSelected: false, forceClass: true, height: "900px", width: "100%", log: ["warning", "error"], baseCss: "", protectedCss: "* { box-sizing: border-box; } body {margin: 0;}", canvasCss: "", defaultCommand: "select-comp", showToolbar: true, showDevices: true, devicePreviewMode: false, mediaCondition: "max-width", tagVarStart: "{[ ", tagVarEnd: " ]}", jsInHtml: true, nativeDnD: true, multipleSelection: true, optsHtml: {}, optsCss: {}, avoidInlineStyle: true, avoidDefaults: true, clearStyles: false, listenToEl: [], cssIcons: "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css", icons: { close: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>', move: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>', plus: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>', caret: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>', delete: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>', copy: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>', arrowUp: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>', chevron: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>', eye: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>', eyeOff: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>' }, i18n: {}, undoManager: {}, assetManager: {}, canvas: {}, layerManager: {}, storageManager: {}, richTextEditor: {}, domComponents: {}, modal: {}, codeManager: {}, panels: {}, commands: {}, cssComposer: {}, selectorManager: {}, deviceManager: {}, styleManager: {}, blockManager: {}, traitManager: {}, textViewCode: "Code", keepUnusedStyles: false, customUI: false, telemetry: true };
        };
        var a = n(4193), s = n.n(a), l = n(7774);
        var c, u = n(9156), p = (c = function(t3, e3) {
          return c = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n2 in e4) Object.prototype.hasOwnProperty.call(e4, n2) && (t4[n2] = e4[n2]);
          }, c(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n2() {
            this.constructor = t3;
          }
          c(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n2.prototype = e3.prototype, new n2());
        }), d = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return p(e3, t3), e3;
        })(u.Kx);
        const f = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return p(n2, e3), n2.prototype.getByComponent = function(t3) {
            var e4 = this;
            return this.filter((function(n3) {
              return e4.getComponent(n3) === t3;
            }))[0];
          }, n2.prototype.addComponent = function(e4, n3) {
            var o2 = this, r2 = ((0, t2.isArray)(e4) ? e4 : [e4]).filter((function(t3) {
              return !o2.hasComponent(t3);
            })).map((function(t3) {
              return new d({ component: t3 });
            }))[0];
            return this.push(r2, n3);
          }, n2.prototype.getComponent = function(t3) {
            return t3.get("component");
          }, n2.prototype.hasComponent = function(t3) {
            var e4 = this.getByComponent(t3);
            return e4 && this.contains(e4);
          }, n2.prototype.lastComponent = function() {
            var t3 = this.last();
            return t3 ? this.getComponent(t3) : void 0;
          }, n2.prototype.allComponents = function() {
            var t3 = this;
            return this.map((function(e4) {
              return t3.getComponent(e4);
            })).filter((function(t4) {
              return t4;
            }));
          }, n2.prototype.removeComponent = function(e4, n3) {
            var o2 = this, r2 = ((0, t2.isArray)(e4) ? e4 : [e4]).map((function(t3) {
              return o2.getByComponent(t3);
            }));
            return this.remove(r2, n3);
          }, n2;
        })(u.pM);
        var h = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), v = function() {
          return v = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, v.apply(this, arguments);
        }, g = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, y = (function() {
          function n2(n3, o2, r2) {
            this.debounced = [], this.collections = [], this.cls = [], this.events = {}, this._em = n3, this._name = o2;
            var i2 = this.name.charAt(0).toLowerCase() + this.name.slice(1), a2 = (0, t2.isUndefined)(n3.config[i2]) ? n3.config[this.name] : n3.config[i2], s2 = true === a2 ? {} : a2 || {};
            s2.pStylePrefix = n3.config.pStylePrefix || "", (0, t2.isUndefined)(a2) || a2 || (s2._disable = 1), s2.em = n3, this._config = (0, e2.deepMerge)(r2 || {}, s2);
          }
          return Object.defineProperty(n2.prototype, "em", { get: function() {
            return this._em;
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "config", { get: function() {
            return this._config;
          }, enumerable: false, configurable: true }), n2.prototype.render = function(t3) {
          }, n2.prototype.postLoad = function(t3) {
          }, n2.prototype.onInit = function() {
          }, Object.defineProperty(n2.prototype, "name", { get: function() {
            return this._name;
          }, enumerable: false, configurable: true }), n2.prototype.getConfig = function(t3) {
            return t3 ? this.config[t3] : this.config;
          }, n2.prototype.__logWarn = function(t3, e3) {
            void 0 === e3 && (e3 = {}), this.em.logWarning("[".concat(this.name, "]: ").concat(t3), e3);
          }, n2.prototype.destroy = function() {
            this.__destroy();
          }, n2.prototype.__destroy = function() {
            var t3, e3, n3;
            null === (t3 = this.view) || void 0 === t3 || t3.remove(), null === (e3 = this.state) || void 0 === e3 || e3.stopListening(), null === (n3 = this.state) || void 0 === n3 || n3.clear(), this.debounced.forEach((function(t4) {
              return t4.cancel();
            })), this.collections.forEach((function(t4) {
              t4.stopListening(), t4.reset();
            }));
          }, n2.prototype.__appendTo = function() {
            var e3 = this.getConfig().appendTo;
            if (e3) {
              var n3 = (0, t2.isElement)(e3) ? e3 : document.querySelector(e3);
              if (!n3) return this.__logWarn('"appendTo" element not found');
              n3.appendChild(this.render());
            }
          }, n2;
        })();
        const m = y;
        var b = (function(n2) {
          function o2(t3, e3, o3, r2, i2, a2) {
            void 0 === a2 && (a2 = {});
            var s2 = n2.call(this, t3, e3, i2) || this;
            return s2.cls = [], s2.private = false, s2.all = o3, r2 && (s2.events = r2), !a2.skipListen && s2.__initListen(), s2;
          }
          return h(o2, n2), o2.prototype.postLoad = function(t3) {
          }, o2.prototype.render = function(t3) {
          }, o2.prototype.getProjectData = function(t3) {
            var e3 = {}, n3 = this.storageKey;
            return n3 && (e3[n3] = t3 || this.getAll()), e3;
          }, o2.prototype.loadProjectData = function(t3, n3) {
            void 0 === t3 && (t3 = {}), void 0 === n3 && (n3 = {});
            var o3 = n3.all, r2 = n3.onResult, i2 = n3.reset, a2 = this.storageKey, s2 = { action: "load" }, l2 = o3 || this.all, c2 = t3[a2];
            if ("string" == typeof c2) try {
              c2 = JSON.parse(c2);
            } catch (t4) {
              this.__logWarn("Data parsing failed", { input: c2 });
            }
            return i2 && c2 && l2.reset(void 0, s2), r2 ? c2 && r2(c2, s2) : c2 && (0, e2.isDef)(c2.length) && l2.reset(c2, s2), c2;
          }, o2.prototype.clear = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.all;
            return e3 && e3.reset(void 0, t3), this;
          }, o2.prototype.getAll = function() {
            return g([], this.all.models, true);
          }, o2.prototype.getAllMap = function() {
            return this.getAll().reduce((function(t3, e3) {
              return t3[e3.get(e3.idAttribute)] = e3, t3;
            }), {});
          }, o2.prototype.__initListen = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this, n3 = e3.all, o3 = e3.em, r2 = e3.events;
            n3 && o3 && n3.on("add", (function(t4, e4, n4) {
              return o3.trigger(r2.add, t4, n4);
            })).on("remove", (function(t4, e4, n4) {
              return o3.trigger(r2.remove, t4, n4);
            })).on("change", (function(t4, e4) {
              return o3.trigger(r2.update, t4, t4.changedAttributes(), e4);
            })).on("all", this.__catchAllEvent, this), this.cls = [n3].concat(t3.collections || []), (t3.propagate || []).forEach((function(t4) {
              var e4 = t4.entity, r3 = t4.event;
              e4.on("all", (function(t5, e5, i2, a2) {
                var s2 = v({ event: t5 }, a2 || i2);
                [o3, n3].map((function(t6) {
                  return t6.trigger(r3, e5, s2);
                }));
              }));
            }));
          }, o2.prototype.__remove = function(e3, n3) {
            var o3 = this;
            void 0 === n3 && (n3 = {});
            var r2 = this.em, i2 = (0, t2.isString)(e3) ? this.get(e3) : e3, a2 = function() {
              return i2 && o3.all.remove(i2, n3), i2;
            };
            return !n3.silent && (null == r2 || r2.trigger(this.events.removeBefore, i2, a2, n3)), !n3.abort && a2();
          }, o2.prototype.__catchAllEvent = function(t3, e3, n3, o3) {
            var r2 = this.em, i2 = this.events, a2 = o3 || n3;
            r2 && i2.all && r2.trigger(i2.all, { event: t3, model: e3, options: a2 }), this.__onAllEvent();
          }, o2.prototype.__appendTo = function(e3) {
            var n3 = this.config.appendTo;
            if (n3) {
              var o3 = (0, t2.isElement)(n3) ? n3 : document.querySelector(n3);
              if (!o3) return this.__logWarn('"appendTo" element not found');
              o3.appendChild(this.render(e3));
            }
          }, o2.prototype.__onAllEvent = function() {
          }, o2.prototype._createId = function(t3) {
            void 0 === t3 && (t3 = 16);
            var n3, o3 = this.getAll().length + t3, r2 = this.getAllMap();
            do {
              n3 = (0, e2.createId)(o3);
            } while (r2[n3]);
            return n3;
          }, o2.prototype.__listenAdd = function(t3, e3) {
            var n3 = this;
            t3.on("add", (function(t4, o3, r2) {
              return n3.em.trigger(e3, t4, r2);
            }));
          }, o2.prototype.__listenRemove = function(t3, e3) {
            var n3 = this;
            t3.on("remove", (function(t4, o3, r2) {
              return n3.em.trigger(e3, t4, r2);
            }));
          }, o2.prototype.__listenUpdate = function(t3, e3) {
            var n3 = this;
            t3.on("change", (function(t4, o3) {
              return n3.em.trigger(e3, t4, t4.changedAttributes(), o3);
            }));
          }, o2.prototype.__destroy = function() {
            var t3;
            this.cls.forEach((function(t4) {
              t4.stopListening(), t4.reset();
            })), null === (t3 = this.view) || void 0 === t3 || t3.remove(), this.view = void 0;
          }, o2;
        })(y);
        const _ = function() {
          return { stylePrefix: "cv-", scripts: [], styles: [], customBadgeLabel: void 0, autoscrollLimit: 50, extHl: false, frameContent: "<!DOCTYPE html>", frameStyle: "\n    body { background-color: #fff }\n    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }\n    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }\n    * ::-webkit-scrollbar { width: 10px }\n  ", notTextable: ["button", "a", "input[type=checkbox]", "input[type=radio]"], allowExternalDrop: true };
        };
        var w, x = n(7058);
        !(function(t3) {
          t3["add"] = "device:add", t3["addBefore"] = "device:add:before", t3["remove"] = "device:remove", t3["removeBefore"] = "device:remove:before", t3["select"] = "device:select", t3["selectBefore"] = "device:select:before", t3["update"] = "device:update", t3["all"] = "device";
        })(w || (w = {}));
        const C = w;
        var S;
        !(function(t3) {
          t3["add"] = "page:add", t3["addBefore"] = "page:add:before", t3["remove"] = "page:remove", t3["removeBefore"] = "page:remove:before", t3["select"] = "page:select", t3["selectBefore"] = "page:select:before", t3["update"] = "page:update", t3["all"] = "page";
        })(S || (S = {}));
        const O = S;
        var T = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), P = (function(e3) {
          function n2(t3, n3, o2) {
            return e3.call(this, n3, { module: t3, modelConstructor: o2 }) || this;
          }
          return T(n2, e3), n2.prototype.add = function(n3, o2) {
            var r2, i2 = this, a2 = (0, t2.isArray)(n3) ? n3 : (0, t2.isUndefined)(n3) ? void 0 : [n3];
            return a2 = null !== (r2 = null == a2 ? void 0 : a2.map((function(t3) {
              return t3 instanceof i2.newModel ? t3 : new i2.newModel(i2.module, t3);
            }))) && void 0 !== r2 ? r2 : [void 0], e3.prototype.add.call(this, (0, t2.isArray)(n3) ? a2 : a2[0], o2);
          }, n2.prototype.preinitialize = function(t3, e4) {
            this.newModel = e4.modelConstructor, this.module = e4.module;
          }, n2;
        })(u.pM);
        const E = P;
        var k;
        !(function(t3) {
          t3["dragEnter"] = "canvas:dragenter", t3["dragOver"] = "canvas:dragover", t3["dragEnd"] = "canvas:dragend", t3["dragData"] = "canvas:dragdata", t3["drop"] = "canvas:drop", t3["spot"] = "canvas:spot", t3["spotAdd"] = "canvas:spot:add", t3["spotUpdate"] = "canvas:spot:update", t3["spotRemove"] = "canvas:spot:remove", t3["coords"] = "canvas:coords", t3["zoom"] = "canvas:zoom", t3["pointer"] = "canvas:pointer", t3["refresh"] = "canvas:refresh", t3["frameLoad"] = "canvas:frame:load", t3["frameLoadHead"] = "canvas:frame:load:head", t3["frameLoadBody"] = "canvas:frame:load:body", t3["frameUnload"] = "canvas:frame:unload";
        })(k || (k = {}));
        const A = k;
        var j = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), M = function() {
          return M = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, M.apply(this, arguments);
        }, D = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, L = "__aw", I = "__ah", N = function(e3, n2) {
          var o2, r2 = e3.get(n2), i2 = null === (o2 = e3.view) || void 0 === o2 ? void 0 : o2.el["width" === n2 ? "offsetWidth" : "offsetHeight"];
          return (0, t2.isNumber)(r2) ? r2 : (0, t2.isString)(r2) && r2.endsWith("px") ? parseFloat(r2) : i2 || 0;
        }, R = (function(n2) {
          function o2(o3, r2) {
            var i2 = n2.call(this, o3, r2) || this, a2 = i2.em, s2 = i2.attributes, l2 = s2.styles, c2 = s2.component, u2 = a2.Components, p2 = u2.getConfig(), d2 = a2.Css.getAll(), f2 = {}, h2 = { em: a2, config: p2, frame: i2, idMap: f2 };
            if (!(0, e2.isComponent)(c2)) {
              var v2 = (0, e2.isObject)(c2) ? c2 : { components: c2 };
              !v2.type && (v2.type = "wrapper");
              var g2 = u2.getType("wrapper").model;
              i2.set("component", new g2(v2, h2));
            }
            if (l2) {
              if (!(0, e2.isObject)(l2)) {
                var y2 = l2;
                (0, t2.keys)(f2).length && (y2 = (0, t2.isString)(y2) ? a2.Parser.parseCss(y2) : y2, a2.Css.checkId(y2, { idMap: f2 })), d2.add(y2), i2.set("styles", d2);
              }
            } else i2.set("styles", d2);
            return !r2.width && i2.set(L, 1), !r2.height && i2.set(I, 1), !i2.id && i2.set("id", (0, e2.createId)()), i2;
          }
          return j(o2, n2), o2.prototype.defaults = function() {
            return { x: 0, y: 0, changesCount: 0, attributes: {}, width: null, height: null, head: [], component: "", styles: "", refFrame: null, _undo: true, _undoexc: ["changesCount"] };
          }, Object.defineProperty(o2.prototype, "width", { get: function() {
            return N(this, "width");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "height", { get: function() {
            return N(this, "height");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "head", { get: function() {
            return this.get("head");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "refFrame", { get: function() {
            return this.get("refFrame");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "root", { get: function() {
            var t3 = this.refFrame;
            return (null == t3 ? void 0 : t3.getComponent()) || this.getComponent();
          }, enumerable: false, configurable: true }), o2.prototype.initRefs = function() {
            var e3 = this.refFrame;
            if ((0, t2.isString)(e3)) {
              var n3 = this.module.framesById[e3];
              n3 && this.set({ refFrame: n3 }, { silent: true });
            }
          }, o2.prototype.getBoxRect = function() {
            var t3 = this.attributes;
            return { x: t3.x, y: t3.y, width: this.width, height: this.height };
          }, o2.prototype.onRemove = function() {
            !this.refFrame && this.getComponent().remove({ root: 1 });
          }, o2.prototype.changesUp = function(t3) {
            void 0 === t3 && (t3 = {}), t3.temporary || t3.noCount || t3.avoidStore || this.set("changesCount", this.get("changesCount") + 1);
          }, o2.prototype.getComponent = function() {
            return this.get("component");
          }, o2.prototype.getStyles = function() {
            return this.get("styles");
          }, o2.prototype.disable = function() {
            this.trigger("disable");
          }, o2.prototype.remove = function() {
            var t3;
            null === (t3 = this.view) || void 0 === t3 || t3.remove(), this.view = void 0;
            var e3 = this.collection;
            return e3 && e3.remove(this);
          }, o2.prototype.getHead = function() {
            return D([], this.head, true);
          }, o2.prototype.setHead = function(t3) {
            return this.set("head", D([], t3, true));
          }, o2.prototype.addHeadItem = function(t3) {
            this.head.push(t3);
          }, o2.prototype.getHeadByAttr = function(t3, e3, n3) {
            return this.head.filter((function(o3) {
              return o3.attributes && o3.attributes[t3] == e3 && (!n3 || n3 === o3.tag);
            }))[0];
          }, o2.prototype.removeHeadByAttr = function(t3, e3, n3) {
            var o3 = this.getHeadByAttr(t3, e3, n3), r2 = this.head.indexOf(o3);
            r2 >= 0 && this.head.splice(r2, 1);
          }, o2.prototype.addLink = function(t3) {
            var e3 = "link";
            !this.getHeadByAttr("href", t3, e3) && this.addHeadItem({ tag: e3, attributes: { href: t3, rel: "stylesheet" } });
          }, o2.prototype.removeLink = function(t3) {
            this.removeHeadByAttr("href", t3, "link");
          }, o2.prototype.addScript = function(t3) {
            var e3 = "script";
            !this.getHeadByAttr("src", t3, e3) && this.addHeadItem({ tag: e3, attributes: { src: t3 } });
          }, o2.prototype.removeScript = function(t3) {
            this.removeHeadByAttr("src", t3, "script");
          }, o2.prototype.getPage = function() {
            var t3;
            return null === (t3 = this.collection) || void 0 === t3 ? void 0 : t3.page;
          }, o2.prototype._emitUpdated = function(t3) {
            void 0 === t3 && (t3 = {}), this.em.trigger("frame:updated", M({ frame: this }, t3));
          }, o2.prototype._emitUnload = function() {
            this._emitWithEditor(A.frameUnload, { frame: this });
          }, o2.prototype._emitWithEditor = function(t3, e3) {
            [this.em, this].forEach((function(n3) {
              return null == n3 ? void 0 : n3.trigger(t3, e3);
            }));
          }, o2.prototype.hasAutoHeight = function() {
            return !("auto" !== this.attributes.height && !this.config.infiniteCanvas);
          }, o2.prototype.toJSON = function(e3) {
            void 0 === e3 && (e3 = {});
            var n3 = x.A.prototype.toJSON.call(this, e3), o3 = (0, t2.result)(this, "defaults");
            return e3.fromUndo && delete n3.component, delete n3.styles, delete n3.changesCount, n3[L] && delete n3.width, n3[I] && delete n3.height, n3.refFrame && (n3.refFrame = n3.refFrame.id, delete n3.component), (0, t2.forEach)(n3, (function(t3, e4) {
              0 === e4.indexOf("_") && delete n3[e4];
            })), (0, t2.forEach)(o3, (function(t3, e4) {
              n3[e4] === t3 && delete n3[e4];
            })), (0, t2.forEach)(["attributes", "head"], (function(e4) {
              (0, t2.isEmpty)(n3[e4]) && delete n3[e4];
            })), n3;
          }, o2;
        })(x.A);
        const V = R;
        var F = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const H = (function(e3) {
          function n2(n3, o2) {
            void 0 === o2 && (o2 = []);
            var r2 = e3.call(this, n3, o2, V) || this;
            return r2.loadedItems = 0, r2.itemsToLoad = 0, (0, t2.bindAll)(r2, "itemLoaded"), r2.on("add", r2.onAdd), r2.on("reset", r2.onReset), r2.on("remove", r2.onRemove), r2.forEach((function(t3) {
              return r2.onAdd(t3);
            })), r2;
          }
          return F(n2, e3), n2.prototype.onAdd = function(t3) {
            this.module.framesById[t3.id] = t3;
          }, n2.prototype.onReset = function(t3, e4) {
            var n3 = this;
            ((null == e4 ? void 0 : e4.previousModels) || []).map((function(t4) {
              return n3.onRemove(t4);
            }));
          }, n2.prototype.onRemove = function(t3) {
            t3.onRemove(), delete this.module.framesById[t3.id];
          }, n2.prototype.initRefs = function() {
            this.forEach((function(t3) {
              return t3.initRefs();
            }));
          }, n2.prototype.itemLoaded = function() {
            this.loadedItems++, this.loadedItems >= this.itemsToLoad && (this.trigger("loaded:all"), this.listenToLoadItems(false));
          }, n2.prototype.listenToLoad = function() {
            this.loadedItems = 0, this.itemsToLoad = this.length, this.listenToLoadItems(true);
          }, n2.prototype.listenToLoadItems = function(t3) {
            var e4 = this;
            this.forEach((function(n3) {
              return n3[t3 ? "on" : "off"]("loaded", e4.itemLoaded);
            }));
          }, n2;
        })(E);
        var U = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), z = (function(t3) {
          function e3(e4) {
            var n2 = this, o2 = e4.em, r2 = e4.config, i2 = r2.scripts, a2 = r2.styles;
            return (n2 = t3.call(this, e4, { scripts: i2, styles: a2 }) || this).set("frames", new H(e4)), n2.on("change:zoom", n2.onZoomChange), n2.on("change:x change:y", n2.onCoordsChange), n2.on("change:pointer change:pointerScreen", n2.onPointerChange), n2.listenTo(o2, "change:device ".concat(C.update), n2.updateDevice), n2.listenTo(o2, O.select, n2._pageUpdated), n2;
          }
          return U(e3, t3), e3.prototype.defaults = function() {
            return { frame: "", frames: [], rulers: false, zoom: 100, x: 0, y: 0, scripts: [], styles: [], pointer: u.lK, pointerScreen: u.lK };
          }, Object.defineProperty(e3.prototype, "frames", { get: function() {
            return this.get("frames");
          }, enumerable: false, configurable: true }), e3.prototype.init = function() {
            var t4 = this.em.Pages._initPage();
            this.set("frames", t4.getFrames()), this.updateDevice({ frame: t4.getMainFrame() });
          }, e3.prototype._pageUpdated = function(t4, e4) {
            var n2 = this.em;
            n2.setSelected(), n2.get("readyCanvas") && n2.stopDefault(), null == e4 || e4.getFrames().map((function(t5) {
              t5.disable(), t5._emitUnload();
            })), this.set("frames", t4.getFrames()), this.updateDevice({ frame: t4.getMainFrame() });
          }, e3.prototype.updateDevice = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = this.em, n2 = e4.getDeviceModel(), o2 = t4.frame || e4.getCurrentFrameModel();
            if (o2 && n2) {
              var r2 = n2.attributes, i2 = r2.width, a2 = r2.height, s2 = r2.minHeight;
              o2.set({ width: i2, height: a2, minHeight: s2 }, { noUndo: 1 });
            }
          }, e3.prototype.onZoomChange = function(t4, e4, n2) {
            var o2 = this.em, r2 = this.module;
            this.get("zoom") < 1 && this.set("zoom", 1), o2.trigger(r2.events.zoom, { options: n2 });
          }, e3.prototype.onCoordsChange = function() {
            var t4 = this.em, e4 = this.module;
            t4.trigger(e4.events.coords);
          }, e3.prototype.onPointerChange = function() {
            var t4 = this.em, e4 = this.module;
            t4.trigger(e4.events.pointer);
          }, e3.prototype.getPointerCoords = function(t4) {
            void 0 === t4 && (t4 = u.x2.World);
            var e4 = this.attributes, n2 = e4.pointer, o2 = e4.pointerScreen;
            return t4 === u.x2.World ? n2 : o2;
          }, e3;
        })(x.A);
        const B = z;
        var W = n(179), $ = n(2225), q = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), G = (function(e3) {
          function n2(n3, o2) {
            void 0 === o2 && (o2 = []);
            var r2 = e3.call(this, n3, o2, W.A) || this;
            r2.on("add", r2.onAdd), r2.on("change", r2.onChange), r2.on("remove", r2.onRemove);
            var i2 = r2.em;
            r2.refreshDbn = (0, t2.debounce)((function() {
              return r2.refresh();
            }), 0);
            var a2 = "".concat($.I.resize, " styleable:change ").concat($.I.input, " ").concat($.I.update, " frame:updated undo redo");
            return r2.listenTo(i2, a2, (function() {
              return r2.refreshDbn();
            })), r2;
          }
          return q(n2, e3), Object.defineProperty(n2.prototype, "em", { get: function() {
            return this.module.em;
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "events", { get: function() {
            return this.module.events;
          }, enumerable: false, configurable: true }), n2.prototype.refresh = function() {
            var t3 = this.em, e4 = this.events;
            t3.trigger(e4.spot);
          }, n2.prototype.onAdd = function(t3) {
            this.__trgEvent(this.events.spotAdd, { spot: t3 });
          }, n2.prototype.onChange = function(t3) {
            this.__trgEvent(this.events.spotUpdate, { spot: t3 });
          }, n2.prototype.onRemove = function(t3) {
            this.__trgEvent(this.events.spotRemove, { spot: t3 });
          }, n2.prototype.__trgEvent = function(t3, e4) {
            this.module.em.trigger(t3, e4), this.refreshDbn();
          }, n2;
        })(E);
        const K = G;
        var Y = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), J = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Y(e3, t3), Object.defineProperty(e3.prototype, "pfx", { get: function() {
            return this.ppfx + this.config.stylePrefix || "";
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "ppfx", { get: function() {
            return this.em.config.stylePrefix || "";
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "module", { get: function() {
            var t4, e4;
            return null !== (e4 = null === (t4 = this.model) || void 0 === t4 ? void 0 : t4.module) && void 0 !== e4 ? e4 : this.collection.module;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "em", { get: function() {
            return this.module.em;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "config", { get: function() {
            return this.module.config;
          }, enumerable: false, configurable: true }), e3.prototype.preinitialize = function(t4) {
            this.className = "";
          }, e3;
        })(u.Ss);
        const X = J;
        var Z = n(6294), Q = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const tt = (function(t3) {
          function e3(e4, n2) {
            void 0 === e4 && (e4 = {}), void 0 === n2 && (n2 = false);
            var o2 = t3.call(this, e4) || this;
            return o2.itemsView = "", o2.itemType = "type", o2.reuseView = false, o2.viewCollection = [], n2 && o2.listenTo(o2.collection, "add", o2.addTo), o2;
          }
          return Q(e3, t3), e3.prototype.addTo = function(t4) {
            this.add(t4);
          }, e3.prototype.itemViewNotFound = function(t4) {
          }, e3.prototype.add = function(t4, e4) {
            var n2, o2 = this.reuseView, r2 = this.viewCollection, i2 = e4 || null, a2 = t4.get(this.itemType);
            n2 = t4.view && o2 ? t4.view : this.renderView(t4, a2), r2.push(n2);
            var s2 = n2.render().el;
            i2 ? i2.appendChild(s2) : this.$el.append(s2);
          }, e3.prototype.render = function() {
            var t4 = this, e4 = document.createDocumentFragment();
            return this.clearItems(), this.$el.empty(), this.collection.length && this.collection.each((function(n2) {
              return t4.add(n2, e4);
            })), this.$el.append(e4), this.onRender(), this;
          }, e3.prototype.onRender = function() {
          }, e3.prototype.onRemoveBefore = function(t4, e4) {
          }, e3.prototype.onRemove = function(t4, e4) {
          }, e3.prototype.remove = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = this.viewCollection;
            return this.onRemoveBefore(e4, t4), this.clearItems(), u.Ss.prototype.remove.apply(this, t4), this.onRemove(e4, t4), this;
          }, e3.prototype.clearItems = function() {
            this.viewCollection;
          }, e3;
        })(X);
        var et;
        !(function(t3) {
          t3["mount"] = "css:mount", t3["mountBefore"] = "css:mount:before";
        })(et || (et = {}));
        var nt = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ot = (function(t3) {
          function e3(e4) {
            void 0 === e4 && (e4 = {});
            var n2 = t3.call(this, e4) || this;
            n2.config = e4.config || {};
            var o2 = n2.model;
            return n2.listenTo(o2, "change", n2.render), n2.listenTo(o2, "destroy remove", n2.remove), n2.listenTo(o2.get("selectors"), "change", n2.render), o2.setView(n2), n2;
          }
          return nt(e3, t3), Object.defineProperty(e3.prototype, "frameView", { get: function() {
            return this.config.frameView;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "em", { get: function() {
            return this.model.em;
          }, enumerable: false, configurable: true }), e3.prototype.remove = function() {
            return t3.prototype.remove.call(this), this.model.removeView(this), this;
          }, e3.prototype.updateStyles = function() {
            this.render();
          }, e3.prototype.tagName = function() {
            return "style";
          }, e3.prototype.render = function() {
            var t4 = this, e4 = t4.model, n2 = t4.el, o2 = t4.em, r2 = e4.get("important"), i2 = e4.toCSS({ important: r2 }), a2 = { rule: e4, ruleView: this, css: i2 };
            return null == o2 || o2.trigger(et.mountBefore, a2), n2.innerHTML = a2.css, null == o2 || o2.trigger(et.mount, a2), this;
          }, e3;
        })(u.Ss);
        const rt = ot;
        var it = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const at = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return it(e3, t3), e3.prototype._createElement = function() {
            return document.createTextNode("");
          }, e3.prototype.render = function() {
            var t4 = this.model, e4 = t4.get("important");
            return this.el.textContent = t4.getDeclaration({ important: e4 }), this;
          }, e3;
        })(rt);
        var st = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), lt = function(t3, e3) {
          return "".concat(t3).concat(e3 ? "-".concat(parseFloat(e3)) : "");
        }, ct = (function(e3) {
          function n2(n3) {
            var o2 = e3.call(this, n3) || this;
            (0, t2.bindAll)(o2, "sortRules");
            var r2 = n3.config || {};
            o2.atRules = {}, o2.config = r2, o2.em = r2.em, o2.pfx = r2.stylePrefix || "", o2.className = o2.pfx + "rules";
            var i2 = o2.collection;
            return o2.listenTo(i2, "add", o2.addTo), o2.listenTo(i2, "reset", o2.render), o2;
          }
          return st(n2, e3), n2.prototype.addTo = function(t3) {
            this.addToCollection(t3);
          }, n2.prototype.addToCollection = function(t3, e4) {
            if (this.renderStarted) {
              var n3, o2, r2 = e4 || null, i2 = { model: t3, config: this.config };
              if ("keyframes" === t3.get("atRuleType")) {
                var a2 = t3.getAtRule(), s2 = this.atRules[a2];
                if (!s2) {
                  var l2 = document.createElement("style");
                  s2 = document.createTextNode(""), l2.appendChild(document.createTextNode("".concat(a2, "{"))), l2.appendChild(s2), l2.appendChild(document.createTextNode("}")), this.atRules[a2] = s2, n3 = l2;
                }
                o2 = new at(i2), s2.appendData(o2.render().el.textContent);
              } else n3 = (o2 = new rt(i2)).render().el;
              var c2 = this.className, u2 = t3.get("mediaText"), p2 = lt(c2), d2 = p2;
              if (u2 && (d2 = lt(c2, this.getMediaWidth(u2))), n3) {
                var f2 = r2 || this.el, h2 = void 0;
                try {
                  h2 = f2.querySelector("#".concat(d2));
                } catch (t4) {
                }
                h2 || (h2 = f2.querySelector("#".concat(p2))), null == h2 || h2.appendChild(n3);
              }
              return n3;
            }
          }, n2.prototype.getMediaWidth = function(t3) {
            return t3 && t3.replace("(".concat(this.em.getConfig().mediaCondition, ": "), "").replace(")", "");
          }, n2.prototype.sortRules = function(t3, e4) {
            var n3 = -1 !== (this.em.getConfig().mediaCondition || "").indexOf("min-width");
            return n3 ? (n3 ? t3 : e4) - (n3 ? e4 : t3) : 0;
          }, n2.prototype.render = function() {
            var t3 = this;
            this.renderStarted = true, this.atRules = {};
            var e4 = this, n3 = e4.em, o2 = e4.$el, r2 = e4.collection, i2 = this.className, a2 = document.createDocumentFragment();
            o2.empty();
            var s2 = n3.Devices.getAll().pluck("priority").sort(this.sortRules);
            return s2.every((function(t4) {
              return t4;
            })) && s2.unshift(0), s2.forEach((function(t4) {
              return a2.appendChild((0, Z.a_)("div", { id: lt(i2, t4) }));
            })), r2.each((function(e5) {
              return t3.addToCollection(e5, a2);
            })), o2.append(a2), o2.attr("class", i2), this;
          }, n2;
        })(u.Ss);
        const ut = ct;
        var pt = "text/html", dt = pt;
        var ft;
        !(function(t3) {
          t3["html"] = "parse:html", t3["htmlRoot"] = "parse:html:root", t3["htmlBefore"] = "parse:html:before", t3["css"] = "parse:css", t3["cssBefore"] = "parse:css:before", t3["all"] = "parse";
        })(ft || (ft = {}));
        var ht = function() {
          return ht = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ht.apply(this, arguments);
        }, vt = "data-gjs-";
        const gt = function(n2, o2) {
          return void 0 === o2 && (o2 = {}), { compTypes: [], modelAttrStart: vt, getPropAttribute: function(t3, e3) {
            var n3 = t3.replace(this.modelAttrStart, ""), o3 = (null == e3 ? void 0 : e3.length) || 0, r2 = null == e3 ? void 0 : e3.substring(0, 1), i2 = null == e3 ? void 0 : e3.substring(o3 - 1), a2 = "true" === e3 || "false" !== e3 && e3;
            try {
              a2 = "{" == r2 && "}" == i2 || "[" == r2 && "]" == i2 ? JSON.parse(a2) : a2;
            } catch (t4) {
            }
            return { name: n3, value: a2 };
          }, splitPropsFromAttr: function(e3) {
            var n3 = this;
            void 0 === e3 && (e3 = {});
            var o3 = {}, r2 = {};
            return (0, t2.each)(e3, (function(t3, e4) {
              if (0 === e4.indexOf(n3.modelAttrStart)) {
                var i2 = n3.getPropAttribute(e4, t3);
                o3[i2.name] = i2.value;
              } else r2[e4] = t3;
            })), { props: o3, attrs: r2 };
          }, parseStyle: function(e3) {
            for (var n3 = {}; e3.indexOf("/*") >= 0; ) {
              var o3 = e3.indexOf("/*"), r2 = e3.indexOf("*/"), i2 = r2 > -1 ? r2 + 2 : void 0;
              e3 = e3.replace(e3.slice(o3, i2), "");
            }
            for (var a2 = e3.split(";"), s2 = 0, l2 = a2.length; s2 < l2; s2++) {
              var c2 = a2[s2].trim();
              if (c2) {
                var u2 = c2.split(":"), p2 = u2[0].trim(), d2 = u2.slice(1).join(":").trim();
                n3[p2] ? ((0, t2.isArray)(n3[p2]) || (n3[p2] = [n3[p2]]), n3[p2].push(d2)) : n3[p2] = d2;
              }
            }
            return n3;
          }, parseClass: function(t3) {
            for (var e3 = [], n3 = t3.split(" "), o3 = 0, r2 = n3.length; o3 < r2; o3++) {
              var i2 = n3[o3].trim();
              i2 && e3.push(i2);
            }
            return e3;
          }, parseNodeAttr: function(e3, r2) {
            for (var i2, a2, s2 = r2 || {}, l2 = e3.attributes || [], c2 = l2.length, u2 = !!(null === (i2 = null == o2 ? void 0 : o2.optionsHtml) || void 0 === i2 ? void 0 : i2.convertDataGjsAttributesHyphens), p2 = u2 && !!s2.type && (0, t2.result)(null === (a2 = null == n2 ? void 0 : n2.Components.getType(s2.type)) || void 0 === a2 ? void 0 : a2.model.prototype, "defaults") || {}, d2 = 0; d2 < c2; d2++) {
              var f2 = l2[d2].nodeName, h2 = l2[d2].nodeValue;
              if ("style" == f2) s2.style = this.parseStyle(h2);
              else if ("class" == f2) s2.classes = this.parseClass(h2);
              else {
                if ("contenteditable" == f2) continue;
                if (0 === f2.indexOf(this.modelAttrStart)) {
                  var v2 = this.getPropAttribute(f2, h2), g2 = v2.name;
                  if (u2 && !(g2 in p2)) {
                    var y2 = (0, Z._I)(g2);
                    g2 = y2 in p2 ? y2 : g2;
                  }
                  s2[g2] = v2.value;
                } else "" === h2 && true === e3[f2] && (h2 = true), s2.attributes || (s2.attributes = {}), s2.attributes[f2] = h2;
              }
            }
            return s2;
          }, detectNode: function(t3, e3) {
            var n3;
            void 0 === e3 && (e3 = {});
            var o3 = this.compTypes, r2 = {};
            if (o3) {
              var i2 = null === (n3 = t3.getAttribute) || void 0 === n3 ? void 0 : n3.call(t3, "".concat(this.modelAttrStart, "type"));
              if (i2) r2 = { type: i2 };
              else for (var a2 = 0; a2 < o3.length; a2++) {
                var s2 = o3[a2], l2 = s2.model.isComponent(t3, e3);
                if (l2) {
                  "object" != typeof l2 && (l2 = { type: s2.id }), r2 = l2;
                  break;
                }
              }
            }
            return r2;
          }, parseNode: function(t3, e3) {
            var n3;
            void 0 === e3 && (e3 = {});
            var r2 = (null === (n3 = t3.content) || void 0 === n3 ? void 0 : n3.childNodes) || t3.childNodes, i2 = r2.length, a2 = this.detectNode(t3, e3);
            if (!a2.tagName) {
              var s2 = t3.tagName || "", l2 = t3.namespaceURI || "";
              a2.tagName = s2 && "http://www.w3.org/1999/xhtml" === l2 ? s2.toLowerCase() : s2;
            }
            if (a2 = this.parseNodeAttr(t3, a2), i2 || "/>" !== "".concat(t3.outerHTML).slice(-2) || (a2.void = true), i2 && !a2.components && !e3.skipChildren) {
              var c2 = r2[0];
              1 === i2 && 3 === c2.nodeType ? (!a2.type && (a2.type = "text"), a2.components = { type: "textnode", content: c2.nodeValue }) : a2.components = this.parseNodes(t3, ht(ht({}, e3), { inSvg: e3.inSvg || "svg" === a2.type }));
            }
            var u2 = a2.components;
            if (!a2.type && (null == u2 ? void 0 : u2.length)) {
              for (var p2 = o2.textTypes, d2 = void 0 === p2 ? [] : p2, f2 = o2.textTags, h2 = void 0 === f2 ? [] : f2, v2 = true, g2 = false, y2 = 0; y2 < u2.length; y2++) {
                var m2 = u2[y2], b2 = m2.type;
                if (!d2.includes(b2) && !h2.includes(m2.tagName)) {
                  v2 = false;
                  break;
                }
                "textnode" === b2 && (g2 = true);
              }
              v2 && g2 && (a2.type = "text");
            }
            return a2;
          }, parseNodes: function(e3, n3) {
            var o3;
            void 0 === n3 && (n3 = {});
            for (var r2 = [], i2 = (null === (o3 = e3.content) || void 0 === o3 ? void 0 : o3.childNodes) || e3.childNodes, a2 = i2.length, s2 = 0; s2 < a2; s2++) {
              var l2 = i2[s2], c2 = r2[r2.length - 1], u2 = this.parseNode(l2, n3);
              if ("textnode" === u2.type) {
                if ("textnode" === (null == c2 ? void 0 : c2.type)) {
                  c2.content += u2.content;
                  continue;
                }
                if (!n3.keepEmptyTextNodes) {
                  var p2 = l2.nodeValue || "", d2 = 0 === s2 || s2 === a2 - 1, f2 = p2.includes("\n");
                  if (" " != p2 && !p2.trim() && (d2 || f2)) continue;
                }
              }
              !u2.tagName && (0, t2.isUndefined)(u2.content) || r2.push(u2);
            }
            return r2;
          }, parse: function(e3, r2, i2) {
            var a2, s2, l2;
            void 0 === i2 && (i2 = {});
            var c2 = (null == n2 ? void 0 : n2.get("Config")) || {}, u2 = null == n2 ? void 0 : n2.Parser, p2 = { html: [] }, d2 = ht(ht(ht({}, o2.optionsHtml), { htmlType: (null === (a2 = o2.optionsHtml) || void 0 === a2 ? void 0 : a2.htmlType) || o2.htmlType }), i2), f2 = ht(ht({}, d2), { asDocument: this.__checkAsDocument(e3, d2) }), h2 = ht(ht({}, o2), f2), v2 = f2.preParser, g2 = f2.asDocument, y2 = { input: (0, t2.isFunction)(v2) ? v2(e3, { editor: null == n2 ? void 0 : n2.getEditor() }) : e3 };
            null == u2 || u2.__emitEvent(ft.htmlBefore, y2);
            var m2 = y2.input, b2 = (0, t2.isFunction)(h2.parserHtml) ? h2.parserHtml(m2, f2) : (function(e4, n3) {
              void 0 === n3 && (n3 = {});
              var o3, r3 = new DOMParser(), i3 = n3.htmlType || dt, a3 = i3 === pt, s3 = a3 ? e4 : "<div>".concat(e4, "</div>"), l3 = r3.parseFromString(s3, i3);
              if (a3) {
                if (n3.asDocument) return l3;
                var c3 = l3.head, u3 = l3.body, p3 = c3.querySelectorAll("script");
                (0, t2.each)(p3, (function(t3) {
                  return u3.appendChild(t3);
                }));
                var d3 = [];
                (0, t2.each)(c3.children, (function(t3) {
                  return d3.push(t3);
                })), (0, t2.each)(d3, (function(t3, e5) {
                  return u3.insertBefore(t3, u3.children[e5]);
                })), o3 = u3;
              } else o3 = l3.firstChild;
              return o3;
            })(m2, f2), _2 = b2, w2 = b2;
            g2 && (_2 = w2.documentElement, p2.doctype = (0, Z.LJ)(w2.doctype));
            var x2 = _2.querySelectorAll("script"), C2 = x2.length;
            if (!((0, t2.isUndefined)(c2.allowScripts) ? f2.allowScripts : c2.allowScripts)) for (; C2--; ) null === (s2 = x2[C2].parentNode) || void 0 === s2 || s2.removeChild(x2[C2]);
            if (f2.allowUnsafeAttr && f2.allowUnsafeAttrValue || this.__sanitizeNode(_2, f2), r2) {
              for (var S2 = _2.querySelectorAll("style"), O2 = S2.length, T2 = ""; O2--; ) T2 = S2[O2].innerHTML + T2, null === (l2 = S2[O2].parentNode) || void 0 === l2 || l2.removeChild(S2[O2]);
              T2 && (p2.css = r2.parse(T2));
            }
            null == u2 || u2.__emitEvent(ft.htmlRoot, { input: m2, root: _2 });
            var P2 = [];
            if (g2) p2.head = this.parseNode(w2.head, h2), p2.root = this.parseNodeAttr(_2), P2 = this.parseNode(w2.body, h2);
            else {
              var E2 = this.parseNodes(_2, h2);
              P2 = 1 !== E2.length || h2.returnArray ? E2 : E2[0];
            }
            return p2.html = P2, null == u2 || u2.__emitEvent(ft.html, { input: m2, output: p2, options: f2 }), p2;
          }, __sanitizeNode: function(e3, n3) {
            var o3 = this, r2 = e3.attributes || [], i2 = e3.childNodes || [], a2 = [];
            (0, t2.each)(r2, (function(t3) {
              var e4 = t3.nodeName || "", o4 = t3.nodeValue || "";
              !n3.allowUnsafeAttr && e4.startsWith("on") && a2.push(e4), !n3.allowUnsafeAttrValue && o4.startsWith("javascript:") && a2.push(e4);
            })), a2.map((function(t3) {
              return e3.removeAttribute(t3);
            })), (0, t2.each)(i2, (function(t3) {
              return o3.__sanitizeNode(t3, n3);
            }));
          }, __checkAsDocument: function(n3, o3) {
            return (0, e2.isDef)(o3.asDocument) ? o3.asDocument : (0, t2.isFunction)(o3.detectDocument) ? !!o3.detectDocument(n3) : o3.detectDocument ? n3.toLowerCase().trim().startsWith("<!doctype") : void 0;
          } };
        };
        var yt;
        !(function(t3) {
          t3["add"] = "data:add", t3["addBefore"] = "data:add:before", t3["remove"] = "data:remove", t3["removeBefore"] = "data:remove:before", t3["update"] = "data:update", t3["path"] = "data:path", t3["pathSource"] = "data:pathSource:", t3["all"] = "data";
        })(yt || (yt = {}));
        var mt, bt = "data-collection", _t = "data-collection-item", wt = "dataResolver", xt = (function() {
          function t3(t4, e3, n2) {
            this.operator = t4, this.statements = e3, this.opts = n2;
          }
          return t3.prototype.evaluate = function() {
            var t4 = this, e3 = this.statements.map((function(e4) {
              return new Nt({ condition: e4 }, t4.opts).evaluate();
            }));
            return this.operator.evaluate(e3);
          }, t3;
        })(), Ct = (function() {
          function t3(t4, e3) {
            this.operationString = t4, this.em = e3.em;
          }
          return t3.prototype.getOperations = function() {
            return t4 = this.operationsEnum, Object.keys(t4).filter((function(t5) {
              return isNaN(Number(t5));
            })).map((function(e3) {
              return t4[e3];
            }));
            var t4;
          }, t3;
        })(), St = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        !(function(t3) {
          t3["equals"] = "equals", t3["isTruthy"] = "isTruthy", t3["isFalsy"] = "isFalsy", t3["isDefined"] = "isDefined", t3["isNull"] = "isNull", t3["isUndefined"] = "isUndefined", t3["isArray"] = "isArray", t3["isObject"] = "isObject", t3["isString"] = "isString", t3["isNumber"] = "isNumber", t3["isBoolean"] = "isBoolean", t3["isDefaultValue"] = "isDefaultValue";
        })(mt || (mt = {}));
        var Ot, Tt = (function(t3) {
          function e3() {
            var e4 = null !== t3 && t3.apply(this, arguments) || this;
            return e4.operationsEnum = mt, e4;
          }
          return St(e3, t3), e3.prototype.evaluate = function(t4, e4) {
            var n2;
            switch (this.operationString) {
              case "equals":
                return t4 === e4;
              case "isTruthy":
                return !!t4;
              case "isFalsy":
                return !t4;
              case "isDefined":
                return null != t4;
              case "isNull":
                return null === t4;
              case "isUndefined":
                return void 0 === t4;
              case "isArray":
                return Array.isArray(t4);
              case "isObject":
                return "object" == typeof t4 && null !== t4;
              case "isString":
                return "string" == typeof t4;
              case "isNumber":
                return "number" == typeof t4;
              case "isBoolean":
                return "boolean" == typeof t4;
              case "isDefaultValue":
                return t4 instanceof me && t4.get("defaultValue") === e4;
              default:
                return null === (n2 = this.em) || void 0 === n2 || n2.logWarning("Unsupported generic operation: ".concat(this.operationString)), false;
            }
          }, e3;
        })(Ct), Pt = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        !(function(t3) {
          t3["and"] = "and", t3["or"] = "or", t3["xor"] = "xor";
        })(Ot || (Ot = {}));
        var Et, kt = (function(t3) {
          function e3() {
            var e4 = null !== t3 && t3.apply(this, arguments) || this;
            return e4.operationsEnum = Ot, e4;
          }
          return Pt(e3, t3), e3.prototype.evaluate = function(t4) {
            if (!(null == t4 ? void 0 : t4.length)) return false;
            switch (this.operationString) {
              case Ot.and:
                return t4.every(Boolean);
              case Ot.or:
                return t4.some(Boolean);
              case Ot.xor:
                return 1 === t4.filter(Boolean).length;
              default:
                return this.em.logWarning("Unsupported boolean operation: ".concat(this.operationString)), false;
            }
          }, e3;
        })(Ct), At = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        !(function(t3) {
          t3["greaterThan"] = ">", t3["lessThan"] = "<", t3["greaterThanOrEqual"] = ">=", t3["lessThanOrEqual"] = "<=", t3["equals"] = "=", t3["notEquals"] = "!=";
        })(Et || (Et = {}));
        var jt, Mt = (function(t3) {
          function e3() {
            var e4 = null !== t3 && t3.apply(this, arguments) || this;
            return e4.operationsEnum = Et, e4;
          }
          return At(e3, t3), e3.prototype.evaluate = function(t4, e4) {
            if ("number" != typeof t4) return false;
            switch (this.operationString) {
              case Et.greaterThan:
                return t4 > e4;
              case Et.lessThan:
                return t4 < e4;
              case Et.greaterThanOrEqual:
                return t4 >= e4;
              case Et.lessThanOrEqual:
                return t4 <= e4;
              case Et.equals:
                return t4 === e4;
              case Et.notEquals:
                return t4 !== e4;
              default:
                return this.em.logWarning("Unsupported number operation: ".concat(this.operationString)), false;
            }
          }, e3;
        })(Ct), Dt = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        !(function(t3) {
          t3["contains"] = "contains", t3["startsWith"] = "startsWith", t3["endsWith"] = "endsWith", t3["matchesRegex"] = "matchesRegex", t3["equalsIgnoreCase"] = "equalsIgnoreCase", t3["trimEquals"] = "trimEquals";
        })(jt || (jt = {}));
        var Lt = (function(t3) {
          function e3() {
            var e4 = null !== t3 && t3.apply(this, arguments) || this;
            return e4.operationsEnum = jt, e4;
          }
          return Dt(e3, t3), e3.prototype.evaluate = function(t4, e4) {
            if ("string" != typeof t4) return false;
            switch (this.operationString) {
              case jt.contains:
                return t4.includes(e4);
              case jt.startsWith:
                return t4.startsWith(e4);
              case jt.endsWith:
                return t4.endsWith(e4);
              case jt.matchesRegex:
                return e4 || this.em.logWarning("Regex pattern must be provided."), new RegExp(null != e4 ? e4 : "").test(t4);
              case jt.equalsIgnoreCase:
                return t4.toLowerCase() === e4.toLowerCase();
              case jt.trimEquals:
                return t4.trim() === e4.trim();
              default:
                return this.em.logWarning("Unsupported string operation: ".concat(this.operationString)), false;
            }
          }, e3;
        })(Ct), It = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Nt = (function(e3) {
          function n2(t3, n3) {
            var o2, r2 = e3.call(this, t3) || this;
            return r2.collectionsStateMap = {}, r2.em = n3.em, r2.collectionsStateMap = null !== (o2 = n3.collectionsStateMap) && void 0 !== o2 ? o2 : {}, r2;
          }
          return It(n2, e3), n2.prototype.evaluate = function() {
            var e4 = this.get("condition");
            if (!e4 || (0, t2.isBoolean)(e4)) return !!e4;
            var n3 = this.getOperator();
            return !!n3 && n3.evaluate(this.getResolvedLeftValue(), this.getResolvedRightValue());
          }, n2.prototype.getDependentDataVariables = function() {
            var t3 = this.get("condition");
            return t3 ? this.extractDataVariables(t3) : [];
          }, n2.prototype.getOperations = function() {
            var t3 = this.getOperator();
            return !t3 || t3 instanceof xt ? [] : t3.getOperations();
          }, n2.prototype.updateCollectionStateMap = function(t3) {
            this.collectionsStateMap = t3;
          }, n2.prototype.getOperator = function() {
            var e4 = { em: this.em, collectionsStateMap: this.collectionsStateMap }, n3 = this.get("condition");
            if (n3 && !(0, t2.isBoolean)(n3)) {
              var o2;
              if (this.isLogicGroup(n3)) {
                var r2 = n3.logicalOperator, i2 = n3.statements, a2 = new kt(r2, e4);
                o2 = new xt(a2, i2, e4);
              }
              if (this.isExpression(n3)) {
                var s2 = n3.left, l2 = (a2 = n3.operator, ue(s2, e4));
                o2 = this.resolveOperator(l2, a2);
              }
              return o2;
            }
          }, n2.prototype.resolveOperator = function(t3, e4) {
            var n3 = this.em;
            return this.isOperatorInEnum(e4, mt) ? new Tt(e4, { em: n3 }) : "number" == typeof t3 ? new Mt(e4, { em: n3 }) : "string" == typeof t3 ? new Lt(e4, { em: n3 }) : void 0;
          }, n2.prototype.extractDataVariables = function(t3) {
            var e4 = this, n3 = [];
            return this.isExpression(t3) ? (ce(t3.left) && n3.push(t3.left), ce(t3.right) && n3.push(t3.right)) : this.isLogicGroup(t3) && t3.statements.forEach((function(t4) {
              return n3.push.apply(n3, e4.extractDataVariables(t4));
            })), n3;
          }, n2.prototype.isLogicGroup = function(t3) {
            return t3 && void 0 !== t3.logicalOperator && Array.isArray(t3.statements);
          }, n2.prototype.isExpression = function(t3) {
            return t3 && void 0 !== t3.left && "string" == typeof t3.operator;
          }, n2.prototype.isOperatorInEnum = function(t3, e4) {
            return Object.values(e4).includes(t3);
          }, n2.prototype.resolveExpressionSide = function(t3) {
            var e4 = this.get("condition"), n3 = this.em, o2 = this.collectionsStateMap;
            return e4 && "boolean" != typeof e4 ? e4 && "object" == typeof e4 && t3 in e4 ? ue(e4[t3], { em: n3, collectionsStateMap: o2 }) : void 0 : e4;
          }, n2.prototype.getResolvedLeftValue = function() {
            return this.resolveExpressionSide("left");
          }, n2.prototype.getResolvedRightValue = function() {
            return this.resolveExpressionSide("right");
          }, n2.prototype.toJSON = function(t3) {
            var e4 = this.get("condition");
            return "object" == typeof e4 ? JSON.parse(JSON.stringify(e4)) : e4;
          }, n2;
        })(u.Kx), Rt = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Vt = "data-condition", Ft = "data-condition-evaluation-changed", Ht = "data-condition-output-changed", Ut = (function(t3) {
          function e3(e4, n2) {
            var o2, r2 = t3.call(this, e4, n2) || this;
            r2.collectionsStateMap = {}, r2.resolverListeners = [], r2._previousEvaluationResult = null, r2.em = n2.em, r2.collectionsStateMap = null !== (o2 = n2.collectionsStateMap) && void 0 !== o2 ? o2 : {};
            var i2 = e4.condition, a2 = new Nt({ condition: void 0 === i2 ? {} : i2 }, { em: r2.em });
            return r2._conditionEvaluator = a2, r2.listenToDataVariables(), r2.listenToPropsChange(), r2;
          }
          return Rt(e3, t3), e3.prototype.defaults = function() {
            return { type: Vt, condition: { left: "", operator: jt.equalsIgnoreCase, right: "" }, ifTrue: {}, ifFalse: {} };
          }, e3.prototype.getCondition = function() {
            return this._conditionEvaluator.get("condition");
          }, e3.prototype.getIfTrue = function() {
            return this.get("ifTrue");
          }, e3.prototype.getIfFalse = function() {
            return this.get("ifFalse");
          }, e3.prototype.getOperations = function() {
            return this._conditionEvaluator.getOperations();
          }, e3.prototype.setCondition = function(t4) {
            this.set("condition", t4), this._conditionEvaluator.set("condition", t4), this.trigger(Ht, this.getDataValue());
          }, e3.prototype.setIfTrue = function(t4) {
            this.set("ifTrue", t4);
          }, e3.prototype.setIfFalse = function(t4) {
            this.set("ifFalse", t4);
          }, e3.prototype.isTrue = function() {
            return this._conditionEvaluator.evaluate();
          }, e3.prototype.getDataValue = function(t4) {
            void 0 === t4 && (t4 = false);
            var e4 = { em: this.em, collectionsStateMap: this.collectionsStateMap }, n2 = this.getIfTrue(), o2 = this.getIfFalse(), r2 = this.isTrue();
            return t4 ? r2 ? n2 : o2 : ue(r2 ? n2 : o2, e4);
          }, e3.prototype.resolvesFromCollection = function() {
            return false;
          }, e3.prototype.updateCollectionsStateMap = function(t4) {
            this.collectionsStateMap = t4, this._conditionEvaluator.updateCollectionStateMap(t4), this.listenToDataVariables(), this.emitConditionEvaluationChange();
          }, e3.prototype.listenToPropsChange = function() {
            var t4 = this;
            this.on("change:condition", this.handleConditionChange.bind(this)), this.on("change:condition change:ifTrue change:ifFalse", (function() {
              t4.listenToDataVariables();
            }));
          }, e3.prototype.handleConditionChange = function() {
            this.setCondition(this.get("condition"));
          }, e3.prototype.listenToDataVariables = function() {
            this.cleanupListeners(), this.setupConditionDataVariableListeners(), this.setupOutputDataVariableListeners();
          }, e3.prototype.setupConditionDataVariableListeners = function() {
            var t4 = this;
            this._conditionEvaluator.getDependentDataVariables().forEach((function(e4) {
              t4.addListener(e4, (function() {
                t4.emitConditionEvaluationChange();
              }));
            }));
          }, e3.prototype.setupOutputDataVariableListeners = function() {
            var t4 = this.isTrue();
            this.setupOutputVariableListener(this.getIfTrue(), t4), this.setupOutputVariableListener(this.getIfFalse(), !t4);
          }, e3.prototype.setupOutputVariableListener = function(t4, e4) {
            var n2 = this;
            ce(t4) && this.addListener(t4, (function() {
              e4 && n2.trigger(Ht, t4);
            }));
          }, e3.prototype.addListener = function(t4, e4) {
            var n2 = new _e({ em: this.em, resolver: new me(t4, { em: this.em, collectionsStateMap: this.collectionsStateMap }), onUpdate: e4 });
            this.resolverListeners.push(n2);
          }, e3.prototype.emitConditionEvaluationChange = function() {
            var t4 = this.isTrue();
            this._previousEvaluationResult !== t4 && (this._previousEvaluationResult = t4, this.trigger(Ft, t4), this.emitOutputValueChange());
          }, e3.prototype.emitOutputValueChange = function() {
            var t4 = this.getDataValue();
            this.trigger(Ht, t4);
          }, e3.prototype.cleanupListeners = function() {
            this.resolverListeners.forEach((function(t4) {
              return t4.destroy();
            })), this.resolverListeners = [];
          }, e3.prototype.toJSON = function() {
            var t4 = this.getIfTrue(), e4 = this.getIfFalse();
            return { type: Vt, condition: this._conditionEvaluator.toJSON(), ifTrue: t4, ifFalse: e4 };
          }, e3;
        })(u.Kx), zt = "data-condition-true-content", Bt = "data-condition-false-content", Wt = function() {
          return Wt = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Wt.apply(this, arguments);
        }, $t = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, qt = function(e3) {
          return (0, t2.isArray)(e3.get(Tn));
        }, Gt = function(t3) {
          return !!t3.get(Pn);
        }, Kt = function(t3) {
          return !(!qt(t3) && !Gt(t3));
        }, Yt = function(t3) {
          var e3 = t3.parent();
          return Kt(t3) && (!e3 || !Kt(e3));
        }, Jt = function(t3) {
          t3.__symbReady || (t3.on("change", t3.__upSymbProps), t3.__symbReady = true);
        }, Xt = function(e3) {
          var n2 = e3.get(Pn);
          if (n2 && (0, t2.isString)(n2)) {
            var o2 = e3.__getAllById()[n2];
            o2 ? (n2 = o2, e3.set(Pn, o2)) : n2 = 0;
          }
          return n2 || void 0;
        }, Zt = function(e3) {
          var n2 = null == e3 ? void 0 : e3.get(Tn);
          return n2 && (0, t2.isArray)(n2) && (n2.forEach((function(o2, r2) {
            o2 && (0, t2.isString)(o2) && (n2[r2] = e3.__getAllById()[o2]);
          })), n2 = n2.filter((function(e4) {
            return e4 && !(0, t2.isString)(e4);
          }))), n2 || void 0;
        }, Qt = function(e3, n2) {
          void 0 === n2 && (n2 = "");
          var o2 = null == e3 ? void 0 : e3.get(En), r2 = n2.split(":")[0], i2 = n2 !== r2 ? [n2, r2] : [n2];
          return true === o2 || (0, t2.isArray)(o2) && i2.some((function(t3) {
            return o2.indexOf(t3) >= 0;
          }));
        }, te = function(t3, e3) {
          void 0 === e3 && (e3 = {});
          var n2 = [], o2 = e3.changed;
          if (e3.fromInstance || e3.noPropagate || e3.fromUndo || o2 && Qt(t3, o2)) return n2;
          var r2 = Zt(t3) || [], i2 = Xt(t3);
          return n2 = (i2 ? $t([i2], Zt(i2) || [], true) : r2).filter((function(e4) {
            return e4 !== t3;
          })).filter((function(t4) {
            return !(o2 && Qt(t4, o2));
          }));
        }, ee = function(t3, e3) {
          for (var n2 = t3, o2 = t3.parent(e3); o2 && Kt(o2); ) n2 = o2, o2 = o2.parent(e3);
          return n2;
        }, ne = function(t3, e3) {
          void 0 === e3 && (e3 = {});
          var n2 = Xt(t3), o2 = n2 && Zt(n2);
          !e3.skipRefs && o2 && n2.set(Tn, o2.filter((function(e4) {
            return e4 !== t3;
          }))), t3.set(Pn, 0), t3.components().forEach((function(t4) {
            return ne(t4, e3);
          }));
        }, oe = function(t3, e3, n2, o2) {
          void 0 === o2 && (o2 = {});
          var r2 = Xt(t3), i2 = Zt(t3);
          (r2 || i2) && t3.em.log(e3, { model: t3, toUp: n2, context: "symbols", opts: o2 });
        }, re = function(t3) {
          var n2, o2;
          ["status", "open", Tn, Pn, En].forEach((function(e3) {
            return delete t3[e3];
          })), null === (n2 = t3.attributes) || void 0 === n2 || delete n2.id, (0, e2.isEmptyObj)(null !== (o2 = t3.attributes) && void 0 !== o2 ? o2 : {}) && delete t3.attributes;
        }, ie = function(e3, n2) {
          var o2 = Wt({}, e3);
          return (0, t2.keys)(e3).forEach((function(t3) {
            ae(e3, t3, n2) || delete o2[t3];
          })), o2;
        }, ae = function(t3, e3, n2) {
          var o2 = (function() {
            var n3;
            if ("attributes" === e3) {
              var o3 = t3["attributes"];
              return Object.values(o3).some((function(t4) {
                return !!(null == t4 ? void 0 : t4.collectionId);
              }));
            }
            return !!(null === (n3 = t3[e3]) || void 0 === n3 ? void 0 : n3.collectionId);
          })();
          return !Qt(n2, e3) || o2;
        }, se = function(t3, e3, n2, o2) {
          var r2 = o2 || n2 || {}, i2 = { fromInstance: r2.fromInstance, fromUndo: r2.fromUndo }, a2 = e3.opt.temporary;
          if (o2) if (o2.add) {
            var s2 = [], l2 = !!Zt(t3);
            if ((m2 = te(t3, Wt(Wt({}, i2), { changed: "components:add" }))).length) {
              var c2 = Xt(e3);
              s2 = Zt(c2 || e3) || [], (s2 = $t([], s2, true)).push(c2 || e3);
            }
            !a2 && oe(t3, "add", m2, { opts: o2, addedInstances: s2.map((function(t4) {
              return t4.cid;
            })), added: e3.cid }), m2.forEach((function(n3) {
              var r3 = ee(n3), i3 = s2.filter((function(t4) {
                var e4 = ee(t4, { prev: 1 });
                return r3 && e4 && e4 === r3;
              }))[0] || e3.clone({ symbol: true, symbolInv: l2 });
              n3.append(i3, Wt({ fromInstance: t3 }, o2));
            }));
          } else {
            var u2 = Xt(e3);
            if (u2 && !o2.temporary && u2.set(Tn, Zt(u2).filter((function(t4) {
              return t4 !== e3;
            }))), !Yt(e3) && !o2.skipRefsUp) {
              var p2 = "components:remove", d2 = o2.index, f2 = e3.parent(), h2 = Wt({ fromInstance: e3 }, o2), v2 = Yt(e3), g2 = function(t4) {
                var e4 = t4.parent();
                e4 && !Qt(e4, p2) && t4.remove(h2);
              };
              m2 = Qt(f2, p2) ? [] : te(e3, i2);
              v2 && (m2 = f2 && te(f2, Wt(Wt({}, i2), { changed: p2 })), g2 = function(t4) {
                var e4 = t4.components().at(d2);
                e4 && e4.remove(Wt({ fromInstance: f2 }, h2));
              }), !a2 && oe(t3, "remove", m2, { opts: o2, removed: e3.cid, isSymbNested: v2 }), m2.forEach(g2);
            }
          }
          else {
            var y2 = e3, m2 = te(t3, Wt(Wt({}, i2), { changed: "components:reset" })), b2 = y2.models, _2 = /* @__PURE__ */ new Set();
            oe(t3, "reset", m2, { components: b2 }), m2.forEach((function(e4) {
              var o3 = e4.components(), r3 = b2.map((function(e5, n3) {
                return t3.get(wt) ? e5.clone({ symbol: Kt(e5) }) : !Kt(e5) || _2.has(e5) ? (_2.add(e5), e5.clone({ symbol: true })) : o3.at(n3);
              }));
              o3.reset(r3, Wt({ fromInstance: t3 }, n2));
            }));
          }
          t3.__changesUp(r2);
        };
        function le(t3) {
          return "object" == typeof t3 && [ge, Vt].includes(null == t3 ? void 0 : t3.type);
        }
        function ce(t3) {
          return (null == t3 ? void 0 : t3.type) === ge;
        }
        function ue(t3, e3) {
          return le(t3) ? (ce(t3) && me.resolveDataResolver(t3, e3), de(t3, e3)) : t3;
        }
        function pe(t3, e3) {
          var n2, o2, r2 = t3.type;
          switch (r2) {
            case ge:
              o2 = new me(t3, e3);
              break;
            case Vt:
              o2 = new Ut(t3, e3);
              break;
            default:
              return void (null === (n2 = e3.em) || void 0 === n2 || n2.logWarning("Unsupported resolver type: ".concat(r2)));
          }
          return o2;
        }
        function de(t3, e3) {
          var n2 = pe(t3, e3);
          return null == n2 ? void 0 : n2.getDataValue();
        }
        function fe(t3) {
          var e3 = (function(t4) {
            var e4 = t4.collectionsStateMap;
            if (!e4) return false;
            var n3 = Object.keys(e4);
            if (!n3.length) return false;
            var o2 = Xt(t4);
            if (!o2 || o2 === t4) return false;
            var r2 = o2.collectionsStateMap;
            return Object.keys(r2).every((function(t5) {
              return n3.includes(t5);
            }));
          })(t3), n2 = e3 ? (function(t4) {
            var e4 = Xt(t4);
            return e4 ? e4.getId() : "";
          })(t3) : null;
          return { shouldSync: e3, itemId: n2 };
        }
        var he = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ve = function() {
          return ve = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ve.apply(this, arguments);
        }, ge = "data-variable", ye = (function(t3) {
          function e3(e4, n2) {
            var o2 = t3.call(this, e4, n2) || this;
            return o2.em = n2.em, o2.collectionsStateMap = n2.collectionsStateMap, o2;
          }
          return he(e3, t3), e3.prototype.defaults = function() {
            return { type: ge, defaultValue: "", path: "", collectionId: void 0, variableType: void 0, asPlainText: void 0 };
          }, Object.defineProperty(e3.prototype, "path", { get: function() {
            var t4;
            return null !== (t4 = this.get("path")) && void 0 !== t4 ? t4 : "";
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "defaultValue", { get: function() {
            var t4;
            return null !== (t4 = this.get("defaultValue")) && void 0 !== t4 ? t4 : "";
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "collectionId", { get: function() {
            return this.get("collectionId");
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "variableType", { get: function() {
            return this.get("variableType");
          }, enumerable: false, configurable: true }), e3.prototype.resolvesFromCollection = function() {
            return !!this.collectionId;
          }, e3.prototype.updateCollectionsStateMap = function(t4) {
            this.collectionsStateMap = t4, this.trigger("change");
          }, e3.prototype.getResolverPath = function() {
            var t4;
            if (this.resolvesFromCollection()) {
              var e4 = this.resolveCollectionVariable();
              return !!ce(e4) && (null !== (t4 = e4.path) && void 0 !== t4 ? t4 : "");
            }
            return this.path;
          }, e3.prototype.toJSON = function(e4) {
            var n2 = this.defaults(), o2 = t3.prototype.toJSON.call(this, e4), r2 = Object.fromEntries(Object.entries(o2).filter((function(t4) {
              var e5 = t4[0];
              return t4[1] !== n2[e5];
            })));
            return ve(ve({}, r2), { type: ge });
          }, e3.prototype.getDataValue = function() {
            var t4 = { em: this.em, collectionsStateMap: this.collectionsStateMap };
            return e3.resolveDataResolver({ path: this.path, defaultValue: this.defaultValue, collectionId: this.collectionId, variableType: this.variableType }, t4);
          }, e3.resolveDataSourceVariable = function(t4, e4) {
            var n2, o2;
            return e4.em.DataSources.getValue(null !== (n2 = t4.path) && void 0 !== n2 ? n2 : "", null !== (o2 = t4.defaultValue) && void 0 !== o2 ? o2 : "");
          }, e3.resolveDataResolver = function(t4, n2) {
            var o2, r2, i2, a2;
            if (t4.collectionId) {
              var s2 = e3.resolveCollectionVariable(t4, n2);
              return ce(s2) ? e3.resolveDataSourceVariable({ path: null !== (o2 = s2.path) && void 0 !== o2 ? o2 : "", defaultValue: null !== (r2 = t4.defaultValue) && void 0 !== r2 ? r2 : "" }, { em: n2.em }) : s2;
            }
            return e3.resolveDataSourceVariable({ path: null !== (i2 = t4.path) && void 0 !== i2 ? i2 : "", defaultValue: null !== (a2 = t4.defaultValue) && void 0 !== a2 ? a2 : "" }, { em: n2.em });
          }, e3.prototype.resolveCollectionVariable = function() {
            var t4 = this.em, n2 = this.collectionsStateMap;
            return e3.resolveCollectionVariable(this.attributes, { em: t4, collectionsStateMap: n2 });
          }, e3.resolveCollectionVariable = function(t4, n2) {
            var o2 = t4.collectionId, r2 = void 0 === o2 ? "" : o2, i2 = t4.variableType, a2 = t4.path, s2 = t4.defaultValue, l2 = void 0 === s2 ? "" : s2, c2 = n2.em, u2 = n2.collectionsStateMap;
            if (!u2) return l2;
            var p2 = u2[r2];
            return p2 ? i2 ? "currentItem" === i2 ? e3.resolveCurrentItem(p2, a2, r2, c2) : p2[i2] : (c2.logError("Missing collection variable type for collection: ".concat(r2)), l2) : l2;
          }, e3.resolveCurrentItem = function(t4, e4, n2, o2) {
            var r2 = t4.currentItem;
            if (!r2) return o2.logError("Current item is missing for collection: ".concat(n2)), "";
            if (r2.type === ge) {
              var i2 = r2.path ? "".concat(r2.path, ".").concat(e4) : e4;
              return { type: ge, path: i2 };
            }
            return e4 && !r2[e4] ? (o2.logError("Path not found in current item: ".concat(e4, " for collection: ").concat(n2)), "") : e4 ? r2[e4] : r2;
          }, e3;
        })(u.Kx);
        const me = ye;
        var be = (function() {
          function t3(t4) {
            var e3 = this;
            this.listeners = [], this.model = new u.Kx(), this.onChange = function() {
              var t5 = e3.resolver.getDataValue();
              e3.onUpdate(t5);
            }, this.em = t4.em, this.resolver = t4.resolver, this.onUpdate = t4.onUpdate, this.listenToResolver();
          }
          return t3.prototype.createListener = function(t4, e3, n2) {
            return void 0 === n2 && (n2 = this.onChange), { obj: t4, event: e3, callback: n2 };
          }, t3.prototype.listenToResolver = function() {
            var t4 = this.resolver, e3 = this.model;
            this.removeListeners();
            var n2 = [];
            switch (t4.attributes.type) {
              case ge:
                n2 = this.listenToDataVariable(t4);
                break;
              case Vt:
                n2 = this.listenToConditionalVariable(t4);
            }
            n2.forEach((function(t5) {
              return e3.listenTo(t5.obj, t5.event, t5.callback);
            })), this.listeners = n2;
          }, t3.prototype.listenToConditionalVariable = function(t4) {
            return [{ obj: t4, event: Ht, callback: this.onChange }];
          }, t3.prototype.listenToDataVariable = function(t4) {
            var n2 = this, o2 = this.em, r2 = [], i2 = function() {
              n2.listenToResolver(), n2.onChange();
            };
            r2.push(this.createListener(t4, "change", i2));
            var a2 = t4.getResolverPath();
            if (!a2) return r2;
            var s2 = (0, e2.stringToPath)(a2 || "").join("."), l2 = o2.DataSources.fromPath(a2), c2 = l2[0], u2 = l2[1];
            return c2 && r2.push(this.createListener(c2.records, "add remove reset", i2)), u2 && r2.push(this.createListener(u2, "change")), r2.push(this.createListener(o2.DataSources.all, "add remove reset", i2), this.createListener(o2, "".concat(yt.path, ":").concat(s2))), r2;
          }, t3.prototype.removeListeners = function() {
            var t4 = this;
            this.listeners.forEach((function(e3) {
              return t4.model.stopListening(e3.obj, e3.event, e3.callback);
            })), this.listeners = [];
          }, t3.prototype.destroy = function() {
            this.removeListeners();
          }, t3;
        })();
        const _e = be;
        var we = function() {
          return we = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, we.apply(this, arguments);
        }, xe = (function() {
          function t3(t4, e3, n2) {
            this.model = t4, this.updateFn = e3, this.resolverListeners = {}, this.em = n2.em;
          }
          return t3.prototype.bindModel = function(t4) {
            this.model = t4;
          }, t3.prototype.setDataValues = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), e3.skipWatcherUpdates || e3.fromDataSource || this.removeListeners(), this.addDataValues(t4, e3);
          }, t3.prototype.addDataValues = function(t4, e3) {
            if (void 0 === e3 && (e3 = {}), !t4) return {};
            var n2 = this.evaluateValues(t4);
            return e3.skipWatcherUpdates || e3.fromDataSource || this.updateListeners(t4), n2;
          }, t3.prototype.onCollectionsStateMapUpdate = function() {
            var t4 = this, e3 = this.getValuesResolvingFromCollections();
            if (e3.length) {
              e3.forEach((function(e4) {
                return t4.resolverListeners[e4].resolver.updateCollectionsStateMap(t4.collectionsStateMap);
              }));
              var n2 = this.addDataValues(this.getValuesOrResolver(Object.fromEntries(e3.map((function(t5) {
                return [t5, ""];
              })))));
              Object.entries(n2).forEach((function(e4) {
                var n3 = e4[0], o2 = e4[1];
                return t4.updateFn(t4.model, n3, o2);
              }));
            }
          }, Object.defineProperty(t3.prototype, "collectionsStateMap", { get: function() {
            var t4, e3 = this.model;
            return null !== (t4 = null == e3 ? void 0 : e3.collectionsStateMap) && void 0 !== t4 ? t4 : {};
          }, enumerable: false, configurable: true }), t3.prototype.updateListeners = function(t4) {
            var e3 = this, n2 = this.em, o2 = this.collectionsStateMap;
            this.removeListeners(Object.keys(t4));
            for (var r2 = Object.keys(t4), i2 = function(i3) {
              var s3 = r2[i3], l2 = t4[s3];
              if (!le(l2)) return "continue";
              var c2 = pe(l2, { em: n2, collectionsStateMap: o2 });
              a2.resolverListeners[s3] = new _e({ em: n2, resolver: c2, onUpdate: function(t5) {
                return e3.updateFn(e3.model, s3, t5);
              } });
            }, a2 = this, s2 = 0; s2 < r2.length; s2++) i2(s2);
          }, t3.prototype.evaluateValues = function(t4) {
            for (var e3 = this.em, n2 = this.collectionsStateMap, o2 = we({}, t4), r2 = Object.keys(t4), i2 = 0; i2 < r2.length; i2++) {
              var a2 = r2[i2], s2 = t4[a2];
              le(s2) && (o2[a2] = de(s2, { em: e3, collectionsStateMap: n2 }));
            }
            return o2;
          }, t3.prototype.removeListeners = function(t4) {
            var e3 = this, n2 = t4 || Object.keys(this.resolverListeners);
            return n2.forEach((function(t5) {
              var n3, o2;
              e3.resolverListeners[t5] && (null === (o2 = (n3 = e3.resolverListeners[t5]).destroy) || void 0 === o2 || o2.call(n3), delete e3.resolverListeners[t5]);
            })), n2;
          }, t3.prototype.getValuesOrResolver = function(t4) {
            if (!t4) return {};
            for (var e3 = we({}, t4), n2 = Object.keys(e3), o2 = 0; o2 < n2.length; o2++) {
              var r2 = n2[o2], i2 = this.resolverListeners[r2];
              i2 && (e3[r2] = i2.resolver.toJSON());
            }
            return e3;
          }, t3.prototype.getAllDataResolvers = function() {
            for (var t4 = {}, e3 = Object.keys(this.resolverListeners), n2 = 0; n2 < e3.length; n2++) {
              var o2 = e3[n2];
              t4[o2] = this.resolverListeners[o2].resolver.toJSON();
            }
            return t4;
          }, t3.prototype.getValuesResolvingFromCollections = function() {
            var t4 = this;
            return Object.keys(this.resolverListeners).filter((function(e3) {
              return t4.resolverListeners[e3].resolver.resolvesFromCollection();
            }));
          }, t3.prototype.destroy = function() {
            this.removeListeners();
          }, t3;
        })(), Ce = function() {
          return Ce = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ce.apply(this, arguments);
        }, Se = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Oe = { fromDataSource: true, avoidStore: true }, Te = "__data_values", Pe = (function() {
          function e3(t3, e4) {
            var n2 = this;
            this.model = t3, this.options = e4, this.onPropertyUpdate = function(t4, e5, n3) {
              null == t4 || t4.set(e5, n3, Oe);
            }, this.onAttributeUpdate = function(t4, e5, o2) {
              var r2;
              n2.isComponent(t4) && (null == t4 || t4.addAttributes(((r2 = {})[e5] = o2, r2), Oe));
            }, this.onStyleUpdate = function(t4, e5, n3) {
              var o2;
              null == t4 || t4.addStyle(((o2 = {})[e5] = n3, o2), Ce(Ce({}, Oe), { partial: true, avoidStore: true }));
            }, this.propertyWatcher = new xe(t3, this.onPropertyUpdate, e4), this.attributeWatcher = new xe(t3, this.onAttributeUpdate, e4), this.styleWatcher = new xe(t3, this.onStyleUpdate, e4);
          }
          return e3.prototype.bindModel = function(t3) {
            this.model = t3, this.watchers.forEach((function(e4) {
              return e4.bindModel(t3);
            })), this.updateSymbolOverride();
          }, e3.prototype.addProps = function(t3, e4) {
            var n2;
            void 0 === e4 && (e4 = {});
            var o2 = null !== (n2 = t3[Te]) && void 0 !== n2 ? n2 : {}, r2 = this.filterProps(t3), i2 = Ce(Ce({}, t3), this.propertyWatcher.addDataValues(Ce(Ce({}, r2), o2.props), e4));
            return this.shouldProcessProp("attributes", t3, o2) && (i2.attributes = this.processAttributes(t3, o2, e4)), this.shouldProcessProp("style", t3, o2) && (i2.style = this.processStyles(t3, o2, e4)), e4.skipWatcherUpdates || e4.fromDataSource || (this.updateSymbolOverride(), i2[Te] = { props: this.propertyWatcher.getAllDataResolvers(), style: this.styleWatcher.getAllDataResolvers(), attributes: this.attributeWatcher.getAllDataResolvers() }), i2;
          }, e3.prototype.getProps = function(e4) {
            var n2 = this.getValueOrResolver("props", e4), o2 = Ce({}, n2);
            return delete o2[Te], (0, t2.isEmpty)(e4.attributes) || (o2.attributes = this.getValueOrResolver("attributes", e4.attributes)), (0, t2.isObject)(e4.style) && !(0, t2.isEmpty)(e4.style) && (o2.style = this.getValueOrResolver("styles", e4.style)), o2;
          }, e3.prototype.getValueOrResolver = function(t3, e4) {
            var n2;
            switch (t3) {
              case "props":
                n2 = this.propertyWatcher;
                break;
              case "styles":
                n2 = this.styleWatcher;
                break;
              case "attributes":
                n2 = this.attributeWatcher;
                break;
              default:
                var o2 = this.options.em;
                return null == o2 || o2.logError("Invalid target '".concat(t3, "'. Must be 'props', 'styles', or 'attributes'.")), {};
            }
            return e4 ? n2.getValuesOrResolver(e4) : n2.getAllDataResolvers();
          }, e3.prototype.removeAttributes = function(t3) {
            this.attributeWatcher.removeListeners(t3), this.updateSymbolOverride();
          }, e3.prototype.disableStyles = function() {
            this.styleWatcher.removeListeners(), this.styleWatcher.destroy();
          }, e3.prototype.onCollectionsStateMapUpdate = function() {
            this.watchers.forEach((function(t3) {
              return t3.onCollectionsStateMapUpdate();
            }));
          }, e3.prototype.destroy = function() {
            this.watchers.forEach((function(t3) {
              return t3.destroy();
            }));
          }, Object.defineProperty(e3.prototype, "watchers", { get: function() {
            return [this.propertyWatcher, this.styleWatcher, this.attributeWatcher];
          }, enumerable: false, configurable: true }), e3.prototype.isComponent = function(t3) {
            return t3 instanceof Mn;
          }, e3.prototype.shouldProcessProp = function(t3, e4, n2) {
            var o2 = "attributes" === t3 ? this.attributeWatcher : this.styleWatcher, r2 = n2[t3], i2 = !!e4[t3], a2 = r2 && Object.keys(r2).length > 0, s2 = r2 && Object.keys(o2.getAllDataResolvers()).length > 0;
            return i2 || a2 || s2;
          }, e3.prototype.updateSymbolOverride = function() {
            var t3, e4 = this.model;
            if (this.isComponent(e4) && !!Object.keys(null !== (t3 = null == e4 ? void 0 : e4.collectionsStateMap) && void 0 !== t3 ? t3 : {}).length) {
              var n2 = this.propertyWatcher.getValuesResolvingFromCollections(), o2 = this.attributeWatcher.getValuesResolvingFromCollections(), r2 = Se(["locked", "layerable", Te], n2, true);
              Object.keys(o2).length && r2.push("attributes"), te(e4).forEach((function(t4) {
                t4.setSymbolOverride(r2, { fromDataSource: true });
              })), e4.setSymbolOverride(r2, { fromDataSource: true });
            }
          }, e3.prototype.filterProps = function(t3) {
            var e4 = ["components", "dataResolver", Te], n2 = Object.fromEntries(Object.entries(t3).filter((function(t4) {
              var n3 = t4[0];
              return !e4.includes(n3);
            })));
            return n2;
          }, e3.prototype.processAttributes = function(t3, e4, n2) {
            var o2;
            return void 0 === n2 && (n2 = {}), this.attributeWatcher.setDataValues(Ce(Ce({}, t3.attributes), null !== (o2 = e4.attributes) && void 0 !== o2 ? o2 : {}), n2);
          }, e3.prototype.processStyles = function(t3, e4, n2) {
            var o2;
            return void 0 === n2 && (n2 = {}), "string" == typeof t3 ? (this.styleWatcher.removeListeners(), t3) : this.styleWatcher.setDataValues(Ce(Ce({}, t3.style), null !== (o2 = e4.style) && void 0 !== o2 ? o2 : {}), n2);
          }, e3;
        })(), Ee = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ke = function() {
          return ke = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ke.apply(this, arguments);
        }, Ae = gt(), je = function(e3) {
          return (0, t2.isArray)(e3) ? e3[e3.length - 1] : e3;
        }, Me = (function(n2) {
          function o2(t3, e3) {
            void 0 === e3 && (e3 = {});
            var o3 = this, r2 = e3.em, i2 = new Pe(void 0, { em: r2 });
            return (o3 = n2.call(this, t3, ke(ke({}, e3), { dataResolverWatchers: i2 })) || this).views = [], o3.collectionsStateMap = {}, i2.bindModel(o3), o3.dataResolverWatchers = i2, o3.em = e3.em, o3.opt = e3, o3;
          }
          return Ee(o2, n2), o2.prototype.get = function(t3, e3) {
            return (null == e3 ? void 0 : e3.skipResolve) ? this.dataResolverWatchers.getValueOrResolver("props")[t3] : n2.prototype.get.call(this, t3);
          }, o2.prototype.set = function(t3, e3, o3) {
            var r2, i2, a2, s2, l2 = { skipWatcherUpdates: false, fromDataSource: false };
            "object" == typeof t3 ? (a2 = t3, s2 = e3 || l2) : "string" == typeof t3 ? ((r2 = {})[t3] = e3, a2 = r2, s2 = o3 || l2) : (a2 = {}, s2 = l2), this.dataResolverWatchers = null !== (i2 = this.dataResolverWatchers) && void 0 !== i2 ? i2 : s2.dataResolverWatchers;
            var c2 = this.dataResolverWatchers.addProps(a2, s2);
            return n2.prototype.set.call(this, c2, s2);
          }, o2.prototype.parseStyle = function(t3) {
            return Ae.parseStyle(t3);
          }, o2.prototype.extendStyle = function(t3) {
            return ke(ke({}, this.getStyle("", { skipResolve: true })), t3);
          }, o2.prototype.getStyle = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = this.get("style"), r2 = (0, t2.isString)(o3) ? this.parseStyle(o3) : (0, t2.isObject)(o3) ? ke({}, o3) : {};
            delete r2.__p;
            var i2 = !e3 || "" === e3 || (0, t2.isObject)(e3);
            if (!n3.skipResolve) return i2 ? r2 : r2[e3];
            var a2 = this.dataResolverWatchers.getValueOrResolver("styles", r2);
            return i2 ? a2 : a2[e3];
          }, o2.prototype.setStyle = function(n3, o3) {
            var r2 = this;
            void 0 === n3 && (n3 = {}), void 0 === o3 && (o3 = {}), (0, t2.isString)(n3) && (n3 = this.parseStyle(n3));
            var i2 = this.getStyle("", { skipResolve: true });
            o3.partial || o3.avoidStore ? (o3.avoidStore = true, n3.__p = true) : delete n3.__p;
            var a2 = ke({}, n3), s2 = ke({}, a2);
            (0, t2.keys)(s2).forEach((function(t3) {
              "" !== s2[t3] || delete s2[t3];
            }));
            var l2 = this.dataResolverWatchers.addProps({ style: s2 }, o3);
            this.set(l2, o3), s2 = l2["style"];
            var c2 = Object.keys((0, e2.shallowDiff)(i2, a2)).reduce((function(t3, e3) {
              var n4;
              return ke(ke({}, t3), ((n4 = {})[e3] = s2[e3], n4));
            }), {});
            return delete c2.__p, (0, t2.keys)(c2).forEach((function(t3) {
              var e3 = r2.em;
              o3.noEvent || (r2.trigger("change:style:".concat(t3)), e3 && (e3.trigger("styleable:change", r2, t3, o3), e3.trigger("styleable:change:".concat(t3), r2, t3, o3)));
            })), s2;
          }, o2.prototype.getView = function(t3) {
            var e3 = this.views, n3 = this.em, o3 = t3 || (null == n3 ? void 0 : n3.getCurrentFrameModel());
            return o3 ? e3.find((function(t4) {
              return t4.frameView === o3.view;
            })) : e3[0];
          }, o2.prototype.setView = function(t3) {
            var e3 = this.views;
            !e3.includes(t3) && e3.push(t3);
          }, o2.prototype.removeView = function(t3) {
            var e3 = this.views;
            e3.splice(e3.indexOf(t3), 1);
          }, o2.prototype.updateView = function() {
            this.views.forEach((function(t3) {
              return t3.updateStyles();
            }));
          }, o2.prototype.addStyle = function(t3, e3, n3) {
            var o3;
            void 0 === e3 && (e3 = ""), void 0 === n3 && (n3 = {}), "string" == typeof t3 ? ((o3 = {})[t3] = e3, t3 = o3) : n3 = e3 || {}, n3.addStyle = t3, t3 = this.extendStyle(t3), this.setStyle(t3, n3);
          }, o2.prototype.removeStyle = function(t3) {
            var e3 = this.getStyle();
            delete e3[t3], this.setStyle(e3);
          }, o2.prototype.styleToString = function(e3) {
            void 0 === e3 && (e3 = {});
            var n3 = [], o3 = e3.style || this.getStyle(e3), r2 = e3.important, i2 = function(e4) {
              var i3 = (0, t2.isArray)(r2) ? r2.indexOf(e4) >= 0 : r2;
              if ("__" === e4.substring(0, 2)) return "continue";
              var a3 = o3[e4];
              ((0, t2.isArray)(a3) ? a3 : [a3]).forEach((function(t3) {
                var o4 = "".concat(t3).concat(i3 ? " !important" : "");
                o4 && n3.push("".concat(e4, ":").concat(o4, ";"));
              }));
            };
            for (var a2 in o3) i2(a2);
            return n3.join("");
          }, o2.prototype.getSelectors = function() {
            return this.get("selectors") || this.get("classes");
          }, o2.prototype.getSelectorsString = function(t3) {
            return this.selectorsToString ? this.selectorsToString(t3) : this.getSelectors().getFullString();
          }, o2.prototype.onCollectionsStateMapUpdate = function(t3) {
            this.collectionsStateMap = t3, this.dataResolverWatchers.onCollectionsStateMapUpdate();
          }, o2.prototype.clone = function(t3, e3) {
            var n3 = this.dataResolverWatchers.getProps(this.attributes), o3 = ke(ke({}, n3), t3), r2 = ke(ke({}, this.opt), e3);
            return new (0, this.constructor)(o3, r2);
          }, o2.prototype.toJSON = function(t3, e3) {
            if (null == t3 ? void 0 : t3.fromUndo) return ke({}, n2.prototype.toJSON.call(this, t3));
            var o3 = ke(ke({}, this.attributes), e3);
            return this.dataResolverWatchers.getProps(o3);
          }, o2;
        })(u.Kx);
        const De = Me;
        var Le = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ie = function() {
          return Ie = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ie.apply(this, arguments);
        }, Ne = function(t3, e3) {
          var n2 = {};
          for (var o2 in t3) Object.prototype.hasOwnProperty.call(t3, o2) && e3.indexOf(o2) < 0 && (n2[o2] = t3[o2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o2 = Object.getOwnPropertySymbols(t3); r2 < o2.length; r2++) e3.indexOf(o2[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o2[r2]) && (n2[o2[r2]] = t3[o2[r2]]);
          }
          return n2;
        }, Re = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Ve = function(e3, n2) {
          return void 0 === n2 && (n2 = []), e3 ? (((0, t2.isArray)(e3) || (0, t2.isFunction)(e3.map) ? e3 : [e3]).map((function(t3) {
            n2.push(t3.getId()), Ve(t3.components().models, n2);
          })), n2) : [];
        }, Fe = function(e3, n2, o2) {
          void 0 === n2 && (n2 = {}), void 0 === o2 && (o2 = {}), o2.visitedCmps = o2.visitedCmps || {};
          var r2 = o2.visitedCmps, i2 = o2.updateOptions || {};
          return ((0, t2.isArray)(e3) ? e3 : [e3]).map((function(e4) {
            var a2 = e4.attributes, s2 = void 0 === a2 ? {} : a2, l2 = e4.components, c2 = e4.tagName, u2 = e4.style, p2 = s2.id, d2 = (s2.draggable, Ne(s2, ["id", "draggable"])), f2 = e4;
            if (p2) {
              if (r2[p2]) r2[p2].push(f2), p2 = Mn.getNewId(n2), f2.attributes.id = p2;
              else if (r2[p2] = [], n2[p2]) {
                f2 = n2[p2];
                var h2 = i2.onAttributes, v2 = i2.onStyle, g2 = f2;
                c2 && g2.set({ tagName: c2 }, Ie(Ie({}, o2), { silent: true })), h2 ? h2({ item: e4, component: g2, attributes: d2, options: o2 }) : (0, t2.keys)(d2).length && g2.addAttributes(d2, Ie({}, o2)), v2 ? v2({ item: e4, component: g2, style: u2, options: o2 }) : (0, t2.keys)(u2).length && g2.addStyle(u2, o2);
              }
            }
            var y2 = (0, t2.isFunction)(f2.components) ? f2 : null;
            if (l2) {
              var m2 = Fe(l2, n2, o2);
              y2 ? y2.components().reset(m2, o2) : f2.components = m2;
            } else y2 && y2.components().reset([], o2);
            return f2;
          }));
        }, He = (function(e3) {
          function n2(t3, n3) {
            var o2 = e3.call(this, t3, n3) || this;
            o2.opt = n3, o2.listenTo(o2, "add", o2.onAdd), o2.listenTo(o2, "remove", o2.removeChildren), o2.listenTo(o2, "reset", o2.resetChildren);
            var r2 = n3.em, i2 = n3.config;
            return o2.config = i2, o2.em = r2, o2.domc = n3.domc || (null == r2 ? void 0 : r2.Components), o2;
          }
          return Le(n2, e3), Object.defineProperty(n2.prototype, "events", { get: function() {
            var t3;
            return null === (t3 = this.domc) || void 0 === t3 ? void 0 : t3.events;
          }, enumerable: false, configurable: true }), n2.prototype.resetChildren = function(t3, e4) {
            var n3 = this;
            void 0 === e4 && (e4 = {});
            var o2 = this, r2 = e4.previousModels || [], i2 = r2.filter((function(e5) {
              return !t3.get(e5.cid);
            })), a2 = Ve(t3), s2 = Ve(r2).filter((function(t4) {
              return a2.indexOf(t4) >= 0;
            }));
            e4.keepIds = (e4.keepIds || []).concat(s2), i2.forEach((function(t4) {
              return n3.removeChildren(t4, o2, e4);
            })), t3.each((function(t4) {
              return n3.onAdd(t4);
            }));
          }, n2.prototype.resetFromString = function(t3, e4) {
            var n3, o2;
            void 0 === t3 && (t3 = ""), void 0 === e4 && (e4 = {}), e4.keepIds = Ve(this);
            var r2 = this, i2 = r2.domc, a2 = r2.em, s2 = r2.parent, l2 = null == a2 ? void 0 : a2.Css, c2 = (null == i2 ? void 0 : i2.allById()) || {}, u2 = this.parseString(t3, e4), p2 = Fe(u2, c2, e4), d2 = e4.visitedCmps, f2 = void 0 === d2 ? {} : d2;
            Object.keys(f2).forEach((function(t4) {
              var e5 = f2[t4];
              if (e5.length) {
                var n4 = (null == l2 ? void 0 : l2.getRules("#".concat(t4))) || [];
                n4.length && e5.forEach((function(t5) {
                  n4.forEach((function(e6) {
                    var n5 = e6.clone();
                    n5.set("selectors", ["#".concat(t5.attributes.id)]), l2.getAll().add(n5);
                  }));
                }));
              }
            })), this.reset(p2, e4), null == a2 || a2.trigger("component:content", s2, e4, t3), null === (o2 = (n3 = s2).__checkInnerChilds) || void 0 === o2 || o2.call(n3);
          }, n2.prototype.removeChildren = function(t3, e4, n3) {
            var o2 = this;
            if (void 0 === n3 && (n3 = {}), t3) {
              var r2 = this.domc, i2 = this.em, a2 = n3.temporary || n3.fromUndo;
              if (t3.prevColl = this, !a2) {
                var s2 = t3.getId(), l2 = i2.Selectors.getAll(), c2 = i2.Css.getAll(), u2 = (n3.keepIds || []).indexOf(s2) < 0;
                delete (r2 ? r2.allById() : {})[s2];
                var p2 = u2 ? c2.remove(c2.filter((function(t4) {
                  return t4.getSelectors().getFullString() === "#".concat(s2);
                })), n3) : [];
                l2.remove(p2.map((function(t4) {
                  return t4.getSelectors().at(0);
                }))), t3.opt.temporary || (i2.Commands.run("core:component-style-clear", { target: t3 }), t3.views.forEach((function(e5) {
                  e5.scriptContainer && t3.emitWithEditor($.I.scriptUnmount, { component: t3, view: e5, el: e5.el });
                })), t3.removed(), t3.trigger("removed"), i2.trigger($.I.remove, t3), r2 && Gt(t3) && Yt(t3) && r2.symbols.__trgEvent(r2.events.symbolInstanceRemove, { component: t3 }, true));
                var d2 = t3.components();
                d2.forEach((function(t4) {
                  se(t4, t4, d2, Ie(Ie({}, n3), { skipRefsUp: true })), o2.removeChildren(t4, e4, n3);
                }));
              }
              var f2 = t3.components();
              if (i2.stopListening(f2), i2.stopListening(t3), i2.stopListening(t3.get("classes")), t3.__postRemove(), !t3.opt.temporary) {
                var h2 = function(t4) {
                  t4.emitWithEditor($.I.removed, t4, { removeOptions: n3 }), t4.components().forEach((function(t5) {
                    return h2(t5);
                  }));
                };
                h2(t3);
              }
            }
          }, n2.prototype.model = function(t3, e4) {
            var n3, o2 = e4.collection.opt, r2 = o2.em, i2 = r2.Components.componentTypes;
            e4.em = r2, e4.config = o2.config, e4.componentTypes = i2, e4.domc = o2.domc;
            for (var a2 = 0; a2 < i2.length; a2++) {
              if (i2[a2].id == t3.type) {
                n3 = i2[a2].model;
                break;
              }
            }
            return n3 || (n3 = i2[i2.length - 1].model, r2 && t3.type && r2.logWarning("Component type '".concat(t3.type, "' not found"), { attrs: t3, options: e4 })), new n3(t3, e4);
          }, n2.prototype.parseString = function(t3, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = this, o2 = n3.em, r2 = n3.domc, i2 = n3.parent, a2 = null == i2 ? void 0 : i2.is("wrapper"), s2 = e4.asDocument && a2, l2 = o2.Css, c2 = o2.Parser.parseHtml(t3, Ie({ asDocument: s2 }, e4.parserOptions)), u2 = c2.html;
            if (a2 && c2.doctype) {
              var p2 = i2, d2 = c2.html || {}, f2 = d2.components, h2 = void 0 === f2 ? [] : f2, v2 = Ne(d2, ["components"]), g2 = c2.head || {}, y2 = g2.components, m2 = Ne(g2, ["components"]);
              u2 = h2, p2.set(v2, e4), p2.head.set(m2, e4), p2.head.components(y2, e4), p2.docEl.set(c2.root, e4), p2.set({ doctype: c2.doctype });
            }
            if (Mn.checkId(u2, c2.css, r2.componentsById, e4), c2.css && l2 && !e4.temporary) {
              e4.at;
              var b2 = Ne(e4, ["at"]);
              l2.addCollection(c2.css, Ie(Ie({}, b2), { extend: 1 }));
            }
            return u2;
          }, n2.prototype.add = function(n3, o2) {
            var r2 = this;
            if (void 0 === o2 && (o2 = {}), null != n3) {
              o2.keepIds = Re(Re([], o2.keepIds || [], true), Ve(o2.previousModels), true), (0, t2.isString)(n3) ? n3 = this.parseString(n3, o2) : (0, t2.isArray)(n3) && (n3 = Re([], n3, true)).forEach((function(e4, i3) {
                if ((0, t2.isString)(e4)) {
                  var a2 = r2.parseString(e4, o2);
                  n3[i3] = (0, t2.isArray)(a2) && !a2.length ? null : a2;
                }
              }));
              var i2 = ((0, t2.isArray)(n3) ? n3 : [n3]).filter(Boolean).map((function(t3) {
                return r2.processDef(t3);
              }));
              return n3 = (0, t2.isArray)(n3) ? (0, t2.flatten)(i2, 1) : i2[0], e3.prototype.add.call(this, n3, o2);
            }
          }, n2.prototype.processDef = function(e4) {
            if (e4.cid && e4.ccid) return e4;
            var n3 = this.em, o2 = this.config, r2 = (void 0 === o2 ? {} : o2).processor, i2 = e4;
            if (r2) {
              var a2 = r2(i2 = Ie({}, i2));
              a2 && ((0, t2.each)(i2, (function(t3, e5) {
                return delete i2[e5];
              })), (0, t2.extend)(i2, a2));
            }
            if (i2.$$typeof && "object" == typeof i2.props) {
              (i2 = Ie({}, i2)).props = Ie({}, i2.props);
              var s2 = n3.Components, l2 = n3.Parser.parserHtml;
              (0, t2.each)(i2, (function(e5, n4) {
                (0, t2.includes)(["props", "type"], n4) || delete i2[n4];
              }));
              var c2 = i2.props, u2 = c2.children;
              delete c2.children, delete i2.props;
              var p2 = l2.splitPropsFromAttr(c2);
              i2.attributes = p2.attrs, u2 && (i2.components = u2), i2.type ? s2.getType(i2.type) || (i2.tagName = i2.type, delete i2.type) : i2.type = "textnode", (0, t2.extend)(i2, p2.props);
            }
            return i2;
          }, n2.prototype.onAdd = function(e4, n3, o2) {
            void 0 === o2 && (o2 = {});
            var r2 = this.domc, i2 = this.em, a2 = e4.getStyle(), s2 = i2 && i2.getConfig().avoidInlineStyle;
            if (r2 && r2.Component.ensureInList(e4), !(0, t2.isEmpty)(a2) && !s2 && i2 && i2.getConfig().forceClass && !o2.temporary) {
              var l2 = e4.cid;
              i2.Css.setClassRule(l2, a2), e4.setStyle({}), e4.addClass(l2);
            }
            if (e4.__postAdd({ recursive: true }), i2 && !o2.temporary) {
              var c2 = function(t3) {
                i2.trigger($.I.add, t3, o2), t3.components().forEach((function(t4) {
                  return c2(t4);
                }));
              };
              c2(e4), r2 && Gt(e4) && Yt(e4) && r2.symbols.__trgEvent(r2.events.symbolInstanceAdd, { component: e4 }, true);
            }
          }, n2;
        })(u.pM);
        const Ue = He;
        var ze = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Be = 1, We = 2, $e = (function(e3) {
          function n2(t3, o2) {
            void 0 === o2 && (o2 = {});
            var r2 = e3.call(this, t3, o2) || this, i2 = o2.config, a2 = void 0 === i2 ? {} : i2, s2 = r2.get("name"), l2 = r2.get("label");
            s2 ? l2 || r2.set("label", s2) : r2.set("name", l2);
            var c2 = r2.get("name"), u2 = a2.escapeName, p2 = u2 ? u2(c2) : n2.escapeName(c2);
            return r2.set("name", p2), r2.em = o2.em, r2;
          }
          return ze(n2, e3), n2.prototype.defaults = function() {
            return { name: "", label: "", type: Be, active: true, private: false, protected: false, _undo: true };
          }, n2.prototype.isId = function() {
            return this.get("type") === We;
          }, n2.prototype.isClass = function() {
            return this.get("type") === Be;
          }, n2.prototype.getFullName = function(t3) {
            void 0 === t3 && (t3 = {});
            var e4 = t3.escape, n3 = this.get("name"), o2 = "";
            switch (this.get("type")) {
              case Be:
                o2 = ".";
                break;
              case We:
                o2 = "#";
            }
            return o2 + (e4 ? e4(n3) : n3);
          }, n2.prototype.toString = function() {
            return this.getFullName();
          }, n2.prototype.getName = function() {
            return this.get("name") || "";
          }, n2.prototype.getLabel = function() {
            return this.get("label") || "";
          }, n2.prototype.setLabel = function(t3) {
            return this.set("label", t3);
          }, n2.prototype.getActive = function() {
            return !!this.get("active");
          }, n2.prototype.setActive = function(t3) {
            return this.set("active", t3);
          }, n2.prototype.toJSON = function(e4) {
            void 0 === e4 && (e4 = {});
            var n3 = this.em, o2 = u.Kx.prototype.toJSON.call(this, [e4]), r2 = (0, t2.result)(this, "defaults");
            if (null == n3 ? void 0 : n3.getConfig().avoidDefaults) {
              (0, t2.forEach)(r2, (function(t3, e5) {
                o2[e5] === t3 && delete o2[e5];
              })), o2.label === o2.name && delete o2.label;
              var i2 = (0, t2.keys)(o2).length;
              1 === i2 && o2.name && (o2 = o2.name), 2 === i2 && o2.name && o2.type && (o2 = this.getFullName());
            }
            return o2;
          }, n2.escapeName = function(t3) {
            return "".concat(t3).trim().replace(/\s+/g, "-");
          }, n2.TYPE_CLASS = Be, n2.TYPE_ID = We, n2;
        })(u.Kx);
        const qe = $e;
        $e.prototype.idAttribute = "name";
        var Ge = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ke = function(t3, e3) {
          return t3.reduce((function(n2, o2, r2) {
            return n2.concat(Ke(t3.slice(r2 + 1), "".concat(e3).concat(o2)));
          }), [e3]);
        }, Ye = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return Ge(n2, e3), n2.prototype.modelId = function(t3) {
            return "".concat(t3.name, "_").concat(t3.type || qe.TYPE_CLASS);
          }, n2.prototype.getStyleable = function() {
            return (0, t2.filter)(this.models, (function(t3) {
              return t3.getActive() && !t3.get("private");
            }));
          }, n2.prototype.getValid = function(e4) {
            var n3 = (void 0 === e4 ? {} : e4).noDisabled;
            return (0, t2.filter)(this.models, (function(t3) {
              return !t3.get("private");
            })).filter((function(t3) {
              return n3 ? t3.get("active") : 1;
            }));
          }, n2.prototype.getFullString = function(t3, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = [];
            return (t3 || this).forEach((function(t4) {
              return n3.push(t4.getFullName(e4));
            })), e4.sort && n3.sort(), n3.join("").trim();
          }, n2.prototype.getFullName = function(t3) {
            void 0 === t3 && (t3 = {});
            var e4 = t3.combination, n3 = t3.array, o2 = [], r2 = this.map((function(e5) {
              return e5.getFullName(t3);
            })).sort();
            return e4 ? r2.forEach((function(t4, e5) {
              o2 = o2.concat(Ke(r2.slice(e5 + 1), t4));
            })) : o2 = r2, n3 ? o2 : e4 ? o2.join(",") : o2.join("");
          }, n2;
        })(u.pM);
        const Je = Ye;
        Ye.prototype.model = qe;
        var Xe = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ze = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        };
        const Qe = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Xe(e3, t3), e3.prototype.defaults = function() {
            return { id: "", label: "", open: true, attributes: {} };
          }, e3.prototype.getId = function() {
            return this.get("id");
          }, e3.prototype.getLabel = function() {
            return this.get("label");
          }, e3;
        })(u.Kx);
        function tn(t3) {
          var e3 = /* @__PURE__ */ new Set(), n2 = /* @__PURE__ */ new Map(), o2 = { items: [] };
          t3.forEach((function(t4) {
            var r3 = t4.category;
            if (r3) {
              e3.add(r3);
              var i2 = n2.get(r3);
              i2 ? i2.push(t4) : n2.set(r3, [t4]);
            } else o2.items.push(t4);
          }));
          var r2 = Array.from(e3).map((function(t4) {
            return { category: t4, items: n2.get(t4) || [] };
          }));
          return Ze(Ze([], r2, true), [o2], false);
        }
        var en = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), nn = "category", on = (function(n2) {
          function o2() {
            return null !== n2 && n2.apply(this, arguments) || this;
          }
          return en(o2, n2), o2.prototype.initCategory = function(n3) {
            var o3 = n3.get(nn), r2 = o3 instanceof Qe;
            if (o3 && !r2) {
              (0, t2.isString)(o3) ? o3 = { id: o3, label: o3 } : (0, e2.isObject)(o3) && !o3.id && (o3.id = o3.label);
              var i2 = this.getCategories().add(o3);
              return n3.set(nn, i2, { silent: true }), i2;
            }
            if (r2) {
              i2 = o3;
              return this.getCategories().add(i2), i2;
            }
          }, o2;
        })(u.pM), rn = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), an = (function(n2) {
          function o2(t3, e3) {
            void 0 === e3 && (e3 = {});
            var o3 = n2.call(this, t3, e3) || this, r2 = e3.events, i2 = e3.em, a2 = null == r2 ? void 0 : r2.update;
            return i2 && a2 && o3.on("change", (function(t4, e4) {
              return i2.trigger(a2, { category: t4, changes: t4.changedAttributes(), options: e4 });
            })), o3;
          }
          return rn(o2, n2), o2.prototype.add = function(o3, r2) {
            return ((0, t2.isArray)(o3) ? o3 : [o3]).forEach((function(t3) {
              return t3 && (t3.id = (0, e2.normalizeKey)("".concat(t3.id)));
            })), n2.prototype.add.call(this, o3, r2);
          }, o2.prototype.get = function(o3) {
            return n2.prototype.get.call(this, (0, t2.isString)(o3) ? (0, e2.normalizeKey)(o3) : o3);
          }, o2;
        })(u.pM);
        const sn = an;
        var ln;
        an.prototype.model = Qe, (function(t3) {
          t3["select"] = "trait:select", t3["value"] = "trait:value", t3["categoryUpdate"] = "trait:category:update", t3["custom"] = "trait:custom", t3["all"] = "trait";
        })(ln || (ln = {}));
        const cn = ln;
        var un = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), pn = function() {
          return pn = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, pn.apply(this, arguments);
        }, dn = (function(n2) {
          function o2(t3, e3) {
            var o3 = n2.call(this, t3) || this, r2 = o3.attributes, i2 = r2.target, a2 = r2.name;
            return !o3.get("id") && o3.set("id", a2), i2 && o3.setTarget(i2), o3.em = e3, o3;
          }
          return un(o2, n2), o2.prototype.defaults = function() {
            return { type: "text", label: "", name: "", unit: "", step: 1, value: "", default: "", placeholder: "", category: "", changeProp: false, options: [] };
          }, Object.defineProperty(o2.prototype, "parent", { get: function() {
            return this.collection;
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "category", { get: function() {
            var t3 = this.get("category");
            return t3 instanceof Qe ? t3 : void 0;
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "component", { get: function() {
            return this.target;
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "changeProp", { get: function() {
            return !!this.get("changeProp");
          }, enumerable: false, configurable: true }), o2.prototype.setTarget = function(e3) {
            if (e3) {
              var n3 = this.attributes, o3 = n3.name, r2 = n3.changeProp, i2 = n3.value, a2 = n3.getValue;
              this.target = e3, this.unset("target");
              var s2 = r2 ? "change:".concat(o3) : "change:attributes:".concat(o3);
              this.listenTo(e3, s2, this.targetUpdated);
              var l2 = i2 || (a2 ? void 0 : this.getValue());
              !(0, t2.isUndefined)(l2) && this.set({ value: l2 }, { silent: true });
            }
          }, o2.prototype.getId = function() {
            return this.get("id");
          }, o2.prototype.getType = function() {
            return this.get("type");
          }, o2.prototype.getName = function() {
            return this.get("name");
          }, o2.prototype.getLabel = function(t3) {
            var e3;
            void 0 === t3 && (t3 = {});
            var n3 = t3.locale, o3 = void 0 === n3 || n3, r2 = this.getId(), i2 = this.get("label") || this.getName();
            return o3 && (null === (e3 = this.em) || void 0 === e3 ? void 0 : e3.t("traitManager.traits.labels.".concat(r2))) || i2;
          }, o2.prototype.getValue = function(t3) {
            return this.getTargetValue(t3);
          }, o2.prototype.setValue = function(t3, e3) {
            var n3 = this;
            void 0 === e3 && (e3 = {});
            var o3 = this.component, r2 = this.em, i2 = e3.partial, a2 = {}, s2 = this.attributes.setValue;
            s2 ? s2({ value: t3, component: o3, editor: null == r2 ? void 0 : r2.getEditor(), trait: this, partial: !!i2, options: e3, emitUpdate: function() {
              return n3.targetUpdated();
            } }) : (i2 && (a2.avoidStore = true), this.setTargetValue(t3, a2));
          }, o2.prototype.getDefault = function() {
            return this.get("default");
          }, o2.prototype.getOptions = function() {
            return this.get("options") || [];
          }, o2.prototype.getOption = function(t3) {
            var n3 = this, o3 = (0, e2.isDef)(t3) ? t3 : this.getValue();
            return this.getOptions().filter((function(t4) {
              return n3.getOptionId(t4) === o3;
            }))[0];
          }, o2.prototype.getOptionId = function(t3) {
            return t3.id || t3.value;
          }, o2.prototype.getOptionLabel = function(e3, n3) {
            var o3;
            void 0 === n3 && (n3 = {});
            var r2 = n3.locale, i2 = void 0 === r2 || r2, a2 = (0, t2.isString)(e3) ? this.getOption(e3) : e3, s2 = this.getOptionId(a2), l2 = a2.label || a2.name || s2, c2 = this.getName();
            return i2 && (null === (o3 = this.em) || void 0 === o3 ? void 0 : o3.t("traitManager.traits.options.".concat(c2, ".").concat(s2))) || l2;
          }, o2.prototype.getCategoryLabel = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.em, n3 = this.category, o3 = t3.locale, r2 = void 0 === o3 || o3, i2 = null == n3 ? void 0 : n3.getId(), a2 = null == n3 ? void 0 : n3.getLabel();
            return r2 && (null == e3 ? void 0 : e3.t("traitManager.categories.".concat(i2))) || a2 || "";
          }, o2.prototype.runCommand = function() {
            var e3 = this.em, n3 = this.attributes.command;
            if (n3 && e3) return (0, t2.isString)(n3) ? e3.Commands.run(n3) : n3(e3.Editor, this);
          }, o2.prototype.props = function() {
            return this.attributes;
          }, o2.prototype.targetUpdated = function() {
            var t3 = this.component, e3 = this.em, n3 = this.getTargetValue({ useType: true });
            this.set({ value: n3 }, { fromTarget: 1 });
            var o3 = { trait: this, component: t3, value: n3 };
            t3.trigger(cn.value, o3), null == e3 || e3.trigger(cn.value, o3), null == e3 || e3.trigger("trait:update", o3);
          }, o2.prototype.getTargetValue = function(e3) {
            var n3;
            void 0 === e3 && (e3 = {});
            var o3, r2 = this.component, i2 = this.em, a2 = this.getName(), s2 = this.get("getValue"), l2 = e3.skipResolve;
            if ((s2 ? o3 = s2({ editor: null == i2 ? void 0 : i2.getEditor(), trait: this, component: r2 }) : this.changeProp ? (o3 = r2.get(a2), l2 && (o3 = r2.dataResolverWatchers.getValueOrResolver("props", (n3 = {}, n3[a2] = o3, n3))[a2])) : o3 = r2.getAttributes({ skipResolve: l2 })[a2], e3.useType) && "checkbox" === this.getType()) {
              var c2 = this.attributes, u2 = c2.valueTrue, p2 = c2.valueFalse;
              (0, t2.isUndefined)(u2) || u2 !== o3 ? (0, t2.isUndefined)(p2) || p2 !== o3 || (o3 = false) : o3 = true;
            }
            return (0, t2.isUndefined)(o3) ? "" : o3;
          }, o2.prototype.setTargetValue = function(e3, n3) {
            var o3;
            void 0 === n3 && (n3 = {});
            var r2 = this.component, i2 = this.attributes, a2 = this.getName();
            if (!(0, t2.isUndefined)(e3)) {
              var s2 = e3;
              if ("false" === e3 ? s2 = false : "true" === e3 && (s2 = true), "checkbox" === this.getType()) {
                var l2 = i2.valueTrue, c2 = i2.valueFalse;
                s2 && !(0, t2.isUndefined)(l2) && (s2 = l2), s2 || (0, t2.isUndefined)(c2) || (s2 = c2);
              }
              var u2 = ((o3 = {})[a2] = s2, o3);
              u2.__p = n3.avoidStore ? null : void 0, this.changeProp ? r2.set(u2, n3) : r2.addAttributes(u2, n3);
            }
          }, o2.prototype.setValueFromInput = function(t3, e3, n3) {
            void 0 === e3 && (e3 = true), void 0 === n3 && (n3 = {});
            var o3 = { value: t3 };
            this.set(o3, pn(pn({}, n3), { avoidStore: 1 })), e3 && (this.set("value", "", n3), this.set(o3, n3));
          }, o2.prototype.getInitValue = function() {
            var t3, e3 = this.component, n3 = this.getName();
            if (e3) {
              var o3 = e3.get("attributes");
              t3 = this.changeProp ? e3.get(n3) : o3[n3];
            }
            return t3 || this.get("value") || this.get("default");
          }, o2;
        })(u.Kx);
        const fn = dn;
        var hn = (function() {
          function e3(t3) {
            void 0 === t3 && (t3 = {}), this.config = t3;
          }
          return e3.prototype.build = function(e4, n2) {
            return (0, t2.isString)(e4) ? this.buildFromString(e4, n2) : new fn(e4, n2);
          }, e3.prototype.buildFromString = function(t3, e4) {
            var n2 = { name: t3, type: "text" };
            if ("target" === t3) n2.type = "select", n2.default = false, n2.options = this.config.optionsTarget;
            return new fn(n2, e4);
          }, e3;
        })();
        const vn = hn;
        var gn = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), yn = (function(e3) {
          function n2(t3, n3) {
            var o2 = e3.call(this, t3) || this;
            o2.categories = new sn();
            var r2 = n3.em;
            o2.em = r2, o2.categories = new sn([], { em: r2, events: { update: cn.categoryUpdate } }), o2.on("add", o2.handleAdd), o2.on("reset", o2.handleReset);
            var i2 = o2.module, a2 = null == i2 ? void 0 : i2.getConfig();
            return o2.tf = new vn(a2), o2;
          }
          return gn(n2, e3), Object.defineProperty(n2.prototype, "module", { get: function() {
            return this.em.Traits;
          }, enumerable: false, configurable: true }), n2.prototype.getCategories = function() {
            return this.categories;
          }, n2.prototype.handleReset = function(t3, e4) {
            var n3 = (void 0 === e4 ? {} : e4).previousModels;
            (void 0 === n3 ? [] : n3).forEach((function(t4) {
              return t4.trigger("remove");
            }));
          }, n2.prototype.handleAdd = function(t3) {
            t3.em = this.em;
            var e4 = this.target;
            e4 && (t3.target = e4), this.initCategory(t3);
          }, n2.prototype.setTarget = function(t3) {
            this.target = t3, this.models.forEach((function(e4) {
              return e4.setTarget(t3);
            }));
          }, n2.prototype.add = function(n3, o2) {
            if (null != n3) {
              var r2 = this.target, i2 = this.em;
              if ((0, t2.isArray)(n3)) {
                for (var a2 = [], s2 = 0, l2 = n3.length; s2 < l2; s2++) {
                  var c2 = n3[s2];
                  a2[s2] = c2 instanceof fn ? c2 : this.tf.build(c2, i2), a2[s2].setTarget(r2);
                }
                return e3.prototype.add.call(this, a2, o2);
              }
              var u2 = n3 instanceof fn ? n3 : this.tf.build(n3, i2);
              return u2.setTarget(r2), e3.prototype.add.call(this, u2, o2);
            }
          }, n2;
        })(on);
        const mn = yn;
        var bn = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), _n = function() {
          return _n = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, _n.apply(this, arguments);
        }, wn = function(t3, e3) {
          var n2 = {};
          for (var o2 in t3) Object.prototype.hasOwnProperty.call(t3, o2) && e3.indexOf(o2) < 0 && (n2[o2] = t3[o2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o2 = Object.getOwnPropertySymbols(t3); r2 < o2.length; r2++) e3.indexOf(o2[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o2[r2]) && (n2[o2[r2]] = t3[o2[r2]]);
          }
          return n2;
        }, xn = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Cn = function(t3) {
          return t3.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&");
        }, Sn = function(t3) {
          return !!(null == t3 ? void 0 : t3.getConfig().avoidInlineStyle);
        }, On = "component:drag", Tn = "__symbols", Pn = "__symbol", En = "__symbol_ovrd", kn = $.I.update, An = $.I.updateInside, jn = (function(n2) {
          function o2(e3, r2) {
            void 0 === e3 && (e3 = {});
            var i2 = this, a2 = r2.em;
            i2 = n2.call(this, e3, r2) || this, (0, t2.bindAll)(i2, "__upSymbProps", "__upSymbCls", "__upSymbComps", "syncOnComponentChange");
            var s2 = i2.parent(), l2 = null == s2 ? void 0 : s2.attributes, c2 = i2.get("propagate");
            if (c2 && i2.set("propagate", (0, t2.isArray)(c2) ? c2 : [c2]), l2 && l2.propagate && !c2) {
              var u2 = {}, p2 = l2.propagate;
              p2.forEach((function(t3) {
                return u2[t3] = s2.get(t3);
              })), u2.propagate = p2, i2.set(_n(_n({}, u2), e3));
            }
            r2 && r2.config && r2.config.voidElements.indexOf(i2.get("tagName")) >= 0 && i2.set("void", true), r2.em = a2, i2.opt = r2, i2.em = a2, i2.config = r2.config || {};
            var d2 = _n(_n({}, (0, t2.result)(i2, "defaults").attributes || {}), i2.get("attributes") || {}), f2 = i2.dataResolverWatchers.getValueOrResolver("attributes", d2);
            if (i2.setAttributes(f2), i2.ccid = o2.createId(i2, r2), i2.preInit(), i2.initClasses(), i2.initComponents(), i2.initTraits(), i2.initToolbar(), i2.initScriptProps(), i2.listenTo(i2, "change:script", i2.scriptUpdated), i2.listenTo(i2, "change:tagName", i2.tagUpdated), i2.listenTo(i2, "change:attributes", i2.attrUpdated), i2.listenTo(i2, "change:attributes:id", i2._idUpdated), i2.on("change:toolbar", i2.__emitUpdateTlb), i2.on("change", i2.__onChange), i2.on(An, i2.__propToParent), i2.set("status", ""), i2.views = [], ["classes", "traits", "components"].forEach((function(t3) {
              var e4 = "add remove reset ".concat("components" !== t3 ? "change" : "");
              i2.listenTo(i2.get(t3), e4.trim(), (function() {
                for (var e5 = [], n3 = 0; n3 < arguments.length; n3++) e5[n3] = arguments[n3];
                return i2.emitUpdate.apply(i2, xn([t3], e5, false));
              }));
            })), !r2.temporary) {
              var h2 = a2 && a2.Css, v2 = i2.attributes, g2 = v2.styles, y2 = v2.type;
              g2 && h2 && h2.addCollection(g2, { avoidUpdateStyle: true }, { group: "cmp:".concat(y2) }), i2._moveInlineStyleToRule(), i2.__postAdd(), i2.init(), Kt(i2) && Jt(i2), null == a2 || a2.trigger($.I.create, i2, r2);
            }
            return Sn(a2) && i2.dataResolverWatchers.disableStyles(), i2;
          }
          return bn(o2, n2), Object.defineProperty(o2.prototype, "defaults", { get: function() {
            var t3;
            return (t3 = { tagName: "div", type: "", name: "", removable: true, draggable: true, droppable: true, badgable: true, stylable: true, "stylable-require": "", "style-signature": "", unstylable: "", highlightable: true, copyable: true, resizable: false, editable: false, layerable: true, selectable: true, hoverable: true, void: false, state: "", status: "", content: "", icon: "", style: "", styles: "", classes: "", script: "", "script-props": "", "script-export": "", attributes: {}, traits: ["id", "title"], propagate: "", dmode: "", toolbar: null, delegate: null })[Pn] = 0, t3[Tn] = 0, t3[En] = 0, t3._undo = true, t3._undoexc = ["status", "open"], t3;
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "tagName", { get: function() {
            return this.get("tagName");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "classes", { get: function() {
            return this.get("classes");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "traits", { get: function() {
            return this.get("traits");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "content", { get: function() {
            var t3;
            return null !== (t3 = this.get("content")) && void 0 !== t3 ? t3 : "";
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "toolbar", { get: function() {
            return this.get("toolbar") || [];
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "resizable", { get: function() {
            return this.get("resizable");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "delegate", { get: function() {
            return this.get("delegate");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "locked", { get: function() {
            return this.get("locked");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "frame", { get: function() {
            return this.opt.frame;
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "page", { get: function() {
            var t3;
            return null === (t3 = this.frame) || void 0 === t3 ? void 0 : t3.getPage();
          }, enumerable: false, configurable: true }), o2.prototype.getType = function() {
            return this.get("type") || "default";
          }, o2.prototype.preInit = function() {
          }, o2.prototype.init = function() {
          }, o2.prototype.updated = function(t3, e3, n3) {
          }, o2.prototype.removed = function() {
          }, o2.prototype.onCollectionsStateMapUpdate = function(t3) {
            var e3;
            n2.prototype.onCollectionsStateMapUpdate.call(this, t3), null === (e3 = this._getStyleRule()) || void 0 === e3 || e3.onCollectionsStateMapUpdate(t3), this.components().forEach((function(e4) {
              return e4.onCollectionsStateMapUpdate(t3);
            }));
          }, o2.prototype.syncComponentsCollectionState = function() {
            this.stopListening(this.components(), "add remove reset", this.syncOnComponentChange), this.listenTo(this.components(), "add remove reset", this.syncOnComponentChange), this.components().forEach((function(t3) {
              return t3.syncComponentsCollectionState();
            }));
          }, o2.prototype.stopSyncComponentCollectionState = function() {
            this.stopListening(this.components(), "add remove reset", this.syncOnComponentChange), this.collectionsStateMap = {}, this.components().forEach((function(t3) {
              return t3.stopSyncComponentCollectionState();
            }));
          }, o2.prototype.syncOnComponentChange = function(t3, e3, n3) {
            var o3 = this;
            if (this.collectionsStateMap && Object.keys(this.collectionsStateMap).length) {
              var r2 = n3 || e3 || {};
              if (n3) if (r2.add) {
                var i2 = t3;
                i2.syncComponentsCollectionState(), i2.onCollectionsStateMapUpdate(this.collectionsStateMap);
              } else {
                t3.stopSyncComponentCollectionState();
              }
              else (r2.previousModels || []).forEach((function(t4) {
                return t4.stopSyncComponentCollectionState();
              })), this.components().forEach((function(t4) {
                t4.syncComponentsCollectionState(), t4.onCollectionsStateMapUpdate(o3.collectionsStateMap);
              }));
            }
          }, o2.prototype.__postAdd = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.em, n3 = null == e3 ? void 0 : e3.UndoManager, o3 = this.components();
            n3 && !this.__hasUm && (n3.add(o3), n3.add(this.getSelectors()), this.__hasUm = true), t3.recursive && o3.map((function(e4) {
              return e4.__postAdd(t3);
            }));
          }, o2.prototype.__postRemove = function() {
            var t3 = this.em, e3 = null == t3 ? void 0 : t3.UndoManager;
            e3 && (e3.remove(this.components()), e3.remove(this.getSelectors()), delete this.__hasUm);
          }, o2.prototype.__onChange = function(n3, o3) {
            var r2 = this, i2 = this.changedAttributes() || {};
            (0, t2.keys)(i2).forEach((function(t3) {
              return r2.emitUpdate(t3);
            })), ["status", "open", "toolbar", "traits"].forEach((function(t3) {
              return delete i2[t3];
            })), (0, e2.isEmptyObj)(i2) || (this.__changesUp(o3), this.__propSelfToParent({ component: this, changed: i2, options: o3 }));
          }, o2.prototype.__onStyleChange = function(e3) {
            var n3 = this;
            if (this.em) {
              var o3 = (0, t2.keys)(e3), r2 = { style: e3 };
              this.emitWithEditor($.I.styleUpdate, this, r2), o3.forEach((function(t3) {
                return n3.emitWithEditor("".concat($.I.styleUpdateProperty).concat(t3), n3, r2);
              }));
              var i2 = this.collectionsStateMap, a2 = Object.keys(i2);
              if (a2.length) {
                if (a2.every((function(t3) {
                  return i2[t3].currentIndex === i2[t3].startIndex;
                }))) te(this).forEach((function(t3) {
                  var n4 = t3.collectionsStateMap;
                  Object.keys(n4).every((function(t4) {
                    return a2.includes(t4);
                  })) && t3.addStyle(e3);
                }));
              }
            }
          }, o2.prototype.__changesUp = function(t3) {
            var e3 = this.em;
            [this.frame, e3].forEach((function(e4) {
              return e4 && e4.changesUp(t3);
            }));
          }, o2.prototype.__propSelfToParent = function(t3) {
            this.trigger(kn, t3), this.__propToParent(t3);
          }, o2.prototype.__propToParent = function(t3) {
            var e3 = this.parent();
            e3 && e3.trigger(An, t3);
          }, o2.prototype.__emitUpdateTlb = function() {
            this.emitUpdate("toolbar");
          }, o2.prototype.__getAllById = function() {
            var t3 = this.em;
            return t3 ? t3.Components.allById() : {};
          }, o2.prototype.__upSymbProps = function(t3, n3) {
            void 0 === n3 && (n3 = {}), (function(t4, n4) {
              void 0 === n4 && (n4 = {});
              var o3 = t4.changedAttributes();
              if (o3) {
                var r2 = t4.dataResolverWatchers.getProps(o3);
                if (re(r2), !(0, e2.isEmptyObj)(r2)) {
                  var i2 = te(t4, n4);
                  r2 = ie(r2, t4), oe(t4, "props", i2, { opts: n4, changed: r2 }), i2.forEach((function(e3) {
                    var o4 = ie(r2, e3);
                    e3.set(o4, Wt({ fromInstance: t4 }, n4));
                  }));
                }
              }
            })(this, n3);
          }, o2.prototype.__upSymbCls = function(t3, e3, n3) {
            void 0 === n3 && (n3 = {}), (function(t4, e4) {
              void 0 === e4 && (e4 = {});
              var n4 = te(t4, e4);
              oe(t4, "classes", n4, { opts: e4 }), n4.forEach((function(e5) {
                e5.set("classes", t4.get("classes"), { fromInstance: t4 });
              })), t4.__changesUp(e4);
            })(this, n3);
          }, o2.prototype.__upSymbComps = function(t3, e3, n3) {
            se(this, t3, e3, n3);
          }, o2.prototype.__onDestroy = function() {
          }, o2.prototype.is = function(t3) {
            return !(this.get("type") != t3);
          }, o2.prototype.props = function() {
            return this.attributes;
          }, o2.prototype.index = function() {
            var t3 = this.collection;
            return t3 ? t3.indexOf(this) : 0;
          }, o2.prototype.setDragMode = function(t3) {
            return this.set("dmode", t3);
          }, o2.prototype.getDragMode = function() {
            return this.get("dmode") || "";
          }, o2.prototype.setSymbolOverride = function(e3, n3) {
            var o3, r2;
            void 0 === n3 && (n3 = {}), this.set(((o3 = {})[En] = null !== (r2 = (0, t2.isString)(e3) ? [e3] : e3) && void 0 !== r2 ? r2 : 0, o3), n3);
          }, o2.prototype.getSymbolOverride = function() {
            return this.get(En);
          }, o2.prototype.find = function(t3) {
            var e3, n3 = [], o3 = null === (e3 = this.view) || void 0 === e3 ? void 0 : e3.$el.find(t3);
            return null == o3 || o3.each((function(t4) {
              var e4 = o3.eq(t4).data("model");
              e4 && n3.push(e4);
            })), n3;
          }, o2.prototype.findType = function(t3) {
            var e3 = [], n3 = function(o3) {
              return o3.forEach((function(o4) {
                o4.is(t3) && e3.push(o4), n3(o4.components());
              }));
            };
            return n3(this.components()), e3;
          }, o2.prototype.findFirstType = function(t3) {
            return this.findType(t3).at(0);
          }, o2.prototype.closest = function(t3) {
            var e3, n3 = null === (e3 = this.view) || void 0 === e3 ? void 0 : e3.$el.closest(t3);
            return (null == n3 ? void 0 : n3.length) ? n3.data("model") : void 0;
          }, o2.prototype.closestType = function(t3) {
            for (var e3 = this.parent(); e3 && !e3.is(t3); ) e3 = e3.parent();
            return e3;
          }, o2.prototype.contains = function(t3) {
            var e3 = false;
            if (!t3) return e3;
            var n3 = function(o3) {
              !e3 && o3.forEach((function(o4) {
                o4 === t3 && (e3 = true), !e3 && n3(o4.components());
              }));
            };
            return n3(this.components()), e3;
          }, o2.prototype.tagUpdated = function() {
            this.trigger("rerender");
          }, o2.prototype.replaceWith = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = this.collection, r2 = o3.indexOf(this);
            o3.remove(this);
            var i2 = o3.add(e3, _n(_n({}, n3), { at: r2 }));
            return (0, t2.isArray)(i2) ? i2 : [i2];
          }, o2.prototype.attrUpdated = function(n3, o3, r2) {
            var i2 = this;
            void 0 === r2 && (r2 = {});
            var a2 = this.get("attributes"), s2 = a2.class;
            s2 && this.setClass(s2), delete a2.class;
            var l2 = a2.style;
            l2 && this.setStyle(l2, r2), delete a2.style;
            var c2 = _n({}, this.previous("attributes")), u2 = (0, e2.shallowDiff)(c2, this.get("attributes"));
            (0, t2.keys)(u2).forEach((function(t3) {
              var e3, n4 = "attributes:".concat(t3);
              i2.trigger("change:".concat(n4), i2, u2[t3], r2), null === (e3 = i2.em) || void 0 === e3 || e3.trigger("".concat(kn, ":").concat(n4), i2, u2[t3], r2);
            }));
          }, o2.prototype.setAttributes = function(t3, e3) {
            return void 0 === e3 && (e3 = { skipWatcherUpdates: false, fromDataSource: false }), this.set("attributes", _n({}, t3), e3), this;
          }, o2.prototype.addAttributes = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.dataResolverWatchers.getValueOrResolver("attributes", this.getAttributes({ noClass: true, noStyle: true }));
            return this.setAttributes(_n(_n({}, n3), t3), e3);
          }, o2.prototype.removeAttributes = function(t3, e3) {
            void 0 === t3 && (t3 = []), void 0 === e3 && (e3 = {});
            var n3 = Array.isArray(t3) ? t3 : [t3], o3 = this.getAttributes();
            return n3.map((function(t4) {
              return delete o3[t4];
            })), this.setAttributes(o3, e3);
          }, o2.prototype.getStyle = function(e3, o3) {
            var r2 = this.em, i2 = (0, t2.isString)(e3), a2 = i2 ? e3 : "", s2 = i2 ? o3 : e3, l2 = !!(null == s2 ? void 0 : s2.skipResolve);
            if (Sn(r2) && !(null == s2 ? void 0 : s2.inline)) {
              var c2 = r2.get("state"), u2 = r2.Css.getIdRule(this.getId(), _n({ state: c2 }, s2));
              return this.rule = u2, u2 ? u2.getStyle(a2, { skipResolve: l2 }) : {};
            }
            return n2.prototype.getStyle.call(this, a2, { skipResolve: l2 });
          }, o2.prototype.setStyle = function(o3, r2) {
            var i2 = this;
            void 0 === o3 && (o3 = {}), void 0 === r2 && (r2 = {});
            var a2 = this.opt, s2 = this.em;
            if (!Sn(s2) || a2.temporary || r2.inline) o3 = n2.prototype.setStyle.apply(this, arguments);
            else {
              var l2 = this.get("style") || {};
              o3 = (0, t2.isString)(o3) ? this.parseStyle(o3) : o3, o3 = _n(_n({}, l2), o3);
              var c2 = s2.get("state"), u2 = s2.Css, p2 = this.getStyle(_n(_n({}, r2), { skipResolve: true }));
              this.rule = u2.setIdRule(this.getId(), o3, _n({ state: c2 }, r2));
              var d2 = (0, e2.shallowDiff)(p2, o3);
              this.set("style", "", { silent: true }), (0, t2.keys)(d2).forEach((function(t3) {
                return i2.trigger("change:style:".concat(t3));
              }));
            }
            return a2.temporary || this.__onStyleChange(r2.addStyle || o3), o3;
          }, o2.prototype.getAttributes = function(n3) {
            void 0 === n3 && (n3 = {});
            var o3 = this.em, r2 = [], i2 = _n({}, this.get("attributes")), a2 = (null == n3 ? void 0 : n3.skipResolve) ? this.dataResolverWatchers.getValueOrResolver("attributes", i2) : i2, s2 = null == o3 ? void 0 : o3.Selectors, l2 = this.getId();
            if (n3.noClass ? delete a2.class : (this.classes.forEach((function(e3) {
              return r2.push((0, t2.isString)(e3) ? e3 : e3.getName());
            })), r2.length && (a2.class = r2.join(" "))), !n3.noStyle) {
              var c2 = this.getStyle({ inline: true });
              (0, e2.isObject)(c2) && !(0, e2.isEmptyObj)(c2) && (a2.style = this.styleToString({ inline: true }));
            }
            if (!(0, t2.has)(a2, "id")) {
              var u2 = false;
              !Sn(o3) && (0, t2.isEmpty)(this.getStyle()) || (u2 = !!(null == s2 ? void 0 : s2.get(l2, s2.Selector.TYPE_ID))), (Kt(this) || this.get("script-export") || this.get("script")) && (u2 = true), u2 && (a2.id = l2);
            }
            return a2;
          }, o2.prototype.addClass = function(t3) {
            var e3 = this.em.Selectors.addClass(t3);
            return this.classes.add(e3);
          }, o2.prototype.setClass = function(t3) {
            return this.classes.reset(), this.addClass(t3);
          }, o2.prototype.removeClass = function(e3) {
            var n3 = [];
            e3 = (0, t2.isArray)(e3) ? e3 : [e3];
            var o3 = this.classes, r2 = qe.TYPE_CLASS;
            return e3.forEach((function(t3) {
              t3.split(" ").forEach((function(t4) {
                var e4 = o3.where({ name: t4, type: r2 })[0];
                e4 && n3.push(o3.remove(e4));
              }));
            })), n3;
          }, o2.prototype.getClasses = function() {
            var t3 = this.getAttributes().class;
            return t3 ? t3.split(" ") : [];
          }, o2.prototype.initClasses = function(e3, n3, o3) {
            void 0 === o3 && (o3 = {});
            var r2 = this.get("attributes") || {}, i2 = r2.class, a2 = wn(r2, ["class"]), s2 = [this, "change:classes", this.initClasses], l2 = this.get("classes") || i2 || [], c2 = (0, t2.isString)(l2) ? l2.split(" ") : l2;
            this.stopListening.apply(this, s2);
            var u2 = this.normalizeClasses(c2), p2 = new Je([]);
            return this.set("classes", p2, o3), p2.add(u2), p2.on("add remove reset", this.__upSymbCls), i2 && u2.length && this.set("attributes", a2), this.listenTo.apply(this, s2), this;
          }, o2.prototype.initComponents = function() {
            var e3 = [this, "change:components", this.initComponents];
            this.stopListening.apply(this, e3);
            var n3 = new Ue([], this.opt);
            n3.parent = this;
            var o3 = this.get("components"), r2 = !this.opt.avoidChildren;
            return this.set("components", n3), r2 && o3 && n3.add((0, t2.isFunction)(o3) ? o3(this) : o3, this.opt), n3.on("add remove reset", this.__upSymbComps), this.listenTo.apply(this, e3), this;
          }, o2.prototype.initTraits = function(e3) {
            var n3 = this, o3 = this.em, r2 = "change:traits";
            this.off(r2, this.initTraits), this.__loadTraits();
            var i2 = _n({}, this.get("attributes")), a2 = this.traits;
            a2.each((function(e4) {
              var o4 = e4.getName(), r3 = e4.getInitValue();
              e4.changeProp ? (0, t2.isUndefined)(n3.get(o4)) && n3.set(o4, r3) : o4 && r3 && (i2[o4] = r3);
            }));
            var s2 = this.dataResolverWatchers.getValueOrResolver("attributes", i2);
            return a2.length && this.setAttributes(s2), this.on(r2, this.initTraits), e3 && o3 && o3.trigger("component:toggled"), this;
          }, o2.prototype.initScriptProps = function() {
            if (!this.opt.temporary) {
              var t3 = "script-props", e3 = ["change:".concat(t3), this.initScriptProps];
              this.off.apply(this, e3);
              var n3 = this.previous(t3) || [], o3 = this.get(t3) || [], r2 = n3.map((function(t4) {
                return "change:".concat(t4);
              })).join(" "), i2 = o3.map((function(t4) {
                return "change:".concat(t4);
              })).join(" ");
              r2 && this.off(r2, this.__scriptPropsChange), i2 && this.on(i2, this.__scriptPropsChange), this.on.apply(this, e3);
            }
          }, o2.prototype.__scriptPropsChange = function(t3, e3, n3) {
            void 0 === n3 && (n3 = {}), n3.avoidStore || this.trigger("rerender");
          }, o2.prototype.append = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = ((0, t2.isArray)(e3) ? xn([], e3, true) : [e3]).map((function(e4) {
              return (0, t2.isString)(e4) || e4.collection && e4.collection.remove(e4, { temporary: true }), e4;
            }));
            return this.components().add(o3, _n({ action: $.t.add }, n3));
          }, o2.prototype.components = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = this.get("components");
            return (0, t2.isUndefined)(e3) ? o3 : (o3.reset(void 0, n3), e3 ? this.append(e3, n3) : []);
          }, o2.prototype.getChildAt = function(t3) {
            return this.components().at(t3 || 0) || void 0;
          }, o2.prototype.getLastChild = function() {
            var t3 = this.components();
            return t3.at(t3.length - 1) || null;
          }, o2.prototype.empty = function(t3) {
            return void 0 === t3 && (t3 = {}), this.components().reset(void 0, t3), this;
          }, o2.prototype.parent = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.collection || t3.prev && this.prevColl;
            return e3 ? e3.parent : void 0;
          }, o2.prototype.parents = function() {
            var t3 = this.parent();
            return t3 ? [t3].concat(t3.parents()) : [];
          }, o2.prototype.scriptUpdated = function() {
            this.set("scriptUpdated", 1);
          }, o2.prototype.initToolbar = function() {
            var t3 = this.em, e3 = this, n3 = t3 && t3.getConfig().stylePrefix || "";
            if (!e3.get("toolbar") && t3) {
              var o3 = [];
              e3.collection && o3.push({ label: t3.getIcon("arrowUp"), command: function(t4) {
                return t4.runCommand("core:component-exit", { force: 1 });
              } }), e3.get("draggable") && o3.push({ attributes: { class: "".concat(n3, "no-touch-actions"), draggable: true }, label: t3.getIcon("move"), command: "tlb-move" }), e3.get("copyable") && o3.push({ label: t3.getIcon("copy"), command: "tlb-clone" }), e3.get("removable") && o3.push({ label: t3.getIcon("delete"), command: "tlb-delete" }), e3.set("toolbar", o3);
            }
          }, o2.prototype.__loadTraits = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = e3 || this.traits;
            if (!(o3 instanceof mn)) {
              o3 = (0, t2.isFunction)(o3) ? o3(this) : o3;
              var r2 = new mn([], this.opt);
              r2.setTarget(this), o3.length && r2.add(o3), this.set({ traits: r2 }, n3);
            }
            return this;
          }, o2.prototype.getTraits = function() {
            return this.__loadTraits(), xn([], this.traits.models, true);
          }, o2.prototype.setTraits = function(e3) {
            var n3 = (0, t2.isArray)(e3) ? e3 : [e3];
            return this.set({ traits: n3 }), this.getTraits();
          }, o2.prototype.getTrait = function(t3) {
            return this.getTraits().filter((function(e3) {
              return e3.get("id") === t3 || e3.get("name") === t3;
            }))[0] || null;
          }, o2.prototype.updateTrait = function(t3, e3) {
            var n3, o3 = this.getTrait(t3);
            return o3 && o3.set(e3), null === (n3 = this.em) || void 0 === n3 || n3.trigger("component:toggled"), this;
          }, o2.prototype.getTraitIndex = function(t3) {
            var e3 = this.getTrait(t3);
            return e3 ? this.traits.indexOf(e3) : -1;
          }, o2.prototype.removeTrait = function(e3) {
            var n3, o3 = this, r2 = ((0, t2.isArray)(e3) ? e3 : [e3]).map((function(t3) {
              return o3.getTrait(t3);
            })), i2 = this.traits, a2 = r2.length ? i2.remove(r2) : [];
            return null === (n3 = this.em) || void 0 === n3 || n3.trigger("component:toggled"), (0, t2.isArray)(a2) ? a2 : [a2];
          }, o2.prototype.addTrait = function(e3, n3) {
            var o3;
            void 0 === n3 && (n3 = {}), this.__loadTraits();
            var r2 = this.traits.add(e3, n3);
            return null === (o3 = this.em) || void 0 === o3 || o3.trigger("component:toggled"), (0, t2.isArray)(r2) ? r2 : [r2];
          }, o2.prototype.normalizeClasses = function(t3) {
            var e3 = [], n3 = this.em, o3 = null == n3 ? void 0 : n3.Selectors;
            return o3 ? t3.models ? xn([], t3.models, true) : (t3.forEach((function(t4) {
              return e3.push(o3.add(t4));
            })), e3) : [];
          }, o2.prototype.clone = function(t3) {
            var e3;
            void 0 === t3 && (t3 = {});
            var n3 = this.em, o3 = this.dataResolverWatchers.getProps(this.attributes), r2 = _n({}, this.opt), i2 = this.getId(), a2 = null == n3 ? void 0 : n3.Css;
            o3.components = [], o3.classes = [], o3.traits = [], Yt(this) && (t3.symbol = true), this.get("components").each((function(e4, n4) {
              o3.components[n4] = e4.clone(_n(_n({}, t3), { _inner: 1 }));
            })), this.get("traits").each((function(t4, e4) {
              o3.traits[e4] = t4.clone();
            })), this.get("classes").each((function(t4, e4) {
              o3.classes[e4] = t4.get("name");
            })), o3.status = "", r2.collection = null, r2.forCloning = true;
            var s2 = new this.constructor(o3, r2), l2 = "#".concat(s2.getId());
            (a2 ? a2.getRules("#".concat(i2)) : []).forEach((function(t4) {
              var e4 = t4.clone();
              e4.set("selectors", [l2]), a2.getAll().add(e4);
            })), s2.set(Tn, 0);
            var c2 = Xt(this), u2 = Zt(this);
            if (t3.symbol || !c2 && !u2) if (c2) {
              var p2 = null !== (e3 = Zt(c2)) && void 0 !== e3 ? e3 : [];
              c2.set(Tn, xn(xn([], p2, true), [s2], false)), Jt(s2);
            } else t3.symbol && (qt(this) ? (this.set(Tn, xn(xn([], u2, true), [s2], false)), s2.set(Pn, this), Jt(s2)) : t3.symbolInv ? (this.set(Tn, [s2]), s2.set(Pn, this), [this, s2].map((function(t4) {
              return Jt(t4);
            }))) : (s2.set(Tn, [this]), [this, s2].map((function(t4) {
              return Jt(t4);
            })), this.set(Pn, s2)));
            else s2.set(Pn, 0), s2.set(Tn, 0);
            var d2 = "component:clone";
            return n3 && n3.trigger(d2, s2), this.trigger(d2, s2), s2;
          }, o2.prototype.getName = function(t3) {
            void 0 === t3 && (t3 = {});
            var n3 = this.em, o3 = this.attributes, r2 = o3.type, i2 = o3.tagName, a2 = o3.name, s2 = r2 || i2, l2 = r2 ? "" : i2, c2 = "domComponents.names.", u2 = a2 && (null == n3 ? void 0 : n3.t("".concat(c2).concat(a2))), p2 = l2 && (null == n3 ? void 0 : n3.t("".concat(c2).concat(l2))), d2 = n3 && (n3.t("".concat(c2).concat(r2)) || n3.t("".concat(c2).concat(i2))), f2 = this.get("custom-name");
            return (t3.noCustom ? "" : f2) || u2 || a2 || p2 || (0, e2.capitalize)(l2) || d2 || (0, e2.capitalize)(s2);
          }, o2.prototype.setName = function(t3, e3) {
            void 0 === e3 && (e3 = {}), this.set("custom-name", t3, e3);
          }, o2.prototype.getIcon = function() {
            var t3 = this.get("icon");
            return t3 ? t3 + " " : "";
          }, o2.prototype.toHTML = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = t3.tag || this.get("tagName");
            delete t3.tag;
            var n3 = this.__attrToString(t3), o3 = n3 ? " ".concat(n3) : "", r2 = this.getInnerHTML(t3), i2 = !r2 && this.get("void"), a2 = "<".concat(e3).concat(o3).concat(i2 ? "/" : "", ">").concat(r2);
            return !i2 && (a2 += "</".concat(e3, ">")), a2;
          }, o2.prototype.getInnerHTML = function(t3) {
            return this.__innerHTML(t3);
          }, o2.prototype.__innerHTML = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.components();
            return e3.length ? e3.map((function(e4) {
              return e4.toHTML(t3);
            })).join("") : this.content;
          }, o2.prototype.__attrToString = function(n3) {
            void 0 === n3 && (n3 = {});
            var o3 = [], r2 = n3.attributes, i2 = this.getAttrToHTML(n3);
            if (r2 && ((0, t2.isFunction)(r2) ? i2 = r2(this, i2) || {} : (0, e2.isObject)(r2) && (i2 = r2)), n3.withProps) {
              var a2 = this.toJSON();
              (0, t2.forEach)(a2, (function(n4, o4) {
                "_" !== o4[0] && ["classes", "attributes", "components"].indexOf(o4) < 0 && (i2["data-gjs-".concat(o4)] = (0, t2.isArray)(n4) || (0, e2.isObject)(n4) ? JSON.stringify(n4) : (0, t2.isBoolean)(n4) ? "".concat(n4) : n4);
              }));
            }
            for (var s2 in i2) {
              var l2 = i2[s2];
              if (!(0, t2.isUndefined)(l2) && null !== l2) if ((0, t2.isBoolean)(l2)) l2 && o3.push(s2);
              else {
                var c2 = "";
                if (n3.altQuoteAttr && (0, t2.isString)(l2) && l2.indexOf('"') >= 0) c2 = "'".concat((0, e2.escapeAltQuoteAttrValue)(l2), "'");
                else {
                  var u2 = (0, t2.isString)(l2) ? (0, e2.escapeAttrValue)(l2) : l2;
                  c2 = '"'.concat(u2, '"');
                }
                o3.push("".concat(s2, "=").concat(c2));
              }
            }
            return o3.join(" ");
          }, o2.prototype.getAttrToHTML = function(t3) {
            var e3 = this.getAttributes();
            return Sn(this.em) && true !== (null == t3 ? void 0 : t3.keepInlineStyle) && delete e3.style, e3;
          }, o2.prototype.toJSON = function(e3) {
            void 0 === e3 && (e3 = {});
            var o3 = n2.prototype.toJSON.call(this, e3, { attributes: this.getAttributes() });
            if (delete o3.dataResolverWatchers, delete o3.attributes.class, delete o3.toolbar, delete o3.traits, delete o3.status, delete o3.open, delete o3._undoexc, delete o3.delegate, this.collectionsStateMap && Object.getOwnPropertyNames(this.collectionsStateMap).length > 0 && (delete o3[Pn], delete o3[En], delete o3[Tn], delete o3.attributes.id), !e3.fromUndo) {
              var r2 = o3[Pn], i2 = o3[Tn];
              i2 && (0, t2.isArray)(i2) && (o3[Tn] = i2.filter((function(t3) {
                return t3;
              })).map((function(t3) {
                return t3.getId ? t3.getId() : t3;
              }))), r2 && !(0, t2.isString)(r2) && (o3[Pn] = r2.getId());
            }
            return this.em.getConfig().avoidDefaults && this.getChangedProps(o3), o3;
          }, o2.prototype.getChangedProps = function(e3) {
            var n3 = e3 || a.Model.prototype.toJSON.apply(this), o3 = (0, t2.result)(this, "defaults");
            return (0, t2.forEach)(o3, (function(t3, e4) {
              -1 === ["type"].indexOf(e4) && n3[e4] === t3 && delete n3[e4];
            })), (0, t2.isEmpty)(n3.type) && delete n3.type, (0, t2.forEach)(["attributes", "style"], (function(e4) {
              (0, t2.isEmpty)(o3[e4]) && (0, t2.isEmpty)(n3[e4]) && delete n3[e4];
            })), (0, t2.forEach)(["classes", "components"], (function(e4) {
              (!n3[e4] || (0, t2.isEmpty)(o3[e4]) && !n3[e4].length) && delete n3[e4];
            })), n3;
          }, o2.prototype.getId = function() {
            var t3 = this.get("attributes") || {}, e3 = fe(this), n3 = e3.shouldSync, o3 = e3.itemId;
            return n3 && (t3.id = o3), t3.id || this.ccid || this.cid;
          }, o2.prototype.setId = function(t3, e3) {
            return this.addAttributes({ id: t3 }, e3), this;
          }, o2.prototype.getEl = function(t3) {
            var e3 = this.getView(t3);
            return e3 && e3.el;
          }, o2.prototype.getView = function(t3) {
            var e3 = this, n3 = e3.view, o3 = e3.views, r2 = e3.em, i2 = t3 || (null == r2 ? void 0 : r2.getCurrentFrameModel());
            return i2 && (n3 = o3.filter((function(t4) {
              return t4.frameView === i2.view;
            }))[0]), n3;
          }, o2.prototype.getCurrentView = function() {
            var t3 = this.em.getCurrentFrame(), e3 = null == t3 ? void 0 : t3.model;
            return this.getView(e3);
          }, o2.prototype.__getScriptProps = function() {
            var t3 = this.props();
            return (this.get("script-props") || []).reduce((function(e3, n3) {
              return e3[n3] = t3[n3], e3;
            }), {});
          }, o2.prototype.getScriptString = function(e3) {
            var n3 = this, o3 = e3 || this.get("script") || "";
            if (!o3) return o3;
            if (this.get("script-props")) o3 = o3.toString().trim();
            else {
              if ((0, t2.isFunction)(o3)) {
                var r2 = o3.toString().trim();
                o3 = (r2 = r2.slice(r2.indexOf("{") + 1, r2.lastIndexOf("}"))).trim();
              }
              var i2 = this.em.getConfig(), a2 = Cn(i2.tagVarStart || "{[ "), s2 = Cn(i2.tagVarEnd || " ]}"), l2 = new RegExp("".concat(a2, "([\\w\\d-]*)").concat(s2), "g");
              o3 = o3.replace(l2, (function(e4, o4) {
                n3.scriptUpdated();
                var r3 = n3.attributes[o4] || "";
                return (0, t2.isArray)(r3) || "object" == typeof r3 ? JSON.stringify(r3) : r3;
              }));
            }
            return o3;
          }, o2.prototype.emitUpdate = function(t3) {
            for (var e3, n3 = [], o3 = 1; o3 < arguments.length; o3++) n3[o3 - 1] = arguments[o3];
            var r2 = this.em, i2 = kn + (t3 ? ":".concat(t3) : ""), a2 = t3 && this.get(t3);
            t3 && this.updated.apply(this, xn([t3, a2, t3 && this.previous(t3)], n3, false)), this.trigger.apply(this, xn([i2], n3, false)), r2 && r2.trigger.apply(r2, xn([i2, this], n3, false)), ["components", "classes"].indexOf(t3) >= 0 && this.__propSelfToParent({ component: this, changed: (e3 = {}, e3[t3] = a2, e3), options: n3[2] || n3[1] || {} });
          }, o2.prototype.emitWithEditor = function(t3, e3, n3) {
            [this.em, this].forEach((function(o3) {
              return null == o3 ? void 0 : o3.trigger(t3, e3, n3);
            }));
          }, o2.prototype.onAll = function(e3) {
            return (0, t2.isFunction)(e3) && (e3(this), this.components().forEach((function(t3) {
              return t3.onAll(e3);
            }))), this;
          }, o2.prototype.forEachChild = function(e3) {
            (0, t2.isFunction)(e3) && this.components().forEach((function(t3) {
              e3(t3), t3.forEachChild(e3);
            }));
          }, o2.prototype.remove = function(t3) {
            var e3 = this;
            void 0 === t3 && (t3 = {});
            var n3 = this.em, o3 = this.collection, r2 = function() {
              o3 && o3.remove(e3, _n({ action: $.t.remove }, t3)), o3 || (e3.components("", t3), e3.components().removeChildren(e3, void 0, t3));
            }, i2 = _n({}, t3);
            return [this, n3].map((function(t4) {
              return t4.trigger($.I.removeBefore, e3, r2, i2);
            })), !i2.abort && r2(), this;
          }, o2.prototype.destroy = function(t3) {
            return this.stopListening(this.components(), "add remove reset", this.syncOnComponentChange), this.dataResolverWatchers.destroy(), this.__onDestroy(), n2.prototype.destroy.call(this, t3);
          }, o2.prototype.move = function(t3, e3) {
            if (void 0 === e3 && (e3 = {}), t3) {
              var n3 = e3.at, o3 = this.index(), r2 = t3 === this.parent();
              if (!r2 || !(o3 === n3 || o3 === n3 - 1)) {
                r2 && n3 && n3 > o3 && (e3.at = n3 - 1);
                var i2 = $.t.move;
                this.remove({ action: i2, temporary: 1 }), t3.append(this, _n({ action: i2 }, e3)), this.emitUpdate();
              }
            }
            return this;
          }, o2.prototype.isInstanceOf = function(t3) {
            var e3, n3, o3 = null === (n3 = null === (e3 = this.em) || void 0 === e3 ? void 0 : e3.Components.getType(t3)) || void 0 === n3 ? void 0 : n3.model;
            if (!o3) return false;
            var r2 = this.constructor.typeExtends;
            return this instanceof o3 || r2.has(t3);
          }, o2.prototype.isChildOf = function(e3) {
            for (var n3 = (0, t2.isString)(e3), o3 = this.parent(); o3; ) {
              if (n3) {
                if (o3.isInstanceOf(e3)) return true;
              } else if (o3 === e3) return true;
              o3 = o3.parent();
            }
            return false;
          }, o2.prototype.resetId = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.em, n3 = this.getId();
            if (!n3) return this;
            var r2 = o2.createId(this);
            this.setId(r2);
            var i2 = null == e3 ? void 0 : e3.Css.getIdRule(n3), a2 = null == i2 ? void 0 : i2.get("selectors").at(0);
            return null == a2 || a2.set("name", r2), this;
          }, o2.prototype._getStyleRule = function(t3) {
            var e3 = (void 0 === t3 ? {} : t3).id, n3 = this.em, o3 = e3 || this.getId();
            return null == n3 ? void 0 : n3.Css.getIdRule(o3);
          }, o2.prototype._getStyleSelector = function(t3) {
            var e3 = this._getStyleRule(t3);
            return null == e3 ? void 0 : e3.get("selectors").at(0);
          }, o2.prototype._moveInlineStyleToRule = function() {
            var n3 = this.get("style"), o3 = (0, t2.isString)(n3) && n3.length > 0 || (0, e2.isObject)(n3) && Object.keys(n3).length > 0;
            Sn(this.em) && o3 && this.addStyle((0, e2.isObject)(n3) ? this.dataResolverWatchers.getValueOrResolver("styles", n3) : n3, { avoidStore: true, noUndo: true });
          }, o2.prototype._idUpdated = function(t3, e3, n3) {
            if (void 0 === n3 && (n3 = {}), !n3.idUpdate) {
              var r2 = this.ccid, i2 = (this.get("attributes") || {}).id, a2 = (this.previous("attributes") || {}).id || r2, s2 = o2.getList(this);
              if (s2[i2] || !i2 && a2) return this.setId(a2, { idUpdate: true });
              delete s2[a2], s2[i2] = this, this.ccid = i2;
              var l2 = this._getStyleSelector({ id: a2 });
              l2 && l2.set({ name: i2, label: i2 });
            }
          }, o2.getDefaults = function() {
            return (0, t2.result)(this.prototype, "defaults");
          }, o2.isComponent = function(t3, n3) {
            return { tagName: (0, e2.toLowerCase)(t3.tagName) };
          }, o2.ensureInList = function(t3) {
            var e3 = o2.getList(t3), n3 = t3.getId(), r2 = e3[n3];
            if (r2) {
              if (r2 !== t3) {
                var i2 = o2.getIncrementId(n3, e3);
                t3.setId(i2), e3[i2] = t3;
              }
            } else e3[n3] = t3;
            t3.components().forEach((function(t4) {
              return o2.ensureInList(t4);
            }));
          }, o2.createId = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3, r2 = o2.getList(t3), i2 = e3.idMap, a2 = void 0 === i2 ? {} : i2, s2 = t3.get("attributes").id;
            return s2 ? (n3 = o2.getIncrementId(s2, r2, e3), t3.setId(n3), s2 !== n3 && (a2[s2] = n3)) : n3 = o2.getNewId(r2), r2[n3] = t3, n3;
          }, o2.getNewId = function(t3) {
            for (var e3 = Object.keys(t3).length.toString().length + 2, n3 = (Math.random() + 1.1).toString(36).slice(-e3), r2 = "i".concat(n3); t3[r2]; ) r2 = o2.getNewId(t3);
            return r2;
          }, o2.getIncrementId = function(t3, e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = n3.keepIds, r2 = 1, i2 = t3;
            if ((void 0 === o3 ? [] : o3).indexOf(t3) < 0) for (; e3[i2]; ) r2++, i2 = "".concat(t3, "-").concat(r2);
            return i2;
          }, o2.getList = function(t3) {
            var e3, n3 = t3.em, o3 = null == n3 ? void 0 : n3.Components;
            return null !== (e3 = null == o3 ? void 0 : o3.componentsById) && void 0 !== e3 ? e3 : {};
          }, o2.checkId = function(e3, n3, r2, i2) {
            void 0 === n3 && (n3 = []), void 0 === r2 && (r2 = {}), void 0 === i2 && (i2 = {});
            var a2 = (0, t2.isArray)(e3) ? e3 : [e3], s2 = i2.keepIds, l2 = void 0 === s2 ? [] : s2, c2 = i2.idMap, u2 = void 0 === c2 ? {} : c2;
            a2.forEach((function(e4) {
              e4.attributes;
              var a3 = e4.attributes, s3 = void 0 === a3 ? {} : a3, c3 = e4.components, p2 = s3.id;
              if (p2 && r2[p2] && l2.indexOf(p2) < 0) {
                var d2 = o2.getIncrementId(p2, r2);
                u2[p2] = d2, s3.id = d2, (0, t2.isArray)(n3) && n3.forEach((function(t3) {
                  var e5 = t3.selectors;
                  e5.forEach((function(t4, n4) {
                    t4 === "#".concat(p2) && (e5[n4] = "#".concat(d2));
                  }));
                }));
              }
              c3 && o2.checkId(c3, n3, r2, i2);
            }));
          }, o2.typeExtends = /* @__PURE__ */ new Set(), o2;
        })(De);
        const Mn = jn;
        var Dn = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ln = function() {
          return Ln = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ln.apply(this, arguments);
        }, In = "head", Nn = ["title", "style", "base", "link", "meta", "script", "noscript"], Rn = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Dn(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return Ln(Ln({}, t3.prototype.defaults), { type: In, tagName: In, draggable: false, highlightable: false, droppable: function(t4) {
              var n3 = t4.tagName;
              return !n3 || Nn.includes((0, e2.toLowerCase)(n3));
            } });
          }, enumerable: false, configurable: true }), n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === In;
          }, n2;
        })(Mn);
        const Vn = Rn;
        var Fn = (function() {
          function e3(e4, n2) {
            var o2;
            void 0 === e4 && (e4 = 50), this.dragging = false, this.lastMaxHeight = 0, this.zoom = 1, this.rectIsInScrollIframe = false, this.autoscrollLimit = e4, this.lastMaxHeight = null !== (o2 = null == n2 ? void 0 : n2.lastMaxHeight) && void 0 !== o2 ? o2 : 0, this.onScroll = null == n2 ? void 0 : n2.onScroll, this.rectIsInScrollIframe = !!(null == n2 ? void 0 : n2.rectIsInScrollIframe), (0, t2.bindAll)(this, "start", "autoscroll", "updateClientY", "stop");
          }
          return e3.prototype.start = function(t3, e4, n2) {
            var o2 = this;
            this.eventEl = t3, this.scrollEl = e4, this.lastMaxHeight = (null == n2 ? void 0 : n2.lastMaxHeight) || Number.POSITIVE_INFINITY, this.zoom = (null == n2 ? void 0 : n2.zoom) || 1, this.ignoredElement = null == n2 ? void 0 : n2.ignoredElement, setTimeout((function() {
              o2.toggleAutoscrollFx(true), requestAnimationFrame(o2.autoscroll);
            }), 0);
          }, e3.prototype.autoscroll = function() {
            var t3, e4, n2 = this, o2 = this.scrollEl;
            if (this.dragging && o2) if (void 0 !== this.lastClientY) {
              var r2 = null !== (t3 = this.lastClientY) && void 0 !== t3 ? t3 : 0, i2 = this.autoscrollLimit, a2 = this.getEventElHeight() - i2, s2 = 0;
              r2 < i2 && (s2 += r2 - i2), r2 > a2 && (s2 += r2 - a2);
              var l2 = this.getElScrollTop(o2);
              s2 = Math.min(s2, this.lastMaxHeight - l2), 0 !== (s2 = Math.max(s2, -l2)) && (o2.scrollBy({ top: s2, behavior: "auto" }), null === (e4 = this.onScroll) || void 0 === e4 || e4.call(this)), requestAnimationFrame(this.autoscroll);
            } else setTimeout((function() {
              requestAnimationFrame(n2.autoscroll);
            }), 50);
          }, e3.prototype.getEventElHeight = function() {
            var t3 = this.eventEl;
            return t3 ? t3.getBoundingClientRect().height : 0;
          }, e3.prototype.updateClientY = function(t3) {
            var e4 = t3.target;
            if (!this.ignoredElement || !this.ignoredElement.contains(e4)) {
              var n2 = this.scrollEl;
              t3.preventDefault();
              var o2 = this.rectIsInScrollIframe ? 0 : this.getElScrollTop(n2);
              this.lastClientY = (0, Z.G2)(t3).clientY * this.zoom - o2;
            }
          }, e3.prototype.getElScrollTop = function(t3) {
            return (t3 instanceof HTMLElement ? t3.scrollTop : null == t3 ? void 0 : t3.scrollY) || 0;
          }, e3.prototype.toggleAutoscrollFx = function(t3) {
            this.dragging = t3;
            var e4 = this.eventEl;
            if (e4) {
              var n2 = t3 ? "on" : "off", o2 = { on: Z.on, off: Z.AU };
              o2[n2](e4, "mousemove dragover", this.updateClientY), o2[n2](e4, "mouseup", this.stop);
            }
          }, e3.prototype.stop = function() {
            this.toggleAutoscrollFx(false), this.lastClientY = void 0, this.ignoredElement = void 0;
          }, e3;
        })();
        const Hn = Fn;
        var Un = n(1447), zn = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Bn = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return zn(n2, e3), n2.prototype.canMove = function(e4, n3) {
            var o2 = this, r2 = this.getRealIndex(n3), i2 = e4._dragSource, a2 = i2.model, s2 = i2.content, l2 = i2.dragDef, c2 = !a2 || !this.isSourceSameSymbol(a2), u2 = ((0, t2.isFunction)(s2) ? l2 : s2) || e4.model;
            return Array.isArray(u2) ? c2 && u2.every((function(t3, e5) {
              return o2.canMoveSingleContent(t3, r2 + e5);
            })) : c2 && this.canMoveSingleContent(u2, r2);
          }, n2.prototype.canMoveSingleContent = function(t3, e4) {
            return this.model.em.Components.canMove(this.model, t3, e4).result;
          }, n2.prototype.addChildAt = function(e4, n3) {
            var o2 = e4._dragSource.content, r2 = this.isTextNode() && e4.isTextable(), i2 = (0, t2.isFunction)(o2) ? o2() : o2;
            return Array.isArray(i2) ? this.addMultipleChildren(i2, n3, r2) : this.addSingleChild(i2, n3, r2);
          }, n2.prototype.addSingleChild = function(t3, e4, n3) {
            var o2, r2, i2, a2, s2;
            return s2 = n3 ? null === (a2 = null === (i2 = null === (r2 = null === (o2 = this.model) || void 0 === o2 ? void 0 : o2.getView) || void 0 === r2 ? void 0 : r2.call(o2)) || void 0 === i2 ? void 0 : i2.insertComponent) || void 0 === a2 ? void 0 : a2.call(i2, t3, { action: "add-component" }) : this.model.components().add(t3, { at: this.getRealIndex(e4), action: "add-component" }), new this.constructor(s2);
          }, n2.prototype.addMultipleChildren = function(t3, e4, n3) {
            var o2, r2 = this;
            return t3.forEach((function(t4, i2) {
              o2 = r2.addSingleChild(t4, e4 + i2, n3);
            })), o2;
          }, n2.prototype.isSourceSameSymbol = function(t3) {
            if (Kt(this.model)) {
              var e4 = ee(this.model);
              if ((qt(e4) ? e4 : Xt(e4)) === t3) return true;
            }
            return false;
          }, Object.defineProperty(n2.prototype, "content", { set: function(t3) {
            this._dragSource.content = t3;
          }, enumerable: false, configurable: true }), n2;
        })(Un.A);
        const Wn = Bn;
        var $n = n(8433), qn = function() {
          return qn = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, qn.apply(this, arguments);
        }, Gn = (function() {
          function e3(e4, n2) {
            var o2 = this;
            this.em = e4, this.canvas = e4.Canvas;
            var r2 = n2 || this.canvas.getFrames().map((function(t3) {
              return t3.getComponent().getEl();
            })), i2 = Array.isArray(r2) ? r2 : [r2];
            this.el = i2[0], this.counter = 0, (0, t2.bindAll)(this, "handleDragEnter", "handleDragOver", "handleDrop", "handleDragLeave", "handleDragEnd"), i2.forEach((function(t3) {
              return o2.toggleEffects(t3, true);
            }));
          }
          return e3.prototype.toggleEffects = function(t3, e4) {
            var n2 = { on: Z.on, off: Z.AU }, o2 = e4 ? "on" : "off";
            n2[o2](t3, "dragenter", this.handleDragEnter), n2[o2](t3, "dragover", this.handleDragOver), n2[o2](t3, "drop", this.handleDrop), n2[o2](t3, "dragleave", this.handleDragLeave);
          }, e3.prototype.__customTglEff = function(t3) {
            var e4, n2 = t3 ? Z.on : Z.AU, o2 = this.el.ownerDocument, r2 = null === (e4 = o2.defaultView) || void 0 === e4 ? void 0 : e4.frameElement;
            this.getSorterOptions = t3 ? function(t4) {
              return { legacyOnStartSort: function() {
                (0, Z.on)(r2, "pointermove", t4.onMove);
              }, legacyOnEnd: function() {
                (0, Z.AU)(r2, "pointermove", t4.onMove);
              }, customTarget: function(t5) {
                var e5 = t5.event;
                return o2.elementFromPoint(e5.clientX, e5.clientY);
              } };
            } : void 0, n2(r2, "pointerenter", this.handleDragEnter), n2(r2, "pointermove", this.handleDragOver), n2(document, "pointerup", this.handleDrop), n2(r2, "pointerout", this.handleDragLeave);
          }, e3.prototype.startCustom = function() {
            this.__customTglEff(true);
          }, e3.prototype.endCustom = function(t3) {
            this.over ? this.endDrop(t3) : this.__customTglEff(false);
          }, e3.prototype.endDrop = function(t3, e4) {
            var n2 = this.em, o2 = this.dragStop;
            this.counter = 0, o2 && o2(t3 || !this.over), this.__customTglEff(false), n2.trigger("canvas:dragend", e4);
          }, e3.prototype.handleDragLeave = function(t3) {
            this.updateCounter(-1, t3);
          }, e3.prototype.updateCounter = function(t3, e4) {
            this.counter += t3, 0 === this.counter && this.endDrop(true, e4);
          }, e3.prototype.handleDragEnter = function(t3) {
            var e4, n2, o2 = this, r2 = this.em, i2 = this.canvas, a2 = t3.dataTransfer, s2 = r2.get("dragSource");
            if (((null == s2 ? void 0 : s2.content) || i2.getConfig().allowExternalDrop) && (this.updateCounter(1, t3), !this.over)) {
              this.over = true;
              var l2, c2 = r2.Utils, u2 = (null == s2 ? void 0 : s2.content) || "<br>";
              if (r2.stopDefault(), r2.inAbsoluteMode()) {
                var p2 = r2.Components.getWrapper(), d2 = p2.append({})[0], f2 = r2.Commands.run("core:component-drag", { event: t3, guidesInfo: 1, center: 1, target: d2, onEnd: function(t4, e5, n3) {
                  var r3;
                  if (!n3.cancelled && u2) {
                    r3 = p2.append(u2)[0];
                    var s3 = i2.getOffset(), l3 = d2.getStyle(), c3 = l3.top, f3 = l3.left, h3 = l3.position, v3 = (0, Z.Xy)(t4.target), g3 = parseInt("".concat(parseFloat(f3) + v3.x - s3.left), 10), y3 = parseInt("".concat(parseFloat(c3) + v3.y - s3.top), 10);
                    r3.addStyle({ left: g3 + "px", top: y3 + "px", position: h3 });
                  }
                  o2.handleDragEnd(r3, a2), d2.remove();
                } });
                l2 = function(e5) {
                  return f2.stop(t3, { cancel: e5 });
                }, this.setAbsoluteDragContent = function(t4) {
                  return u2 = t4;
                };
              } else {
                var h2 = new c2.ComponentSorter({ em: r2, treeClass: Wn, containerContext: { container: this.el, containerSel: "*", itemSel: "*", pfx: "gjs-", placeholderElement: i2.getPlacerEl(), document: this.el.ownerDocument }, dragBehavior: { dragDirection: $n.A.BothDirections, nested: true }, positionOptions: { windowMargin: 1, canvasRelative: true }, eventHandlers: { legacyOnEndMove: this.handleDragEnd } }), v2 = null === (e4 = this.getSorterOptions) || void 0 === e4 ? void 0 : e4.call(this, h2);
                v2 && (h2.eventHandlers.legacyOnStartSort = v2.legacyOnStart, h2.eventHandlers.legacyOnEnd = v2.legacyOnEnd, h2.containerContext.customTarget = v2.customTarget);
                var g2 = r2.Components.getShallowWrapper(), y2 = null == g2 ? void 0 : g2.append(u2, { temporary: true })[0], m2 = [{ element: null == y2 ? void 0 : y2.getEl(), dragSource: qn({ model: y2 }, s2) }];
                h2.startSort(m2), this.sorter = h2, this.draggedNode = null === (n2 = h2.sourceNodes) || void 0 === n2 ? void 0 : n2[0], l2 = function(t4) {
                  t4 ? h2.cancelDrag() : h2.endDrag();
                };
              }
              this.dragStop = l2, r2.trigger("canvas:dragenter", a2, u2);
            }
          }, e3.prototype.handleDragEnd = function(t3, e4) {
            var n2 = this.em;
            this.over = false, t3 && (n2.set("dragResult", t3), n2.trigger("canvas:drop", e4, t3)), n2.runDefault({ preserveSelected: 1 });
          }, e3.prototype.handleDragOver = function(t3) {
            t3.preventDefault(), this.em.trigger("canvas:dragover", t3);
          }, e3.prototype.handleDrop = function(t3) {
            var e4;
            t3.preventDefault();
            var n2 = t3.dataTransfer, o2 = this.getContentByData(n2).content || "";
            this.draggedNode && (this.draggedNode.content = o2), null === (e4 = this.setAbsoluteDragContent) || void 0 === e4 || e4.call(this, o2), this.endDrop(!o2, t3);
          }, e3.prototype.getContentByData = function(e4) {
            var n2 = this.em, o2 = (null == e4 ? void 0 : e4.types) || [], r2 = (null == e4 ? void 0 : e4.files) || [], i2 = n2.get("dragSource"), a2 = (null == e4 ? void 0 : e4.getData("text")) || "";
            if (r2.length) {
              a2 = [];
              for (var s2 = 0; s2 < r2.length; s2++) {
                var l2 = r2[s2], c2 = l2.type.split("/")[0];
                "image" == c2 && a2.push({ type: c2, file: l2, attributes: { alt: l2.name } });
              }
            } else if (null == i2 ? void 0 : i2.content) a2 = i2.content;
            else if ((0, t2.indexOf)(o2, "text/html") >= 0) a2 = e4 && e4.getData("text/html").replace(/<\/?meta[^>]*>/g, "");
            else if ((0, t2.indexOf)(o2, "text/uri-list") >= 0) a2 = { type: "link", attributes: { href: a2 }, content: a2 };
            else if ((0, t2.indexOf)(o2, "text/json") >= 0) {
              var u2 = e4 && e4.getData("text/json");
              u2 && (a2 = JSON.parse(u2));
            } else 1 === o2.length && "text/plain" === o2[0] && (a2 = "<div>".concat(a2, "</div>"));
            var p2 = { content: a2, setContent: function(t3) {
              p2.content = t3;
            } };
            return n2.trigger("canvas:dragdata", e4, p2), p2;
          }, e3;
        })();
        const Kn = Gn;
        var Yn = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Jn = function() {
          return Jn = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Jn.apply(this, arguments);
        }, Xn = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Zn = (function(n2) {
          function o2(o3, r2) {
            var i2 = n2.call(this, { model: o3 }) || this;
            i2.dragging = false, i2.loaded = false, i2.lastMaxHeight = 0, i2.tools = {}, (0, t2.bindAll)(i2, "startAutoscroll", "stopAutoscroll", "_emitUpdate");
            var a2 = i2.el;
            i2.module._config = Jn(Jn({}, i2.config || {}), { frameView: i2 }), i2.frameWrapView = r2, i2.showGlobalTools = (0, t2.debounce)(i2.showGlobalTools.bind(i2), 50);
            var s2 = i2.getCanvasModel();
            return i2.listenTo(o3, "change:head", i2.updateHead), i2.listenTo(s2, "change:styles", i2.renderStyles), o3.view = i2, (0, e2.setViewEl)(a2, i2), i2.autoScroller = new Hn(i2.config.autoscrollLimit, { rectIsInScrollIframe: true, onScroll: function() {
              i2.getGlobalToolsEl().style.opacity = "0", i2.showGlobalTools(), i2.em.Canvas.spots.refreshDbn();
            } }), i2;
          }
          return Yn(o2, n2), Object.defineProperty(o2.prototype, "tagName", { get: function() {
            return "iframe";
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "attributes", { get: function() {
            return { allowfullscreen: "allowfullscreen" };
          }, enumerable: false, configurable: true }), o2.prototype.getBoxRect = function() {
            var t3 = this.el, e3 = this.module, n3 = e3.getCanvasView(), o3 = e3.getCoords(), r2 = t3.getBoundingClientRect(), i2 = n3.getCanvasOffset(), a2 = n3.getViewportDelta(), s2 = e3.getZoomMultiplier();
            return { x: (r2.x - i2.left - a2.x - o3.x) * s2, y: (r2.y - i2.top - a2.y - o3.y) * s2, width: r2.width * s2, height: r2.height * s2 };
          }, o2.prototype.updateHead = function() {
            var t3 = this.model, e3 = this.getHead(), n3 = [], o3 = [], r2 = t3.head, i2 = t3.previous("head"), a2 = function(t4) {
              return void 0 === t4 && (t4 = {}), Object.keys(t4).sort().map((function(e4) {
                return "[".concat(e4, '="').concat(t4[e4], '"]');
              })).join("");
            }, s2 = function(t4, e4, n4) {
              t4.forEach((function(t5) {
                var o4 = t5.tag, r3 = t5.attributes;
                !e4.some((function(t6) {
                  return t6.tag === o4 && a2(t6.attributes) === a2(r3);
                })) && n4.push(t5);
              }));
            };
            s2(r2, i2, o3), s2(i2, r2, n3), n3.forEach((function(t4) {
              var n4, o4 = e3.querySelector("".concat(t4.tag).concat(a2(t4.attributes)));
              null === (n4 = null == o4 ? void 0 : o4.parentNode) || void 0 === n4 || n4.removeChild(o4);
            })), (0, Z.af)(e3, o3);
          }, o2.prototype.getEl = function() {
            return this.el;
          }, o2.prototype.getCanvasModel = function() {
            var t3;
            return null === (t3 = null == this ? void 0 : this.em.Canvas) || void 0 === t3 ? void 0 : t3.getModel();
          }, o2.prototype.getWindow = function() {
            return this.getEl().contentWindow;
          }, o2.prototype.getDoc = function() {
            return this.getEl().contentDocument;
          }, o2.prototype.getHead = function() {
            return this.getDoc().querySelector("head");
          }, o2.prototype.getBody = function() {
            return this.getDoc().querySelector("body");
          }, o2.prototype.getWrapper = function() {
            return this.getBody().querySelector("[data-gjs-type=wrapper]");
          }, o2.prototype.getJsContainer = function() {
            return this.jsContainer || (this.jsContainer = (0, Z.a_)("div", { class: "".concat(this.ppfx, "js-cont") })), this.jsContainer;
          }, o2.prototype.getToolsEl = function() {
            var t3;
            return null === (t3 = this.frameWrapView) || void 0 === t3 ? void 0 : t3.elTools;
          }, o2.prototype.getGlobalToolsEl = function() {
            return this.em.Canvas.getGlobalToolsEl();
          }, o2.prototype.getHighlighter = function() {
            return this._getTool("[data-hl]");
          }, o2.prototype.getBadgeEl = function() {
            return this._getTool("[data-badge]");
          }, o2.prototype.getOffsetViewerEl = function() {
            return this._getTool("[data-offset]");
          }, o2.prototype.getRect = function() {
            return this.rect || (this.rect = this.el.getBoundingClientRect()), this.rect;
          }, o2.prototype.getOffsetRect = function() {
            var t3 = this.el, e3 = this.getBody(), n3 = e3.scrollTop, o3 = e3.scrollLeft, r2 = t3.offsetHeight, i2 = t3.offsetWidth;
            return { top: t3.offsetTop, left: t3.offsetLeft, height: r2, width: i2, scrollTop: n3, scrollLeft: o3, scrollBottom: n3 + r2, scrollRight: o3 + i2 };
          }, o2.prototype._getTool = function(t3) {
            var e3 = this.tools, n3 = this.getToolsEl();
            return e3[t3] || (e3[t3] = n3.querySelector(t3)), e3[t3];
          }, o2.prototype.remove = function() {
            for (var t3, e3 = [], n3 = 0; n3 < arguments.length; n3++) e3[n3] = arguments[n3];
            return this._toggleEffects(false), this.tools = {}, null === (t3 = this.wrapper) || void 0 === t3 || t3.remove(), X.prototype.remove.apply(this, e3), this;
          }, o2.prototype.startAutoscroll = function() {
            this.autoScroller.start(this.el, this.getWindow(), { lastMaxHeight: this.getWrapper().offsetHeight - this.el.offsetHeight, zoom: this.em.getZoomDecimal(), ignoredElement: this.em.Canvas.getSpotsEl() });
          }, o2.prototype.stopAutoscroll = function() {
            this.autoScroller.stop();
          }, o2.prototype.showGlobalTools = function() {
            this.getGlobalToolsEl().style.opacity = "";
          }, o2.prototype.render = function() {
            var t3 = this, e3 = t3.$el, n3 = t3.ppfx, o3 = t3.em;
            return e3.attr({ class: "".concat(n3, "frame") }), this.renderScripts(), o3.trigger("frame:render", this), this;
          }, o2.prototype.renderScripts = function() {
            var e3 = this, n3 = this, o3 = n3.el, r2 = n3.model, i2 = n3.em, a2 = "frame:load", s2 = { el: o3, model: r2, view: this }, l2 = this.getCanvasModel(), c2 = function(n4) {
              var r3;
              if (n4.length > 0) {
                var l3 = n4.shift(), u2 = (0, Z.a_)("script", Jn({ type: "text/javascript" }, (0, t2.isString)(l3) ? { src: l3 } : l3));
                null === (r3 = o3.contentDocument) || void 0 === r3 || r3.head.appendChild(u2), u2.hasAttribute("nomodule") && "noModule" in HTMLScriptElement.prototype ? c2(n4) : u2.onerror = u2.onload = c2.bind(null, n4);
              } else null == i2 || i2.trigger(A.frameLoadHead, s2), e3.renderBody(), null == i2 || i2.trigger(A.frameLoadBody, s2), null == i2 || i2.trigger(a2, s2);
            };
            o3.onload = function() {
              var t3 = e3.config.frameContent;
              if (t3) {
                var n4 = e3.getDoc();
                n4.open(), n4.write(t3), n4.close();
              }
              s2.window = e3.getWindow(), null == i2 || i2.trigger("".concat(a2, ":before"), s2), null == i2 || i2.trigger(A.frameLoad, s2), e3.renderHead(), c2(Xn([], l2.get("scripts"), true));
            };
          }, o2.prototype.renderStyles = function(e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.getHead(), o3 = this.getCanvasModel(), r2 = function(e4) {
              return void 0 === e4 && (e4 = []), e4.map((function(e5) {
                return { tag: "link", attributes: Jn({ rel: "stylesheet" }, (0, t2.isString)(e5) ? { href: e5 } : e5) };
              }));
            }, i2 = r2(e3.prev || o3.previous("styles")), a2 = r2(null == o3 ? void 0 : o3.get("styles")), s2 = [], l2 = [], c2 = function(t3, e4, n4) {
              t3.forEach((function(t4) {
                var o4 = t4.attributes.href;
                !e4.some((function(t5) {
                  return t5.attributes.href === o4;
                })) && n4.push(t4);
              }));
            };
            c2(a2, i2, l2), c2(i2, a2, s2), s2.forEach((function(t3) {
              var e4, o4 = n3.querySelector('link[href="'.concat(t3.attributes.href, '"]'));
              null === (e4 = null == o4 ? void 0 : o4.parentNode) || void 0 === e4 || e4.removeChild(o4);
            })), (0, Z.af)(n3, l2);
          }, o2.prototype.renderHead = function() {
            var t3, e3 = this.model, n3 = this.em, o3 = e3.root, r2 = null === (t3 = null == n3 ? void 0 : n3.Components) || void 0 === t3 ? void 0 : t3.getType(In).view;
            r2 && (this.headView = new r2({ el: this.getHead(), model: o3.head, config: Jn(Jn({}, o3.config), { frameView: this }) }).render());
          }, o2.prototype.renderBody = function() {
            var e3, n3 = this, o3 = this, r2 = o3.config, i2 = o3.em, a2 = o3.model, s2 = o3.ppfx, l2 = this.getBody(), c2 = this.getWindow(), u2 = a2.hasAutoHeight(), p2 = i2.config;
            c2._isEditor = true, this.renderStyles({ prev: [] });
            (0, Z.BC)(l2, "<style>\n      ".concat(p2.baseCss || r2.frameStyle || "", "\n\n      ").concat(u2 ? "body { overflow: hidden }" : "", '\n\n      [data-gjs-type="wrapper"] {\n        ').concat(u2 ? "" : "min-height: 100vh;", "\n        padding-top: 0.001em;\n      }\n\n      .").concat(s2, "dashed *[data-gjs-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .").concat(s2, "selected {\n        outline: 2px solid #3b97e3 !important;\n        outline-offset: -2px;\n      }\n\n      .").concat(s2, "selected-parent {\n        outline: 2px solid ").concat("#ffca6f", " !important\n      }\n\n      .").concat(s2, "no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .").concat(s2, "freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .").concat(s2, "no-pointer {\n        pointer-events: none;\n      }\n\n      .").concat(s2, "pointer-init {\n        pointer-events: initial;\n      }\n\n      .").concat(s2, "plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .").concat(s2, "grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .").concat(s2, "is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .").concat(s2, "is__grabbing,\n      .").concat(s2, "is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      ").concat(p2.canvasCss || "", "\n      ").concat(p2.protectedCss || "", "\n    </style>"));
            var d2 = a2.root, f2 = ((null === (e3 = null == i2 ? void 0 : i2.Components) || void 0 === e3 ? void 0 : e3.getType("wrapper")) || {}).view;
            f2 && ((0, t2.isFunction)(r2.customRenderer) ? r2.customRenderer({ editor: i2.Editor, frame: a2, window: c2, frameView: this, onMount: function(t3) {
              n3.wrapper = t3, n3._onRootMount(t3);
            } }) : (this.wrapper = new f2({ model: d2, config: Jn(Jn({}, d2.config), { em: i2, frameView: this }) }).render(), this._onRootMount(this.wrapper)));
          }, o2.prototype._onRootMount = function(t3) {
            var n3, o3 = this, r2 = this, i2 = r2.config, a2 = r2.em, s2 = r2.model, l2 = this.getDoc(), c2 = l2.body;
            (0, Z.BC)(c2, t3.el), (0, Z.BC)(c2, new ut({ collection: s2.getStyles(), config: Jn(Jn({}, a2.Css.getConfig()), { frameView: this }) }).render().el), (0, Z.BC)(c2, this.getJsContainer()), (0, Z.on)(c2, "click", (function(t4) {
              var e3;
              return t4 && "A" == (null === (e3 = t4.target) || void 0 === e3 ? void 0 : e3.tagName) && t4.preventDefault();
            })), (0, Z.on)(c2, "submit", (function(t4) {
              return t4 && t4.preventDefault();
            })), [{ event: "keydown keyup keypress", class: "KeyboardEvent" }, { event: "mousedown mousemove mouseup", class: "MouseEvent" }, { event: "pointerdown pointermove pointerup", class: "PointerEvent" }, { event: "wheel", class: "WheelEvent", opts: { passive: !i2.infiniteCanvas } }].forEach((function(t4) {
              return t4.event.split(" ").forEach((function(e3) {
                l2.addEventListener(e3, (function(e4) {
                  return o3.el.dispatchEvent((0, Z.yL)(e4, t4.class));
                }), t4.opts);
              }));
            })), this._toggleEffects(true), (0, e2.hasDnd)(a2) && (this.droppable = new Kn(a2, null === (n3 = this.wrapper) || void 0 === n3 ? void 0 : n3.el)), this.loaded = true, s2.trigger("loaded");
          }, o2.prototype._toggleEffects = function(t3) {
            var e3 = t3 ? Z.on : Z.AU, n3 = this.getWindow();
            n3 && e3(n3, "".concat(Z.D8, " resize"), this._emitUpdate);
          }, o2.prototype._emitUpdate = function() {
            this.model._emitUpdated();
          }, o2;
        })(X);
        const Qn = Zn;
        var to = n(9966), eo = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), no = function() {
          return no = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, no.apply(this, arguments);
        }, oo = (function(e3) {
          function n2(n3, o2) {
            var r2 = e3.call(this, { model: n3 }) || this;
            (0, t2.bindAll)(r2, "onScroll", "frameLoaded", "updateOffset", "remove", "startDrag");
            no(no({}, n3.config), { frameWrapView: r2 });
            return r2.cv = o2, r2.frame = new Qn(n3, r2), r2.classAnim = "".concat(r2.ppfx, "frame-wrapper--anim"), r2.updateOffset = (0, t2.debounce)(r2.updateOffset.bind(r2), 0), r2.updateSize = (0, t2.debounce)(r2.updateSize.bind(r2), 0), r2.listenTo(n3, "loaded", r2.frameLoaded), r2.listenTo(n3, "change:x change:y", r2.updatePos), r2.listenTo(n3, "change:width change:height", r2.updateSize), r2.listenTo(n3, "destroy remove", r2.remove), r2.updatePos(), r2.setupDragger(), r2;
          }
          return eo(n2, e3), n2.prototype.events = function() {
            return { "click [data-action-remove]": "remove", "mousedown [data-action-move]": "startDrag" };
          }, n2.prototype.setupDragger = function() {
            var t3, e4, n3, o2 = this, r2 = this.module, i2 = this.model, a2 = function(t4) {
              r2.toggleFramesEvents(t4);
            };
            this.dragger = new to.A({ onStart: function() {
              var r3 = i2.attributes, s2 = r3.x, l2 = r3.y;
              n3 = o2.em.getZoomMultiplier(), t3 = s2, e4 = l2, a2(false);
            }, onEnd: function() {
              return a2(true);
            }, setPosition: function(o3) {
              i2.set({ x: t3 + o3.x * n3, y: e4 + o3.y * n3 });
            } });
          }, n2.prototype.startDrag = function(t3) {
            var e4;
            t3 && (null === (e4 = this.dragger) || void 0 === e4 || e4.start(t3));
          }, n2.prototype.__clear = function(t3) {
            var e4 = this.frame;
            e4 && e4.remove(t3), (0, Z.YZ)(this.elTools);
          }, n2.prototype.remove = function(t3) {
            var e4, n3 = this;
            return null === (e4 = this.sizeObserver) || void 0 === e4 || e4.disconnect(), this.__clear(t3), X.prototype.remove.apply(this, t3), ["frame", "dragger", "cv", "elTools"].forEach((function(t4) {
              return n3[t4] = 0;
            })), this;
          }, n2.prototype.updateOffset = function() {
            var t3, e4 = this, n3 = e4.em, o2 = e4.$el, r2 = e4.frame;
            n3 && !n3.destroyed && (n3.runDefault({ preserveSelected: 1 }), o2.removeClass(this.classAnim), null === (t3 = null == r2 ? void 0 : r2.model) || void 0 === t3 || t3._emitUpdated());
          }, n2.prototype.updatePos = function(t3) {
            var e4 = this.model, n3 = this.el, o2 = e4.attributes, r2 = o2.x, i2 = o2.y, a2 = n3.style;
            this.frame.rect = void 0, a2.left = isNaN(r2) ? r2 : "".concat(r2, "px"), a2.top = isNaN(i2) ? i2 : "".concat(i2, "px"), t3 && this.updateOffset();
          }, n2.prototype.updateSize = function() {
            this.updateDim();
          }, n2.prototype.updateDim = function() {
            var e4 = this, n3 = e4.em, o2 = e4.el, r2 = e4.$el, i2 = e4.model, a2 = e4.classAnim, s2 = e4.frame;
            if (s2) {
              s2.rect = void 0, r2.addClass(a2);
              var l2 = this.__handleSize(), c2 = l2.noChanges, u2 = l2.width, p2 = l2.height;
              ((0, t2.isNull)(u2) || (0, t2.isNull)(p2)) && i2.set(no(no({}, u2 ? {} : { width: o2.offsetWidth }), p2 ? {} : { height: o2.offsetHeight }), { silent: 1 }), n3.stopDefault({ preserveSelected: 1 }), c2 ? this.updateOffset() : setTimeout(this.updateOffset, 350);
            }
          }, n2.prototype.onScroll = function() {
            var t3 = this.frame;
            this.em.trigger("frame:scroll", { frame: t3, body: t3.getBody(), target: t3.getWindow() });
          }, n2.prototype.frameLoaded = function() {
            var t3 = this.frame;
            this.config;
            t3.getWindow().onscroll = this.onScroll, this.updateDim();
          }, n2.prototype.__handleSize = function() {
            var e4, n3 = "px", o2 = this.model, r2 = this.el.style, i2 = o2.attributes, a2 = i2.width, s2 = i2.height, l2 = r2.width || "", c2 = r2.height || "", u2 = a2 || "", p2 = s2 || "", d2 = l2 == u2 && c2 == p2, f2 = (0, t2.isNumber)(u2) ? "".concat(u2).concat(n3) : u2, h2 = (0, t2.isNumber)(p2) ? "".concat(p2).concat(n3) : p2;
            if (r2.width = f2, null === (e4 = this.sizeObserver) || void 0 === e4 || e4.disconnect(), o2.hasAutoHeight()) {
              var v2 = this.frame.el.contentDocument;
              if (v2) {
                var g2 = new ResizeObserver((function() {
                  requestAnimationFrame((function() {
                    var t3 = parseFloat(o2.get("minHeight")) || 0, e5 = Math.max(v2.body.scrollHeight, t3);
                    r2.height = "".concat(e5, "px");
                  }));
                }));
                g2.observe(v2.body), this.sizeObserver = g2;
              }
            } else r2.height = h2, delete this.sizeObserver;
            return { noChanges: d2, width: a2, height: s2, newW: u2, newH: p2 };
          }, n2.prototype.render = function() {
            var t3 = this, e4 = t3.frame, n3 = t3.$el, o2 = t3.ppfx, r2 = t3.cv, i2 = t3.model, a2 = t3.el, s2 = i2.attributes.onRender;
            this.__clear(), this.__handleSize(), e4.render(), n3.empty().attr({ class: "".concat(o2, "frame-wrapper") }).append('\n      <div class="'.concat(o2, 'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="').concat(o2, 'frame-wrapper__name" data-action-move>\n          ').concat(i2.get("name") || "", '\n        </div>\n        <div class="').concat(o2, 'frame-wrapper__top-r">\n          <div class="').concat(o2, 'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(o2, 'frame-wrapper__right" data-frame-right></div>\n      <div class="').concat(o2, 'frame-wrapper__left" data-frame-left></div>\n      <div class="').concat(o2, 'frame-wrapper__bottom" data-frame-bottom></div>\n      ')).append(e4.el);
            var l2 = (0, Z.a_)("div", { class: "".concat(o2, "tools"), style: "pointer-events:none; display: none" }, '\n      <div class="'.concat(o2, 'highlighter" data-hl></div>\n      <div class="').concat(o2, 'badge" data-badge></div>\n      <div class="').concat(o2, 'placeholder">\n        <div class="').concat(o2, 'placeholder-int"></div>\n      </div>\n      <div class="').concat(o2, 'ghost"></div>\n      <div class="').concat(o2, 'toolbar" style="pointer-events:all"></div>\n      <div class="').concat(o2, 'resizer"></div>\n      <div class="').concat(o2, 'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="').concat(o2, 'offset-fixed-v"></div>\n    '));
            this.elTools = l2;
            var c2 = null == r2 ? void 0 : r2.toolsWrapper;
            return c2 && c2.appendChild(l2), s2 && s2({ el: a2, elTop: a2.querySelector("[data-frame-top]"), elRight: a2.querySelector("[data-frame-right]"), elBottom: a2.querySelector("[data-frame-bottom]"), elLeft: a2.querySelector("[data-frame-left]"), frame: i2, frameWrapperView: this, remove: this.remove, startDrag: this.startDrag }), this;
          }, n2;
        })(X);
        const ro = oo;
        var io = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ao = (function(t3) {
          function e3(e4, n2) {
            void 0 === e4 && (e4 = {});
            var o2 = t3.call(this, e4, true) || this;
            return o2.listenTo(o2.collection, "reset", o2.render), o2.canvasView = n2.canvasView, o2._module = n2.module, o2;
          }
          return io(e3, t3), e3.prototype.onRemoveBefore = function(t4, e4) {
            void 0 === e4 && (e4 = {}), t4.forEach((function(t5) {
              return t5.remove(e4);
            }));
          }, e3.prototype.onRender = function() {
            var t4 = this.$el, e4 = this.ppfx;
            t4.attr({ class: "".concat(e4, "frames") });
          }, e3.prototype.clearItems = function() {
            (this.viewCollection || []).forEach((function(t4) {
              return t4.remove();
            })), this.viewCollection = [];
          }, e3.prototype.renderView = function(t4, e4) {
            return new ro(t4, this.canvasView);
          }, e3;
        })(tt);
        const so = ao;
        var lo = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), co = function() {
          return co = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, co.apply(this, arguments);
        }, uo = (function(n2) {
          function o2(e3) {
            var o3 = n2.call(this, { model: e3 }) || this;
            o3.ready = false, (0, t2.bindAll)(o3, "clearOff", "onKeyPress", "onWheel", "onPointer");
            var r2 = o3, i2 = r2.em, a2 = r2.pfx, s2 = r2.ppfx, l2 = o3.module.events;
            return o3.className = "".concat(a2, "canvas ").concat(s2, "no-touch-actions").concat(i2.config.customUI ? "" : " ".concat(a2, "canvas-bg")), o3.clsUnscale = "".concat(a2, "unscale"), o3._initFrames(), o3.listenTo(i2, l2.refresh, o3.clearOff), o3.listenTo(i2, "component:selected", o3.checkSelected), o3.listenTo(i2, "".concat(l2.coords, " ").concat(l2.zoom), o3.updateFrames), o3.listenTo(e3, "change:frames", o3._onFramesUpdate), o3.toggleListeners(true), o3;
          }
          return lo(o2, n2), o2.prototype.template = function() {
            var t3 = this.pfx;
            return '\n      <div class="'.concat(t3, 'canvas__frames" data-frames>\n        <div class="').concat(t3, 'canvas__spots" data-spots></div>\n      </div>\n      <div id="').concat(t3, 'tools" class="').concat(t3, 'canvas__tools" data-tools></div>\n      <style data-canvas-style></style>\n    ');
          }, o2.prototype._onFramesUpdate = function() {
            this._initFrames(), this._renderFrames();
          }, o2.prototype._initFrames = function() {
            var t3 = this, e3 = t3.frames, n3 = t3.model, o3 = t3.config, r2 = t3.em, i2 = n3.frames;
            r2.set("readyCanvas", 0), i2.once("loaded:all", (function() {
              return r2.set("readyCanvas", 1);
            })), null == e3 || e3.remove(), this.frames = new so({ collection: i2 }, co(co({}, o3), { canvasView: this }));
          }, o2.prototype.checkSelected = function(t3, e3) {
            var n3;
            void 0 === e3 && (e3 = {});
            var o3 = e3.scroll, r2 = this.em.getCurrentFrame();
            o3 && (null === (n3 = t3.views) || void 0 === n3 || n3.forEach((function(t4) {
              t4.frameView === r2 && t4.scrollIntoView(o3);
            })));
          }, o2.prototype.remove = function() {
            for (var t3, e3 = [], n3 = 0; n3 < arguments.length; n3++) e3[n3] = arguments[n3];
            return clearTimeout(this.timerZoom), null === (t3 = this.frames) || void 0 === t3 || t3.remove(), this.frames = void 0, X.prototype.remove.apply(this, e3), this.toggleListeners(false), this;
          }, o2.prototype.preventDefault = function(t3) {
            var e3;
            t3 && (t3.preventDefault(), null === (e3 = t3._parentEvent) || void 0 === e3 || e3.preventDefault());
          }, o2.prototype.toggleListeners = function(t3) {
            var e3 = this.el, n3 = this.config, o3 = t3 ? Z.on : Z.AU;
            o3(document, "keypress", this.onKeyPress), o3(window, "scroll resize", this.clearOff), o3(e3, "wheel", this.onWheel, { passive: !n3.infiniteCanvas }), o3(e3, "pointermove", this.onPointer);
          }, o2.prototype.screenToWorld = function(t3, e3) {
            var n3 = this.module, o3 = n3.getCoords(), r2 = n3.getZoomMultiplier(), i2 = this.getViewportDelta();
            return { x: (t3 - o3.x - i2.x) * r2, y: (e3 - o3.y - i2.y) * r2 };
          }, o2.prototype.onPointer = function(t3) {
            if (this.config.infiniteCanvas) {
              var e3 = this.getCanvasOffset(), n3 = (0, Z.Xy)(), o3 = { x: t3.clientX - e3.left + n3.x, y: t3.clientY - e3.top + n3.y };
              if (t3._parentEvent) {
                var r2 = t3.target.getBoundingClientRect(), i2 = this.module.getZoomDecimal();
                o3.x = r2.left - e3.left + n3.x + t3.clientX * i2, o3.y = r2.top - e3.top + n3.y + t3.clientY * i2;
              }
              this.model.set({ pointerScreen: o3, pointer: this.screenToWorld(o3.x, o3.y) });
            }
          }, o2.prototype.onKeyPress = function(t3) {
            var e3 = this.em;
            " " !== (0, Z.Ch)(t3) || 1 === e3.getZoomDecimal() || e3.Canvas.isInputFocused() || (this.preventDefault(t3), e3.Editor.runCommand("core:canvas-move"));
          }, o2.prototype.onWheel = function(t3) {
            var e3 = this.module;
            if (this.config.infiniteCanvas) {
              this.preventDefault(t3);
              var n3 = t3.deltaX, o3 = t3.deltaY, r2 = e3.getZoomDecimal(), i2 = (0, Z.rp)(t3), a2 = e3.getCoords();
              if (i2) {
                var s2 = r2 - o3 * r2 * 0.01;
                e3.setZoom(100 * s2);
                var l2 = this.model.getPointerCoords(u.x2.Screen), c2 = this.getCanvasOffset(), p2 = l2.x - c2.width / 2, d2 = l2.y - c2.height / 2, f2 = s2 / r2, h2 = p2 - (p2 - a2.x) * f2, v2 = d2 - (d2 - a2.y) * f2;
                e3.setCoords(h2, v2);
              } else this.onPointer(t3), e3.setCoords(a2.x - n3, a2.y - o3);
            }
          }, o2.prototype.updateFrames = function(t3) {
            var e3 = this.em, n3 = this.toolsWrapper, o3 = { preserveSelected: 1 };
            this.updateFramesArea(), this.clearOff(), n3.style.display = "none", e3.trigger("canvas:update", t3), clearTimeout(this.timerZoom), this.timerZoom = setTimeout((function() {
              e3.stopDefault(o3), e3.runDefault(o3), n3.style.display = "";
            }), 300);
          }, o2.prototype.updateFramesArea = function() {
            var t3 = this, e3 = t3.framesArea, n3 = t3.model, o3 = t3.module, r2 = t3.cvStyle, i2 = t3.clsUnscale, a2 = o3.getZoomMultiplier();
            if (e3) {
              var s2 = n3.attributes, l2 = s2.x, c2 = s2.y, u2 = o3.getZoomDecimal();
              e3.style.transform = "scale(".concat(u2, ") translate(").concat(l2 * a2, "px, ").concat(c2 * a2, "px)");
            }
            r2 && (r2.innerHTML = "\n        .".concat(i2, " { scale: ").concat(a2, " }\n      "));
          }, o2.prototype.fitViewport = function(n3) {
            var o3, r2, i2;
            void 0 === n3 && (n3 = {});
            var a2 = this, s2 = a2.em, l2 = a2.module, c2 = a2.model;
            this.clearOff();
            var u2 = this.getCanvasOffset(), p2 = n3.el, d2 = p2 && (null === (o3 = (0, e2.getComponentView)(p2)) || void 0 === o3 ? void 0 : o3.frameView), f2 = d2 ? d2.model : n3.frame || s2.getCurrentFrameModel() || c2.frames.at(0), h2 = f2.attributes, v2 = h2.x, g2 = h2.y, y2 = { x: null != v2 ? v2 : 0, y: null != g2 ? g2 : 0, width: f2.width, height: f2.height };
            if (p2) {
              var m2 = this.getElBoxRect(p2);
              y2.x = y2.x + m2.x, y2.y = y2.y + m2.y, y2.width = m2.width, y2.height = m2.height;
            }
            var b2 = n3.ignoreHeight, _2 = null !== (r2 = n3.gap) && void 0 !== r2 ? r2 : 0, w2 = (0, t2.isNumber)(_2), x2 = w2 ? _2 : _2.x, C2 = w2 ? _2 : _2.y, S2 = y2.width + 2 * x2, O2 = y2.height + 2 * C2, T2 = u2.width, P2 = u2.height, E2 = T2 / S2, k2 = P2 / O2, A2 = 100 * (b2 ? E2 : Math.min(E2, k2)), j2 = null !== (i2 = (0, t2.isFunction)(n3.zoom) ? n3.zoom(A2) : n3.zoom) && void 0 !== i2 ? i2 : A2;
            l2.setZoom(j2, { from: "fitViewport" });
            var M2 = -y2.x + (f2.width >= T2 ? T2 / 2 - S2 / 2 : -x2), D2 = -y2.y + P2 / 2 - O2 / 2, L2 = l2.getZoomDecimal(), I2 = { x: (M2 + x2) * L2, y: (D2 + C2) * L2 };
            if (b2) {
              var N2 = l2.getZoomMultiplier(), R2 = (P2 * N2 - P2) / 2;
              I2.y = (-y2.y + C2) * L2 - R2 / N2;
            }
            l2.setCoords(I2.x, I2.y);
          }, o2.prototype.isElInViewport = function(t3) {
            var n3 = (0, e2.getElement)(t3), o3 = (0, Z.C8)(n3), r2 = this.getFrameOffset(n3), i2 = o3.top, a2 = o3.left;
            return i2 >= 0 && a2 >= 0 && i2 <= r2.height && a2 <= r2.width;
          }, o2.prototype.offset = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = e3.noScroll, o3 = (0, Z.C8)(t3), r2 = n3 ? { x: 0, y: 0 } : (0, Z.Xy)(t3);
            return { top: o3.top + r2.y, left: o3.left + r2.x, width: o3.width, height: o3.height };
          }, o2.prototype.getRectToScreen = function(t3) {
            var e3, n3, o3, r2, i2 = this.getCanvasScroll(), a2 = this.module.getZoomDecimal(), s2 = this.module.getCoords(), l2 = this.getViewportDelta();
            return { x: (null !== (e3 = t3.x) && void 0 !== e3 ? e3 : 0) * a2 - i2.scrollLeft + s2.x + l2.x || 0, y: (null !== (n3 = t3.y) && void 0 !== n3 ? n3 : 0) * a2 - i2.scrollTop + s2.y + l2.y || 0, width: (null !== (o3 = t3.width) && void 0 !== o3 ? o3 : 0) * a2, height: (null !== (r2 = t3.height) && void 0 !== r2 ? r2 : 0) * a2 };
          }, o2.prototype.getElBoxRect = function(t3, n3) {
            var o3, r2, i2;
            void 0 === n3 && (n3 = {});
            var a2 = this.module, s2 = (0, Z.C8)(t3), l2 = s2.width, c2 = s2.height, u2 = s2.left, p2 = s2.top, d2 = null === (o3 = (0, e2.getComponentView)(t3)) || void 0 === o3 ? void 0 : o3.frameView, f2 = null == d2 ? void 0 : d2.getBoxRect(), h2 = a2.getZoomMultiplier(), v2 = null !== (r2 = null == f2 ? void 0 : f2.x) && void 0 !== r2 ? r2 : 0, g2 = null !== (i2 = null == f2 ? void 0 : f2.y) && void 0 !== i2 ? i2 : 0, y2 = this.el, m2 = (0, Z.Xy)(), b2 = { x: u2 + v2 + (y2.scrollLeft + m2.x) * h2, y: p2 + g2 + (y2.scrollTop + m2.y) * h2, width: l2, height: c2 };
            return n3.local && (b2.x = u2, b2.y = p2), n3.toScreen ? this.getRectToScreen(b2) : b2;
          }, o2.prototype.getViewportRect = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.getCanvasOffset(), n3 = e3.top, o3 = e3.left, r2 = e3.width, i2 = e3.height, a2 = this.module;
            if (t3.toWorld) {
              var s2 = a2.getZoomMultiplier(), l2 = a2.getCoords(), c2 = this.getViewportDelta();
              return { x: (-l2.x - c2.x || 0) * s2, y: (-l2.y - c2.y || 0) * s2, width: r2 * s2, height: i2 * s2 };
            }
            return { x: o3, y: n3, width: r2, height: i2 };
          }, o2.prototype.getViewportDelta = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.module.getZoomMultiplier(), n3 = this.getCanvasOffset(), o3 = n3.width, r2 = n3.height;
            return { x: (o3 * e3 - o3) / 2 / e3, y: (r2 * e3 - r2) / 2 / e3 };
          }, o2.prototype.clearOff = function() {
            this.frmOff = void 0, this.cvsOff = void 0;
          }, o2.prototype.getFrameOffset = function(t3) {
            var e3;
            if (!this.frmOff || t3) {
              var n3 = null === (e3 = this.frame) || void 0 === e3 ? void 0 : e3.el, o3 = null == t3 ? void 0 : t3.ownerDocument.defaultView, r2 = o3 ? o3.frameElement : n3;
              this.frmOff = this.offset(r2 || n3);
            }
            return this.frmOff;
          }, o2.prototype.getCanvasOffset = function() {
            return this.cvsOff || (this.cvsOff = this.offset(this.el)), this.cvsOff;
          }, o2.prototype.getElementPos = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.module.getZoomDecimal(), o3 = this.getFrameOffset(t3), r2 = this.el, i2 = this.getCanvasOffset(), a2 = this.offset(t3, e3), s2 = e3.avoidFrameOffset ? 0 : o3.top, l2 = e3.avoidFrameOffset ? 0 : o3.left, c2 = e3.avoidFrameZoom ? a2.top : a2.top * n3, u2 = e3.avoidFrameZoom ? a2.left : a2.left * n3;
            return { top: e3.avoidFrameOffset ? c2 : c2 + s2 - i2.top + r2.scrollTop, left: e3.avoidFrameOffset ? u2 : u2 + l2 - i2.left + r2.scrollLeft, height: e3.avoidFrameZoom ? a2.height : a2.height * n3, width: e3.avoidFrameZoom ? a2.width : a2.width * n3, zoom: n3, rect: a2 };
          }, o2.prototype.getElementOffsets = function(t3) {
            if (!t3 || (0, Z.ir)(t3)) return {};
            var e3 = {}, n3 = window.getComputedStyle(t3), o3 = this.module.getZoomDecimal();
            return ["marginTop", "marginRight", "marginBottom", "marginLeft", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth"].forEach((function(t4) {
              e3[t4] = parseFloat(n3[t4]) * o3;
            })), e3;
          }, o2.prototype.getPosition = function(t3) {
            var e3;
            void 0 === t3 && (t3 = {});
            var n3 = null === (e3 = this.frame) || void 0 === e3 ? void 0 : e3.el.contentDocument;
            if (!n3) return { top: 0, left: 0, width: 0, height: 0 };
            var o3 = n3.body, r2 = this.module.getZoomDecimal(), i2 = this.getFrameOffset(), a2 = this.getCanvasOffset(), s2 = t3.noScroll;
            return { top: i2.top + (s2 ? 0 : o3.scrollTop) * r2 - a2.top, left: i2.left + (s2 ? 0 : o3.scrollLeft) * r2 - a2.left, width: a2.width, height: a2.height };
          }, o2.prototype.getCanvasScroll = function() {
            return this.config.scrollableCanvas ? { scrollTop: this.el.scrollTop, scrollLeft: this.el.scrollLeft } : { scrollTop: 0, scrollLeft: 0 };
          }, o2.prototype.updateScript = function(t3) {
            var e3 = t3.model, n3 = e3.getId(), o3 = { component: e3, view: t3, el: t3.el };
            if (!t3.scriptContainer) {
              t3.scriptContainer = (0, Z.a_)("div", { "data-id": n3 });
              var r2 = this.getJsContainer();
              null == r2 || r2.appendChild(t3.scriptContainer);
            }
            t3.el.id = n3, t3.scriptContainer.innerHTML = "";
            var i2 = document.createElement("script"), a2 = e3.getScriptString(), s2 = e3.get("script-props") ? a2 : "function(){\n".concat(a2, "\n;}"), l2 = JSON.stringify(e3.__getScriptProps());
            i2.innerHTML = "\n      setTimeout(function() {\n        var item = document.getElementById('".concat(n3, "');\n        if (!item) return;\n        var script = (").concat(s2, ").bind(item);\n        script(").concat(l2, ", { el: item });\n      }, 1);"), setTimeout((function() {
              e3.emitWithEditor($.I.scriptMountBefore, o3);
              var n4 = t3.scriptContainer;
              null == n4 || n4.appendChild(i2), e3.emitWithEditor($.I.scriptMount, o3);
            }), 0);
          }, o2.prototype.getJsContainer = function(t3) {
            var e3 = this.getFrameView(t3);
            return null == e3 ? void 0 : e3.getJsContainer();
          }, o2.prototype.getFrameView = function(t3) {
            return (null == t3 ? void 0 : t3.frameView) || this.em.getCurrentFrame();
          }, o2.prototype._renderFrames = function() {
            if (this.ready) {
              var t3 = this, e3 = t3.model, n3 = t3.frames, o3 = t3.em, r2 = t3.framesArea, i2 = e3.frames;
              i2.listenToLoad(), n3.render();
              var a2 = i2.at(0), s2 = null == a2 ? void 0 : a2.view;
              o3.setCurrentFrame(s2), null == r2 || r2.appendChild(n3.el), this.frame = s2, this.updateFramesArea();
            }
          }, o2.prototype.renderFrames = function() {
            this._renderFrames();
          }, o2.prototype.render = function() {
            var t3 = this, n3 = t3.el, o3 = t3.$el, r2 = t3.ppfx, i2 = t3.config, a2 = t3.em;
            o3.html(this.template());
            var s2 = o3.find("[data-frames]");
            this.framesArea = s2.get(0);
            var l2 = o3.find("[data-tools]");
            return this.toolsWrapper = l2.get(0), l2.append('\n      <div class="'.concat(r2, "tools ").concat(r2, 'tools-gl" style="pointer-events:none">\n        <div class="').concat(r2, 'placeholder">\n          <div class="').concat(r2, 'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="').concat(r2, 'tools" style="pointer-events:none">\n        ').concat(i2.extHl ? '<div class="'.concat(r2, 'highlighter-sel"></div>') : "", '\n        <div class="').concat(r2, 'badge"></div>\n        <div class="').concat(r2, 'ghost"></div>\n        <div class="').concat(r2, 'toolbar" style="pointer-events:all"></div>\n        <div class="').concat(r2, 'resizer"></div>\n        <div class="').concat(r2, 'offset-v"></div>\n        <div class="').concat(r2, 'offset-fixed-v"></div>\n      </div>\n    ')), this.toolsEl = n3.querySelector("#".concat(r2, "tools")), this.hlEl = n3.querySelector(".".concat(r2, "highlighter")), this.badgeEl = n3.querySelector(".".concat(r2, "badge")), this.placerEl = n3.querySelector(".".concat(r2, "placeholder")), this.ghostEl = n3.querySelector(".".concat(r2, "ghost")), this.toolbarEl = n3.querySelector(".".concat(r2, "toolbar")), this.resizerEl = n3.querySelector(".".concat(r2, "resizer")), this.offsetEl = n3.querySelector(".".concat(r2, "offset-v")), this.fixedOffsetEl = n3.querySelector(".".concat(r2, "offset-fixed-v")), this.toolsGlobEl = n3.querySelector(".".concat(r2, "tools-gl")), this.spotsEl = n3.querySelector("[data-spots]"), this.cvStyle = n3.querySelector("[data-canvas-style]"), n3.className = (0, e2.getUiClass)(a2, this.className), true === i2.scrollableCanvas && (n3.style.overflow = "auto"), this.ready = true, this._renderFrames(), this;
          }, o2;
        })(X);
        const po = uo;
        var fo = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ho = function() {
          return ho = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ho.apply(this, arguments);
        }, vo = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, go = (function(n2) {
          function o2(t3) {
            var e3 = n2.call(this, t3, "Canvas", _()) || this;
            return e3.events = k, e3.framesById = {}, e3.canvas = new B(e3), e3.spots = new K(e3), e3.model = e3.canvas, e3.startAutoscroll = e3.startAutoscroll.bind(e3), e3.stopAutoscroll = e3.stopAutoscroll.bind(e3), e3.autoScroller = new Hn(), e3;
          }
          return fo(o2, n2), o2.prototype.getCanvasView = function() {
            return this.canvasView;
          }, o2.prototype.postLoad = function() {
            this.model.init();
          }, o2.prototype.getModel = function() {
            return this.canvas;
          }, o2.prototype.getElement = function() {
            return this.getCanvasView().el;
          }, o2.prototype.getFrame = function(t3) {
            return this.getFrames()[t3 || 0];
          }, o2.prototype.getFrameEl = function() {
            var t3 = (this.canvasView || {}).frame;
            return null == t3 ? void 0 : t3.el;
          }, o2.prototype.getFramesEl = function() {
            var t3;
            return null === (t3 = this.canvasView) || void 0 === t3 ? void 0 : t3.framesArea;
          }, o2.prototype.getWindow = function() {
            var t3 = (this.canvasView || {}).frame;
            return null == t3 ? void 0 : t3.getWindow();
          }, o2.prototype.getDocument = function() {
            var t3 = this.getFrameEl();
            return null == t3 ? void 0 : t3.contentDocument;
          }, o2.prototype.getBody = function() {
            var t3 = this.getDocument();
            return null == t3 ? void 0 : t3.body;
          }, o2.prototype._getLocalEl = function(t3, e3, n3) {
            var o3 = t3, r2 = null == e3 ? void 0 : e3.frameView;
            return o3 = r2 ? r2[n3]() : o3;
          }, o2.prototype.getGlobalToolsEl = function() {
            var t3;
            return null === (t3 = this.canvasView) || void 0 === t3 ? void 0 : t3.toolsGlobEl;
          }, o2.prototype.getToolsEl = function(t3) {
            return this._getLocalEl(this.getCanvasView().toolsEl, t3, "getToolsEl");
          }, o2.prototype.getHighlighter = function(t3) {
            return this._getLocalEl(this.getCanvasView().hlEl, t3, "getHighlighter");
          }, o2.prototype.getBadgeEl = function(t3) {
            return this._getLocalEl(this.getCanvasView().badgeEl, t3, "getBadgeEl");
          }, o2.prototype.getPlacerEl = function() {
            return this.getCanvasView().placerEl;
          }, o2.prototype.getGhostEl = function() {
            return this.getCanvasView().ghostEl;
          }, o2.prototype.getToolbarEl = function() {
            return this.getCanvasView().toolbarEl;
          }, o2.prototype.getResizerEl = function() {
            return this.getCanvasView().resizerEl;
          }, o2.prototype.getOffsetViewerEl = function(t3) {
            return this._getLocalEl(this.getCanvasView().offsetEl, t3, "getOffsetViewerEl");
          }, o2.prototype.getFixedOffsetViewerEl = function() {
            return this.getCanvasView().fixedOffsetEl;
          }, o2.prototype.getSpotsEl = function() {
            var t3;
            return null === (t3 = this.canvasView) || void 0 === t3 ? void 0 : t3.spotsEl;
          }, o2.prototype.render = function() {
            var t3;
            return null === (t3 = this.canvasView) || void 0 === t3 || t3.remove(), this.canvasView = new po(this.canvas), this.canvasView.render().el;
          }, o2.prototype.getOffset = function() {
            var t3 = this.offset(this.getFrameEl()), e3 = this.offset(this.getElement());
            return { top: t3.top - e3.top, left: t3.left - e3.left };
          }, o2.prototype.offset = function(t3) {
            return this.getCanvasView().offset(t3);
          }, o2.prototype.setCustomBadgeLabel = function(t3) {
            this.config.customBadgeLabel = t3;
          }, o2.prototype.getElementPos = function(t3, e3) {
            return this.getCanvasView().getElementPos(t3, e3);
          }, o2.prototype.getElementOffsets = function(t3) {
            return this.getCanvasView().getElementOffsets(t3);
          }, o2.prototype.getRect = function() {
            var t3, e3 = null !== (t3 = this.getCanvasView().getPosition()) && void 0 !== t3 ? t3 : {}, n3 = e3.top, o3 = void 0 === n3 ? 0 : n3, r2 = e3.left, i2 = void 0 === r2 ? 0 : r2;
            return ho(ho({}, this.getCanvasView().getCanvasOffset()), { topScroll: o3, leftScroll: i2 });
          }, o2.prototype.getTargetToElementDim = function(t3, e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = n3 || {}, r2 = this.getCanvasView().getPosition();
            if (r2) {
              var i2 = o3.elPos || this.getCanvasView().getElementPos(e3), a2 = n3.toRight || 0, s2 = o3.targetHeight || t3.offsetHeight, l2 = o3.targetWidth || t3.offsetWidth, c2 = o3.event || null, u2 = i2.top - s2, p2 = i2.left;
              p2 += a2 ? i2.width : 0;
              var d2 = (p2 = a2 ? p2 - l2 : p2) < r2.left ? r2.left : p2, f2 = u2 < r2.top ? r2.top : u2, h2 = { top: f2 = f2 > i2.top + i2.height ? i2.top + i2.height : f2, left: d2, elementTop: i2.top, elementLeft: i2.left, elementWidth: i2.width, elementHeight: i2.height, targetWidth: t3.offsetWidth, targetHeight: t3.offsetHeight, canvasTop: r2.top, canvasLeft: r2.left, canvasWidth: r2.width, canvasHeight: r2.height };
              return c2 && this.em && this.em.trigger(c2, h2), h2;
            }
          }, o2.prototype.canvasRectOffset = function(t3, e3, n3) {
            var o3 = this;
            void 0 === n3 && (n3 = {});
            var r2 = function(t4, e4, r3) {
              void 0 === e4 && (e4 = 1);
              var i2 = o3.em.getZoomDecimal(), a2 = e4 ? "top" : "left", s2 = t4.ownerDocument, l2 = n3.offset ? (function(t5) {
                var e5 = t5.defaultView;
                return null == e5 ? void 0 : e5.frameElement;
              })(s2) : {}, c2 = l2.offsetTop, u2 = void 0 === c2 ? 0 : c2, p2 = l2.offsetLeft, d2 = void 0 === p2 ? 0 : p2, f2 = s2.body || {}, h2 = f2.scrollTop, v2 = void 0 === h2 ? 0 : h2, g2 = f2.scrollLeft, y2 = e4 ? v2 : void 0 === g2 ? 0 : g2, m2 = e4 ? u2 : d2;
              return r3[a2] - (y2 - m2) * i2;
            };
            return { top: r2(t3, 1, e3), left: r2(t3, 0, e3) };
          }, o2.prototype.getTargetToElementFixed = function(e3, n3, o3) {
            void 0 === o3 && (o3 = {});
            var r2 = o3.pos || this.getElementPos(e3, { noScroll: true }), i2 = o3.canvasOff || this.canvasRectOffset(e3, r2), a2 = n3.offsetHeight || 0, s2 = n3.offsetWidth || 0, l2 = this.getCanvasView(), c2 = l2.getCanvasScroll(), u2 = c2.scrollTop, p2 = c2.scrollLeft, d2 = l2.getPosition(), f2 = o3.event, h2 = r2.width - s2, v2 = -a2, g2 = (0, t2.isUndefined)(o3.left) ? h2 : o3.left, y2 = Math.max(-r2.left + p2, 0);
            g2 = Math.max(g2, y2);
            var m2 = r2.width - s2;
            g2 = Math.min(g2, m2);
            var b2 = d2.width + p2 - s2 - r2.left;
            g2 = Math.min(g2, b2);
            var _2 = v2;
            if (i2.top < a2 + u2) {
              var w2 = r2.height + a2;
              if (w2 < d2.height) _2 += w2;
              else {
                var x2 = -i2.top + u2;
                _2 = x2 < r2.height ? x2 : r2.height;
              }
            }
            var C2 = { top: _2, left: g2, canvasOffsetTop: i2.top, canvasOffsetLeft: i2.left, elRect: r2, canvasOffset: i2, canvasRect: d2, targetWidth: s2, targetHeight: a2 };
            return f2 && this.em.trigger(f2, C2), C2;
          }, o2.prototype.getMouseRelativePos = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = e3.subWinOffset, o3 = t3.target, r2 = o3.nodeType === Node.DOCUMENT_NODE ? o3 : o3.ownerDocument, i2 = r2.defaultView || r2.parentWindow, a2 = i2.frameElement, s2 = n3 ? i2.pageYOffset : 0, l2 = n3 ? i2.pageXOffset : 0, c2 = this.getZoomMultiplier(), u2 = 0, p2 = 0;
            if (a2) {
              var d2 = a2.getBoundingClientRect();
              u2 = d2.top || 0, p2 = d2.left || 0;
            }
            return { y: (t3.clientY + u2 - s2) * c2, x: (t3.clientX + p2 - l2) * c2 };
          }, o2.prototype.getMouseRelativeCanvas = function(t3, e3) {
            var n3, o3 = this.getZoomDecimal(), r2 = this.getCanvasView(), i2 = null !== (n3 = r2.getPosition(e3)) && void 0 !== n3 ? n3 : { top: 0, left: 0 }, a2 = r2.getCanvasScroll(), s2 = { top: i2.top + a2.scrollTop, left: i2.left + a2.scrollLeft }, l2 = s2.top, c2 = s2.left;
            return { y: t3.clientY * o3 + l2, x: t3.clientX * o3 + c2 };
          }, o2.prototype.startDrag = function(t3) {
            this.em.set("dragSource", t3);
          }, o2.prototype.endDrag = function() {
            this.em.set({ dragResult: null, dragSource: void 0 });
          }, o2.prototype.hasFocus = function() {
            return this.getDocument().hasFocus();
          }, o2.prototype.isInputFocused = function() {
            var t3 = this.getDocument(), e3 = this.getFrameEl(), n3 = vo(["body"], this.config.notTextable, true), o3 = e3 && document.activeElement === e3 ? t3 && t3.activeElement : document.activeElement;
            return o3 && !n3.some((function(t4) {
              return o3.matches(t4);
            }));
          }, o2.prototype.scrollTo = function(t3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = (0, e2.getElement)(t3), r2 = o3 && (0, e2.getViewEl)(o3);
            r2 && r2.scrollIntoView(n3);
          }, o2.prototype.startAutoscroll = function(t3) {
            var e3 = t3 && t3.view || this.em.getCurrentFrame();
            if (e3 && e3.startAutoscroll(), this.config.scrollableCanvas) {
              var n3 = this.getCanvasView().el;
              this.autoScroller.start(n3, n3, { zoom: this.em.getZoomDecimal(), ignoredElement: this.getSpotsEl() });
            }
          }, o2.prototype.stopAutoscroll = function(t3) {
            var e3 = t3 && t3.view || this.em.getCurrentFrame();
            e3 && e3.stopAutoscroll(), this.config.scrollableCanvas && this.autoScroller.stop();
          }, o2.prototype.setZoom = function(t3, e3) {
            return void 0 === e3 && (e3 = {}), this.canvas.set("zoom", "string" == typeof t3 ? parseFloat(t3) : t3, e3), this;
          }, o2.prototype.getZoom = function() {
            return parseFloat(this.canvas.get("zoom"));
          }, o2.prototype.setCoords = function(t3, e3, n3) {
            var o3;
            void 0 === n3 && (n3 = {});
            var r2 = t3 || 0 === t3, i2 = e3 || 0 === e3, a2 = { x: this.canvas.get("x"), y: this.canvas.get("y") };
            if (r2 && (a2.x = parseFloat("".concat(t3))), i2 && (a2.y = parseFloat("".concat(e3))), n3.toWorld) {
              var s2 = null === (o3 = this.canvasView) || void 0 === o3 ? void 0 : o3.getViewportDelta();
              s2 && (r2 && (a2.x = a2.x - s2.x), i2 && (a2.y = a2.y - s2.y));
            }
            return this.canvas.set(a2), this;
          }, o2.prototype.getCoords = function() {
            var t3 = this.canvas.attributes;
            return { x: t3.x, y: t3.y };
          }, o2.prototype.getPointer = function(t3) {
            var e3 = this.canvas.attributes, n3 = e3.pointer, o3 = e3.pointerScreen;
            return t3 ? o3 : n3;
          }, o2.prototype.getZoomDecimal = function() {
            return this.getZoom() / 100;
          }, o2.prototype.getZoomMultiplier = function() {
            var t3 = this.getZoomDecimal();
            return t3 ? 1 / t3 : 1;
          }, o2.prototype.fitViewport = function(t3) {
            var e3;
            null === (e3 = this.canvasView) || void 0 === e3 || e3.fitViewport(t3);
          }, o2.prototype.toggleFramesEvents = function(t3) {
            this.getFramesEl().style.pointerEvents = t3 ? "" : "none";
          }, o2.prototype.getFrames = function() {
            return this.canvas.frames.map((function(t3) {
              return t3;
            }));
          }, o2.prototype.addFrame = function(t3, e3) {
            return void 0 === t3 && (t3 = {}), void 0 === e3 && (e3 = {}), this.canvas.frames.add(new V(this, ho({}, t3)), e3);
          }, o2.prototype.getLastDragResult = function() {
            return this.em.get("dragResult");
          }, o2.prototype.addSpot = function(t3, e3) {
            var n3;
            void 0 === e3 && (e3 = {});
            var o3 = t3, r2 = this.getSpots(o3);
            if (r2.length) {
              var i2 = r2[0];
              return i2.set(o3), i2;
            }
            var a2 = o3.componentView || (null === (n3 = o3.component) || void 0 === n3 ? void 0 : n3.view), s2 = new W.A(this, ho(ho({}, o3), { id: o3.id || "cs_".concat(o3.type, "_").concat(null == a2 ? void 0 : a2.cid), type: o3.type || "" }));
            return this.spots.add(s2, e3), s2;
          }, o2.prototype.getSpots = function(t3) {
            return void 0 === t3 && (t3 = {}), this.spots.where(t3.id ? { id: t3.id } : t3);
          }, o2.prototype.removeSpots = function(e3) {
            void 0 === e3 && (e3 = {});
            var n3 = (0, t2.isArray)(e3) ? e3 : this.getSpots(e3);
            return this.spots.remove(n3);
          }, o2.prototype.hasCustomSpot = function(t3) {
            var e3 = this.config.customSpots;
            return !!(true === e3 || e3 && t3 && e3[t3]);
          }, o2.prototype.getWorldRectToScreen = function(t3) {
            var e3;
            return null === (e3 = this.canvasView) || void 0 === e3 ? void 0 : e3.getRectToScreen(t3);
          }, o2.prototype.refresh = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this, n3 = e3.em, o3 = e3.events, r2 = e3.canvasView;
            null == r2 || r2.clearOff(), (t3.spots || t3.all) && (this.refreshSpots(), n3.trigger("canvas:updateTools")), n3.set("canvasOffset", this.getOffset()), n3.trigger(o3.refresh, t3);
          }, o2.prototype.refreshSpots = function() {
            this.spots.refresh();
          }, o2.prototype.destroy = function() {
            var t3, e3 = this;
            this.canvas.stopListening(), null === (t3 = this.canvasView) || void 0 === t3 || t3.remove(), ["model", "droppable"].forEach((function(t4) {
              return e3[t4] = {};
            }));
          }, o2;
        })(m);
        const yo = go;
        const mo = function() {
          return { stylePrefix: "comp-", components: [], draggableComponents: true, disableTextInnerChilds: false, processor: void 0, useFrameDoc: false, voidElements: ["area", "base", "br", "col", "embed", "hr", "img", "input", "keygen", "link", "menuitem", "meta", "param", "source", "track", "wbr"] };
        };
        var bo = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), _o = function() {
          return _o = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, _o.apply(this, arguments);
        }, wo = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return bo(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return _o(_o({}, t3.prototype.defaults), { tagName: "", droppable: false, layerable: false, selectable: false, editable: true });
          }, enumerable: false, configurable: true }), n2.prototype.toHTML = function() {
            var t4 = this.content, e3 = this.parent();
            return (null == e3 ? void 0 : e3.is("script")) ? t4 : this.__escapeContent(t4);
          }, n2.prototype.__escapeContent = function(t4) {
            return (0, e2.escapeNodeContent)(t4);
          }, n2.isComponent = function(t4) {
            var e3;
            if (3 === t4.nodeType) return { type: "textnode", content: null !== (e3 = t4.textContent) && void 0 !== e3 ? e3 : "" };
          }, n2;
        })(Mn);
        const xo = wo;
        var Co = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), So = function() {
          return So = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, So.apply(this, arguments);
        }, Oo = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Co(e3, t3), Object.defineProperty(e3.prototype, "defaults", { get: function() {
            return So({}, t3.prototype.defaults);
          }, enumerable: false, configurable: true }), e3.prototype.toHTML = function() {
            return "<!--".concat(this.content, "-->");
          }, e3.isComponent = function(t4) {
            var e4;
            if (8 == t4.nodeType) return { type: "comment", content: null !== (e4 = t4.textContent) && void 0 !== e4 ? e4 : "" };
          }, e3;
        })(xo);
        const To = Oo;
        var Po = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Eo = function() {
          return Eo = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Eo.apply(this, arguments);
        }, ko = "iframe";
        const Ao = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Po(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return Eo(Eo({}, t3.prototype.defaults), { type: ko, tagName: ko, droppable: false, resizable: true, traits: ["id", "title", "src"], attributes: { frameborder: "0" } });
          }, enumerable: false, configurable: true }), n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === ko;
          }, n2;
        })(Mn);
        var jo = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Mo = function() {
          return Mo = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Mo.apply(this, arguments);
        }, Do = 'xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"', Lo = (function(n2) {
          function o2(o3, r2) {
            void 0 === o3 && (o3 = {});
            var i2 = n2.call(this, o3, r2) || this, a2 = i2.get("attributes").src;
            return a2 && (0, e2.buildBase64UrlFromSvg)((0, t2.result)(i2, "defaults").src) !== a2 && i2.set("src", a2, { silent: true }), i2;
          }
          return jo(o2, n2), Object.defineProperty(o2.prototype, "defaults", { get: function() {
            return Mo(Mo({}, n2.prototype.defaults), { type: "image", tagName: "img", void: true, droppable: 0, editable: 1, highlightable: 0, resizable: { ratioDefault: 1 }, traits: ["alt"], src: "<svg ".concat(Do, '>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'), fallback: "<svg ".concat(Do, '>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'), file: "" });
          }, enumerable: false, configurable: true }), o2.prototype.initToolbar = function() {
            n2.prototype.initToolbar.call(this);
            var t3 = this.em;
            if (t3) {
              var e3 = "image-editor";
              if (t3.Commands.has(e3)) {
                for (var o3 = false, r2 = this.get("toolbar"), i2 = 0; i2 < r2.length; i2++) if ("image-editor" === r2[i2].command) {
                  o3 = true;
                  break;
                }
                o3 || (r2.push({ attributes: { class: "fa fa-pencil" }, command: e3 }), this.set("toolbar", r2));
              }
            }
          }, o2.prototype.getAttrToHTML = function() {
            var t3 = n2.prototype.getAttrToHTML.call(this), e3 = this.getSrcResult();
            return e3 && (t3.src = e3), t3;
          }, o2.prototype.getSrcResult = function(t3) {
            void 0 === t3 && (t3 = {});
            var n3 = this.get(t3.fallback ? "fallback" : "src") || "", o3 = n3;
            return n3 && "<svg" === n3.substr(0, 4) && (o3 = (0, e2.buildBase64UrlFromSvg)(n3)), o3;
          }, o2.prototype.isDefaultSrc = function() {
            var n3 = this.get("src"), o3 = (0, t2.result)(this, "defaults").src;
            return n3 === o3 || n3 === (0, e2.buildBase64UrlFromSvg)(o3);
          }, o2.prototype.toJSON = function(t3) {
            var e3 = n2.prototype.toJSON.call(this, t3), o3 = e3.attributes;
            return o3 && e3.src === o3.src && delete e3.src, e3;
          }, o2.prototype.parseUri = function(t3) {
            var n3 = {};
            if ((0, e2.hasWin)()) (n3 = document.createElement("a")).href = t3;
            else if ("undefined" != typeof URL) try {
              n3 = new URL(t3);
            } catch (t4) {
            }
            return { hostname: n3.hostname || "", pathname: n3.pathname || "", protocol: n3.protocol || "", search: n3.search || "", hash: n3.hash || "", port: n3.port || "", query: (function(t4) {
              void 0 === t4 && (t4 = "");
              for (var e3 = {}, n4 = t4.substring(1).split("&"), o3 = 0; o3 < n4.length; o3++) {
                var r2 = n4[o3].split("="), i2 = decodeURIComponent(r2[0]);
                i2 && (e3[i2] = decodeURIComponent(r2[1] || ""));
              }
              return e3;
            })(n3.search) };
          }, o2.isComponent = function(t3) {
            return "img" === (0, e2.toLowerCase)(t3.tagName);
          }, o2;
        })(Mn);
        const Io = Lo;
        var No = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ro = function() {
          return Ro = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ro.apply(this, arguments);
        };
        const Vo = (function(e3) {
          function n2(t3, n3) {
            void 0 === t3 && (t3 = {});
            var o2 = e3.call(this, t3, n3) || this;
            return o2.__checkInnerChilds(), o2;
          }
          return No(n2, e3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return Ro(Ro({}, e3.prototype.defaults), { type: "text", droppable: false, editable: true });
          }, enumerable: false, configurable: true }), n2.prototype.__checkInnerChilds = function() {
            var e4 = this.em.Components.config.disableTextInnerChilds;
            if (e4) {
              var n3 = function(t3) {
                t3.isInstanceOf("textnode") || t3.set({ locked: true, layerable: false });
              };
              (0, t2.isFunction)(e4) ? this.forEachChild((function(t3) {
                e4(t3) && n3(t3);
              })) : this.forEachChild(n3);
            }
          }, n2;
        })(Mn);
        var Fo = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ho = function() {
          return Ho = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ho.apply(this, arguments);
        }, Uo = "label";
        const zo = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Fo(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return Ho(Ho({}, t3.prototype.defaults), { type: Uo, tagName: Uo, traits: ["id", "title", "for"] });
          }, enumerable: false, configurable: true }), n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === Uo;
          }, n2;
        })(Vo);
        var Bo = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Wo = function() {
          return Wo = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Wo.apply(this, arguments);
        }, $o = "link", qo = (function(n2) {
          function o2() {
            return null !== n2 && n2.apply(this, arguments) || this;
          }
          return Bo(o2, n2), Object.defineProperty(o2.prototype, "defaults", { get: function() {
            return Wo(Wo({}, n2.prototype.defaults), { type: $o, tagName: "a", traits: ["title", "href", "target"] });
          }, enumerable: false, configurable: true }), o2.isComponent = function(n3, o3) {
            var r2;
            if (void 0 === o3 && (o3 = {}), "a" === (0, e2.toLowerCase)(n3.tagName)) {
              var i2 = o3.textTags || [];
              r2 = { type: $o, editable: false };
              var a2 = n3.childNodes;
              a2.length || delete r2.editable, (0, t2.forEach)(a2, (function(t3) {
                var n4 = t3.tagName;
                (3 == t3.nodeType && "" !== t3.textContent.trim() || n4 && i2.indexOf((0, e2.toLowerCase)(n4)) >= 0) && delete r2.editable;
              }));
            }
            return r2;
          }, o2;
        })(Vo);
        const Go = qo;
        var Ko = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Yo = function() {
          return Yo = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Yo.apply(this, arguments);
        }, Jo = (function(t3) {
          function n2(e3, n3) {
            void 0 === e3 && (e3 = {});
            var o2 = t3.call(this, e3, n3) || this;
            return o2.get("src") ? o2.parseFromSrc() : o2.updateSrc(), o2.listenTo(o2, "change:address change:zoom change:mapType", o2.updateSrc), o2;
          }
          return Ko(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            var e3 = t3.prototype.defaults;
            return Yo(Yo({}, e3), { type: "map", src: "", void: false, mapUrl: "https://maps.google.com/maps", tagName: "iframe", mapType: "q", address: "", zoom: "1", attributes: { frameborder: 0 }, toolbar: e3.toolbar, traits: [{ label: "Address", name: "address", placeholder: "eg. London, UK", changeProp: true }, { type: "select", label: "Map type", name: "mapType", changeProp: true, options: [{ id: "q", label: "Roadmap" }, { id: "w", label: "Satellite" }] }, { label: "Zoom", name: "zoom", type: "range", min: 1, max: 20, changeProp: true }] });
          }, enumerable: false, configurable: true }), n2.prototype.updateSrc = function() {
            this.set("src", this.getMapUrl());
          }, n2.prototype.getMapUrl = function() {
            var t4 = this.get("address"), e3 = this.get("zoom"), n3 = this.get("mapType");
            t4 = t4 ? "&q=" + t4 : "", e3 = e3 ? "&z=" + e3 : "", n3 = n3 ? "&t=" + n3 : "";
            var o2 = this.get("mapUrl") + "?" + t4 + e3 + n3;
            return o2 += "&output=embed";
          }, n2.prototype.parseFromSrc = function() {
            var t4 = this.parseUri(this.get("src")).query;
            t4.q && this.set("address", t4.q), t4.z && this.set("zoom", t4.z), t4.t && this.set("mapType", t4.t);
          }, n2.isComponent = function(t4) {
            if ("iframe" == (0, e2.toLowerCase)(t4.tagName) && /maps\.google\.com/.test(t4.src)) return { type: "map", src: t4.src };
          }, n2;
        })(Io);
        const Xo = Jo;
        var Zo = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Qo = function() {
          return Qo = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Qo.apply(this, arguments);
        }, tr = "script";
        const er = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Zo(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return Qo(Qo({}, t3.prototype.defaults), { type: tr, tagName: tr, droppable: false, draggable: false, layerable: false, highlightable: false });
          }, enumerable: false, configurable: true }), n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === tr;
          }, n2;
        })(Mn);
        var nr = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), or = function() {
          return or = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, or.apply(this, arguments);
        }, rr = "svg";
        const ir = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return nr(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return or(or({}, t3.prototype.defaults), { type: rr, tagName: rr, highlightable: false, resizable: { ratioDefault: true } });
          }, enumerable: false, configurable: true }), n2.prototype.getName = function() {
            var t4 = this.get("tagName"), e3 = this.get("custom-name");
            return t4 = t4.charAt(0).toUpperCase() + t4.slice(1), e3 || t4;
          }, n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === rr;
          }, n2;
        })(Mn);
        var ar = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), sr = function() {
          return sr = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, sr.apply(this, arguments);
        };
        const lr = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return ar(e3, t3), Object.defineProperty(e3.prototype, "defaults", { get: function() {
            return sr(sr({}, t3.prototype.defaults), { selectable: false, hoverable: false, layerable: false });
          }, enumerable: false, configurable: true }), e3.isComponent = function(t4, e4) {
            return void 0 === e4 && (e4 = {}), !!e4.inSvg;
          }, e3;
        })(ir);
        var cr = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ur = function() {
          return ur = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ur.apply(this, arguments);
        }, pr = "table";
        const dr = (function(t3) {
          function n2(e3, n3) {
            void 0 === e3 && (e3 = {});
            var o2 = t3.call(this, e3, n3) || this, r2 = o2.get("components");
            return !r2.length && r2.add({ type: "tbody" }), o2;
          }
          return cr(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return ur(ur({}, t3.prototype.defaults), { type: pr, tagName: pr, droppable: ["tbody", "thead", "tfoot"] });
          }, enumerable: false, configurable: true }), n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === pr;
          }, n2;
        })(Mn);
        var fr = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), hr = function() {
          return hr = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, hr.apply(this, arguments);
        }, vr = "tbody";
        const gr = (function(t3) {
          function n2(e3, n3) {
            void 0 === e3 && (e3 = {});
            var o2 = t3.call(this, e3, n3) || this, r2 = o2.get("components"), i2 = o2.get("columns"), a2 = o2.get("rows");
            if (!r2.length) {
              for (var s2 = []; a2--; ) {
                for (var l2 = [], c2 = i2; c2--; ) l2.push({ type: "cell", classes: ["cell"] });
                s2.push({ type: "row", classes: ["row"], components: l2 });
              }
              r2.add(s2);
            }
            return o2;
          }
          return fr(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return hr(hr({}, t3.prototype.defaults), { type: vr, tagName: vr, draggable: ["table"], droppable: ["tr"], columns: 1, rows: 1 });
          }, enumerable: false, configurable: true }), n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === vr;
          }, n2;
        })(Mn);
        var yr = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), mr = function() {
          return mr = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, mr.apply(this, arguments);
        };
        const br = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return yr(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return mr(mr({}, t3.prototype.defaults), { type: "cell", tagName: "td", draggable: ["tr"] });
          }, enumerable: false, configurable: true }), n2.isComponent = function(t4) {
            return ["td", "th"].indexOf((0, e2.toLowerCase)(t4.tagName)) >= 0;
          }, n2;
        })(Mn);
        var _r = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), wr = function() {
          return wr = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, wr.apply(this, arguments);
        }, xr = "tfoot";
        const Cr = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return _r(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return wr(wr({}, t3.prototype.defaults), { type: xr, tagName: xr });
          }, enumerable: false, configurable: true }), n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === xr;
          }, n2;
        })(gr);
        var Sr = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Or = function() {
          return Or = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Or.apply(this, arguments);
        }, Tr = "thead";
        const Pr = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Sr(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return Or(Or({}, t3.prototype.defaults), { type: Tr, tagName: Tr });
          }, enumerable: false, configurable: true }), n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === Tr;
          }, n2;
        })(gr);
        var Er = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), kr = function() {
          return kr = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, kr.apply(this, arguments);
        }, Ar = "tr";
        const jr = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Er(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return kr(kr({}, t3.prototype.defaults), { tagName: Ar, draggable: ["thead", "tbody", "tfoot"], droppable: ["th", "td"] });
          }, enumerable: false, configurable: true }), n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === Ar;
          }, n2;
        })(Mn);
        var Mr = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Dr = function() {
          return Dr = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Dr.apply(this, arguments);
        }, Lr = "video", Ir = "yt", Nr = "vi", Rr = "ytnc", Vr = "so", Fr = function(t3) {
          return t3 && "0" !== t3;
        }, Hr = (function(t3) {
          function n2(e3, n3) {
            void 0 === e3 && (e3 = {});
            var o2 = t3.call(this, e3, n3) || this;
            return o2.get("src") && o2.parseFromSrc(), o2.updatePropsFromAttr(), o2.updateTraits(), o2.on("change:provider", o2.updateTraits), o2.on("change:videoId change:provider", o2.updateSrc), o2;
          }
          return Mr(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return Dr(Dr({}, t3.prototype.defaults), { type: Lr, tagName: Lr, videoId: "", void: false, provider: Vr, ytUrl: "https://www.youtube.com/embed/", ytncUrl: "https://www.youtube-nocookie.com/embed/", viUrl: "https://player.vimeo.com/video/", loop: false, poster: "", muted: false, autoplay: false, controls: true, color: "", list: "", src: "", rel: 1, modestbranding: 0, sources: [], attributes: { allowfullscreen: "allowfullscreen" } });
          }, enumerable: false, configurable: true }), n2.prototype.updatePropsFromAttr = function() {
            if (this.get("provider") === Vr) {
              var t4 = this.get("attributes"), n3 = t4.controls, o2 = t4.autoplay, r2 = t4.loop, i2 = t4.muted, a2 = {};
              (0, e2.isDef)(n3) && (a2.controls = !!n3), (0, e2.isDef)(o2) && (a2.autoplay = !!o2), (0, e2.isDef)(r2) && (a2.loop = !!r2), (0, e2.isDef)(i2) && (a2.muted = !!i2), (0, e2.isEmptyObj)(a2) || this.set(a2);
            }
          }, n2.prototype.updateTraits = function() {
            var t4, e3 = this.em, n3 = "iframe";
            switch (this.get("provider")) {
              case Ir:
              case Rr:
                t4 = this.getYoutubeTraits();
                break;
              case Nr:
                t4 = this.getVimeoTraits();
                break;
              default:
                n3 = "video", t4 = this.getSourceTraits();
            }
            this.set({ tagName: n3 }, { silent: true }), this.set({ traits: t4 }), e3.get("ready") && e3.trigger("component:toggled");
          }, n2.prototype.parseFromSrc = function() {
            var t4 = this.get("provider"), e3 = this.parseUri(this.get("src")), n3 = e3.query;
            switch (t4) {
              case Ir:
              case Rr:
              case Nr:
                this.set("videoId", e3.pathname.split("/").pop()), n3.list && this.set("list", n3.list), Fr(n3.autoplay) && this.set("autoplay", true), Fr(n3.loop) && this.set("loop", true), 0 === parseInt(n3.controls) && this.set("controls", false), Fr(n3.color) && this.set("color", n3.color), "0" === n3.rel && this.set("rel", 0), "1" === n3.modestbranding && this.set("modestbranding", 1), "1" === n3.muted && this.set("muted", true);
            }
          }, n2.prototype.updateSrc = function() {
            var t4 = "";
            switch (this.get("provider")) {
              case Ir:
                t4 = this.getYoutubeSrc();
                break;
              case Rr:
                t4 = this.getYoutubeNoCookieSrc();
                break;
              case Nr:
                t4 = this.getVimeoSrc();
            }
            this.set({ src: t4 });
          }, n2.prototype.getAttrToHTML = function() {
            var e3 = t3.prototype.getAttrToHTML.call(this);
            switch (this.get("provider")) {
              case Ir:
              case Rr:
              case Nr:
                break;
              default:
                e3.loop = !!this.get("loop"), e3.autoplay = !!this.get("autoplay"), e3.controls = !!this.get("controls"), e3.muted = !!this.get("muted");
            }
            return e3;
          }, n2.prototype.getProviderTrait = function() {
            return { type: "select", label: "Provider", name: "provider", changeProp: true, options: [{ value: "so", name: "HTML5 Source" }, { value: Ir, name: "Youtube" }, { value: Rr, name: "Youtube (no cookie)" }, { value: Nr, name: "Vimeo" }] };
          }, n2.prototype.getSourceTraits = function() {
            return [this.getProviderTrait(), { label: "Source", name: "src", placeholder: "eg. ./media/video.mp4", changeProp: true }, { label: "Poster", name: "poster", placeholder: "eg. ./media/image.jpg" }, this.getAutoplayTrait(), this.getLoopTrait(), this.getControlsTrait(), this.getMutedTrait()];
          }, n2.prototype.getYoutubeTraits = function() {
            return [this.getProviderTrait(), { label: "Video ID", name: "videoId", placeholder: "eg. jNQXAC9IVRw", changeProp: true }, this.getAutoplayTrait(), this.getLoopTrait(), this.getControlsTrait(), { type: "checkbox", label: "Related", name: "rel", changeProp: true }, { type: "checkbox", label: "Modest", name: "modestbranding", changeProp: true }, this.getMutedTrait()];
          }, n2.prototype.getVimeoTraits = function() {
            return [this.getProviderTrait(), { label: "Video ID", name: "videoId", placeholder: "eg. 123456789", changeProp: true }, { label: "Color", name: "color", placeholder: "eg. FF0000", changeProp: true }, this.getAutoplayTrait(), this.getLoopTrait(), this.getMutedTrait()];
          }, n2.prototype.getAutoplayTrait = function() {
            return { type: "checkbox", label: "Autoplay", name: "autoplay", changeProp: true };
          }, n2.prototype.getLoopTrait = function() {
            return { type: "checkbox", label: "Loop", name: "loop", changeProp: true };
          }, n2.prototype.getControlsTrait = function() {
            return { type: "checkbox", label: "Controls", name: "controls", changeProp: true };
          }, n2.prototype.getMutedTrait = function() {
            return { type: "checkbox", label: "Muted", name: "muted", changeProp: true };
          }, n2.prototype.getYoutubeSrc = function() {
            var t4 = this.get("videoId"), e3 = this.get("ytUrl"), n3 = this.get("list");
            return e3 += t4 + (t4.indexOf("?") < 0 ? "?" : ""), e3 += n3 ? "&list=".concat(n3) : "", e3 += this.get("autoplay") ? "&autoplay=1" : "", e3 += this.get("muted") ? "&mute=1" : "", e3 += this.get("controls") ? "" : "&controls=0&showinfo=0", e3 += this.get("loop") ? "&loop=1&playlist=".concat(t4) : "", e3 += this.get("rel") ? "" : "&rel=0", e3 += this.get("modestbranding") ? "&modestbranding=1" : "";
          }, n2.prototype.getYoutubeNoCookieSrc = function() {
            var t4 = this.getYoutubeSrc();
            return t4 = t4.replace(this.get("ytUrl"), this.get("ytncUrl"));
          }, n2.prototype.getVimeoSrc = function() {
            var t4 = this.get("viUrl");
            return t4 += this.get("videoId") + "?", t4 += this.get("autoplay") ? "&autoplay=1" : "", t4 += this.get("muted") ? "&muted=1" : "", t4 += this.get("loop") ? "&loop=1" : "", t4 += this.get("controls") ? "" : "&title=0&portrait=0&badge=0", t4 += this.get("color") ? "&color=" + this.get("color") : "";
          }, n2.isComponent = function(t4) {
            var n3 = t4.tagName, o2 = t4.src, r2 = /youtube\.com\/embed/.test(o2), i2 = /youtube-nocookie\.com\/embed/.test(o2), a2 = /player\.vimeo\.com\/video/.test(o2), s2 = r2 || i2 || a2;
            if ((0, e2.toLowerCase)(n3) == Lr || "iframe" == (0, e2.toLowerCase)(n3) && s2) {
              var l2 = { type: "video" };
              return o2 && (l2.src = o2), s2 && (r2 ? l2.provider = Ir : i2 ? l2.provider = Rr : a2 && (l2.provider = Nr)), l2;
            }
          }, n2;
        })(Io);
        const Ur = Hr;
        var zr = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Br = function() {
          return Br = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Br.apply(this, arguments);
        }, Wr = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return zr(n2, e3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return Br(Br({}, e3.prototype.defaults), { tagName: "body", removable: false, copyable: false, draggable: false, components: [], traits: [], doctype: "", head: null, docEl: null, stylable: ["background", "background-color", "background-image", "background-repeat", "background-attachment", "background-position", "background-size"] });
          }, enumerable: false, configurable: true }), n2.prototype.preInit = function() {
            var t3, e4, n3 = this.opt, o2 = this.attributes, r2 = null === (t3 = this.em) || void 0 === t3 ? void 0 : t3.Components, i2 = null === (e4 = null == r2 ? void 0 : r2.getType(In)) || void 0 === e4 ? void 0 : e4.model, a2 = null == r2 ? void 0 : r2.getType("default").model;
            if (i2) {
              var s2 = o2.head, l2 = o2.docEl;
              this.set({ head: s2 && s2 instanceof Mn ? s2 : new i2(Br({}, s2), n3), docEl: l2 && l2 instanceof Mn ? l2 : new a2(Br({ tagName: "html" }, l2), n3) }, { silent: true });
            }
          }, Object.defineProperty(n2.prototype, "head", { get: function() {
            return this.get("head");
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "docEl", { get: function() {
            return this.get("docEl");
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "doctype", { get: function() {
            return this.attributes.doctype || "";
          }, enumerable: false, configurable: true }), n2.prototype.clone = function(t3) {
            var n3 = e3.prototype.clone.call(this, t3);
            return n3.set("head", this.get("head").clone(t3)), n3.set("docEl", this.get("docEl").clone(t3)), n3;
          }, n2.prototype.toHTML = function(n3) {
            void 0 === n3 && (n3 = {});
            var o2 = this.doctype, r2 = (0, t2.isUndefined)(n3.asDocument) ? !!o2 : n3.asDocument, i2 = this.head, a2 = this.docEl, s2 = e3.prototype.toHTML.call(this, n3), l2 = r2 && (null == i2 ? void 0 : i2.toHTML(n3)) || "", c2 = r2 && (0, Z.kk)(null == a2 ? void 0 : a2.getAttrToHTML()) || "", u2 = c2 ? " ".concat(c2) : "";
            return r2 ? "".concat(o2, "<html").concat(u2, ">").concat(l2).concat(s2, "</html>") : s2;
          }, n2.prototype.__postAdd = function() {
            var t3, n3 = null === (t3 = this.em) || void 0 === t3 ? void 0 : t3.UndoManager;
            return !this.__hasUm && (null == n3 || n3.add(this)), e3.prototype.__postAdd.call(this);
          }, n2.prototype.__postRemove = function() {
            var t3, n3 = null === (t3 = this.em) || void 0 === t3 ? void 0 : t3.UndoManager;
            return null == n3 || n3.remove(this), e3.prototype.__postRemove.call(this);
          }, n2.isComponent = function() {
            return false;
          }, n2;
        })(Mn);
        const $r = Wr;
        var qr = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Gr = (function(e3) {
          function n2() {
            var t3 = null !== e3 && e3.apply(this, arguments) || this;
            return t3.compView = Zr, t3;
          }
          return qr(n2, e3), n2.prototype.initialize = function(t3) {
            this.opts = t3 || {}, this.config = t3.config || {}, this.em = this.config.em;
            var e4 = this.collection;
            this.listenTo(e4, "add", this.addTo), this.listenTo(e4, "reset", this.resetChildren), this.listenTo(e4, "remove", this.removeChildren);
          }, n2.prototype.removeChildren = function(t3, e4, n3) {
            var o2 = this;
            void 0 === n3 && (n3 = {}), t3.views.forEach((function(t4) {
              if (t4) {
                var e5 = t4.childrenView, n4 = t4.scriptContainer;
                e5 && e5.stopListening(), (0, Z.YZ)(n4), t4.remove.apply(t4);
              }
            })), t3.components().forEach((function(t4) {
              return o2.removeChildren(t4, e4, n3);
            }));
          }, n2.prototype.addTo = function(t3) {
            this.addToCollection(t3, null, this.collection.indexOf(t3));
          }, n2.prototype.addToCollection = function(e4, n3, o2) {
            for (var r2 = this, i2 = r2.config, a2 = r2.opts, s2 = r2.em, l2 = i2.frameView, c2 = (null == l2 ? void 0 : l2.model) && e4.getView(l2.model), u2 = a2.componentTypes || (null == s2 ? void 0 : s2.Components.getTypes()), p2 = e4.get("type") || "default", d2 = this.compView, f2 = 0; f2 < u2.length; f2++) if (u2[f2].id == p2) {
              d2 = u2[f2].view;
              break;
            }
            var h2, v2 = c2 || new d2({ model: e4, config: i2, componentTypes: u2 });
            try {
              h2 = v2.render().el;
            } catch (t3) {
              h2 = document.createTextNode(""), s2.logError(t3);
            }
            if (n3) n3.appendChild(h2);
            else {
              var g2 = this.parentEl, y2 = g2.childNodes;
              if ((0, t2.isUndefined)(o2)) g2.appendChild(h2);
              else {
                var m2 = y2.length == o2;
                m2 && o2--, m2 || !y2.length ? g2.appendChild(h2) : g2.insertBefore(h2, y2[o2]);
              }
            }
            return e4.opt.temporary || null == s2 || s2.trigger($.I.mount, e4), h2;
          }, n2.prototype.resetChildren = function(t3, e4) {
            var n3 = this;
            void 0 === e4 && (e4 = {});
            var o2 = e4.previousModels;
            e4.skipDomReset || (this.parentEl.innerHTML = ""), null == o2 || o2.forEach((function(t4) {
              return n3.removeChildren(t4, n3.collection);
            })), t3.each((function(t4) {
              return n3.addToCollection(t4);
            }));
          }, n2.prototype.render = function(t3) {
            var e4 = this, n3 = this.el, o2 = document.createDocumentFragment();
            return this.parentEl = t3 || this.el, this.collection.each((function(t4) {
              return e4.addToCollection(t4, o2);
            })), n3.innerHTML = "", n3.appendChild(o2), this;
          }, n2;
        })(u.Ss);
        const Kr = Gr;
        var Yr = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Jr = function() {
          return Jr = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Jr.apply(this, arguments);
        }, Xr = (function(n2) {
          function o2() {
            var t3 = null !== n2 && n2.apply(this, arguments) || this;
            return t3.rendered = false, t3;
          }
          return Yr(o2, n2), o2.prototype.className = function() {
            return this.getClasses();
          }, o2.prototype.tagName = function() {
            return this.model.get("tagName");
          }, o2.prototype.preinitialize = function(t3) {
            void 0 === t3 && (t3 = {}), this.opts = t3;
          }, o2.prototype.initialize = function(t3) {
            void 0 === t3 && (t3 = {});
            var n3 = this.model, o3 = t3.config || {}, r2 = o3.em, i2 = n3.opt || {}, a2 = this.$el, s2 = this.el;
            this.opts = t3, this.modelOpt = i2, this.config = o3, this.em = r2, this.pfx = o3.stylePrefix || "", this.ppfx = o3.pStylePrefix || "", this.attr = n3.get("attributes"), this.classe = this.attr.class || [], this.listenTo(n3, "change:style", this.updateStyle), this.listenTo(n3, "change:attributes", this.renderAttributes), this.listenTo(n3, "change:highlightable", this.updateHighlight), this.listenTo(n3, "change:status change:locked", this.updateStatus), this.listenTo(n3, "change:script rerender", this.reset), this.listenTo(n3, "change:content", this.updateContent), this.listenTo(n3, "change", this.handleChange), this.listenTo(n3, "active", this.onActive), this.listenTo(n3, "disable", this.onDisable), a2.data("model", n3), (0, e2.setViewEl)(s2, this), n3.view = this, this.frameView && n3.views.push(this), this.initClasses(), this.initComponents({ avoidRender: true }), this.events = Jr(Jr({}, this.constructor.getEvents()), { dragstart: "handleDragStart" }), this.delegateEvents(), !i2.temporary && this.init(this._clbObj());
          }, Object.defineProperty(o2.prototype, "__cmpStyleOpts", { get: function() {
            return { state: "", mediaText: "" };
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "frameView", { get: function() {
            return this.opts.config.frameView;
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "createDoc", { get: function() {
            var t3, e3, n3 = (null === (t3 = this.frameView) || void 0 === t3 ? void 0 : t3.getDoc()) || document;
            return (null === (e3 = this.opts.config) || void 0 === e3 ? void 0 : e3.useFrameDoc) ? n3 : document;
          }, enumerable: false, configurable: true }), o2.prototype.__isDraggable = function() {
            var t3 = this.model, e3 = this.config, n3 = t3.attributes.draggable;
            return e3.draggableComponents && n3;
          }, o2.prototype._clbObj = function() {
            var t3 = this, e3 = t3.em, n3 = t3.model, o3 = t3.el;
            return { editor: null == e3 ? void 0 : e3.getEditor(), model: n3, el: o3 };
          }, o2.prototype.init = function(t3) {
          }, o2.prototype.removed = function(t3) {
          }, o2.prototype.onRender = function(t3) {
          }, o2.prototype.onActive = function(t3) {
          }, o2.prototype.onDisable = function(t3) {
          }, o2.prototype.remove = function() {
            var t3;
            n2.prototype.remove.call(this);
            var e3 = this.model, o3 = this.$el, r2 = e3.views, i2 = this.frameView || {};
            return e3.components().forEach((function(t4) {
              var e4 = t4.getView(i2.model);
              null == e4 || e4.remove();
            })), null === (t3 = this.childrenView) || void 0 === t3 || t3.remove(), r2.splice(r2.indexOf(this), 1), this.removed(this._clbObj()), o3.data({ model: "", collection: "", view: "" }), this;
          }, o2.prototype.handleDragStart = function(t3) {
            if (!this.__isDraggable()) return false;
            t3.stopPropagation(), t3.preventDefault();
            var e3 = this.em.getSelectedAll(), n3 = e3.includes(this.model) ? e3 : [this.model];
            this.em.Commands.run("tlb-move", { target: n3, event: t3 });
          }, o2.prototype.initClasses = function() {
            var t3 = this.model, e3 = t3.classes, n3 = "change:classes";
            e3 instanceof Je && (this.stopListening(t3, n3, this.initClasses), this.listenTo(t3, n3, this.initClasses), this.listenTo(e3, "add remove change reset", this.updateClasses), e3.length && this.importClasses());
          }, o2.prototype.initComponents = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this, n3 = e3.model, o3 = e3.$el, r2 = e3.childrenView, i2 = n3.get("components"), a2 = [n3, "change:components", this.initComponents];
            i2 instanceof Ue && (o3.data("collection", i2), r2 && r2.remove(), this.stopListening.apply(this, a2), !t3.avoidRender && this.renderChildren(), this.listenTo.apply(this, a2));
          }, o2.prototype.handleChange = function() {
            var e3 = this.model, n3 = (0, t2.keys)(e3.changed);
            if (1 !== n3.length || "status" !== n3[0]) for (var o3 in e3.emitUpdate(), e3.changed) e3.emitUpdate(o3);
          }, o2.prototype.importClasses = function() {
            var t3 = this.em, e3 = this.model, n3 = t3.Selectors;
            n3 && e3.classes.forEach((function(t4) {
              return n3.add(t4.getName());
            }));
          }, o2.prototype.updateStatus = function(e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this, o3 = n3.em, r2 = n3.el, i2 = n3.ppfx, a2 = n3.model, s2 = null == o3 ? void 0 : o3.Canvas, l2 = null == s2 ? void 0 : s2.config.extHl, c2 = a2.get("status"), u2 = "".concat(i2, "selected"), p2 = "".concat(u2, "-parent"), d2 = "".concat(i2, "freezed"), f2 = "".concat(i2, "hovered"), h2 = "".concat(i2, "no-pointer"), v2 = "".concat(i2, "pointer-init"), g2 = [u2, p2, d2, f2, h2, v2], y2 = l2 && !e3.noExtHl ? "" : u2;
            this.$el.removeClass(g2.join(" "));
            var m2 = [r2.getAttribute("class") || ""], b2 = !(null == s2 ? void 0 : s2.hasCustomSpot(W.F.Select)), _2 = !(null == s2 ? void 0 : s2.hasCustomSpot(W.F.Target));
            switch (c2) {
              case "selected":
                b2 && m2.push(y2);
                break;
              case "selected-parent":
                _2 && m2.push(p2);
                break;
              case "freezed":
                m2.push(d2);
                break;
              case "freezed-selected":
                m2.push(d2), b2 && m2.push(y2);
                break;
              case "hovered":
                !e3.avoidHover && m2.push(f2);
            }
            (0, t2.isBoolean)(a2.locked) && m2.push(a2.locked ? h2 : v2);
            var w2 = m2.filter(Boolean).join(" ");
            w2 && r2.setAttribute("class", w2);
          }, o2.prototype.updateHighlight = function() {
            var t3 = this.model, e3 = t3.get("textable"), n3 = t3.get("highlightable") && (e3 || !t3.isChildOf("text"));
            this.setAttribute("data-gjs-highlightable", !!n3 || "");
          }, o2.prototype.updateStyle = function(e3, n3, o3) {
            void 0 === o3 && (o3 = {});
            var r2 = this.model, i2 = this.em;
            if (Sn(i2) && !o3.inline) {
              var a2 = this.__cmpStyleOpts, s2 = r2.getStyle(Jr({ inline: true }, a2));
              !(0, t2.isEmpty)(s2) && r2.setStyle(s2, a2);
            } else this.setAttribute("style", r2.styleToString(o3));
          }, o2.prototype.updateStyles = function() {
            this.updateStyle();
          }, o2.prototype.updateClasses = function() {
            var t3, e3, n3 = (null === (e3 = (t3 = this.model.classes).pluck) || void 0 === e3 ? void 0 : e3.call(t3, "name").join(" ")) || "";
            this.setAttribute("class", n3), this.updateStatus(), this.onAttrUpdate();
          }, o2.prototype.setAttribute = function(t3, e3) {
            var n3 = this.$el;
            e3 ? n3.attr(t3, e3) : n3.removeAttr(t3);
          }, o2.prototype.getClasses = function() {
            return this.model.getClasses().join(" ");
          }, o2.prototype.updateAttributes = function() {
            var e3 = this, n3 = e3.model, o3 = e3.$el, r2 = (e3.el, n3.attributes), i2 = r2.textable, a2 = r2.type, s2 = Jr(Jr({ id: n3.getId(), "data-gjs-type": a2 || "default" }, this.__isDraggable() && { draggable: true }), i2 && { contenteditable: "false" });
            this.__clearAttributes(), this.updateStyle(), this.updateHighlight();
            var l2 = Jr(Jr({}, s2), n3.getAttributes());
            (0, t2.keys)(l2).forEach((function(t3) {
              return false === l2[t3] && delete l2[t3];
            })), o3.attr(l2);
          }, o2.prototype.__clearAttributes = function() {
            var e3 = this.el, n3 = this.$el, o3 = [];
            (0, t2.each)(e3.attributes, (function(t3) {
              return o3.push(t3.nodeName);
            })), o3.forEach((function(t3) {
              return n3.removeAttr(t3);
            }));
          }, o2.prototype.updateContent = function() {
            var t3 = this.model.content, e3 = this.model.components().length;
            this.getChildrenContainer().innerHTML = e3 ? "" : t3;
          }, o2.prototype.prevDef = function(t3) {
            t3.preventDefault();
          }, o2.prototype.updateScript = function() {
            var t3 = this.model, e3 = this.em;
            t3.get("script") && (null == e3 || e3.Canvas.getCanvasView().updateScript(this));
          }, o2.prototype.getChildrenContainer = function() {
            var t3 = this.el;
            return "function" == typeof this.getChildrenSelector ? t3 = this.el.querySelector(this.getChildrenSelector()) : this.getTemplate, t3;
          }, o2.prototype.getOffsetRect = function() {
            var t3 = { top: 0, left: 0, bottom: 0, right: 0 }, e3 = this.el, n3 = 0, o3 = 0, r2 = function(i2) {
              var a2 = i2.offsetParent;
              a2 ? (n3 += a2.offsetTop, o3 += a2.offsetLeft, r2(a2)) : (t3.top = e3.offsetTop + n3, t3.left = e3.offsetLeft + o3, t3.bottom = t3.top + e3.offsetHeight, t3.right = t3.left + e3.offsetWidth);
            };
            return r2(e3), t3;
          }, o2.prototype.isInViewport = function() {
            var t3 = this, e3 = t3.el, n3 = t3.em, o3 = t3.frameView, r2 = n3.Canvas.getCanvasView().getElBoxRect(e3, { local: true }), i2 = o3.el, a2 = i2.clientHeight, s2 = i2.clientWidth, l2 = r2.y, c2 = r2.x, u2 = l2 + r2.height, p2 = c2 + r2.width;
            return (l2 >= 0 && l2 < a2 || u2 > 0 && u2 < a2) && (p2 >= 0 && p2 < s2 || c2 > 0 && c2 <= s2);
          }, o2.prototype.scrollIntoView = function(t3) {
            var e3;
            if (void 0 === t3 && (t3 = {}), !this.isInViewport() || t3.force) {
              var n3 = this.el;
              if ("smooth" !== t3.behavior) {
                var o3 = this.getOffsetRect();
                null === (e3 = n3.ownerDocument.defaultView) || void 0 === e3 || e3.scrollTo(0, o3.top);
              } else n3.scrollIntoView(Jr({ behavior: "smooth", block: "nearest" }, t3));
            }
          }, o2.prototype.reset = function() {
            var t3 = this, e3 = t3.el, n3 = t3.model;
            t3.scriptContainer && n3.emitWithEditor($.I.scriptUnmount, { component: n3, view: t3, el: e3 }), this.el = "", this._ensureElement(), this._setData(), (0, Z.bG)(e3, this.el), this.render();
          }, o2.prototype._setData = function() {
            var t3 = this.model, n3 = this.el, o3 = t3.components();
            this.$el.data({ model: t3, collection: o3, view: this }), (0, e2.setViewEl)(n3, this);
          }, o2.prototype._createElement = function(t3) {
            return this.createDoc.createElement(t3);
          }, o2.prototype.renderChildren = function() {
            this.updateContent();
            var t3 = this.getChildrenContainer(), e3 = this.childrenView || new Kr({ collection: this.model.get("components"), config: this.config, componentTypes: this.opts.componentTypes });
            e3.render(t3), this.childrenView = e3;
            for (var n3 = Array.prototype.slice.call(e3.el.childNodes), o3 = 0, r2 = n3.length; o3 < r2; o3++) t3.appendChild(n3.shift());
          }, o2.prototype.renderAttributes = function() {
            this.updateAttributes(), this.updateClasses();
          }, o2.prototype.onAttrUpdate = function() {
          }, o2.prototype.render = function() {
            return this.renderAttributes(), this.modelOpt.temporary || (this.renderChildren(), this.updateScript(), (0, e2.setViewEl)(this.el, this), this.postRender()), this;
          }, o2.prototype.postRender = function() {
            if (!this.modelOpt.temporary) {
              var t3 = this.model, e3 = this.el;
              this.onRender(this._clbObj()), t3.emitWithEditor($.I.render, { component: t3, view: this, el: e3 }), this.rendered = true;
            }
          }, o2.getEvents = function() {
            return (0, t2.result)(this.prototype, "events");
          }, o2;
        })(u.Ss);
        const Zr = Xr;
        var Qr = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const ti = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Qr(e3, t3), e3.prototype._setAttributes = function() {
          }, e3.prototype.renderAttributes = function() {
          }, e3.prototype.updateStatus = function() {
          }, e3.prototype.updateClasses = function() {
          }, e3.prototype.setAttribute = function() {
          }, e3.prototype.updateAttributes = function() {
          }, e3.prototype.initClasses = function() {
          }, e3.prototype.initComponents = function() {
          }, e3.prototype.delegateEvents = function() {
            return this;
          }, e3.prototype._createElement = function() {
            return document.createTextNode("");
          }, e3.prototype.render = function() {
            var t4 = this.model, e4 = this.el;
            return t4.opt.temporary || (e4.textContent = t4.content), this;
          }, e3;
        })(Zr);
        var ei = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const ni = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return ei(e3, t3), e3.prototype._createElement = function() {
            return document.createComment(this.model.content);
          }, e3;
        })(ti);
        var oi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const ri = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return oi(e3, t3), e3.prototype.tagName = function() {
            return "div";
          }, e3.prototype.initialize = function(e4) {
            t3.prototype.initialize.call(this, e4), this.listenTo(this.model, "change:attributes:src", this.updateSrc);
          }, e3.prototype.updateSrc = function() {
            var t4 = (0, Z.I6)(this.el, "iframe")[0];
            t4 && (0, Z.X6)(t4, { src: this.__getSrc() });
          }, e3.prototype.render = function() {
            t3.prototype.render.call(this);
            var e4 = (0, Z.a_)("iframe", { class: "".concat(this.ppfx, "no-pointer"), style: "width: 100%; height: 100%; border: none", src: this.__getSrc() });
            return this.el.appendChild(e4), this;
          }, e3.prototype.__getSrc = function() {
            return this.model.getAttributes().src || "";
          }, e3;
        })(Zr);
        var ii = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ai = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return ii(n2, e3), n2.prototype.tagName = function() {
            return "img";
          }, n2.prototype.events = function() {
            return { dblclick: "onActive", click: "initResize", error: "onError", load: "onLoad", dragstart: "noDrag" };
          }, n2.prototype.initialize = function(t3) {
            e3.prototype.initialize.call(this, t3), this.listenTo(this.model, "change:src", this.updateSrc), this.classEmpty = "".concat(this.ppfx, "plh-image"), this.fetchFile();
          }, n2.prototype.fetchFile = function() {
            if (!this.modelOpt.temporary) {
              var e4 = this.model, n3 = this.em, o2 = e4.get("file");
              if (o2 && n3) {
                var r2 = n3.Assets.FileUploader();
                null == r2 || r2.uploadFile({ dataTransfer: { files: [o2] } }, (function(n4) {
                  var o3 = n4 && n4.data && n4.data[0], r3 = o3 && ((0, t2.isString)(o3) ? o3 : o3.src);
                  r3 && e4.set({ src: r3 });
                }), { componentView: this, file: o2 }), e4.set("file", "");
              }
            }
          }, n2.prototype.updateSrc = function() {
            var t3 = this.model;
            t3.addAttributes({ src: t3.getSrcResult() }), this.updateClasses();
          }, n2.prototype.updateClasses = function() {
            e3.prototype.updateClasses.call(this);
            var t3 = this, n3 = t3.el, o2 = t3.classEmpty, r2 = t3.model, i2 = r2.getSrcResult() && !r2.isDefaultSrc() ? "remove" : "add";
            n3.classList[i2](o2);
          }, n2.prototype.onActive = function(t3) {
            null == t3 || t3.stopPropagation();
            var e4 = this.em, n3 = this.model, o2 = null == e4 ? void 0 : e4.Assets;
            o2 && n3.get("editable") && o2.open({ select: function(t4, e5) {
              n3.set({ src: t4.getSrc() }), e5 && o2.close();
            }, target: n3, types: ["image"], accept: "image/*" });
          }, n2.prototype.onError = function() {
            var t3 = this.model, e4 = this.el, n3 = t3.getSrcResult({ fallback: true });
            n3 && (e4.srcset && (e4.srcset = ""), e4.src = n3);
          }, n2.prototype.onLoad = function() {
            this.em.Canvas.refresh({ all: true });
          }, n2.prototype.noDrag = function(t3) {
            return t3.preventDefault(), false;
          }, n2.prototype.render = function() {
            if (this.renderAttributes(), this.modelOpt.temporary) return this;
            this.updateSrc();
            var t3 = this.$el, e4 = this.model, n3 = t3.attr("class") || "";
            return !e4.get("src") && t3.attr("class", "".concat(n3, " ").concat(this.classEmpty).trim()), this.postRender(), this;
          }, n2;
        })(Zr);
        const si = ai;
        var li = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ci = function() {
          return ci = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ci.apply(this, arguments);
        }, ui = function(t3, e3, n2, o2) {
          return new (n2 || (n2 = Promise))((function(r2, i2) {
            function a2(t4) {
              try {
                l2(o2.next(t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function s2(t4) {
              try {
                l2(o2["throw"](t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function l2(t4) {
              var e4;
              t4.done ? r2(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2((function(t5) {
                t5(e4);
              }))).then(a2, s2);
            }
            l2((o2 = o2.apply(t3, e3 || [])).next());
          }));
        }, pi = function(t3, e3) {
          var n2, o2, r2, i2, a2 = { label: 0, sent: function() {
            if (1 & r2[0]) throw r2[1];
            return r2[1];
          }, trys: [], ops: [] };
          return i2 = { next: s2(0), throw: s2(1), return: s2(2) }, "function" == typeof Symbol && (i2[Symbol.iterator] = function() {
            return this;
          }), i2;
          function s2(s3) {
            return function(l2) {
              return (function(s4) {
                if (n2) throw new TypeError("Generator is already executing.");
                for (; i2 && (i2 = 0, s4[0] && (a2 = 0)), a2; ) try {
                  if (n2 = 1, o2 && (r2 = 2 & s4[0] ? o2["return"] : s4[0] ? o2["throw"] || ((r2 = o2["return"]) && r2.call(o2), 0) : o2.next) && !(r2 = r2.call(o2, s4[1])).done) return r2;
                  switch (o2 = 0, r2 && (s4 = [2 & s4[0], r2.value]), s4[0]) {
                    case 0:
                    case 1:
                      r2 = s4;
                      break;
                    case 4:
                      return a2.label++, { value: s4[1], done: false };
                    case 5:
                      a2.label++, o2 = s4[1], s4 = [0];
                      continue;
                    case 7:
                      s4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(r2 = a2.trys, (r2 = r2.length > 0 && r2[r2.length - 1]) || 6 !== s4[0] && 2 !== s4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === s4[0] && (!r2 || s4[1] > r2[0] && s4[1] < r2[3])) {
                        a2.label = s4[1];
                        break;
                      }
                      if (6 === s4[0] && a2.label < r2[1]) {
                        a2.label = r2[1], r2 = s4;
                        break;
                      }
                      if (r2 && a2.label < r2[2]) {
                        a2.label = r2[2], a2.ops.push(s4);
                        break;
                      }
                      r2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  s4 = e3.call(t3, a2);
                } catch (t4) {
                  s4 = [6, t4], o2 = 0;
                } finally {
                  n2 = r2 = 0;
                }
                if (5 & s4[0]) throw s4[1];
                return { value: s4[0] ? s4[1] : void 0, done: true };
              })([s3, l2]);
            };
          }
        }, di = (function(n2) {
          function o2() {
            return null !== n2 && n2.apply(this, arguments) || this;
          }
          return li(o2, n2), o2.prototype.events = function() {
            return { dblclick: "onActive", input: "onInput" };
          }, o2.prototype.initialize = function(e3) {
            n2.prototype.initialize.call(this, e3), (0, t2.bindAll)(this, "disableEditing", "onDisable");
            var o3 = this.model, r2 = this.em;
            this.listenTo(o3, "focus", this.onActive), this.listenTo(o3, "change:content", this.updateContentText), this.listenTo(o3, "sync:content", this.syncContent), this.rte = null == r2 ? void 0 : r2.RichTextEditor;
          }, o2.prototype.updateContentText = function(t3, e3, n3) {
            void 0 === n3 && (n3 = {}), !n3.fromDisable && this.disableEditing();
          }, o2.prototype.canActivate = function() {
            var t3, e3 = this, n3 = e3.model, o3 = e3.rteEnabled, r2 = e3.em, i2 = (null == r2 ? void 0 : r2.getEditing()) === n3, a2 = true, s2 = false;
            if ((o3 || !n3.get("editable") || i2 || (s2 = n3.isChildOf("text"))) && (a2 = false, s2 && !n3.get("textable"))) {
              for (var l2 = n3.parent(); l2 && !l2.isInstanceOf("text"); ) l2 = l2.parent();
              l2 && l2.get("editable") ? t3 = l2 : a2 = true;
            }
            return { result: a2, delegate: t3 };
          }, o2.prototype.onActive = function(t3) {
            return ui(this, void 0, void 0, (function() {
              var e3, n3, o3, r2, i2, a2, s2, l2, c2, u2, p2, d2;
              return pi(this, (function(f2) {
                switch (f2.label) {
                  case 0:
                    return n3 = (e3 = this).rte, o3 = e3.em, r2 = this.canActivate(), i2 = r2.result, a2 = r2.delegate, i2 ? (null === (d2 = null == t3 ? void 0 : t3.stopPropagation) || void 0 === d2 || d2.call(t3), s2 = this, [4, this.getContent()]) : (a2 && (null === (p2 = null == t3 ? void 0 : t3.stopPropagation) || void 0 === p2 || p2.call(t3), o3.setSelected(a2), a2.trigger("active", t3)), [2]);
                  case 1:
                    if (s2.lastContent = f2.sent(), !n3) return [3, 5];
                    f2.label = 2;
                  case 2:
                    return f2.trys.push([2, 4, , 5]), l2 = this, c2 = this, [4, n3.enable(l2, this.activeRte, { event: t3, view: l2 })];
                  case 3:
                    return c2.activeRte = f2.sent(), [3, 5];
                  case 4:
                    return u2 = f2.sent(), o3.logError(u2), [3, 5];
                  case 5:
                    return this.toggleEvents(true), [2];
                }
              }));
            }));
          }, o2.prototype.onDisable = function(t3) {
            this.disableEditing(t3);
          }, o2.prototype.disableEditing = function() {
            return ui(this, arguments, void 0, (function(t3) {
              var e3, n3, o3, r2, i2, a2, s2, l2, c2;
              return void 0 === t3 && (t3 = {}), pi(this, (function(u2) {
                switch (u2.label) {
                  case 0:
                    return n3 = (e3 = this).model, o3 = e3.rte, r2 = e3.activeRte, i2 = e3.em, a2 = n3 && n3.get("editable"), o3 ? (s2 = {}, [4, this.getContent()]) : [3, 7];
                  case 1:
                    l2 = u2.sent(), u2.label = 2;
                  case 2:
                    return u2.trys.push([2, 4, , 5]), [4, o3.disable(this, r2, t3)];
                  case 3:
                    return s2 = u2.sent(), [3, 5];
                  case 4:
                    return c2 = u2.sent(), i2.logError(c2), [3, 5];
                  case 5:
                    return !a2 || l2 === this.lastContent && !s2.forceSync ? [3, 7] : [4, this.syncContent(ci(ci({}, t3), { content: l2 }))];
                  case 6:
                    u2.sent(), this.lastContent = "", u2.label = 7;
                  case 7:
                    return this.toggleEvents(), [2];
                }
              }));
            }));
          }, o2.prototype.getContent = function() {
            return ui(this, void 0, void 0, (function() {
              var t3, e3, n3, o3;
              return pi(this, (function(r2) {
                switch (r2.label) {
                  case 0:
                    return e3 = (t3 = this).rte, n3 = t3.activeRte, o3 = "", e3 ? [4, e3.getContent(this, n3)] : [3, 2];
                  case 1:
                    o3 = r2.sent(), r2.label = 2;
                  case 2:
                    return [2, o3];
                }
              }));
            }));
          }, o2.prototype.syncContent = function() {
            return ui(this, arguments, void 0, (function(t3) {
              var e3, n3, o3, r2, i2, a2, s2, l2;
              return void 0 === t3 && (t3 = {}), pi(this, (function(c2) {
                switch (c2.label) {
                  case 0:
                    return n3 = (e3 = this).model, o3 = e3.rte, e3.rteEnabled || t3.force ? null === (l2 = t3.content) || void 0 === l2 ? [3, 1] : (i2 = l2, [3, 3]) : [2];
                  case 1:
                    return [4, this.getContent()];
                  case 2:
                    i2 = c2.sent(), c2.label = 3;
                  case 3:
                    return r2 = i2, a2 = n3.components(), s2 = ci({ fromDisable: 1 }, t3), n3.set("content", "", s2), (null == o3 ? void 0 : o3.customRte) && !o3.customRte.parseContent ? (a2.length && a2.reset(void 0, ci(ci({}, t3), { keepIds: Ve(a2) })), n3.set("content", r2, s2)) : a2.resetFromString(r2, t3), [2];
                }
              }));
            }));
          }, o2.prototype.insertComponent = function(t3, n3) {
            var o3;
            void 0 === n3 && (n3 = {});
            var r2 = this.model, i2 = this.el.ownerDocument.getSelection();
            if (null == i2 ? void 0 : i2.rangeCount) {
              var a2 = i2.getRangeAt(0), s2 = a2.startContainer, l2 = a2.startOffset, c2 = (0, e2.getComponentModel)(s2), u2 = [];
              if (c2 && (null === (o3 = c2.is) || void 0 === o3 ? void 0 : o3.call(c2, "textnode"))) {
                var p2 = c2.collection;
                p2.forEach((function(e3) {
                  if (e3 === c2) {
                    var o4 = "textnode", r3 = n3.useDomContent ? s2.textContent || "" : e3.content;
                    u2.push({ type: o4, content: r3.slice(0, l2) }), u2.push(t3), u2.push({ type: o4, content: r3.slice(l2) });
                  } else u2.push(e3);
                }));
                var d2 = u2.filter(Boolean), f2 = d2.indexOf(t3);
                return p2.reset(d2, n3), p2.at(f2);
              }
            }
            return r2.append(t3, n3);
          }, o2.prototype.onInput = function() {
            var t3 = this.model;
            [$.I.update, $.I.input].forEach((function(e3) {
              return t3.emitWithEditor(e3, t3);
            }));
          }, o2.prototype.disablePropagation = function(t3) {
            t3.stopPropagation();
          }, o2.prototype.toggleEvents = function(t3) {
            var e3 = this, n3 = e3.em, o3 = e3.model, r2 = e3.$el, i2 = { on: Z.on, off: Z.AU }, a2 = t3 ? "on" : "off";
            n3.setEditing(!!t3 && this), this.rteEnabled = !!t3;
            var s2 = [this.el.ownerDocument, document];
            if (i2.off(s2, "mousedown", this.onDisable), i2[a2](s2, "mousedown", this.onDisable), n3[a2]("toolbar:run:before", this.onDisable), o3 && (o3[a2]("removed", this.onDisable), o3.trigger("rte:".concat(t3 ? "enable" : "disable"))), null == r2 || r2.off("mousedown", this.disablePropagation), r2 && r2[a2]("mousedown", this.disablePropagation), this.config.draggableComponents) for (var l2 = this.el; l2; ) l2.draggable = !t3, (l2 = l2.parentNode) && "BODY" == l2.tagName && (l2 = 0);
          }, o2;
        })(Zr);
        const fi = di;
        var hi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const vi = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return hi(e3, t3), e3.prototype.render = function() {
            return t3.prototype.render.call(this), this.el.addEventListener("click", this.prevDef, true), this;
          }, e3;
        })(fi);
        var gi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const yi = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return gi(e3, t3), e3;
        })(vi);
        var mi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const bi = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return mi(e3, t3), e3.prototype.tagName = function() {
            return "div";
          }, e3.prototype.events = function() {
            return {};
          }, e3.prototype.initialize = function(e4) {
            t3.prototype.initialize.call(this, e4), this.classEmpty = this.ppfx + "plh-map";
          }, e3.prototype.updateSrc = function() {
            this.getIframe().src = this.model.get("src");
          }, e3.prototype.getIframe = function() {
            if (!this.iframe) {
              var t4 = document.createElement("iframe");
              t4.src = this.model.get("src"), t4.frameBorder = "0", t4.style.height = "100%", t4.style.width = "100%", t4.className = this.ppfx + "no-pointer", this.iframe = t4;
            }
            return this.iframe;
          }, e3.prototype.render = function() {
            return t3.prototype.render.call(this), this.updateClasses(), this.el.appendChild(this.getIframe()), this;
          }, e3;
        })(si);
        var _i = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const wi = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return _i(e3, t3), e3.prototype.tagName = function() {
            return "script";
          }, e3.prototype.events = function() {
            return {};
          }, e3;
        })(Zr);
        var xi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ci = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return xi(e3, t3), e3.prototype._createElement = function(t4) {
            return document.createElementNS("http://www.w3.org/2000/svg", t4);
          }, e3;
        })(Zr);
        const Si = Ci;
        var Oi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Ti = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Oi(e3, t3), e3;
        })(Zr);
        var Pi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Ei = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Pi(e3, t3), e3;
        })(Zr);
        var ki = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Ai = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return ki(e3, t3), e3;
        })(Zr);
        var ji = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Mi = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return ji(e3, t3), e3;
        })(Zr);
        var Di = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Li = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Di(e3, t3), e3;
        })(Zr);
        var Ii = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Ni = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Ii(e3, t3), e3.prototype.events = function() {
            return {};
          }, e3;
        })(Zr);
        var Ri = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Vi = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Ri(e3, t3), e3.prototype.tagName = function() {
            return "div";
          }, e3.prototype.events = function() {
            return {};
          }, e3.prototype.initialize = function() {
            Zr.prototype.initialize.apply(this, arguments);
            var t4 = this.model, e4 = ["loop", "autoplay", "controls", "color", "rel", "modestbranding", "poster", "muted"].map((function(t5) {
              return "change:".concat(t5);
            })).join(" ");
            this.listenTo(t4, "change:provider", this.updateProvider), this.listenTo(t4, "change:src", this.updateSrc), this.listenTo(t4, e4, this.updateVideo);
          }, e3.prototype.updateProvider = function() {
            var t4 = this.model.get("provider");
            this.el.innerHTML = "", this.el.appendChild(this.renderByProvider(t4));
          }, e3.prototype.updateSrc = function() {
            var t4 = this.model, e4 = this.videoEl;
            if (e4) {
              var n2 = t4.get("provider"), o2 = t4.get("src");
              switch (n2) {
                case "yt":
                  o2 = t4.getYoutubeSrc();
                  break;
                case "ytnc":
                  o2 = t4.getYoutubeNoCookieSrc();
                  break;
                case "vi":
                  o2 = t4.getVimeoSrc();
              }
              e4.src = o2;
            }
          }, e3.prototype.updateVideo = function() {
            var t4 = this.model, e4 = this.videoEl;
            switch (t4.get("provider")) {
              case "yt":
              case "ytnc":
              case "vi":
                t4.trigger("change:videoId");
                break;
              default:
                if (e4) {
                  var n2 = e4;
                  n2.loop = t4.get("loop"), n2.autoplay = t4.get("autoplay"), n2.controls = t4.get("controls"), n2.poster = t4.get("poster"), n2.muted = t4.get("muted");
                }
            }
          }, e3.prototype.renderByProvider = function(t4) {
            var e4;
            switch (t4) {
              case "yt":
                e4 = this.renderYoutube();
                break;
              case "ytnc":
                e4 = this.renderYoutubeNoCookie();
                break;
              case "vi":
                e4 = this.renderVimeo();
                break;
              default:
                e4 = this.renderSource();
            }
            return this.videoEl = e4, e4;
          }, e3.prototype.renderSource = function() {
            var t4 = document.createElement("video");
            return t4.src = this.model.get("src"), this.initVideoEl(t4), t4;
          }, e3.prototype.renderYoutube = function() {
            var t4 = document.createElement("iframe");
            return t4.src = this.model.getYoutubeSrc(), t4.frameBorder = "0", t4.setAttribute("allowfullscreen", "true"), this.initVideoEl(t4), t4;
          }, e3.prototype.renderYoutubeNoCookie = function() {
            var t4 = document.createElement("iframe");
            return t4.src = this.model.getYoutubeNoCookieSrc(), t4.frameBorder = "0", t4.setAttribute("allowfullscreen", "true"), this.initVideoEl(t4), t4;
          }, e3.prototype.renderVimeo = function() {
            var t4 = document.createElement("iframe");
            return t4.src = this.model.getVimeoSrc(), t4.frameBorder = "0", t4.setAttribute("allowfullscreen", "true"), this.initVideoEl(t4), t4;
          }, e3.prototype.initVideoEl = function(t4) {
            t4.className = this.ppfx + "no-pointer", t4.style.height = "100%", t4.style.width = "100%";
          }, e3.prototype.render = function() {
            Zr.prototype.render.apply(this), this.updateClasses();
            var t4 = this.model.get("provider");
            return this.el.appendChild(this.renderByProvider(t4)), this.updateVideo(), this;
          }, e3;
        })(si);
        const Fi = Vi;
        var Hi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Ui = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Hi(e3, t3), e3.prototype.tagName = function() {
            return "div";
          }, e3;
        })(Zr);
        var zi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Bi = function() {
          return Bi = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Bi.apply(this, arguments);
        }, Wi = (function(e3) {
          function n2() {
            for (var n3 = [], o2 = 0; o2 < arguments.length; o2++) n3[o2] = arguments[o2];
            var r2 = e3.apply(this, n3) || this;
            r2.refreshDbn = (0, t2.debounce)((function() {
              return r2.refresh();
            }), 0);
            var i2 = r2.events;
            return r2.on(i2.update, r2.onUpdate), r2.on(i2.updateInside, r2.onUpdateDeep), r2;
          }
          return zi(n2, e3), n2.prototype.removeChildren = function(t3, n3, o2) {
            var r2;
            void 0 === o2 && (o2 = {}), e3.prototype.removeChildren.call(this, t3, n3, o2), null === (r2 = Zt(t3)) || void 0 === r2 || r2.forEach((function(t4) {
              return ne(t4, { skipRefs: true });
            })), this.__trgEvent(this.events.symbolMainRemove, { component: t3 });
          }, n2.prototype.onAdd = function() {
            for (var t3 = [], n3 = 0; n3 < arguments.length; n3++) t3[n3] = arguments[n3];
            e3.prototype.onAdd.apply(this, t3);
            var o2 = t3[0];
            this.__trgEvent(this.events.symbolMainAdd, { component: o2 });
          }, n2.prototype.onUpdate = function(t3) {
            this.__trgEvent(this.events.symbolMainUpdate, t3);
          }, n2.prototype.onUpdateDeep = function(t3) {
            this.__trgEvent(this.events.symbolMainUpdateDeep, t3);
          }, n2.prototype.refresh = function() {
            var t3 = this.em, e4 = this.events;
            t3.trigger(e4.symbol);
          }, n2.prototype.__trgEvent = function(t3, e4, n3) {
            void 0 === n3 && (n3 = false);
            var o2 = this.em, r2 = this.events, i2 = n3 ? r2.symbolInstance : r2.symbolMain;
            o2.trigger(t3, e4), o2.trigger(i2, Bi(Bi({}, e4), { event: t3 })), this.refreshDbn();
          }, n2;
        })(Ue);
        const $i = Wi;
        var qi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Gi = function() {
          return Gi = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Gi.apply(this, arguments);
        }, Ki = (function(t3) {
          function e3(e4, n2) {
            var o2 = t3.call(this, e4, n2) || this;
            return o2.dataResolver = o2.initializeDataResolver(e4, n2), o2.listenToPropsChange(), o2;
          }
          return qi(e3, t3), e3.prototype.initializeDataResolver = function(t4, e4) {
            var n2, o2 = null !== (n2 = t4.dataResolver) && void 0 !== n2 ? n2 : { type: t4.type };
            return this.createResolverInstance(o2, Gi(Gi({}, e4), { collectionsStateMap: this.collectionsStateMap }));
          }, e3.prototype.getDataResolver = function() {
            return this.get("dataResolver");
          }, e3.prototype.setDataResolver = function(t4) {
            return this.set("dataResolver", t4);
          }, e3.prototype.onCollectionsStateMapUpdate = function(e4) {
            this.dataResolver.updateCollectionsStateMap(e4), t3.prototype.onCollectionsStateMapUpdate.call(this, e4);
          }, e3.prototype.listenToPropsChange = function() {
            var t4 = this;
            this.listenTo(this.dataResolver, "change", (function() {
              t4.__changesUp({ m: t4 });
            }).bind(this)), this.on("change:dataResolver", (function() {
              t4.dataResolver.set(t4.get("dataResolver"));
            }));
          }, e3.prototype.removePropsListeners = function() {
            this.stopListening(this.dataResolver), this.off("change:dataResolver"), this.off("change:".concat(this.collectionsStateMap));
          }, e3.prototype.destroy = function(e4) {
            return this.removePropsListeners(), t3.prototype.destroy.call(this, e4);
          }, e3.prototype.toJSON = function(e4) {
            var n2 = t3.prototype.toJSON.call(this, e4), o2 = this.dataResolver.toJSON();
            return delete o2.type, Gi(Gi({}, n2), { dataResolver: o2 });
          }, e3;
        })(Mn), Yi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ji = function() {
          return Ji = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ji.apply(this, arguments);
        };
        const Xi = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Yi(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return Ji(Ji({}, t3.prototype.defaults), { type: ge, dataResolver: {}, droppable: false });
          }, enumerable: false, configurable: true }), n2.prototype.getPath = function() {
            return this.dataResolver.get("path");
          }, n2.prototype.getCollectionId = function() {
            return this.dataResolver.get("collectionId");
          }, n2.prototype.getVariableType = function() {
            return this.dataResolver.get("variableType");
          }, n2.prototype.getDefaultValue = function() {
            return this.dataResolver.get("defaultValue");
          }, n2.prototype.getDataValue = function() {
            return this.dataResolver.getDataValue();
          }, n2.prototype.resolvesFromCollection = function() {
            return this.dataResolver.resolvesFromCollection();
          }, n2.prototype.getInnerHTML = function() {
            return this.getDataValue();
          }, n2.prototype.setPath = function(t4) {
            this.dataResolver.set("path", t4);
          }, n2.prototype.setDefaultValue = function(t4) {
            this.dataResolver.set("defaultValue", t4);
          }, n2.prototype.resetDataSourcePath = function(t4) {
            this.set("dataResolver", { path: t4, collectionId: void 0, variableType: void 0 });
          }, n2.prototype.createResolverInstance = function(t4, e3) {
            return new me(t4, e3);
          }, n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === ge;
          }, n2;
        })(Ki);
        var Zi = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Qi = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Zi(e3, t3), e3.prototype.initialize = function(e4) {
            var n2 = this;
            void 0 === e4 && (e4 = {}), t3.prototype.initialize.call(this, e4), this.dataResolverListener = new _e({ em: this.em, resolver: this.model.dataResolver, onUpdate: function() {
              return n2.postRender();
            } });
          }, e3.prototype.remove = function() {
            return this.dataResolverListener.destroy(), t3.prototype.remove.call(this);
          }, e3.prototype.postRender = function() {
            var e4 = this.model;
            !!e4.getDataResolver().asPlainText ? this.el.textContent = e4.getDataValue() : this.el.innerHTML = e4.getDataValue(), t3.prototype.postRender.call(this);
          }, e3;
        })(Zr);
        var ta = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const ea = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return ta(e3, t3), e3.prototype.initialize = function(e4) {
            void 0 === e4 && (e4 = {}), t3.prototype.initialize.call(this, e4), this.postRender = this.postRender.bind(this), this.listenTo(this.model.components(), "reset", this.postRender), this.dataResolverListener = new _e({ em: this.em, resolver: this.model.dataResolver, onUpdate: this.postRender });
          }, e3.prototype.renderDataResolver = function() {
            var t4 = this.model.getIfTrueContent(), e4 = this.model.getIfFalseContent(), n2 = null == t4 ? void 0 : t4.getEl(), o2 = null == e4 ? void 0 : e4.getEl(), r2 = this.model.isTrue();
            n2 && (n2.style.display = r2 ? "" : "none"), o2 && (o2.style.display = r2 ? "none" : "");
          }, e3.prototype.postRender = function() {
            this.renderDataResolver(), t3.prototype.postRender.call(this);
          }, e3.prototype.remove = function() {
            return this.stopListening(this.model.components(), "reset", this.postRender), this.dataResolverListener.destroy(), t3.prototype.remove.call(this);
          }, e3;
        })(Zr);
        var na = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), oa = function() {
          return oa = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, oa.apply(this, arguments);
        }, ra = (function(e3) {
          function n2(t3, n3) {
            var o2;
            void 0 === n3 && (n3 = {});
            var r2 = e3.call(this, t3, n3) || this;
            return r2.mutable = null === (o2 = t3.mutable) || void 0 === o2 || o2, r2.on("change", r2.handleChange), r2;
          }
          return na(n2, e3), Object.defineProperty(n2.prototype, "cl", { get: function() {
            return this.collection;
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "dataSource", { get: function() {
            return this.cl.dataSource;
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "em", { get: function() {
            return this.dataSource.em;
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "index", { get: function() {
            return this.cl.indexOf(this);
          }, enumerable: false, configurable: true }), n2.prototype.handleChange = function(e4, n3) {
            var o2 = this, r2 = this.changedAttributes();
            (0, t2.keys)(r2).forEach((function(t3) {
              return o2.triggerChange(t3, n3);
            }));
          }, n2.prototype.getPath = function(t3, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = this, o2 = n3.dataSource, r2 = n3.id, i2 = n3.index, a2 = o2.id, s2 = t3 ? ".".concat(t3) : "";
            return "".concat(a2, ".").concat(e4.useIndex ? i2 : r2).concat(s2);
          }, n2.prototype.getPaths = function(t3) {
            return [this.getPath(t3), this.getPath(t3, { useIndex: true })];
          }, n2.prototype.triggerChange = function(t3, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = this.dataSource, o2 = this.em, r2 = this.getPaths(t3), i2 = { dataSource: n3, dataRecord: this, path: r2[0], options: e4 };
            o2.trigger(yt.path, i2), o2.trigger("".concat(yt.pathSource, ":").concat(n3.id), i2), r2.forEach((function(t4) {
              return o2.trigger("".concat(yt.path, ":").concat(t4), oa(oa({}, i2), { path: t4 }));
            }));
          }, n2.prototype.set = function(t3, n3, o2) {
            var r2, i2, a2 = this;
            if (!this.isNew() && false === this.attributes.mutable) throw new Error("Cannot modify immutable record");
            var s2 = null === (i2 = null === (r2 = this.dataSource) || void 0 === r2 ? void 0 : r2.transformers) || void 0 === i2 ? void 0 : i2.onRecordSetValue, l2 = function(t4, n4, o3) {
              void 0 === o3 && (o3 = {});
              var r3 = (null == o3 ? void 0 : o3.avoidTransformers) || !s2 ? n4 : s2({ id: a2.id, key: t4, value: n4 });
              e3.prototype.set.call(a2, t4, r3, o3), e3.prototype.set.call(a2, { __p: !!o3.partial || void 0 }, o3);
            };
            if ("object" == typeof t3 && null !== t3) for (var c2 = t3, u2 = 0, p2 = Object.entries(c2); u2 < p2.length; u2++) {
              var d2 = p2[u2];
              l2(d2[0], d2[1], n3);
            }
            else l2(t3, n3, o2);
            return this;
          }, n2;
        })(u.Kx);
        const ia = ra;
        var aa = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), sa = (function(t3) {
          function e3(e4, n2) {
            var o2 = t3.call(this, e4, n2) || this;
            return o2.dataSource = n2.dataSource, o2;
          }
          return aa(e3, t3), e3;
        })(u.pM);
        const la = sa;
        sa.prototype.model = ia;
        var ca = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ua = function() {
          return ua = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ua.apply(this, arguments);
        }, pa = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        };
        const da = (function(t3) {
          function e3(e4, n2) {
            var o2 = t3.call(this, ua(ua({}, e4), { records: [] }), n2) || this, r2 = e4.records, i2 = e4.transformers;
            return o2.transformers = i2 || {}, r2 instanceof la || o2.set({ records: new la(r2, { dataSource: o2 }) }), o2.listenTo(o2.records, "add", o2.onAdd), o2.listenTo(o2.records, u.e2, o2.handleChanges), o2;
          }
          return ca(e3, t3), e3.prototype.defaults = function() {
            return { records: [], transformers: {} };
          }, Object.defineProperty(e3.prototype, "records", { get: function() {
            return this.attributes.records;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "em", { get: function() {
            return this.collection.em;
          }, enumerable: false, configurable: true }), e3.prototype.onAdd = function(t4) {
            t4.triggerChange();
          }, e3.prototype.addRecord = function(t4, e4) {
            return this.records.add(t4, e4);
          }, e3.prototype.getRecord = function(t4) {
            return this.records.get(t4);
          }, e3.prototype.getRecords = function() {
            var t4 = this;
            return pa([], this.records.models, true).map((function(e4) {
              return t4.getRecord(e4.id);
            }));
          }, e3.prototype.removeRecord = function(t4, e4) {
            var n2 = this.getRecord(t4);
            if (false === (null == n2 ? void 0 : n2.mutable) && !(null == e4 ? void 0 : e4.dangerously)) throw new Error("Cannot remove immutable record");
            return this.records.remove(t4, e4);
          }, e3.prototype.setRecords = function(t4) {
            var e4 = this;
            this.records.reset([], { silent: true }), t4.forEach((function(t5) {
              e4.records.add(t5);
            }));
          }, e3.prototype.handleChanges = function(t4, e4, n2) {
            this.em.changesUp(n2 || e4);
          }, e3;
        })(u.Kx);
        var fa = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ha = function() {
          return ha = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ha.apply(this, arguments);
        }, va = { avoidStore: true, partial: true }, ga = (function(n2) {
          function o2(t3, e3) {
            var o3 = this;
            if (e3.forCloning) return n2.call(this, t3, e3) || this;
            var r2 = ha(ha({}, t3), { droppable: false }), i2 = o3 = n2.call(this, r2, e3) || this;
            return o3.rebuildChildrenFromCollection = o3.rebuildChildrenFromCollection.bind(o3), o3.listenToPropsChange(), o3.rebuildChildrenFromCollection(), i2;
          }
          return fa(o2, n2), Object.defineProperty(o2.prototype, "defaults", { get: function() {
            return ha(ha({}, n2.prototype.defaults), { droppable: false, dataResolver: {}, type: bt, components: [{ type: _t }] });
          }, enumerable: false, configurable: true }), o2.prototype.getDataResolver = function() {
            return this.get("dataResolver");
          }, o2.prototype.getItemsCount = function() {
            var e3, n3, o3 = (function(e4) {
              return (0, t2.isArray)(e4) ? e4.length : Object.keys(e4).length;
            })(this.getDataSourceItems()), r2 = Math.max(0, null !== (e3 = this.getConfigStartIndex()) && void 0 !== e3 ? e3 : 0), i2 = null !== (n3 = this.getConfigEndIndex()) && void 0 !== n3 ? n3 : Number.MAX_VALUE, a2 = Math.min(o3 - 1, i2) - r2 + 1;
            return Math.max(0, a2);
          }, o2.prototype.getConfigStartIndex = function() {
            return this.dataResolver.startIndex;
          }, o2.prototype.getConfigEndIndex = function() {
            return this.dataResolver.endIndex;
          }, o2.prototype.getDataSource = function() {
            var t3;
            return null === (t3 = this.dataResolver) || void 0 === t3 ? void 0 : t3.dataSource;
          }, o2.prototype.getCollectionId = function() {
            var t3;
            return null === (t3 = this.dataResolver) || void 0 === t3 ? void 0 : t3.collectionId;
          }, o2.prototype.getCollectionItemComponents = function() {
            return this.firstChild.components();
          }, o2.prototype.setDataResolver = function(t3) {
            return this.set("dataResolver", t3);
          }, o2.prototype.setCollectionId = function(t3) {
            this.updateCollectionConfig({ collectionId: t3 });
          }, o2.prototype.setStartIndex = function(t3) {
            t3 < 0 ? this.em.logError("Start index should be greater than or equal to 0") : this.updateCollectionConfig({ startIndex: t3 });
          }, o2.prototype.setEndIndex = function(t3) {
            this.updateCollectionConfig({ endIndex: t3 });
          }, o2.prototype.setDataSource = function(t3) {
            this.set(wt, ha(ha({}, this.dataResolver), { dataSource: t3 }));
          }, o2.prototype.setCollectionItemComponents = function(t3) {
            this.firstChild.components(t3);
          }, Object.defineProperty(o2.prototype, "firstChild", { get: function() {
            return this.components().at(0);
          }, enumerable: false, configurable: true }), o2.prototype.updateCollectionConfig = function(t3) {
            this.set(wt, ha(ha({}, this.dataResolver), t3));
          }, o2.prototype.getDataSourceItems = function() {
            var n3 = (function(t3, n4) {
              switch (true) {
                case ((0, e2.isObject)(t3) && t3 instanceof da):
                  return _a(t3.get("id"), n4);
                case ce(t3):
                  var o4 = t3.path;
                  return o4 ? 1 === o4.split(".").length ? _a(o4, n4) : n4.DataSources.getValue(o4, []) : [];
                default:
                  return [];
              }
            })(this.dataResolver.dataSource, this.em);
            if ((0, t2.isArray)(n3)) return n3;
            var o3 = ha({}, n3);
            return delete o3["__p"], o3;
          }, Object.defineProperty(o2.prototype, "dataResolver", { get: function() {
            return this.get(wt) || {};
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "collectionDataSource", { get: function() {
            return this.dataResolver.dataSource;
          }, enumerable: false, configurable: true }), o2.prototype.listenToDataSource = function() {
            var t3, e3 = this.em, n3 = null === (t3 = this.collectionDataSource) || void 0 === t3 ? void 0 : t3.path;
            n3 && (this.dataSourceWatcher = new _e({ em: e3, resolver: new me({ type: ge, path: n3 }, { em: e3, collectionsStateMap: this.collectionsStateMap }), onUpdate: this.rebuildChildrenFromCollection }));
          }, o2.prototype.rebuildChildrenFromCollection = function() {
            this.components().reset(this.getCollectionItems(), Oe);
          }, o2.prototype.getCollectionItems = function() {
            var e3, n3 = this.ensureFirstChild(), o3 = n3.getStyle()["display"], r2 = !o3 || "none" === o3 ? "" : o3;
            n3.addStyle({ display: "none" }, va);
            var i2 = [n3], a2 = (function(t3, e4) {
              for (var n4 = [{ property: null == t3 ? void 0 : t3.collectionId, propertyPath: "dataResolver.collectionId" }, { property: null == t3 ? void 0 : t3.dataSource, propertyPath: "dataResolver.dataSource" }], o4 = 0, r3 = n4; o4 < r3.length; o4++) {
                if (!ba(t3, r3[o4].propertyPath, e4)) return [];
              }
              var i3 = null == t3 ? void 0 : t3.startIndex;
              void 0 !== i3 && (i3 < 0 || !Number.isInteger(i3)) && e4.logError("Invalid startIndex: ".concat(i3, ". It must be a non-negative integer."));
              return true;
            })(this.dataResolver, this.em);
            if (!a2) return i2;
            var s2 = this.collectionId, l2 = this.getDataSourceItems(), c2 = this.resolveCollectionConfig(l2), u2 = c2.startIndex, p2 = c2.endIndex;
            if (this.hasDuplicateCollectionId()) return this.em.logError('The collection ID "'.concat(s2, '" already exists in the parent collection state. Overriding it is not allowed.')), i2;
            for (var d2 = u2; d2 <= p2; d2++) {
              var f2 = d2 === u2, h2 = (0, t2.isArray)(l2) ? d2 : Object.keys(l2)[d2], v2 = this.getCollectionsStateMapForItem(l2, h2);
              if (f2) null === (e3 = Zt(n3)) || void 0 === e3 || e3.forEach((function(t3) {
                return ne(t3);
              })), ma(n3, v2), n3.addStyle({ display: r2 }, va);
              else {
                var g2 = n3.clone({ symbol: true, symbolInv: true });
                g2.set({ locked: true, layerable: false }, va), ma(g2, v2), i2.push(g2);
              }
            }
            return i2;
          }, o2.prototype.getCollectionsStateMapForItem = function(t3, e3) {
            var n3, o3 = this.resolveCollectionConfig(t3), r2 = o3.startIndex, i2 = o3.endIndex, a2 = o3.totalItems, s2 = this.collectionId, l2 = t3[e3], c2 = this.collectionsStateMap, u2 = "string" == typeof e3 ? Object.keys(t3).indexOf(e3) : e3, p2 = { collectionId: s2, currentIndex: u2, currentItem: l2, currentKey: e3, startIndex: r2, endIndex: i2, totalItems: a2, remainingItems: a2 - (1 + (u2 - r2)) };
            return ha(ha({}, c2), ((n3 = {})[s2] = p2, n3));
          }, o2.prototype.hasDuplicateCollectionId = function() {
            var t3 = this.collectionId;
            return !!this.collectionsStateMap[t3];
          }, o2.prototype.resolveCollectionConfig = function(t3) {
            var e3, n3, o3 = Array.isArray(t3), r2 = o3 ? t3.length : Object.keys(t3).length, i2 = null !== (e3 = this.getConfigStartIndex()) && void 0 !== e3 ? e3 : 0, a2 = null !== (n3 = this.getConfigEndIndex()) && void 0 !== n3 ? n3 : Number.MAX_VALUE, s2 = Math.min(r2 - 1, a2), l2 = 0;
            return r2 > 0 && (l2 = Math.max(0, s2 - i2 + 1)), { startIndex: i2, endIndex: s2, totalItems: l2, isArray: o3 };
          }, o2.prototype.ensureFirstChild = function() {
            var t3 = this.em.Components.getType(_t).model;
            return this.firstChild || new t3({ type: _t }, this.opt);
          }, o2.prototype.listenToPropsChange = function() {
            var t3 = this;
            this.on("change:".concat(wt), (function() {
              t3.rebuildChildrenFromCollection(), t3.listenToDataSource();
            })), this.listenToDataSource();
          }, o2.prototype.removePropsListeners = function() {
            var t3;
            this.off("change:".concat(wt)), null === (t3 = this.dataSourceWatcher) || void 0 === t3 || t3.destroy();
          }, o2.prototype.onCollectionsStateMapUpdate = function(t3) {
            var e3 = this;
            n2.prototype.onCollectionsStateMapUpdate.call(this, t3);
            var o3 = this.getDataSourceItems(), r2 = this.resolveCollectionConfig(o3).startIndex;
            this.components().forEach((function(t4, n3) {
              var i2 = e3.getCollectionsStateMapForItem(o3, r2 + n3);
              t4.onCollectionsStateMapUpdate(i2);
            }));
          }, o2.prototype.stopSyncComponentCollectionState = function() {
            this.stopListening(this.components(), "add remove reset", this.syncOnComponentChange), this.onCollectionsStateMapUpdate({});
          }, o2.prototype.syncOnComponentChange = function(t3, e3, o3) {
            var r2 = this.collectionsStateMap;
            this.collectionsStateMap = {}, n2.prototype.syncOnComponentChange.call(this, t3, e3, o3), this.collectionsStateMap = r2, this.onCollectionsStateMapUpdate(r2);
          }, Object.defineProperty(o2.prototype, "collectionId", { get: function() {
            return this.getDataResolver().collectionId;
          }, enumerable: false, configurable: true }), o2.isComponent = function(t3) {
            return (0, e2.toLowerCase)(t3.tagName) === bt;
          }, o2.prototype.toJSON = function(t3) {
            var e3, o3 = n2.prototype.toJSON.call(this, t3);
            delete o3.droppable, delete o3[Pn], null === (e3 = o3.attributes) || void 0 === e3 || delete e3.id;
            var r2 = this.firstChild;
            return ha(ha({}, o3), { components: [r2] });
          }, o2.prototype.destroy = function(t3) {
            return this.removePropsListeners(), n2.prototype.destroy.call(this, t3);
          }, o2;
        })(Mn);
        const ya = ga;
        function ma(t3, e3) {
          t3.setSymbolOverride(["locked", "layerable", Te]), t3.syncComponentsCollectionState(), t3.onCollectionsStateMapUpdate(e3);
        }
        function ba(t3, e3, n2) {
          return !!t3 || (n2.logError('The "'.concat(e3, '" property is required in the collection definition.')), false);
        }
        function _a(t3, e3) {
          var n2 = e3.DataSources.getValue(t3, []);
          return Object.keys(n2).map((function(e4) {
            return { type: ge, path: t3 + "." + e4 };
          }));
        }
        var wa = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const xa = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return wa(e3, t3), e3;
        })(Zr);
        var Ca = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Sa = function() {
          return Sa = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Sa.apply(this, arguments);
        }, Oa = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Ca(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return Sa(Sa({}, t3.prototype.defaults), { droppable: false, type: Vt, dataResolver: { condition: { left: "", operator: jt.equalsIgnoreCase, right: "" } }, components: [{ type: zt }, { type: Bt }] });
          }, enumerable: false, configurable: true }), n2.prototype.isTrue = function() {
            return this.dataResolver.isTrue();
          }, n2.prototype.getCondition = function() {
            return this.dataResolver.getCondition();
          }, n2.prototype.getIfTrueContent = function() {
            return this.components().at(0);
          }, n2.prototype.getIfFalseContent = function() {
            return this.components().at(1);
          }, n2.prototype.getOutputContent = function() {
            return this.isTrue() ? this.getIfTrueContent() : this.getIfFalseContent();
          }, n2.prototype.setCondition = function(t4) {
            this.dataResolver.setCondition(t4);
          }, n2.prototype.setIfTrueComponents = function(t4) {
            this.setComponentsAtIndex(0, t4);
          }, n2.prototype.setIfFalseComponents = function(t4) {
            this.setComponentsAtIndex(1, t4);
          }, n2.prototype.getInnerHTML = function(t4) {
            var e3, n3;
            return null !== (n3 = null === (e3 = this.getOutputContent()) || void 0 === e3 ? void 0 : e3.getInnerHTML(t4)) && void 0 !== n3 ? n3 : "";
          }, n2.prototype.createResolverInstance = function(t4, e3) {
            return new Ut(t4, e3);
          }, n2.prototype.setComponentsAtIndex = function(t4, e3) {
            var n3 = this.components().at(t4);
            null == n3 || n3.components(e3);
          }, n2.isComponent = function(t4) {
            return (0, e2.toLowerCase)(t4.tagName) === Vt;
          }, n2;
        })(Ki);
        const Ta = Oa;
        var Pa = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ea = function() {
          return Ea = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ea.apply(this, arguments);
        }, ka = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Pa(n2, t3), Object.defineProperty(n2.prototype, "defaults", { get: function() {
            return Ea(Ea({}, t3.prototype.defaults), { removable: false, draggable: false });
          }, enumerable: false, configurable: true }), n2.isComponent = function(t4) {
            return (function(t5) {
              return !!t5 && [_t, zt, Bt].includes(t5);
            })((0, e2.toLowerCase)(t4.tagName));
          }, n2;
        })(Mn);
        const Aa = ka;
        var ja, Ma = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Da = function() {
          return Da = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Da.apply(this, arguments);
        }, La = function(t3, e3) {
          var n2 = {};
          for (var o2 in t3) Object.prototype.hasOwnProperty.call(t3, o2) && e3.indexOf(o2) < 0 && (n2[o2] = t3[o2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o2 = Object.getOwnPropertySymbols(t3); r2 < o2.length; r2++) e3.indexOf(o2[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o2[r2]) && (n2[o2[r2]] = t3[o2[r2]]);
          }
          return n2;
        }, Ia = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        };
        !(function(t3) {
          t3[t3["InvalidSource"] = 0] = "InvalidSource", t3[t3["SourceReject"] = 1] = "SourceReject", t3[t3["TargetReject"] = 2] = "TargetReject";
        })(ja || (ja = {}));
        var Na = (function(n2) {
          function o2(t3) {
            var e3 = n2.call(this, t3, "DomComponents", new Ue(void 0, { em: t3 }), $.I, mo()) || this;
            e3.componentTypes = [{ id: _t, model: Aa, view: Zr }, { id: zt, model: Aa, view: Zr }, { id: Bt, model: Aa, view: Zr }, { id: bt, model: ya, view: xa }, { id: Vt, model: Ta, view: ea }, { id: ge, model: Xi, view: Qi }, { id: "cell", model: br, view: Ei }, { id: "row", model: jr, view: Li }, { id: "table", model: dr, view: Ni }, { id: "thead", model: Pr, view: Mi }, { id: "tbody", model: gr, view: Ti }, { id: "tfoot", model: Cr, view: Ai }, { id: "map", model: Xo, view: bi }, { id: "link", model: Go, view: vi }, { id: "label", model: zo, view: yi }, { id: "video", model: Ur, view: Fi }, { id: "image", model: Io, view: si }, { id: "script", model: er, view: wi }, { id: "svg-in", model: lr, view: Si }, { id: "svg", model: ir, view: Si }, { id: "iframe", model: Ao, view: ri }, { id: "comment", model: To, view: ni }, { id: "textnode", model: xo, view: ti }, { id: In, model: Vn, view: Zr }, { id: "wrapper", model: $r, view: Ui }, { id: "text", model: Vo, view: fi }, { id: "default", model: Mn, view: Zr }], e3.componentsById = {}, e3.Component = Mn, e3.Components = Ue, e3.ComponentView = Zr, e3.ComponentsView = Kr, e3.storageKey = "components", e3.keySymbols = "symbols", e3.events = $.I;
            var o3 = e3.config;
            e3.symbols = new $i([], { em: t3, config: o3, domc: e3 }), t3 && (e3.config.components = t3.config.components || e3.config.components);
            var r2 = e3.config.pStylePrefix;
            if (r2 && (e3.config.stylePrefix = r2 + e3.config.stylePrefix), t3) {
              t3.get("Parser").compTypes = e3.componentTypes, t3.on("change:componentHovered", e3.componentHovered, e3);
              var i2 = t3.get("selected");
              t3.listenTo(i2, "add", (function(t4, n3, o4) {
                return e3.selectAdd(i2.getComponent(t4), o4);
              })), t3.listenTo(i2, "remove", (function(t4, n3, o4) {
                return e3.selectRemove(i2.getComponent(t4), o4);
              }));
            }
            return e3;
          }
          return Ma(o2, n2), o2.prototype.postLoad = function() {
            var t3 = this.em, e3 = this.symbols;
            t3.UndoManager.add(e3);
          }, o2.prototype.load = function(e3) {
            var n3 = this, o3 = this.loadProjectData(e3, { onResult: function(e4) {
              var o4 = n3.getWrapper();
              if (o4 || (n3.em.Pages.add({}, { select: true }), o4 = n3.getWrapper()), (0, t2.isArray)(e4)) e4.length && o4.components(e4);
              else {
                var r2 = e4.components, i2 = void 0 === r2 ? [] : r2, a2 = La(e4, ["components"]);
                o4.set(a2), o4.components(i2);
              }
            } });
            return this.symbols.reset(e3[this.keySymbols] || []), o3;
          }, o2.prototype.store = function() {
            var t3;
            return (t3 = {})[this.keySymbols] = this.symbols, t3;
          }, o2.prototype.getComponent = function() {
            var t3 = this.em.Pages.getSelected(), e3 = null == t3 ? void 0 : t3.getMainFrame();
            return null == e3 ? void 0 : e3.getComponent();
          }, o2.prototype.getWrapper = function() {
            return this.getComponent();
          }, o2.prototype.getComponents = function() {
            var t3 = this.getWrapper();
            return null == t3 ? void 0 : t3.components();
          }, o2.prototype.addComponent = function(t3, e3) {
            return void 0 === e3 && (e3 = {}), this.getComponents().add(t3, e3);
          }, o2.prototype.render = function() {
            var t3;
            return null === (t3 = this.componentView) || void 0 === t3 ? void 0 : t3.render().el;
          }, o2.prototype.clear = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.getComponents();
            return null == e3 || e3.filter(Boolean).forEach((function(e4) {
              return e4.remove(t3);
            })), this;
          }, o2.prototype.setComponents = function(t3, e3) {
            void 0 === e3 && (e3 = {}), this.clear(e3).addComponent(t3, e3);
          }, o2.prototype.addType = function(e3, n3) {
            var o3 = this.em, r2 = n3.model, i2 = void 0 === r2 ? {} : r2, a2 = n3.view, s2 = void 0 === a2 ? {} : a2, l2 = n3.isComponent, c2 = n3.extend, u2 = n3.extendView, p2 = n3.extendFn, d2 = void 0 === p2 ? [] : p2, f2 = n3.extendFnView, h2 = void 0 === f2 ? [] : f2, v2 = n3.block, g2 = this.getType(e3), y2 = this.getType(c2), m2 = this.getType(u2), b2 = y2 || (g2 || this.getType("default")), _2 = b2.model, w2 = m2 ? m2.view : b2.view, x2 = function(t3, e4, n4) {
              return t3.reduce((function(t4, o4) {
                var r3 = e4[o4], i3 = n4.prototype[o4];
                return r3 && i3 && (t4[o4] = function() {
                  for (var t5 = [], e5 = 0; e5 < arguments.length; e5++) t5[e5] = arguments[e5];
                  i3.bind(this).apply(void 0, t5), r3.bind(this).apply(void 0, t5);
                }), t4;
              }), {});
            };
            if ("object" == typeof i2) {
              var C2 = { defaults: i2.defaults };
              delete i2.defaults;
              var S2 = new Set(_2.typeExtends);
              S2.add(_2.getDefaults().type), n3.model = _2.extend(Da(Da({}, i2), x2(d2, i2, _2)), { typeExtends: S2, isComponent: !g2 || y2 || l2 ? l2 || function() {
                return 0;
              } : _2.isComponent }), Object.defineProperty(n3.model.prototype, "defaults", { get: function() {
                return Da(Da({}, (0, t2.result)(_2.prototype, "defaults") || {}), (0, t2.result)(C2, "defaults") || {});
              } });
            }
            if ("object" == typeof s2 && (n3.view = w2.extend(Da(Da({}, s2), x2(h2, s2, w2)))), g2 ? (g2.model = n3.model, g2.view = n3.view) : (n3.id = e3, this.componentTypes.unshift(n3)), v2) {
              var O2 = { id: e3, label: e3, content: { type: e3 } }, T2 = true === v2 ? O2 : Da(Da({}, O2), v2);
              o3.Blocks.add(T2.id || e3, T2);
            }
            var P2 = "component:type:".concat(g2 ? "update" : "add");
            return null == o3 || o3.trigger(P2, g2 || n3), this;
          }, o2.prototype.getType = function(t3) {
            for (var e3 = this.componentTypes, n3 = 0; n3 < e3.length; n3++) {
              if (e3[n3].id == t3) return e3[n3];
            }
          }, o2.prototype.removeType = function(t3) {
            var e3 = this.componentTypes, n3 = this.getType(t3);
            if (n3) {
              var o3 = e3.indexOf(n3);
              return e3.splice(o3, 1), n3;
            }
          }, o2.prototype.getTypes = function() {
            return this.componentTypes;
          }, o2.prototype.selectAdd = function(t3, e3) {
            var n3 = this;
            void 0 === e3 && (e3 = {}), t3 && (t3.set({ status: "selected" }), ["component:selected", "component:toggled"].forEach((function(o3) {
              return n3.em.trigger(o3, t3, e3);
            })));
          }, o2.prototype.selectRemove = function(t3, e3) {
            var n3 = this;
            if (void 0 === e3 && (e3 = {}), t3) {
              this.em;
              t3.set({ status: "", state: "" }), ["component:deselected", "component:toggled"].forEach((function(o3) {
                return n3.em.trigger(o3, t3, e3);
              }));
            }
          }, o2.prototype.componentHovered = function() {
            var e3 = this.em, n3 = e3.get("componentHovered"), o3 = e3.previous("componentHovered"), r2 = "hovered";
            o3 && o3.get("status") == r2 && o3.set({ status: "", state: "" }), n3 && (0, t2.isEmpty)(n3.get("status")) && n3.set("status", r2);
          }, o2.prototype.getShallowWrapper = function() {
            var e3 = this.shallow, n3 = this.em;
            if (!e3 && n3) {
              var o3 = n3.shallow;
              if (!o3) return;
              var r2 = o3.Components;
              if (r2.componentTypes = this.componentTypes, e3 = r2.getWrapper()) {
                var i2 = [kn, An].join(" ");
                e3.on(i2, (0, t2.debounce)((function() {
                  return null == e3 ? void 0 : e3.components("");
                }), 100));
              }
              this.shallow = e3;
            }
            return e3;
          }, o2.prototype.isComponent = function(t3) {
            return (0, e2.isComponent)(t3);
          }, o2.prototype.addSymbol = function(e3) {
            if (!(0, t2.isSymbol)(e3) || Yt(e3)) {
              var n3 = e3.clone({ symbol: true });
              return qt(n3) && this.symbols.add(n3), this.em.trigger("component:toggled"), n3;
            }
          }, o2.prototype.getSymbols = function() {
            return Ia([], this.symbols.models, true);
          }, o2.prototype.detachSymbol = function(t3) {
            Gt(t3) && ne(t3);
          }, o2.prototype.getSymbolInfo = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = qt(t3), o3 = Xt(t3), r2 = !!o3, i2 = Zt(n3 ? t3 : o3) || [], a2 = o3 || (n3 ? t3 : void 0), s2 = te(t3, { changed: e3.withChanges }), l2 = n3 || r2;
            return { isSymbol: l2, isMain: n3, isInstance: r2, isRoot: l2 && Yt(t3), main: a2, instances: i2, relatives: s2 || [] };
          }, o2.prototype.canMove = function(n3, o3, r2) {
            var i2 = { result: false, reason: ja.InvalidSource, target: n3, source: null };
            if (!o3 || !n3) return i2;
            if (Kt(n3) && o3 instanceof Mn && Kt(o3)) {
              var a2 = ee(n3), s2 = qt(a2) ? a2 : Xt(a2), l2 = ee(o3);
              if (s2 === (qt(l2) ? l2 : Xt(l2)) && a2 !== l2) return Da(Da({}, i2), { reason: ja.TargetReject });
            }
            var c2 = (0, e2.isComponent)(o3) ? o3 : null;
            if (!c2) {
              var u2 = this.getShallowWrapper();
              c2 = (null == u2 ? void 0 : u2.append(o3, { temporary: true })[0]) || null;
            }
            if (i2.source = c2, !c2) return i2;
            var p2 = c2.get("draggable");
            if ((0, t2.isFunction)(p2)) p2 = !!p2(c2, n3, r2);
            else {
              var d2 = n3.getEl();
              p2 = (0, t2.isArray)(p2) ? p2.join(",") : p2, p2 = (0, t2.isString)(p2) ? null == d2 ? void 0 : d2.matches(p2) : p2;
            }
            if (!p2) return Da(Da({}, i2), { reason: ja.SourceReject });
            var f2 = n3.get("droppable");
            if ((0, t2.isFunction)(f2)) f2 = !!f2(c2, n3, r2);
            else if (false === f2 && n3.isInstanceOf("text") && c2.get("textable")) f2 = true;
            else {
              d2 = c2.getEl();
              f2 = (0, t2.isArray)(f2) ? f2.join(",") : f2, f2 = (0, t2.isString)(f2) ? null == d2 ? void 0 : d2.matches(f2) : f2;
            }
            var h2 = [n3].concat(n3.parents()).indexOf(c2) > -1;
            return Da(Da({}, i2), !f2 || h2 ? { reason: ja.TargetReject } : { result: true });
          }, o2.prototype.allById = function() {
            return this.componentsById;
          }, o2.prototype.getById = function(t3) {
            return this.componentsById[t3] || null;
          }, o2.prototype.destroy = function() {
            var t3, e3 = this.allById();
            Object.keys(e3).forEach((function(t4) {
              return e3[t4] && e3[t4].remove();
            })), null === (t3 = this.componentView) || void 0 === t3 || t3.remove(), [this.em, this.componentsById, this.componentView].forEach((function(t4) {
              return {};
            }));
          }, o2;
        })(b);
        const Ra = Na;
        const Va = function() {
          return { stylePrefix: "css-", rules: [] };
        };
        var Fa = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ha = Number.MAX_VALUE, Ua = (function(n2) {
          function o2() {
            var e3 = n2.call(this) || this;
            return (0, t2.bindAll)(e3, "sortRules"), e3.compCls = [], e3.ids = [], e3;
          }
          return Fa(o2, n2), o2.prototype.buildFromModel = function(t3, e3) {
            var n3 = this;
            void 0 === e3 && (e3 = {});
            var o3 = "", r2 = this.em, i2 = r2 && r2.getConfig().avoidInlineStyle, a2 = t3.styleToString(), s2 = t3.classes;
            return this.ids.push("#".concat(t3.getId())), s2.forEach((function(t4) {
              return n3.compCls.push(t4.getFullName());
            })), !i2 && a2 && (o3 = "#".concat(t3.getId(), "{").concat(a2, "}")), t3.components().forEach((function(t4) {
              return o3 += n3.buildFromModel(t4, e3);
            })), o3;
          }, o2.prototype.build = function(n3, o3) {
            var r2 = this;
            void 0 === o3 && (o3 = {});
            var i2 = o3.json, a2 = o3.em, s2 = o3.cssc || (null == a2 ? void 0 : a2.Css);
            this.em = a2, this.compCls = [], this.ids = [], this.model = n3;
            var l2 = [], c2 = n3 ? this.buildFromModel(n3, o3) : "", u2 = (0, t2.isUndefined)(o3.clearStyles) && a2 ? a2.getConfig().clearStyles : o3.clearStyles;
            if (s2) {
              var p2 = o3.rules || s2.getAll(), d2 = {}, f2 = [];
              o3.onlyMatched && n3 && (0, e2.hasWin)() && (p2 = this.matchedRules(n3, p2)), p2.forEach((function(t3) {
                var e3 = t3.getAtRule();
                if (e3) {
                  var n4 = d2[e3];
                  n4 ? n4.push(t3) : d2[e3] = [t3];
                } else {
                  var a3 = r2.buildFromRule(t3, f2, o3);
                  i2 ? l2.push(a3) : c2 += a3;
                }
              })), this.sortMediaObject(d2).forEach((function(t3) {
                var e3 = "", n4 = t3.key;
                t3.value.forEach((function(t4) {
                  var a3 = r2.buildFromRule(t4, f2, o3);
                  t4.get("singleAtRule") ? c2 += "".concat(n4, "{").concat(a3, "}") : e3 += a3, i2 && l2.push(a3);
                })), e3 && (c2 += "".concat(n4, "{").concat(e3, "}"));
              })), a2 && u2 && p2.remove && p2.remove(f2);
            }
            return i2 ? l2.filter((function(t3) {
              return t3;
            })) : c2;
          }, o2.prototype.buildFromRule = function(t3, e3, n3) {
            var o3, r2 = this;
            void 0 === n3 && (n3 = {});
            var i2, a2 = "", s2 = this.model, l2 = t3.selectorsToString({ skipAdd: 1 }), c2 = t3.get("selectorsAdd"), u2 = t3.get("singleAtRule");
            if (null === (o3 = t3.get("selectors")) || void 0 === o3 || o3.forEach((function(t4) {
              var e4 = t4.getFullName();
              (r2.compCls.indexOf(e4) >= 0 || r2.ids.indexOf(e4) >= 0 || n3.keepUnusedStyles) && (i2 = 1);
            })), l2 && i2 || c2 || u2 || !s2) {
              var p2 = t3.getDeclaration();
              p2 && (n3.json ? a2 = t3 : a2 += p2);
            } else e3.push(t3);
            return a2;
          }, o2.prototype.matchedRules = function(t3, e3) {
            var n3 = this, o3 = t3.getEl(), r2 = [];
            return e3.forEach((function(t4) {
              try {
                t4.selectorsToString().split(",").some((function(t5) {
                  return null == o3 ? void 0 : o3.matches(n3.__cleanSelector(t5));
                })) && r2.push(t4);
              } catch (t5) {
              }
            })), t3.components().forEach((function(t4) {
              r2 = r2.concat(n3.matchedRules(t4, e3));
            })), r2 = r2.filter((function(t4, e4) {
              return r2.indexOf(t4) === e4;
            }));
          }, o2.prototype.getQueryLength = function(t3) {
            var e3 = /(-?\d*\.?\d+)\w{0,}/.exec(t3);
            return e3 ? parseFloat(e3[1]) : Ha;
          }, o2.prototype.sortMediaObject = function(e3) {
            var n3 = this;
            void 0 === e3 && (e3 = {});
            var o3 = [];
            return (0, t2.each)(e3, (function(t3, e4) {
              return o3.push({ key: e4, value: t3 });
            })), o3.sort((function(t3, e4) {
              var o4 = [t3.key, e4.key].every((function(t4) {
                return -1 !== t4.indexOf("min-width");
              })), r2 = o4 ? t3.key : e4.key, i2 = o4 ? e4.key : t3.key;
              return n3.getQueryLength(r2) - n3.getQueryLength(i2);
            }));
          }, o2.prototype.sortRules = function(t3, e3) {
            var n3 = function(t4) {
              return t4.get("mediaText") || "";
            }, o3 = [n3(t3), n3(e3)].every((function(t4) {
              return -1 !== t4.indexOf("min-width");
            })), r2 = n3(o3 ? t3 : e3), i2 = n3(o3 ? e3 : t3);
            return this.getQueryLength(r2) - this.getQueryLength(i2);
          }, o2.prototype.__cleanSelector = function(t3) {
            return t3.split(" ").map((function(t4) {
              return t4.split(":")[0];
            })).join(" ");
          }, o2;
        })(u.Kx);
        const za = Ua;
        var Ba = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Wa = function() {
          return Wa = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Wa.apply(this, arguments);
        }, $a = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, qa = ((0, e2.hasWin)() ? window : {}).CSS, Ga = (function(n2) {
          function o2(t3, e3) {
            void 0 === e3 && (e3 = {});
            var o3 = n2.call(this, t3, { em: e3.em }) || this;
            return o3.views = [], o3.config = t3 || {}, o3.opt = e3, o3.em = e3.em, o3.ensureSelectors(null, null, {}), o3.on("change", o3.__onChange), o3.setStyle(o3.get("style"), { skipWatcherUpdates: true }), o3;
          }
          return Ba(o2, n2), o2.prototype.defaults = function() {
            return { selectors: [], selectorsAdd: "", style: {}, mediaText: "", state: "", stylable: true, atRuleType: "", singleAtRule: false, important: false, group: "", shallow: false, _undo: true };
          }, o2.prototype.__onChange = function(t3, n3) {
            var o3 = this.em, r2 = this.changedAttributes();
            r2 && !(0, e2.isEmptyObj)(r2) && (null == o3 || o3.changesUp(n3));
          }, o2.prototype.clone = function() {
            var t3 = this.get("selectors").map((function(t4) {
              return t4.clone();
            }));
            return n2.prototype.clone.call(this, { selectors: t3 });
          }, o2.prototype.ensureSelectors = function(e3, n3, o3) {
            var r2 = this.em, i2 = null == r2 ? void 0 : r2.Selectors, a2 = [this, "change:selectors", this.ensureSelectors], s2 = this.getSelectors();
            if (this.stopListening.apply(this, a2), s2.models && (s2 = $a([], s2.models, true)), s2 = (0, t2.isString)(s2) ? [s2] : s2, Array.isArray(s2)) {
              var l2 = s2.filter((function(t3) {
                return t3;
              })).map((function(t3) {
                return i2 ? i2.add(t3) : t3;
              }));
              s2 = new Je(l2);
            }
            this.set("selectors", s2, o3), this.listenTo.apply(this, a2);
          }, o2.prototype.getAtRule = function() {
            var t3 = this.get("atRuleType"), e3 = this.get("mediaText"), n3 = t3 ? "@".concat(t3) : e3 ? "@media" : "";
            return n3 + (e3 && n3 ? " ".concat(e3) : "");
          }, o2.prototype.selectorsToString = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = [], n3 = this.get("state"), o3 = this.get("selectorsAdd"), r2 = { escape: function(t4) {
              return qa && qa.escape ? qa.escape(t4) : t4;
            } }, i2 = this.getSelectors().getFullString(0, r2), a2 = n3 && !t3.skipState ? ":".concat(n3) : "";
            return i2 && e3.push("".concat(i2).concat(a2)), o3 && !t3.skipAdd && e3.push(o3), e3.join(", ");
          }, o2.prototype.getDeclaration = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = "", n3 = this.attributes.important, o3 = this.selectorsToString(t3), r2 = this.styleToString(Wa({ important: n3 }, t3)), i2 = this.get("singleAtRule");
            return (o3 || i2) && (r2 || t3.allowEmpty) && (e3 = i2 ? r2 : "".concat(o3, "{").concat(r2, "}")), e3;
          }, o2.prototype.getDevice = function() {
            var t3 = this.em, e3 = this.attributes, n3 = e3.atRuleType, o3 = e3.mediaText, r2 = (null == t3 ? void 0 : t3.Devices.getDevices()) || [], i2 = r2.filter((function(t4) {
              return "" === t4.getWidthMedia();
            }))[0];
            return "media" === n3 && o3 ? r2.filter((function(t4) {
              return t4.getWidthMedia() === ((e4 = /(-?\d*\.?\d+)\w{0,}/.exec(o3)) ? e4[0] : "");
              var e4;
            }))[0] || null : i2 || null;
          }, o2.prototype.getState = function() {
            var t3 = this.em, e3 = this.get("state");
            return ((null == t3 ? void 0 : t3.Selectors.getStates()) || []).filter((function(t4) {
              return t4.getName() === e3;
            }))[0] || null;
          }, o2.prototype.getComponent = function() {
            var t3, e3 = this.getSelectors(), n3 = 1 == e3.length && e3.at(0), o3 = n3 && n3.isId() && n3.get("name");
            return o3 && (null === (t3 = this.em) || void 0 === t3 ? void 0 : t3.Components.getById(o3)) || null;
          }, o2.prototype.toCSS = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = "", n3 = this.getAtRule(), o3 = this.getDeclaration(t3);
            return (o3 || t3.allowEmpty) && (e3 = o3), n3 && e3 && (e3 = "".concat(n3, "{").concat(e3, "}")), e3;
          }, o2.prototype.toJSON = function(e3) {
            var o3, r2 = n2.prototype.toJSON.call(this, e3);
            if (null === (o3 = this.em) || void 0 === o3 ? void 0 : o3.getConfig().avoidDefaults) {
              var i2 = this.defaults();
              (0, t2.forEach)(i2, (function(t3, e4) {
                r2[e4] === t3 && delete r2[e4];
              })), delete r2.style.__p, (0, t2.isEmpty)(r2.selectors) && delete r2.selectors, (0, t2.isEmpty)(r2.style) && delete r2.style;
            }
            return r2;
          }, o2.prototype.compare = function(e3, n3, o3, r2) {
            var i2;
            void 0 === r2 && (r2 = {});
            var a2 = n3 || "", s2 = o3 || "", l2 = r2.selectorsAdd || "", c2 = r2.atRuleType || "";
            s2 && !c2 && (c2 = "media");
            var u2 = ((0, t2.isArray)(e3) || e3.models ? e3.models || e3 : [e3]).map((function(t3) {
              return t3.getFullName();
            })), p2 = null === (i2 = this.get("selectors")) || void 0 === i2 ? void 0 : i2.map((function(t3) {
              return t3.getFullName();
            })), d2 = u2.slice().sort(), f2 = p2.slice().sort();
            return !(u2.length !== p2.length || !d2.every((function(t3, e4) {
              return t3 === f2[e4];
            }))) && (this.get("state") === a2 && this.get("mediaText") === s2 && this.get("selectorsAdd") === l2 && this.get("atRuleType") === c2);
          }, o2;
        })(De);
        const Ka = Ga;
        var Ya = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ja = (function(t3) {
          function e3(e4, n2) {
            var o2 = t3.call(this, e4) || this;
            return o2.editor = null == n2 ? void 0 : n2.em, setTimeout((function() {
              o2.on("remove", o2.onRemove), o2.on("add", o2.onAdd);
            })), o2;
          }
          return Ya(e3, t3), e3.prototype.toJSON = function(t4) {
            return u.pM.prototype.toJSON.call(this, t4).filter((function(t5) {
              return t5.style && !t5.shallow;
            }));
          }, e3.prototype.onAdd = function(t4, e4, n2) {
            t4.ensureSelectors(t4, e4, n2);
          }, e3.prototype.onRemove = function(t4) {
            var e4 = this.editor;
            e4.stopListening(t4), e4.UndoManager.remove(t4);
          }, e3.prototype.add = function(t4, e4) {
            return void 0 === e4 && (e4 = {}), "string" == typeof t4 && (t4 = this.editor.get("Parser").parseCss(t4)), e4.em = this.editor, u.pM.prototype.add.apply(this, [t4, e4]);
          }, e3;
        })(u.pM);
        const Xa = Ja;
        Ja.prototype.model = Ka;
        var Za = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Qa = function() {
          return Qa = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Qa.apply(this, arguments);
        }, ts = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, es = (function(n2) {
          function o2(t3) {
            var e3 = n2.call(this, t3, "CssComposer", null, et, Va()) || this;
            e3.classes = { CssRule: Ka, CssRules: Xa, CssRuleView: rt, CssRulesView: ut }, e3.events = et, e3.Selectors = Je, e3.storageKey = "styles";
            var o3 = e3.config, r2 = o3.pStylePrefix;
            return r2 && (o3.stylePrefix = r2 + o3.stylePrefix), o3.rules = e3.em.config.style || o3.rules || "", e3.rules = new Xa([], o3), e3;
          }
          return Za(o2, n2), o2.prototype.onLoad = function() {
            this.rules.add(this.config.rules, { silent: true });
          }, o2.prototype.postLoad = function() {
            this.em.UndoManager.add(this.getAll());
          }, o2.prototype.store = function() {
            return this.getProjectData();
          }, o2.prototype.load = function(t3) {
            return this.loadProjectData(t3, { all: this.rules });
          }, o2.prototype.add = function(t3, e3, n3, o3, r2) {
            void 0 === o3 && (o3 = {}), void 0 === r2 && (r2 = {});
            var i2 = e3 || "", a2 = n3 || "", s2 = Qa({}, o3), l2 = this.get(t3, i2, a2, s2);
            return l2 && l2.config && !l2.config.singleAtRule || (s2.state = i2, s2.mediaText = a2, s2.selectors = [], a2 && !s2.atRuleType && (s2.atRuleType = "media"), (l2 = new Ka(s2, this.config)).get("selectors").add(t3, r2), this.rules.add(l2, r2)), l2;
          }, o2.prototype.get = function(e3, n3, o3, r2) {
            var i2 = e3;
            if ((0, t2.isString)(e3)) {
              var a2 = this.em.Selectors, s2 = e3.split(",")[0].trim(), l2 = this.em.Parser.parserCss.checkNode({ selectors: s2 })[0];
              i2 = a2.get(l2.selectors);
            }
            return this.rules.find((function(t3) {
              return t3.compare(i2, n3, o3, r2);
            })) || null;
          }, o2.prototype.getAll = function() {
            return this.rules;
          }, o2.prototype.addCollection = function(n3, o3, r2) {
            void 0 === o3 && (o3 = {}), void 0 === r2 && (r2 = {});
            var i2 = this.em, a2 = [];
            (0, t2.isString)(n3) && (n3 = i2.Parser.parseCss(n3));
            for (var s2 = n3 instanceof Array ? n3 : [n3], l2 = 0, c2 = s2.length; l2 < c2; l2++) {
              var u2 = s2[l2] || {};
              if (u2.selectors) {
                var p2 = null == i2 ? void 0 : i2.Selectors;
                p2 || console.warn("Selector Manager not found");
                for (var d2 = u2.selectors, f2 = d2 instanceof Array ? d2 : [d2], h2 = [], v2 = 0, g2 = f2.length; v2 < g2; v2++) {
                  var y2 = p2.add(f2[v2]);
                  h2.push(y2);
                }
                var m2 = this.get(h2, u2.state, u2.mediaText, u2), b2 = this.add(h2, u2.state, u2.mediaText, u2, o3), _2 = !m2 || !o3.avoidUpdateStyle, w2 = u2.style || {};
                if ((0, e2.isObject)(r2) && b2.set(r2, o3), _2) {
                  var x2 = o3.extend ? Qa(Qa({}, b2.getStyle("", { skipResolve: true })), w2) : w2;
                  b2.setStyle(x2, o3);
                }
                a2.push(b2);
              }
            }
            return a2;
          }, o2.prototype.addRules = function(t3) {
            return this.addCollection(t3);
          }, o2.prototype.setRule = function(t3, e3, n3) {
            void 0 === e3 && (e3 = {}), void 0 === n3 && (n3 = {});
            var o3 = n3.atRuleType, r2 = n3.atRuleParams, i2 = this.em.Parser.parserCss.checkNode({ selectors: t3, style: e3 })[0], a2 = i2.state, s2 = i2.selectorsAdd, l2 = this.em.Selectors.add(i2.selectors), c2 = this.add(l2, a2, r2, { selectorsAdd: s2, atRule: o3 });
            return n3.addStyles ? c2.addStyle(e3, n3) : c2.setStyle(e3, n3), c2;
          }, o2.prototype.getRule = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.em, o3 = n3.Selectors, r2 = n3.Parser.parserCss.checkNode({ selectors: t3 })[0], i2 = o3.get(r2.selectors), a2 = r2.state, s2 = r2.selectorsAdd, l2 = e3.atRuleType, c2 = e3.atRuleParams;
            return i2 ? this.get(i2, a2, c2, { selectorsAdd: s2, atRuleType: l2 }) : void 0;
          }, o2.prototype.getRules = function(e3) {
            var n3 = this.getAll();
            if (!e3) return ts([], n3.models, true);
            var o3 = { sort: true }, r2 = (0, t2.isString)(e3) ? e3.split(",").map((function(t3) {
              return t3.trim();
            })) : e3;
            return n3.filter((function(t3) {
              return r2.indexOf(t3.getSelectors().getFullString(null, o3)) >= 0;
            }));
          }, o2.prototype.setIdRule = function(e3, n3, o3) {
            void 0 === n3 && (n3 = {}), void 0 === o3 && (o3 = {});
            var r2 = o3.addOpts, i2 = void 0 === r2 ? {} : r2, a2 = o3.mediaText, s2 = o3.state || "", l2 = (0, t2.isUndefined)(a2) ? this.em.getCurrentMedia() : a2, c2 = this.em.Selectors.add({ name: e3, type: qe.TYPE_ID }, i2), u2 = this.add(c2, s2, l2, {}, i2);
            return u2.setStyle(n3, Qa(Qa({}, o3), i2)), u2;
          }, o2.prototype.getIdRule = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = n3.mediaText, r2 = n3.state || "", i2 = (0, t2.isUndefined)(o3) ? this.em.getCurrentMedia() : o3, a2 = this.em.Selectors.get(e3, qe.TYPE_ID);
            return a2 && this.get(a2, r2, i2);
          }, o2.prototype.setClassRule = function(t3, e3, n3) {
            void 0 === e3 && (e3 = {}), void 0 === n3 && (n3 = {});
            var o3 = n3.state || "", r2 = n3.mediaText || this.em.getCurrentMedia(), i2 = this.em.Selectors.add({ name: t3, type: qe.TYPE_CLASS }), a2 = this.add(i2, o3, r2);
            return a2.setStyle(e3, n3), a2;
          }, o2.prototype.getClassRule = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = e3.state || "", o3 = e3.mediaText || this.em.getCurrentMedia(), r2 = this.em.Selectors.get(t3, qe.TYPE_CLASS);
            return r2 && this.get(r2, n3, o3);
          }, o2.prototype.remove = function(e3, n3) {
            var o3 = (0, t2.isString)(e3) ? this.getRules(e3) : e3, r2 = this.getAll().remove(o3, n3);
            return (0, t2.isArray)(r2) ? r2 : [r2];
          }, o2.prototype.clear = function(t3) {
            return void 0 === t3 && (t3 = {}), this.getAll().reset([], t3), this;
          }, o2.prototype.getComponentRules = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = n3.state, r2 = n3.mediaText;
            n3.current && (o3 = this.em.get("state") || "", r2 = this.em.getCurrentMedia());
            var i2 = e3.getId();
            return this.getAll().filter((function(e4) {
              return !(!(0, t2.isUndefined)(o3) && e4.get("state") !== o3) && (!(!(0, t2.isUndefined)(r2) && e4.get("mediaText") !== r2) && e4.getSelectorsString() === "#".concat(i2));
            }));
          }, o2.prototype.render = function() {
            var t3;
            return null === (t3 = this.rulesView) || void 0 === t3 || t3.remove(), this.rulesView = new ut({ collection: this.rules, config: this.config }), this.rulesView.render().el;
          }, o2.prototype.checkId = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = n3.idMap, r2 = void 0 === o3 ? {} : o3, i2 = [];
            return Object.keys(r2).length ? ((Array.isArray(e3) ? e3 : [e3]).forEach((function(e4) {
              var n4 = e4.selectors;
              if (n4 && 1 == n4.length) {
                var o4 = n4[0];
                if ((0, t2.isString)(o4)) {
                  if ("#" === o4[0]) {
                    var a2 = o4.substring(1), s2 = r2[a2];
                    a2 && s2 && (n4[0] = "#".concat(s2), i2.push(e4));
                  }
                } else if (o4.name && o4.type === qe.TYPE_ID) {
                  (s2 = r2[o4.name]) && (o4.name = s2, i2.push(e4));
                }
              }
            })), i2) : i2;
          }, o2.prototype.destroy = function() {
            var t3;
            this.rules.reset(), this.rules.stopListening(), null === (t3 = this.rulesView) || void 0 === t3 || t3.remove();
          }, o2;
        })(b);
        const ns = es;
        const os = function() {
          return { appendTo: "", blocks: [], appendOnClick: false, custom: false };
        };
        var rs = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const is = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return rs(n2, e3), n2.prototype.defaults = function() {
            return { label: "", content: "", media: "", category: "", activate: false, select: void 0, resetId: false, disable: false, onClick: void 0, attributes: {}, dragDef: {} };
          }, Object.defineProperty(n2.prototype, "category", { get: function() {
            var t3 = this.get("category");
            return t3 instanceof Qe ? t3 : void 0;
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "parent", { get: function() {
            return this.collection;
          }, enumerable: false, configurable: true }), n2.prototype.getId = function() {
            return this.id;
          }, n2.prototype.getLabel = function() {
            return this.get("label");
          }, n2.prototype.getMedia = function() {
            return this.get("media");
          }, n2.prototype.getContent = function() {
            return this.get("content");
          }, n2.prototype.getDragDef = function() {
            return this.get("dragDef");
          }, n2.prototype.getCategoryLabel = function() {
            var e4 = this.get("category");
            return (0, t2.isFunction)(null == e4 ? void 0 : e4.get) ? e4.get("label") : (null == e4 ? void 0 : e4.label) ? null == e4 ? void 0 : e4.label : e4;
          }, n2;
        })(u.Kx);
        var as = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ss = (function(t3) {
          function e3(e4, n2) {
            var o2 = t3.call(this, e4) || this;
            return o2.em = n2.em, o2.on("add", o2.handleAdd), o2;
          }
          return as(e3, t3), e3.prototype.getCategories = function() {
            return this.em.Blocks.getCategories();
          }, e3.prototype.handleAdd = function(t4) {
            this.initCategory(t4);
          }, e3;
        })(on);
        const ls = ss;
        var cs;
        ss.prototype.model = is, (function(t3) {
          t3["add"] = "block:add", t3["remove"] = "block:remove", t3["removeBefore"] = "block:remove:before", t3["update"] = "block:update", t3["dragStart"] = "block:drag:start", t3["drag"] = "block:drag", t3["dragEnd"] = "block:drag:stop", t3["categoryUpdate"] = "block:category:update", t3["custom"] = "block:custom", t3["all"] = "block";
        })(cs || (cs = {}));
        var us = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ps = function() {
          return ps = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ps.apply(this, arguments);
        }, ds = (function(n2) {
          function o2(t3, e3) {
            void 0 === e3 && (e3 = {});
            var o3 = n2.call(this, t3) || this, r2 = o3.model;
            return o3.em = e3.em, o3.config = e3, o3.endDrag = o3.endDrag.bind(o3), o3.ppfx = e3.pStylePrefix || "", o3.listenTo(r2, "destroy remove", o3.remove), o3.listenTo(r2, "change", o3.render), o3;
          }
          return us(o2, n2), o2.prototype.events = function() {
            return { click: "handleClick", mousedown: "startDrag", dragstart: "handleDragStart", drag: "handleDrag", dragend: "handleDragEnd" };
          }, o2.prototype.__getModule = function() {
            return this.em.Blocks;
          }, o2.prototype.handleClick = function(e3) {
            var n3, o3, r2 = this, i2 = r2.config, a2 = r2.model, s2 = r2.em, l2 = a2.get("onClick") || i2.appendOnClick;
            if (s2.trigger("block:click", a2, e3), l2) {
              if ((0, t2.isFunction)(l2)) return l2(a2, null == s2 ? void 0 : s2.getEditor(), { event: e3 });
              var c2 = null === (n3 = i2.getSorter) || void 0 === n3 ? void 0 : n3.call(i2);
              if (c2) {
                var u2, p2, d2 = a2.get("content"), f2 = null === (o3 = this.getTempDropModel(d2).view) || void 0 === o3 ? void 0 : o3.el, h2 = f2 ? [{ element: f2, dragSource: { content: d2 } }] : [], v2 = s2.getSelected(), g2 = 0;
                if (v2) if (c2.validTarget(v2.getEl(), h2, g2)) u2 = v2;
                else {
                  var y2 = v2.parent();
                  y2 && c2.validTarget(y2.getEl(), h2, g2) && (u2 = y2, p2 = y2.components().indexOf(v2) + 1);
                }
                if (!u2) {
                  var m2 = s2.getWrapper();
                  c2.validTarget(m2.getEl(), h2, g2) && (u2 = m2);
                }
                var b2 = u2 && u2.append(d2, { at: p2 })[0];
                b2 && s2.setSelected(b2, { scroll: true });
              }
            }
          }, o2.prototype.startDrag = function(t3) {
            var e3, n3 = this, o3 = n3.config, r2 = n3.em, i2 = n3.model, a2 = i2.get("disable");
            if (0 === t3.button && o3.getSorter && !this.el.draggable && !a2) {
              r2.refreshCanvas();
              var s2 = o3.getSorter();
              s2.__currentBlock = i2;
              var l2 = this.model.get("content"), c2 = null === (e3 = this.getTempDropModel(l2).view) || void 0 === e3 ? void 0 : e3.el, u2 = c2 ? [{ element: c2, dragSource: { content: l2 } }] : [];
              s2.startSort(u2), (0, Z.on)(document, "mouseup", this.endDrag);
            }
          }, o2.prototype.handleDragStart = function(t3) {
            this.__getModule().__startDrag(this.model, t3);
          }, o2.prototype.handleDrag = function(t3) {
            this.__getModule().__drag(t3);
          }, o2.prototype.handleDragEnd = function() {
            this.__getModule().__endDrag();
          }, o2.prototype.endDrag = function() {
            var t3, e3;
            (0, Z.AU)(document, "mouseup", this.endDrag);
            var n3 = null === (e3 = (t3 = this.config).getSorter) || void 0 === e3 ? void 0 : e3.call(t3);
            n3 && n3.endDrag();
          }, o2.prototype.getTempDropModel = function(t3) {
            var e3, n3 = this.em.Components.getComponents(), o3 = { avoidChildren: 1, avoidStore: 1, avoidUpdateStyle: 1 }, r2 = n3.add(t3, ps(ps({}, o3), { temporary: true })), i2 = n3.remove(r2, ps(ps({}, o3), { temporary: true }));
            return null === (e3 = (i2 = i2 instanceof Array ? i2[0] : i2).view) || void 0 === e3 || e3.$el.data("model", i2), i2;
          }, o2.prototype.render = function() {
            var t3, n3 = this, o3 = n3.em, r2 = n3.el, i2 = n3.$el, a2 = n3.ppfx, s2 = n3.model, l2 = s2.get("disable"), c2 = s2.get("attributes") || {}, u2 = c2.class || "", p2 = "".concat(a2, "block"), d2 = o3 && o3.t("blockManager.labels.".concat(s2.id)) || s2.get("label"), f2 = s2.get("render"), h2 = s2.get("media"), v2 = l2 ? "".concat(p2, "--disable") : "".concat(a2, "four-color-h");
            i2.attr(c2), r2.className = "".concat(u2, " ").concat(p2, " ").concat(a2, "one-bg ").concat(v2).trim(), r2.innerHTML = "\n      ".concat(h2 ? '<div class="'.concat(p2, '__media">').concat(h2, "</div>") : "", '\n      <div class="').concat(p2, '-label">').concat(d2, "</div>\n    "), r2.title = c2.title || (null === (t3 = r2.textContent) || void 0 === t3 ? void 0 : t3.trim()), r2.setAttribute("draggable", "".concat(!(!(0, e2.hasDnd)(o3) || l2)));
            var g2 = f2 && f2({ el: r2, model: s2, className: p2, prefix: a2 });
            return g2 && (r2.innerHTML = g2), this;
          }, o2;
        })(u.Ss);
        const fs = ds;
        var hs = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), vs = function(t3, e3) {
          return Object.defineProperty ? Object.defineProperty(t3, "raw", { value: e3 }) : t3.raw = e3, t3;
        }, gs = (function(t3) {
          function e3(e4, n2, o2) {
            var r2 = t3.call(this, e4) || this;
            r2.config = n2;
            var i2 = n2.pStylePrefix || "";
            return r2.em = n2.em, r2.catName = o2, r2.pfx = i2, r2.caretR = "fa fa-caret-right", r2.caretD = "fa fa-caret-down", r2.iconClass = "".concat(i2, "caret-icon"), r2.activeClass = "".concat(i2, "open"), r2.className = "".concat(i2).concat(o2, "-category"), r2.listenTo(r2.model, "change:open", r2.updateVisibility), r2.model.view = r2, r2;
          }
          return hs(e3, t3), e3.prototype.events = function() {
            return { "click [data-title]": "toggle" };
          }, e3.prototype.template = function(t4) {
            var e4 = t4.pfx, n2 = t4.label, o2 = t4.catName;
            return r(ms || (ms = vs(['\n      <div class="', 'title" data-title>\n        <i class="', 'caret-icon"></i>\n        ', '\n      </div>\n      <div class="', "", 's-c"></div>\n    '], ['\n      <div class="', 'title" data-title>\n        <i class="', 'caret-icon"></i>\n        ', '\n      </div>\n      <div class="', "", 's-c"></div>\n    '])), e4, e4, n2, e4, o2);
          }, e3.prototype.attributes = function() {
            return this.model.get("attributes") || {};
          }, e3.prototype.updateVisibility = function() {
            this.model.get("open") ? this.open() : this.close();
          }, e3.prototype.open = function() {
            this.$el.addClass(this.activeClass), this.getIconEl().className = "".concat(this.iconClass, " ").concat(this.caretD), this.getTypeEl().style.display = "";
          }, e3.prototype.close = function() {
            this.$el.removeClass(this.activeClass), this.getIconEl().className = "".concat(this.iconClass, " ").concat(this.caretR), this.getTypeEl().style.display = "none";
          }, e3.prototype.toggle = function() {
            var t4 = this.model;
            t4.set("open", !t4.get("open"));
          }, e3.prototype.getIconEl = function() {
            return this.iconEl || (this.iconEl = this.el.querySelector(".".concat(this.iconClass))), this.iconEl;
          }, e3.prototype.getTypeEl = function() {
            return this.typeEl || (this.typeEl = this.el.querySelector(".".concat(this.pfx).concat(this.catName, "s-c"))), this.typeEl;
          }, e3.prototype.append = function(t4) {
            this.getTypeEl().appendChild(t4);
          }, e3.prototype.render = function() {
            var t4 = this, e4 = t4.em, n2 = t4.el, o2 = t4.$el, r2 = t4.model, i2 = t4.pfx, a2 = t4.catName, s2 = e4.t("".concat(a2, "Manager.categories.").concat(r2.id)) || r2.get("label");
            return n2.innerHTML = this.template({ pfx: i2, label: s2, catName: a2 }), o2.addClass(this.className), o2.css({ order: r2.get("order") }), this.updateVisibility(), this;
          }, e3;
        })(u.Ss);
        const ys = gs;
        var ms, bs = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), _s = function() {
          return _s = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, _s.apply(this, arguments);
        }, ws = (function(e3) {
          function n2(n3, o2) {
            var r2 = e3.call(this, n3) || this;
            r2.renderedCategories = /* @__PURE__ */ new Map(), (0, t2.bindAll)(r2, "getSorter", "onDrag", "onDrop", "onMove"), r2.config = o2 || {}, r2.categories = n3.categories || "";
            var i2 = r2.config.pStylePrefix || "";
            r2.ppfx = i2, r2.noCatClass = "".concat(i2, "blocks-no-cat"), r2.blockContClass = "".concat(i2, "blocks-c"), r2.catsClass = "".concat(i2, "block-categories");
            var a2 = r2.collection;
            return r2.listenTo(a2, "add", r2.addTo), r2.listenTo(a2, "reset", r2.render), r2.em = r2.config.em, r2.em && (r2.config.getSorter = r2.getSorter), r2;
          }
          return bs(n2, e3), n2.prototype.__getModule = function() {
            return this.em.Blocks;
          }, n2.prototype.updateConfig = function(t3) {
            void 0 === t3 && (t3 = {}), this.config = _s(_s({}, this.config), t3);
          }, n2.prototype.getSorter = function() {
            var t3 = this.em;
            if (t3) {
              if (!this.sorter) {
                var e4 = t3.Utils, n3 = t3.Canvas;
                this.sorter = new e4.ComponentSorter({ em: t3, treeClass: Wn, containerContext: { container: n3.getBody(), containerSel: "*", itemSel: "*", pfx: this.ppfx, placeholderElement: n3.getPlacerEl(), document: n3.getBody().ownerDocument }, dragBehavior: { dragDirection: $n.A.BothDirections, nested: true }, positionOptions: { windowMargin: 1, canvasRelative: true }, eventHandlers: { legacyOnStartSort: this.onDrag, legacyOnEndMove: this.onDrop, legacyOnMoveClb: this.onMove } });
              }
              return this.sorter;
            }
          }, n2.prototype.onDrag = function(t3) {
            this.em.stopDefault(), this.__getModule().__startDrag(this.sorter.__currentBlock, t3);
          }, n2.prototype.onMove = function(t3) {
            this.__getModule().__drag(t3);
          }, n2.prototype.onDrop = function(t3) {
            this.em.runDefault(), this.__getModule().__endDrag({ component: t3 }), delete this.sorter.__currentBlock;
          }, n2.prototype.addTo = function(t3) {
            this.add(t3);
          }, n2.prototype.add = function(t3, e4) {
            var n3 = this.config, o2 = this.renderedCategories, r2 = t3.get("attributes"), i2 = new fs({ model: t3, attributes: r2 }, n3).render().el, a2 = t3.parent.initCategory(t3);
            if (a2 && this.categories && !n3.ignoreCategories) {
              var s2 = a2.getId(), l2 = this.getCategoriesEl(), c2 = o2.get(s2);
              return !c2 && l2 && (c2 = new ys({ model: a2 }, n3, "block").render(), o2.set(s2, c2), l2.appendChild(c2.el)), void (null == c2 || c2.append(i2));
            }
            e4 ? e4.appendChild(i2) : this.append(i2);
          }, n2.prototype.getCategoriesEl = function() {
            return this.catsEl || (this.catsEl = this.el.querySelector(".".concat(this.catsClass))), this.catsEl;
          }, n2.prototype.getBlocksEl = function() {
            return this.blocksEl || (this.blocksEl = this.el.querySelector(".".concat(this.noCatClass, " .").concat(this.blockContClass))), this.blocksEl;
          }, n2.prototype.append = function(t3) {
            var e4 = this.getBlocksEl();
            e4 && e4.appendChild(t3);
          }, n2.prototype.render = function() {
            var t3 = this, e4 = this.ppfx, n3 = document.createDocumentFragment();
            delete this.catsEl, delete this.blocksEl, this.renderedCategories = /* @__PURE__ */ new Map(), this.el.innerHTML = '\n      <div class="'.concat(this.catsClass, '"></div>\n      <div class="').concat(this.noCatClass, '">\n        <div class="').concat(this.blockContClass, '"></div>\n      </div>\n    '), this.collection.each((function(e5) {
              return t3.add(e5, n3);
            })), this.append(n3);
            var o2 = "".concat(this.blockContClass, "s ").concat(e4, "one-bg ").concat(e4, "two-color");
            return this.$el.addClass(o2), this.rendered = true, this;
          }, n2;
        })(u.Ss);
        const xs = ws;
        var Cs = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ss = function() {
          return Ss = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ss.apply(this, arguments);
        }, Os = (function(e3) {
          function n2(n3) {
            var o2 = e3.call(this, n3, "BlockManager", new ls([], { em: n3 }), cs, os()) || this;
            return o2.events = cs, o2.Block = is, o2.Blocks = ls, o2.Category = Qe, o2.Categories = sn, o2.storageKey = "", o2.blocks = o2.all, o2.blocksVisible = new ls(o2.blocks.models, { em: n3 }), o2.categories = new sn([], { em: n3, events: { update: cs.categoryUpdate } }), o2.__onAllEvent = (0, t2.debounce)((function() {
              return o2.__trgCustom();
            }), 0), o2;
          }
          return Cs(n2, e3), n2.prototype.onInit = function() {
            var t3 = this, e4 = t3.config, n3 = t3.blocks, o2 = t3.blocksVisible;
            n3.on("add", (function(t4) {
              return o2.add(t4);
            })), n3.on("remove", (function(t4) {
              return o2.remove(t4);
            })), n3.on("reset", (function(t4) {
              return o2.reset(t4.models);
            })), n3.add(e4.blocks || []);
          }, n2.prototype.__trgCustom = function() {
            this.em.trigger(this.events.custom, this.__customData());
          }, n2.prototype.__customData = function() {
            var t3 = this, e4 = this.__getBehaviour();
            return { bm: this, blocks: this.getAll().models, container: e4.container, dragStart: function(e5, n3) {
              return t3.startDrag(e5, n3);
            }, drag: function(e5) {
              return t3.__drag(e5);
            }, dragStop: function(e5) {
              return t3.endDrag(e5);
            } };
          }, n2.prototype.__startDrag = function(t3, e4) {
            var n3 = this, o2 = n3.em, r2 = n3.events, i2 = n3.blocks, a2 = t3.getContent ? t3.getContent() : t3;
            this._dragBlock = t3, o2.set({ dragResult: null, dragSource: { content: a2, dragDef: t3.getDragDef() } }), [o2, i2].map((function(n4) {
              return n4.trigger(r2.dragStart, t3, e4);
            }));
          }, n2.prototype.__drag = function(t3) {
            var e4 = this, n3 = e4.em, o2 = e4.events, r2 = e4.blocks, i2 = this._dragBlock;
            [n3, r2].map((function(e5) {
              return e5.trigger(o2.drag, i2, t3);
            }));
          }, n2.prototype.__endDrag = function(e4) {
            void 0 === e4 && (e4 = {});
            var n3 = this, o2 = n3.em, r2 = n3.events, i2 = n3.blocks, a2 = this._dragBlock, s2 = e4.component || o2.get("dragResult");
            if (delete this._dragBlock, s2 && a2) {
              var l2 = "activeOnRender", c2 = s2.get && s2.get(l2), u2 = a2.get("activate") || c2, p2 = a2.get("select"), d2 = (0, t2.isArray)(s2) ? s2[0] : s2;
              p2 || u2 && false !== p2 ? o2.setSelected(d2, { activate: u2 }) : u2 && d2.trigger("active"), u2 && c2 && d2.unset(l2), a2.get("resetId") && d2.onAll((function(t3) {
                return t3.resetId();
              }));
            }
            o2.set({ dragResult: null, dragSource: void 0 }), a2 && [o2, i2].map((function(t3) {
              return t3.trigger(r2.dragEnd, s2, a2);
            }));
          }, n2.prototype.__getFrameViews = function() {
            return this.em.Canvas.getFrames().map((function(t3) {
              return t3.view;
            })).filter(Boolean);
          }, n2.prototype.__behaviour = function(t3) {
            return void 0 === t3 && (t3 = {}), this._bhv = Ss(Ss({}, this._bhv || {}), t3);
          }, n2.prototype.__getBehaviour = function() {
            return this._bhv || {};
          }, n2.prototype.startDrag = function(t3, e4) {
            this.__startDrag(t3, e4), this.__getFrameViews().forEach((function(t4) {
              var e5;
              return null === (e5 = t4.droppable) || void 0 === e5 ? void 0 : e5.startCustom();
            }));
          }, n2.prototype.endDrag = function(t3) {
            this.__getFrameViews().forEach((function(e4) {
              var n3;
              return null === (n3 = e4.droppable) || void 0 === n3 ? void 0 : n3.endCustom(t3);
            })), this.__endDrag();
          }, n2.prototype.postRender = function() {
            var t3 = this, e4 = t3.categories, n3 = t3.config, o2 = t3.em, r2 = this.blocksVisible;
            this.blocksView = new xs({ collection: r2, categories: e4 }, Ss(Ss({}, n3), { em: o2 })), this.__appendTo(r2.models), this.__trgCustom();
          }, n2.prototype.add = function(t3, e4, n3) {
            void 0 === n3 && (n3 = {});
            var o2 = e4 || {};
            return o2.id = t3, this.blocks.add(o2, n3);
          }, n2.prototype.get = function(t3) {
            return this.blocks.get(t3);
          }, n2.prototype.getAll = function() {
            return this.blocks;
          }, n2.prototype.getAllVisible = function() {
            return this.blocksVisible;
          }, n2.prototype.remove = function(t3, e4) {
            return void 0 === e4 && (e4 = {}), this.__remove(t3, e4);
          }, n2.prototype.getCategories = function() {
            return this.categories;
          }, n2.prototype.getContainer = function() {
            var t3;
            return null === (t3 = this.blocksView) || void 0 === t3 ? void 0 : t3.el;
          }, n2.prototype.getDragBlock = function() {
            return this._dragBlock;
          }, n2.prototype.getBlocksByCategory = function(t3) {
            return tn(t3 || this.getAll().models);
          }, n2.prototype.render = function(t3, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = this, o2 = n3.categories, r2 = n3.config, i2 = n3.em, a2 = t3 || this.getAll().models;
            if (e4.external) {
              var s2 = new ls(a2, { em: i2 });
              return new xs({ collection: s2, categories: o2 }, Ss(Ss({ em: i2 }, r2), e4)).render().el;
            }
            return this.blocksView && (this.blocksView.updateConfig(e4), this.blocksView.collection.reset(a2), this.blocksView.rendered || (this.blocksView.render(), this.blocksView.rendered = true)), this.getContainer();
          }, n2.prototype.destroy = function() {
            var t3, e4 = [this.blocks, this.blocksVisible, this.categories];
            e4.map((function(t4) {
              return t4.stopListening();
            })), e4.map((function(t4) {
              return t4.reset();
            })), null === (t3 = this.blocksView) || void 0 === t3 || t3.remove();
          }, n2;
        })(b);
        const Ts = Os;
        const Ps = function() {
          return { stylePrefix: "clm-", appendTo: "", selectors: [], states: [{ name: "hover" }, { name: "active" }, { name: "nth-of-type(2n)" }], iconAdd: '<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>', iconSync: '<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>', iconTagOn: '<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>', iconTagOff: '<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>', iconTagRemove: '<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>', componentFirst: false, custom: false };
        };
        var Es = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ks = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Es(e3, t3), e3.prototype.defaults = function() {
            return { name: "", label: "" };
          }, e3.prototype.getName = function() {
            return this.get("name");
          }, e3.prototype.getLabel = function() {
            return this.get("label") || this.getName();
          }, e3;
        })(u.Kx);
        const As = ks;
        ks.prototype.idAttribute = "name";
        var js = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ms = function(t3, e3) {
          return Object.defineProperty ? Object.defineProperty(t3, "raw", { value: e3 }) : t3.raw = e3, t3;
        }, Ds = "contentEditable", Ls = (function(t3) {
          function e3(e4) {
            void 0 === e4 && (e4 = {});
            var n2 = t3.call(this, e4) || this, o2 = e4.config || {};
            return n2.config = o2, n2.module = e4.module, n2.coll = e4.coll || null, n2.pfx = o2.stylePrefix || "", n2.ppfx = o2.pStylePrefix || "", n2.em = o2.em, n2.listenTo(n2.model, "change:active", n2.updateStatus), n2;
          }
          return js(e3, t3), e3.prototype.template = function() {
            var t4 = this, e4 = t4.pfx, n2 = t4.model, o2 = t4.config, i2 = n2.get("label") || "";
            return r(Ns || (Ns = Ms(['\n      <span id="', 'checkbox" class="', 'tag-status" data-tag-status></span>\n      <span id="', 'tag-label" data-tag-name>', '</span>\n      <span id="', 'close" class="', 'tag-close" data-tag-remove> $', " </span>\n    "], ['\n      <span id="', 'checkbox" class="', 'tag-status" data-tag-status></span>\n      <span id="', 'tag-label" data-tag-name>', '</span>\n      <span id="', 'close" class="', 'tag-close" data-tag-remove> $', " </span>\n    "])), e4, e4, e4, i2, e4, e4, o2.iconTagRemove);
          }, e3.prototype.events = function() {
            return { "click [data-tag-remove]": "removeTag", "click [data-tag-status]": "changeStatus", "dblclick [data-tag-name]": "startEditTag", "focusout [data-tag-name]": "endEditTag" };
          }, e3.prototype.getInputEl = function() {
            return this.inputEl || (this.inputEl = this.el.querySelector("[data-tag-name]")), this.inputEl;
          }, e3.prototype.startEditTag = function() {
            var t4 = this.em, e4 = this.getInputEl();
            e4[Ds] = "true", e4.focus(), null == t4 || t4.setEditing(true);
          }, e3.prototype.endEditTag = function() {
            var t4 = this.model, e4 = this.em, n2 = this.getInputEl(), o2 = n2.textContent || "", r2 = null == e4 ? void 0 : e4.Selectors;
            n2[Ds] = "false", null == e4 || e4.setEditing(false), r2 && r2.rename(t4, o2) !== t4 && (n2.innerText = t4.getLabel());
          }, e3.prototype.changeStatus = function() {
            var t4 = this.model;
            t4.set("active", !t4.getActive());
          }, e3.prototype.removeTag = function() {
            this.module.removeSelected(this.model);
          }, e3.prototype.updateStatus = function() {
            var t4 = this, e4 = t4.model, n2 = t4.$el, o2 = t4.config, r2 = o2.iconTagOn, i2 = o2.iconTagOff, a2 = n2.find("[data-tag-status]");
            e4.get("active") ? (a2.html(r2), n2.removeClass("opac50")) : (a2.html(i2), n2.addClass("opac50"));
          }, e3.prototype.render = function() {
            var t4 = this, e4 = t4.pfx, n2 = t4.ppfx, o2 = t4.$el, r2 = t4.model, i2 = "".concat(e4, "tag"), a2 = ["".concat(i2, " ").concat(n2, "three-bg")];
            return r2.get("protected") && a2.push("".concat(i2, "-protected")), o2.html(this.template()), o2.attr("class", a2.join(" ")), this.updateStatus(), this;
          }, e3;
        })(u.Ss);
        const Is = Ls;
        var Ns, Rs = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Vs = function(t3, e3) {
          return Object.defineProperty ? Object.defineProperty(t3, "raw", { value: e3 }) : t3.raw = e3, t3;
        }, Fs = (function(e3) {
          function n2(n3) {
            void 0 === n3 && (n3 = {});
            var o2 = e3.call(this, n3) || this;
            o2.config = n3.config || {}, o2.pfx = o2.config.stylePrefix || "", o2.ppfx = o2.config.pStylePrefix || "", o2.className = o2.pfx + "tags", o2.stateInputId = o2.pfx + "states", o2.stateInputC = o2.pfx + "input-c", o2.states = o2.config.states || [];
            var r2 = o2.config.em, i2 = o2.collection;
            o2.target = r2;
            var a2 = r2.Selectors;
            o2.module = a2, o2.em = r2, o2.componentChanged = (0, t2.debounce)(o2.componentChanged.bind(o2), 0), o2.checkSync = (0, t2.debounce)(o2.checkSync.bind(o2), 0);
            var s2 = $.I.update, l2 = "".concat(s2, ":classes"), c2 = "component:toggled ".concat(l2), u2 = "".concat(l2, " ").concat(s2, ":attributes:id change:state");
            return o2.listenTo(r2, c2, o2.componentChanged), o2.listenTo(r2, "styleManager:update", o2.componentChanged), o2.listenTo(r2, u2, o2.__handleStateChange), o2.listenTo(r2, "styleable:change change:device", o2.checkSync), o2.listenTo(i2, "add", o2.addNew), o2.listenTo(i2, "reset", o2.renderClasses), o2.listenTo(i2, "remove", o2.tagRemoved), o2.listenTo(a2.getAll(), a2.events.state, (0, t2.debounce)((function() {
              return o2.renderStates();
            }), 0)), o2.delegateEvents(), o2;
          }
          return Rs(n2, e3), n2.prototype.template = function(t3) {
            var e4 = t3.labelInfo, n3 = t3.labelHead, o2 = t3.iconSync, i2 = t3.iconAdd, a2 = t3.pfx, s2 = t3.ppfx;
            return r(Us || (Us = Vs([' <div id="', 'up" class="', 'header">\n        <div id="', 'label" class="', 'header-label">', '</div>\n        <div id="', 'status-c" class="', 'header-status">\n          <span id="', 'input-c" data-states-c>\n            <div class="', "field ", 'select">\n              <span id="', 'input-holder">\n                <select id="', 'states" data-states></select>\n              </span>\n              <div class="', 'sel-arrow">\n                <div class="', 'd-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="', 'tags-field" class="', 'field">\n        <div id="', 'tags-c" data-selectors></div>\n        <input id="', 'new" data-input />\n        <span id="', 'add-tag" class="', "tags-btn ", 'tags-btn__add" data-add> $', ' </span>\n        <span class="', "tags-btn ", 'tags-btn__sync" style="display: none" data-sync-style> $', ' </span>\n      </div>\n      <div class="', 'sels-info">\n        <div class="', 'label-sel">', ':</div>\n        <div class="', 'sels" data-selected></div>\n      </div>'], [' <div id="', 'up" class="', 'header">\n        <div id="', 'label" class="', 'header-label">', '</div>\n        <div id="', 'status-c" class="', 'header-status">\n          <span id="', 'input-c" data-states-c>\n            <div class="', "field ", 'select">\n              <span id="', 'input-holder">\n                <select id="', 'states" data-states></select>\n              </span>\n              <div class="', 'sel-arrow">\n                <div class="', 'd-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="', 'tags-field" class="', 'field">\n        <div id="', 'tags-c" data-selectors></div>\n        <input id="', 'new" data-input />\n        <span id="', 'add-tag" class="', "tags-btn ", 'tags-btn__add" data-add> $', ' </span>\n        <span class="', "tags-btn ", 'tags-btn__sync" style="display: none" data-sync-style> $', ' </span>\n      </div>\n      <div class="', 'sels-info">\n        <div class="', 'label-sel">', ':</div>\n        <div class="', 'sels" data-selected></div>\n      </div>'])), a2, a2, a2, a2, n3, a2, a2, a2, s2, s2, s2, a2, s2, s2, a2, s2, a2, a2, a2, a2, a2, i2, a2, a2, o2, a2, a2, e4, a2);
          }, n2.prototype.events = function() {
            return { "change [data-states]": "stateChanged", "click [data-add]": "startNewTag", "focusout [data-input]": "endNewTag", "keyup [data-input]": "onInputKeyUp", "click [data-sync-style]": "syncStyle" };
          }, n2.prototype.syncStyle = function() {
            var t3, e4 = this.em, n3 = this.getTarget(), o2 = e4.Css, r2 = this.getCommonSelectors({ opts: { noDisabled: 1 } }), i2 = e4.get("state"), a2 = e4.getCurrentMedia(), s2 = [], l2 = o2.get(r2, i2, a2) || o2.add(r2, i2, a2);
            this.getTargets().forEach((function(e5) {
              var n4 = o2.getIdRule(e5.getId(), { state: i2, mediaText: a2 });
              t3 = n4.getStyle(), n4.setStyle({}), s2.push(n4);
            })), t3 && l2.addStyle(t3), e4.trigger("component:toggled"), e4.trigger("component:sync-style", { component: n3, selectors: r2, mediaText: a2, rule: l2, ruleComponents: s2, state: i2 });
          }, n2.prototype.tagRemoved = function(t3) {
            this.updateStateVis();
          }, n2.prototype.addNew = function(t3) {
            this.addToClasses(t3);
          }, n2.prototype.startNewTag = function() {
            var t3, e4;
            null === (t3 = this.$addBtn) || void 0 === t3 || t3.css({ display: "none" }), null === (e4 = this.$input) || void 0 === e4 || e4.show().focus();
          }, n2.prototype.endNewTag = function() {
            var t3, e4;
            null === (t3 = this.$addBtn) || void 0 === t3 || t3.css({ display: "" }), null === (e4 = this.$input) || void 0 === e4 || e4.hide().val("");
          }, n2.prototype.onInputKeyUp = function(t3) {
            var e4;
            13 === t3.keyCode ? (t3.preventDefault(), this.addNewTag(null === (e4 = this.$input) || void 0 === e4 ? void 0 : e4.val())) : 27 === t3.keyCode && this.endNewTag();
          }, n2.prototype.checkStates = function() {
            var t3 = this.em.getState(), e4 = this.getStates();
            e4 && e4.val(t3);
          }, n2.prototype.componentChanged = function(t3) {
            var e4 = (void 0 === t3 ? {} : t3).targets;
            this.updateSelection(e4);
          }, n2.prototype.updateSelection = function(e4) {
            var n3 = e4 || this.getTargets(), o2 = [];
            return (n3 = (0, t2.isArray)(n3) ? n3 : [n3]) && n3.length && (o2 = this.getCommonSelectors({ targets: n3 }), this.checkSync({ validSelectors: o2 })), this.collection.reset(o2), this.updateStateVis(n3), this.module.__trgCustom(), o2;
          }, n2.prototype.getCommonSelectors = function(t3) {
            var e4 = void 0 === t3 ? {} : t3, n3 = e4.targets, o2 = e4.opts, r2 = void 0 === o2 ? {} : o2, i2 = n3 || this.getTargets();
            return this.module.__getCommonSelectors(i2, r2);
          }, n2.prototype._commonSelectors = function() {
            for (var t3, e4 = [], n3 = 0; n3 < arguments.length; n3++) e4[n3] = arguments[n3];
            return (t3 = this.module).__common.apply(t3, e4);
          }, n2.prototype.checkSync = function() {
            var e4, n3 = this, o2 = n3.$btnSyncEl, r2 = n3.config, i2 = n3.collection, a2 = this.getTarget();
            if (a2 && r2.componentFirst && i2.length) {
              var s2 = a2.getStyle();
              e4 = !(0, t2.isEmpty)(s2);
            }
            o2 && o2[e4 ? "show" : "hide"]();
          }, n2.prototype.getTarget = function() {
            return this.target.getSelected();
          }, n2.prototype.getTargets = function() {
            return this.target.getSelectedAll();
          }, n2.prototype.updateStateVis = function(t3) {
            var e4 = this.em, n3 = e4 && e4.getConfig().avoidInlineStyle, o2 = this.collection.length || n3 ? "" : "none";
            this.getStatesC().css("display", o2), this.updateSelector(t3);
          }, n2.prototype.__handleStateChange = function() {
            this.updateSelector(this.getTargets());
          }, n2.prototype.updateSelector = function(e4) {
            var n3 = this, o2 = this.el.querySelector("[data-selected]"), r2 = [], i2 = e4 || this.getTargets();
            (i2 = (0, t2.isArray)(i2) ? i2 : [i2]).forEach((function(t3) {
              return r2.push(n3.__getName(t3));
            })), o2 && (o2.innerHTML = r2.join(", ")), this.checkStates();
          }, n2.prototype.__getName = function(e4) {
            var n3, o2 = this, i2 = o2.pfx, a2 = o2.config, s2 = o2.em, l2 = a2.selectedName, c2 = a2.componentFirst;
            if ((0, t2.isString)(e4)) n3 = r(zs || (zs = Vs(['<span class="', 'sel-gen">', "</span>"], ['<span class="', 'sel-gen">', "</span>"])), i2, e4);
            else {
              var u2 = null == e4 ? void 0 : e4.getSelectors();
              if (!u2) return "";
              var p2 = u2.getStyleable(), d2 = s2.get("state"), f2 = e4.getId ? r(Bs || (Bs = Vs(['<span class="', 'sel-cmp">', '</span>\n            <span class="', 'sel-id">#', "</span>"], ['<span class="', 'sel-cmp">', '</span>\n            <span class="', 'sel-id">#', "</span>"])), i2, e4.getName(), i2, e4.getId()) : "";
              n3 = (n3 = this.collection.getFullString(p2)) ? r(Ws || (Ws = Vs(['<span class="', 'sel-rule">', "</span>"], ['<span class="', 'sel-rule">', "</span>"])), i2, n3) : e4.get("selectorsAdd") || f2, n3 = c2 && f2 ? f2 : n3, n3 += d2 ? r($s || ($s = Vs(['<span class="', 'sel-state">:', "</span>"], ['<span class="', 'sel-state">:', "</span>"])), i2, d2) : "", n3 = l2 ? l2({ result: n3, state: d2, target: e4 }) : n3;
            }
            return n3 && '<span class="'.concat(i2, 'sel">').concat(n3, "</span>");
          }, n2.prototype.stateChanged = function(t3) {
            var e4 = this.em, n3 = t3.target.value;
            e4.set("state", n3);
          }, n2.prototype.addNewTag = function(t3) {
            var e4 = t3.trim();
            e4 && (this.module.addSelected({ label: e4 }), this.endNewTag());
          }, n2.prototype.addToClasses = function(t3, e4) {
            var n3 = e4, o2 = this.getClasses(), r2 = new Is({ model: t3, config: this.config, coll: this.collection, module: this.module }).render().el;
            return n3 ? n3.appendChild(r2) : o2.append(r2), r2;
          }, n2.prototype.renderClasses = function() {
            var t3 = this, e4 = document.createDocumentFragment(), n3 = this.getClasses();
            n3.empty(), this.collection.each((function(n4) {
              return t3.addToClasses(n4, e4);
            })), n3.append(e4);
          }, n2.prototype.getClasses = function() {
            return this.$el.find("[data-selectors]");
          }, n2.prototype.getStates = function() {
            if (!this.$states) {
              var t3 = this.$el.find("[data-states]");
              this.$states = t3[0] && t3;
            }
            return this.$states;
          }, n2.prototype.getStatesC = function() {
            return this.$statesC || (this.$statesC = this.$el.find("#" + this.stateInputC)), this.$statesC;
          }, n2.prototype.renderStates = function() {
            var t3 = this.module, e4 = this.em, n3 = e4.t("selectorManager.emptyState"), o2 = t3.getStates().map((function(t4) {
              var n4 = e4.t("selectorManager.states.".concat(t4.id)) || t4.getLabel() || t4.id;
              return '<option value="'.concat(t4.id, '">').concat(n4, "</option>");
            })).join(""), r2 = this.getStates();
            r2 && r2.html('<option value="">'.concat(n3, "</option>").concat(o2)), this.checkStates();
          }, n2.prototype.render = function() {
            var t3 = this, e4 = t3.em, n3 = t3.pfx, o2 = t3.ppfx, r2 = t3.config, i2 = t3.$el, a2 = t3.el, s2 = r2.render, l2 = { iconSync: r2.iconSync, iconAdd: r2.iconAdd, labelHead: e4.t("selectorManager.label"), labelInfo: e4.t("selectorManager.selected"), ppfx: o2, pfx: n3, el: a2 };
            i2.html(this.template(l2));
            var c2 = s2 && s2(l2);
            return c2 && c2 !== a2 && i2.empty().append(c2), this.$input = i2.find("[data-input]"), this.$addBtn = i2.find("[data-add]"), this.$classes = i2.find("#" + n3 + "tags-c"), this.$btnSyncEl = i2.find("[data-sync-style]"), this.$input.hide(), this.renderStates(), this.renderClasses(), i2.attr("class", "".concat(this.className, " ").concat(o2, "one-bg ").concat(o2, "two-color")), this;
          }, n2;
        })(u.Ss);
        const Hs = Fs;
        var Us, zs, Bs, Ws, $s, qs = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Gs = function() {
          return Gs = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Gs.apply(this, arguments);
        }, Ks = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Ys = function(e3) {
          return (0, t2.isString)(e3) && "#" == e3[0];
        }, Js = function(e3) {
          return (0, t2.isString)(e3) && "." == e3[0];
        }, Xs = "selector", Zs = "".concat(Xs, ":"), Qs = "".concat(Zs, "add"), tl = "".concat(Zs, "update"), el = "".concat(Zs, "remove"), nl = "".concat(el, ":before"), ol = "".concat(Zs, "custom"), rl = "".concat(Zs, "state"), il = { all: Xs, update: tl, add: Qs, remove: el, removeBefore: nl, state: rl, custom: ol }, al = (function(n2) {
          function o2(e3) {
            var o3 = n2.call(this, e3, "SelectorManager", new Je([]), il, Ps(), { skipListen: true }) || this;
            o3.Selector = qe, o3.Selectors = Je, o3.storageKey = "", (0, t2.bindAll)(o3, "__updateSelectedByComponents");
            var r2 = o3.config, i2 = r2.pStylePrefix;
            i2 && (r2.stylePrefix = i2 + r2.stylePrefix), o3.all = new Je(r2.selectors), o3.selected = new Je([], { em: e3, config: r2 }), o3.states = new u.pM(r2.states.map((function(t3) {
              return new As(t3);
            })), { model: As }), o3.model = new u.Kx({ cFirst: r2.componentFirst, _undo: true }), o3.__update = (0, t2.debounce)((function() {
              return o3.__trgCustom();
            }), 0), o3.__initListen({ collections: [o3.states, o3.selected], propagate: [{ entity: o3.states, event: o3.events.state }] }), e3.on("change:state", (function(t3, n3) {
              return e3.trigger(rl, n3);
            })), o3.model.on("change:cFirst", (function(t3, n3) {
              return e3.trigger("selector:type", n3);
            }));
            var a2 = "".concat($.I.update, ":classes");
            e3.on("component:toggled ".concat(a2), o3.__updateSelectedByComponents);
            var s2 = "component:toggled ".concat(a2, " change:device styleManager:update selector:state selector:type style:target");
            return o3.model.listenTo(e3, s2, (function() {
              return o3.__update();
            })), o3;
          }
          return qs(o2, n2), o2.prototype.__trgCustom = function(t3) {
            this.em.trigger(this.events.custom, this.__customData(t3));
          }, o2.prototype.getAll = function(t3) {
            return void 0 === t3 && (t3 = {}), this.all ? t3.array ? Ks([], this.all.models, true) : this.all : [];
          }, o2.prototype.__customData = function(t3) {
            return void 0 === t3 && (t3 = {}), this.__ctn = this.__ctn || t3.container, { states: this.getStates(), selected: this.getSelected(), container: this.__ctn };
          }, o2.prototype.postRender = function() {
            this.__appendTo(), this.__trgCustom();
          }, o2.prototype.select = function(t3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = Array.isArray(t3) ? t3 : [t3], r2 = this.em.Styles.select(o3, n3);
            this.selected.reset(this.__getCommonSelectors(r2));
            var i2 = this.selectorTags, a2 = r2.filter((function(t4) {
              return t4;
            })).map((function(t4) {
              return (0, e2.isComponent)(t4) || (0, e2.isRule)(t4) && !t4.get("selectorsAdd") ? t4 : t4.getSelectorsString();
            }));
            return i2 && i2.componentChanged({ targets: a2 }), this;
          }, o2.prototype.addSelector = function(e3, n3, o3) {
            void 0 === n3 && (n3 = {}), void 0 === o3 && (o3 = {});
            var r2 = Gs({}, n3);
            (0, t2.isObject)(e3) ? r2 = e3 : r2.name = e3, Ys(r2.name) ? (r2.name = r2.name.substr(1), r2.type = qe.TYPE_ID) : Js(r2.name) && (r2.name = r2.name.substr(1)), r2.label && !r2.name && (r2.name = this.escapeName(r2.label));
            var i2 = r2.name, a2 = this.getConfig(), s2 = this.all, l2 = this.em, c2 = i2 ? this.get(i2, r2.type) : s2.where(r2)[0];
            if (!c2) {
              var u2 = r2 instanceof qe ? r2 : new qe(r2, Gs(Gs({}, o3), { config: a2, em: l2 }));
              return s2.add(u2, o3);
            }
            return c2;
          }, o2.prototype.getSelector = function(t3, e3) {
            return void 0 === e3 && (e3 = qe.TYPE_CLASS), Ys(t3) ? (t3 = t3.substr(1), e3 = qe.TYPE_ID) : Js(t3) && (t3 = t3.substr(1)), this.all.where({ name: t3, type: e3 })[0];
          }, o2.prototype.add = function(e3, n3) {
            var o3 = this;
            void 0 === n3 && (n3 = {});
            var r2 = (0, t2.isString)(e3) ? {} : n3;
            return (0, t2.isArray)(e3) ? e3.map((function(t3) {
              return o3.addSelector(t3, n3, r2);
            })) : this.addSelector(e3, n3, r2);
          }, o2.prototype.addClass = function(e3) {
            var n3 = this, o3 = [];
            return (0, t2.isString)(e3) && (e3 = e3.trim().split(" ").filter(Boolean)), e3.forEach((function(t3) {
              return o3.push(n3.addSelector(t3));
            })), o3;
          }, o2.prototype.get = function(e3, n3) {
            var o3 = this;
            if ((0, t2.isArray)(e3)) {
              var r2 = [];
              return e3.map((function(t3) {
                return o3.getSelector(t3);
              })).filter(Boolean).forEach((function(t3) {
                return r2.indexOf(t3) < 0 && r2.push(t3);
              })), r2;
            }
            return this.getSelector(e3, n3);
          }, o2.prototype.remove = function(t3, e3) {
            return this.__remove(t3, e3);
          }, o2.prototype.rename = function(t3, e3, n3) {
            var o3 = this.escapeName(e3);
            return this.get(o3) || t3.set({ name: o3, label: e3 }, n3);
          }, o2.prototype.setState = function(t3) {
            return this.em.setState(t3), this;
          }, o2.prototype.getState = function() {
            return this.em.getState();
          }, o2.prototype.getStates = function() {
            return Ks([], this.states.models, true);
          }, o2.prototype.setStates = function(t3, e3) {
            return this.states.reset(t3.map((function(t4) {
              return new As(t4);
            })), e3);
          }, o2.prototype.getSelected = function() {
            return this.__getCommon();
          }, o2.prototype.getSelectedAll = function() {
            return Ks([], this.selected.models, true);
          }, o2.prototype.addSelected = function(t3) {
            var e3 = this.add(t3);
            this.em.getSelectedAll().forEach((function(t4) {
              t4.getSelectors().add(e3);
            }));
          }, o2.prototype.removeSelected = function(t3) {
            this.em.getSelectedAll().forEach((function(e3) {
              !t3.get("protected") && e3 && e3.getSelectors().remove(t3);
            }));
          }, o2.prototype.duplicateSelected = function(t3, e3) {
            var n3 = this;
            void 0 === e3 && (e3 = {});
            var o3 = this.em, r2 = this.getSelected();
            if (!(r2.indexOf(t3) < 0)) {
              var i2 = this.getState(), a2 = o3.getCurrentMedia(), s2 = o3.Css.get(r2, i2, a2), l2 = null == s2 ? void 0 : s2.getStyle();
              if (o3.getSelectedAll().forEach((function(o4) {
                var r3 = o4.getSelectors();
                if (r3.includes(t3)) {
                  var i3 = e3.suffix || " copy", a3 = t3.getLabel(), s3 = n3.addSelector("".concat(a3).concat(i3)), l3 = r3.indexOf(t3);
                  r3.remove(t3), r3.add(s3, { at: l3 });
                }
              })), l2) o3.Css.add(this.getSelected(), i2, a2).setStyle(l2);
            }
          }, o2.prototype.getSelectedTargets = function() {
            return this.em.Styles.getSelectedAll();
          }, o2.prototype.setComponentFirst = function(t3) {
            this.getConfig().componentFirst = t3, this.model.set({ cFirst: t3 });
          }, o2.prototype.getComponentFirst = function() {
            return this.getConfig().componentFirst;
          }, o2.prototype.escapeName = function(t3) {
            var e3 = this.getConfig().escapeName;
            return e3 ? e3(t3) : qe.escapeName(t3);
          }, o2.prototype.render = function(t3) {
            var e3 = this.selectorTags, n3 = this.getConfig(), o3 = null == e3 ? void 0 : e3.el;
            return this.selected.reset(t3), this.selectorTags = new Hs({ el: o3, collection: this.selected, module: this, config: n3 }), this.selectorTags.render().el;
          }, o2.prototype.destroy = function() {
            var t3 = this.selectorTags;
            this.model.stopListening(), this.__update.cancel(), this.__destroy(), null == t3 || t3.remove(), this.selectorTags = void 0;
          }, o2.prototype.__getCommon = function() {
            return this.__getCommonSelectors(this.em.getSelectedAll());
          }, o2.prototype.__getCommonSelectors = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = t3.map((function(t4) {
              return t4.getSelectors && t4.getSelectors().getValid(e3);
            })).filter(Boolean);
            return this.__common.apply(this, n3);
          }, o2.prototype.__common = function() {
            for (var t3 = this, e3 = [], n3 = 0; n3 < arguments.length; n3++) e3[n3] = arguments[n3];
            return e3.length ? 1 === e3.length ? e3[0] : 2 === e3.length ? e3[0].filter((function(t4) {
              return e3[1].indexOf(t4) >= 0;
            })) : e3.slice(1).reduce((function(e4, n4) {
              return t3.__common(e4, n4);
            }), e3[0]) : [];
          }, o2.prototype.__updateSelectedByComponents = function() {
            this.selected.reset(this.__getCommon());
          }, o2;
        })(b);
        const sl = al;
        const ll = function() {
          return { textTags: ["br", "b", "i", "u", "a", "ul", "ol"], textTypes: ["text", "textnode", "comment"], parserCss: void 0, parserHtml: void 0, optionsHtml: { htmlType: "text/html", allowScripts: false, allowUnsafeAttr: false, allowUnsafeAttrValue: false, keepEmptyTextNodes: false, convertDataGjsAttributesHyphens: false } };
        };
        var cl, ul = 5, pl = 6, dl = 7, fl = 11, hl = 12, vl = 13, gl = 14, yl = 15, ml = ((cl = {})[4] = "media", cl[ul] = "font-face", cl[pl] = "page", cl[dl] = "keyframes", cl[fl] = "counter-style", cl[hl] = "supports", cl[vl] = "document", cl[gl] = "font-feature-values", cl[yl] = "viewport", cl), bl = (0, t2.keys)(ml), _l = [ul, pl, fl, yl], wl = bl.filter((function(t3) {
          return _l.indexOf(Number(t3)) < 0;
        })).map((function(t3) {
          return ml[t3];
        })).concat(["container", "layer"]), xl = _l.map((function(t3) {
          return ml[t3];
        })), Cl = function(t3) {
          void 0 === t3 && (t3 = "");
          for (var e3 = [], n2 = [], o2 = t3.split(","), r2 = 0, i2 = o2.length; r2 < i2; r2++) {
            var a2 = o2[r2].trim();
            if (/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a2) || /^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a2)) {
              var s2 = a2.split(".").filter(Boolean);
              n2.push(s2);
            } else e3.push(a2);
          }
          return { result: n2, add: e3 };
        }, Sl = function(t3) {
          for (var e3 = t3.style, n2 = {}, o2 = 0, r2 = e3.length; o2 < r2; o2++) {
            var i2 = e3[o2], a2 = e3.getPropertyValue(i2), s2 = e3.getPropertyPriority(i2);
            n2[i2] = "".concat(a2).concat(s2 ? " !".concat(s2) : "");
          }
          return n2;
        }, Ol = function(t3) {
          return (t3.conditionText || t3.media && t3.media.mediaText || t3.name || t3.selectorText || "").trim();
        }, Tl = function(t3, e3, n2) {
          void 0 === e3 && (e3 = {}), void 0 === n2 && (n2 = {});
          var o2 = {}, r2 = t3.length, i2 = t3[r2 - 1], a2 = i2 ? i2.split(/:(.+)/) : [], s2 = a2[1], l2 = n2.atRule, c2 = n2.selectorsAdd, u2 = n2.mediaText;
          return xl.indexOf(l2) >= 0 && (o2.singleAtRule = true), l2 && (o2.atRuleType = l2), c2 && (o2.selectorsAdd = c2), u2 && (o2.mediaText = u2), s2 && (t3[r2 - 1] = a2[0], o2.state = s2, a2.splice(a2.length - 1, 1)), o2.selectors = t3, o2.style = e3, o2;
        }, Pl = function(t3) {
          var e3 = t3.cssText, n2 = void 0 === e3 ? "" : e3;
          return wl.find((function(t4) {
            return 0 === n2.indexOf("@".concat(t4));
          }));
        }, El = function(t3) {
          for (var e3 = [], n2 = t3.cssRules || [], o2 = 0, r2 = n2.length; o2 < r2; o2++) {
            var i2 = n2[o2], a2 = i2.type, s2 = false, l2 = "", c2 = "", u2 = i2.selectorText || i2.keyText || "", p2 = _l.indexOf(a2) >= 0;
            if (p2) s2 = true, l2 = ml[a2], c2 = Ol(i2);
            else if (bl.indexOf("".concat(a2)) >= 0 || !a2 && Pl(i2)) {
              var d2 = El(i2), f2 = ml[a2] || Pl(i2);
              c2 = Ol(i2);
              for (var h2 = 0, v2 = d2.length; h2 < v2; h2++) {
                var g2 = d2[h2];
                c2 && (g2.mediaText = c2), g2.atRuleType = f2;
              }
              e3 = e3.concat(d2);
            }
            if (u2 || p2) {
              for (var y2 = Sl(i2), m2 = Cl(u2), b2 = m2.add, _2 = m2.result, w2 = void 0, x2 = 0, C2 = _2.length; x2 < C2; x2++) {
                var S2 = Tl(_2[x2], y2, { atRule: ml[a2] });
                e3.push(S2), w2 = S2;
              }
              if (b2.length) {
                var O2 = b2.join(", ");
                if (w2) w2.selectorsAdd = O2;
                else {
                  S2 = { selectors: [], selectorsAdd: O2, style: y2 };
                  s2 && (S2.singleAtRule = s2), l2 && (S2.atRuleType = l2), c2 && (S2.mediaText = c2), e3.push(S2);
                }
              }
            }
          }
          return e3;
        };
        const kl = function(e3, n2) {
          return void 0 === n2 && (n2 = {}), { parse: function(t3, o2) {
            var r2 = this;
            void 0 === o2 && (o2 = {});
            var i2, a2 = [], s2 = n2.parserCss, l2 = null == e3 ? void 0 : e3.Editor, c2 = [], u2 = null == e3 ? void 0 : e3.Parser, p2 = { input: t3 };
            null == u2 || u2.__emitEvent(ft.cssBefore, p2);
            var d2 = p2.input;
            try {
              c2 = s2 ? s2(d2, l2) : (function(t4) {
                var e4 = document.createElement("style");
                e4.innerHTML = t4, document.head.appendChild(e4);
                var n3 = e4.sheet;
                return document.head.removeChild(e4), n3 ? El(n3) : [];
              })(d2);
            } catch (t4) {
              if (i2 = t4, o2.throwOnError) throw t4;
            }
            return c2.forEach((function(t4) {
              return a2 = a2.concat(r2.checkNode(t4));
            })), null == u2 || u2.__emitEvent(ft.css, { input: d2, output: a2, nodes: c2, error: i2 }), a2;
          }, checkNode: function(e4) {
            var n3 = e4.selectors, o2 = e4.style, r2 = [e4];
            if ((0, t2.isString)(n3)) {
              var i2 = [], a2 = e4, s2 = Cl(n3), l2 = s2.result, c2 = s2.add.join(", "), u2 = { atRule: a2.atRule, mediaText: a2.params };
              if (l2.length ? l2.forEach((function(t3) {
                i2.push(Tl(t3, o2, u2));
              })) : i2.push(Tl([], o2, u2)), c2) i2[i2.length - 1].selectorsAdd = c2;
              r2 = i2;
            }
            return r2;
          } };
        };
        var Al = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), jl = function() {
          return jl = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, jl.apply(this, arguments);
        }, Ml = (function(t3) {
          function e3(e4) {
            var n2 = t3.call(this, e4, "Parser", ll()) || this;
            n2.events = ft;
            var o2 = n2.config;
            return n2.parserCss = kl(e4, o2), n2.parserHtml = gt(e4, o2), n2;
          }
          return Al(e3, t3), e3.prototype.parseHtml = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n2 = this.em, o2 = this.parserHtml;
            return o2.compTypes = n2.Components.getTypes() || [], o2.parse(t4, this.parserCss, e4);
          }, e3.prototype.parseCss = function(t4) {
            return this.parserCss.parse(t4);
          }, e3.prototype.__emitEvent = function(t4, e4) {
            var n2 = this.em, o2 = this.events;
            n2.trigger(t4, e4), n2.trigger(o2.all, jl({ event: t4 }, e4));
          }, e3.prototype.destroy = function() {
          }, e3;
        })(m);
        const Dl = Ml;
        const Ll = function() {
          return { id: "gjs-", type: "local", autosave: true, autoload: true, stepsBeforeSave: 1, recovery: false, onStore: function(t3) {
            return t3;
          }, onLoad: function(t3) {
            return t3;
          }, options: { local: { key: "gjsProject", checkLocal: true }, remote: { headers: {}, urlStore: "", urlLoad: "", contentTypeJson: true, fetchOptions: "", credentials: "include", onStore: function(t3) {
            return t3;
          }, onLoad: function(t3) {
            return t3;
          } } } };
        };
        var Il = function(t3, e3, n2, o2) {
          return new (n2 || (n2 = Promise))((function(r2, i2) {
            function a2(t4) {
              try {
                l2(o2.next(t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function s2(t4) {
              try {
                l2(o2["throw"](t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function l2(t4) {
              var e4;
              t4.done ? r2(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2((function(t5) {
                t5(e4);
              }))).then(a2, s2);
            }
            l2((o2 = o2.apply(t3, e3 || [])).next());
          }));
        }, Nl = function(t3, e3) {
          var n2, o2, r2, i2, a2 = { label: 0, sent: function() {
            if (1 & r2[0]) throw r2[1];
            return r2[1];
          }, trys: [], ops: [] };
          return i2 = { next: s2(0), throw: s2(1), return: s2(2) }, "function" == typeof Symbol && (i2[Symbol.iterator] = function() {
            return this;
          }), i2;
          function s2(s3) {
            return function(l2) {
              return (function(s4) {
                if (n2) throw new TypeError("Generator is already executing.");
                for (; i2 && (i2 = 0, s4[0] && (a2 = 0)), a2; ) try {
                  if (n2 = 1, o2 && (r2 = 2 & s4[0] ? o2["return"] : s4[0] ? o2["throw"] || ((r2 = o2["return"]) && r2.call(o2), 0) : o2.next) && !(r2 = r2.call(o2, s4[1])).done) return r2;
                  switch (o2 = 0, r2 && (s4 = [2 & s4[0], r2.value]), s4[0]) {
                    case 0:
                    case 1:
                      r2 = s4;
                      break;
                    case 4:
                      return a2.label++, { value: s4[1], done: false };
                    case 5:
                      a2.label++, o2 = s4[1], s4 = [0];
                      continue;
                    case 7:
                      s4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(r2 = a2.trys, (r2 = r2.length > 0 && r2[r2.length - 1]) || 6 !== s4[0] && 2 !== s4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === s4[0] && (!r2 || s4[1] > r2[0] && s4[1] < r2[3])) {
                        a2.label = s4[1];
                        break;
                      }
                      if (6 === s4[0] && a2.label < r2[1]) {
                        a2.label = r2[1], r2 = s4;
                        break;
                      }
                      if (r2 && a2.label < r2[2]) {
                        a2.label = r2[2], a2.ops.push(s4);
                        break;
                      }
                      r2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  s4 = e3.call(t3, a2);
                } catch (t4) {
                  s4 = [6, t4], o2 = 0;
                } finally {
                  n2 = r2 = 0;
                }
                if (5 & s4[0]) throw s4[1];
                return { value: s4[0] ? s4[1] : void 0, done: true };
              })([s3, l2]);
            };
          }
        };
        const Rl = (function() {
          function t3() {
          }
          return t3.prototype.store = function(t4) {
            return Il(this, arguments, void 0, (function(t5, e3) {
              return void 0 === e3 && (e3 = {}), Nl(this, (function(n2) {
                return this.hasLocal(e3, true) && localStorage.setItem(e3.key, JSON.stringify(t5)), [2, t5];
              }));
            }));
          }, t3.prototype.load = function() {
            return Il(this, arguments, void 0, (function(t4) {
              var e3;
              return void 0 === t4 && (t4 = {}), Nl(this, (function(n2) {
                return e3 = {}, this.hasLocal(t4, true) && (e3 = JSON.parse(localStorage.getItem(t4.key) || "{}")), [2, e3];
              }));
            }));
          }, t3.prototype.hasLocal = function(t4, n2) {
            if (void 0 === t4 && (t4 = {}), t4.checkLocal && (!(0, e2.hasWin)() || !localStorage)) {
              if (n2) throw new Error("localStorage not available");
              return false;
            }
            return true;
          }, t3;
        })();
        function Vl(t3) {
          return Vl = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
            return typeof t4;
          } : function(t4) {
            return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
          }, Vl(t3);
        }
        const Fl = function(t3) {
          var e3 = this.constructor;
          return this.then((function(n2) {
            return e3.resolve(t3()).then((function() {
              return n2;
            }));
          }), (function(n2) {
            return e3.resolve(t3()).then((function() {
              return e3.reject(n2);
            }));
          }));
        };
        const Hl = function(t3) {
          return new this((function(e3, n2) {
            if (!t3 || void 0 === t3.length) return n2(new TypeError(Vl(t3) + " " + t3 + " is not iterable(cannot read property Symbol(Symbol.iterator))"));
            var o2 = Array.prototype.slice.call(t3);
            if (0 === o2.length) return e3([]);
            var r2 = o2.length;
            function i2(t4, n3) {
              if (n3 && ("object" === Vl(n3) || "function" == typeof n3)) {
                var a3 = n3.then;
                if ("function" == typeof a3) return void a3.call(n3, (function(e4) {
                  i2(t4, e4);
                }), (function(n4) {
                  o2[t4] = { status: "rejected", reason: n4 }, 0 == --r2 && e3(o2);
                }));
              }
              o2[t4] = { status: "fulfilled", value: n3 }, 0 == --r2 && e3(o2);
            }
            for (var a2 = 0; a2 < o2.length; a2++) i2(a2, o2[a2]);
          }));
        };
        function Ul(t3, e3) {
          this.name = "AggregateError", this.errors = t3, this.message = e3 || "";
        }
        Ul.prototype = Error.prototype;
        const zl = function(t3) {
          var e3 = this;
          return new e3((function(n2, o2) {
            if (!t3 || void 0 === t3.length) return o2(new TypeError("Promise.any accepts an array"));
            var r2 = Array.prototype.slice.call(t3);
            if (0 === r2.length) return o2();
            for (var i2 = [], a2 = 0; a2 < r2.length; a2++) try {
              e3.resolve(r2[a2]).then(n2).catch((function(t4) {
                i2.push(t4), i2.length === r2.length && o2(new Ul(i2, "All promises were rejected"));
              }));
            } catch (t4) {
              o2(t4);
            }
          }));
        };
        var Bl = setTimeout;
        function Wl(t3) {
          return Boolean(t3 && void 0 !== t3.length);
        }
        function $l() {
        }
        function ql(t3) {
          if (!(this instanceof ql)) throw new TypeError("Promises must be constructed via new");
          if ("function" != typeof t3) throw new TypeError("not a function");
          this._state = 0, this._handled = false, this._value = void 0, this._deferreds = [], Zl(t3, this);
        }
        function Gl(t3, e3) {
          for (; 3 === t3._state; ) t3 = t3._value;
          0 !== t3._state ? (t3._handled = true, ql._immediateFn((function() {
            var n2 = 1 === t3._state ? e3.onFulfilled : e3.onRejected;
            if (null !== n2) {
              var o2;
              try {
                o2 = n2(t3._value);
              } catch (t4) {
                return void Yl(e3.promise, t4);
              }
              Kl(e3.promise, o2);
            } else (1 === t3._state ? Kl : Yl)(e3.promise, t3._value);
          }))) : t3._deferreds.push(e3);
        }
        function Kl(t3, e3) {
          try {
            if (e3 === t3) throw new TypeError("A promise cannot be resolved with itself.");
            if (e3 && ("object" === Vl(e3) || "function" == typeof e3)) {
              var n2 = e3.then;
              if (e3 instanceof ql) return t3._state = 3, t3._value = e3, void Jl(t3);
              if ("function" == typeof n2) return void Zl((o2 = n2, r2 = e3, function() {
                o2.apply(r2, arguments);
              }), t3);
            }
            t3._state = 1, t3._value = e3, Jl(t3);
          } catch (e4) {
            Yl(t3, e4);
          }
          var o2, r2;
        }
        function Yl(t3, e3) {
          t3._state = 2, t3._value = e3, Jl(t3);
        }
        function Jl(t3) {
          2 === t3._state && 0 === t3._deferreds.length && ql._immediateFn((function() {
            t3._handled || ql._unhandledRejectionFn(t3._value);
          }));
          for (var e3 = 0, n2 = t3._deferreds.length; e3 < n2; e3++) Gl(t3, t3._deferreds[e3]);
          t3._deferreds = null;
        }
        function Xl(t3, e3, n2) {
          this.onFulfilled = "function" == typeof t3 ? t3 : null, this.onRejected = "function" == typeof e3 ? e3 : null, this.promise = n2;
        }
        function Zl(t3, e3) {
          var n2 = false;
          try {
            t3((function(t4) {
              n2 || (n2 = true, Kl(e3, t4));
            }), (function(t4) {
              n2 || (n2 = true, Yl(e3, t4));
            }));
          } catch (t4) {
            if (n2) return;
            n2 = true, Yl(e3, t4);
          }
        }
        ql.prototype["catch"] = function(t3) {
          return this.then(null, t3);
        }, ql.prototype.then = function(t3, e3) {
          var n2 = new this.constructor($l);
          return Gl(this, new Xl(t3, e3, n2)), n2;
        }, ql.prototype["finally"] = Fl, ql.all = function(t3) {
          return new ql((function(e3, n2) {
            if (!Wl(t3)) return n2(new TypeError("Promise.all accepts an array"));
            var o2 = Array.prototype.slice.call(t3);
            if (0 === o2.length) return e3([]);
            var r2 = o2.length;
            function i2(t4, a3) {
              try {
                if (a3 && ("object" === Vl(a3) || "function" == typeof a3)) {
                  var s2 = a3.then;
                  if ("function" == typeof s2) return void s2.call(a3, (function(e4) {
                    i2(t4, e4);
                  }), n2);
                }
                o2[t4] = a3, 0 == --r2 && e3(o2);
              } catch (t5) {
                n2(t5);
              }
            }
            for (var a2 = 0; a2 < o2.length; a2++) i2(a2, o2[a2]);
          }));
        }, ql.any = zl, ql.allSettled = Hl, ql.resolve = function(t3) {
          return t3 && "object" === Vl(t3) && t3.constructor === ql ? t3 : new ql((function(e3) {
            e3(t3);
          }));
        }, ql.reject = function(t3) {
          return new ql((function(e3, n2) {
            n2(t3);
          }));
        }, ql.race = function(t3) {
          return new ql((function(e3, n2) {
            if (!Wl(t3)) return n2(new TypeError("Promise.race accepts an array"));
            for (var o2 = 0, r2 = t3.length; o2 < r2; o2++) ql.resolve(t3[o2]).then(e3, n2);
          }));
        }, ql._immediateFn = "function" == typeof setImmediate && function(t3) {
          setImmediate(t3);
        } || function(t3) {
          Bl(t3, 0);
        }, ql._unhandledRejectionFn = function(t3) {
          "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", t3);
        };
        const Ql = ql;
        (0, e2.hasWin)() && (window.Promise = window.Promise || Ql);
        const tc = "function" == typeof fetch ? fetch.bind() : function(t3, e3) {
          return new Ql((function(n2, o2) {
            var r2 = new XMLHttpRequest();
            for (var i2 in r2.open(e3.method || "get", t3), r2.withCredentials = "include" == e3.credentials, e3.headers || {}) r2.setRequestHeader(i2, e3.headers[i2]);
            r2.onload = function(t4) {
              return n2({ status: r2.status, statusText: r2.statusText, text: function() {
                return Ql.resolve(r2.responseText);
              } });
            }, r2.onerror = o2, r2.upload && e3.onProgress && (r2.upload.onprogress = e3.onProgress), e3.body ? r2.send(e3.body) : r2.send();
          }));
        };
        var ec = function() {
          return ec = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ec.apply(this, arguments);
        }, nc = function(t3, e3, n2, o2) {
          return new (n2 || (n2 = Promise))((function(r2, i2) {
            function a2(t4) {
              try {
                l2(o2.next(t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function s2(t4) {
              try {
                l2(o2["throw"](t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function l2(t4) {
              var e4;
              t4.done ? r2(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2((function(t5) {
                t5(e4);
              }))).then(a2, s2);
            }
            l2((o2 = o2.apply(t3, e3 || [])).next());
          }));
        }, oc = function(t3, e3) {
          var n2, o2, r2, i2, a2 = { label: 0, sent: function() {
            if (1 & r2[0]) throw r2[1];
            return r2[1];
          }, trys: [], ops: [] };
          return i2 = { next: s2(0), throw: s2(1), return: s2(2) }, "function" == typeof Symbol && (i2[Symbol.iterator] = function() {
            return this;
          }), i2;
          function s2(s3) {
            return function(l2) {
              return (function(s4) {
                if (n2) throw new TypeError("Generator is already executing.");
                for (; i2 && (i2 = 0, s4[0] && (a2 = 0)), a2; ) try {
                  if (n2 = 1, o2 && (r2 = 2 & s4[0] ? o2["return"] : s4[0] ? o2["throw"] || ((r2 = o2["return"]) && r2.call(o2), 0) : o2.next) && !(r2 = r2.call(o2, s4[1])).done) return r2;
                  switch (o2 = 0, r2 && (s4 = [2 & s4[0], r2.value]), s4[0]) {
                    case 0:
                    case 1:
                      r2 = s4;
                      break;
                    case 4:
                      return a2.label++, { value: s4[1], done: false };
                    case 5:
                      a2.label++, o2 = s4[1], s4 = [0];
                      continue;
                    case 7:
                      s4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(r2 = a2.trys, (r2 = r2.length > 0 && r2[r2.length - 1]) || 6 !== s4[0] && 2 !== s4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === s4[0] && (!r2 || s4[1] > r2[0] && s4[1] < r2[3])) {
                        a2.label = s4[1];
                        break;
                      }
                      if (6 === s4[0] && a2.label < r2[1]) {
                        a2.label = r2[1], r2 = s4;
                        break;
                      }
                      if (r2 && a2.label < r2[2]) {
                        a2.label = r2[2], a2.ops.push(s4);
                        break;
                      }
                      r2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  s4 = e3.call(t3, a2);
                } catch (t4) {
                  s4 = [6, t4], o2 = 0;
                } finally {
                  n2 = r2 = 0;
                }
                if (5 & s4[0]) throw s4[1];
                return { value: s4[0] ? s4[1] : void 0, done: true };
              })([s3, l2]);
            };
          }
        }, rc = (function() {
          function e3() {
          }
          return e3.prototype.store = function(t3) {
            return nc(this, arguments, void 0, (function(t4, e4) {
              return void 0 === e4 && (e4 = {}), oc(this, (function(n2) {
                switch (n2.label) {
                  case 0:
                    return [4, this.request(e4.urlStore, this.__props(e4, t4), e4)];
                  case 1:
                    return [2, n2.sent()];
                }
              }));
            }));
          }, e3.prototype.load = function() {
            return nc(this, arguments, void 0, (function(t3) {
              return void 0 === t3 && (t3 = {}), oc(this, (function(e4) {
                switch (e4.label) {
                  case 0:
                    return [4, this.request(t3.urlLoad, this.__props(t3), t3)];
                  case 1:
                    return [2, e4.sent()];
                }
              }));
            }));
          }, e3.prototype.request = function(e4, n2, o2) {
            return void 0 === n2 && (n2 = {}), void 0 === o2 && (o2 = {}), tc(e4, n2).then((function(t3) {
              var e5 = t3.text();
              return 1 == (t3.status / 200 | 0) ? e5 : e5.then(Promise.reject);
            })).then((function(e5) {
              var n3 = e5 && (0, t2.isString)(e5);
              return o2.contentTypeJson && n3 ? JSON.parse(e5) : e5;
            }));
          }, e3.prototype.__props = function(e4, n2) {
            void 0 === e4 && (e4 = {});
            var o2, r2 = e4.contentTypeJson, i2 = e4.headers || {}, a2 = e4.fetchOptions || {}, s2 = "X-Requested-With", l2 = "Content-Type";
            if ((0, t2.isUndefined)(i2[s2]) && (i2[s2] = "XMLHttpRequest"), (0, t2.isUndefined)(i2[l2]) && r2 && (i2[l2] = "application/json; charset=utf-8"), n2) if (r2) o2 = JSON.stringify(n2);
            else for (var c2 in o2 = new FormData(), n2) o2.append(c2, n2[c2]);
            var u2 = { method: o2 ? "POST" : "GET", credentials: e4.credentials, headers: i2, body: o2 };
            return ec(ec({}, u2), (0, t2.isFunction)(a2) ? a2(u2) : a2);
          }, e3;
        })();
        const ic = rc;
        var ac;
        !(function(t3) {
          t3["start"] = "storage:start", t3["startStore"] = "storage:start:store", t3["startLoad"] = "storage:start:load", t3["load"] = "storage:load", t3["store"] = "storage:store", t3["after"] = "storage:after", t3["afterStore"] = "storage:after:store", t3["afterLoad"] = "storage:after:load", t3["end"] = "storage:end", t3["endStore"] = "storage:end:store", t3["endLoad"] = "storage:end:load", t3["error"] = "storage:error", t3["errorStore"] = "storage:error:store", t3["errorLoad"] = "storage:error:load";
        })(ac || (ac = {}));
        const sc = ac;
        var lc = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), cc = function() {
          return cc = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, cc.apply(this, arguments);
        }, uc = function(t3, e3, n2, o2) {
          return new (n2 || (n2 = Promise))((function(r2, i2) {
            function a2(t4) {
              try {
                l2(o2.next(t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function s2(t4) {
              try {
                l2(o2["throw"](t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function l2(t4) {
              var e4;
              t4.done ? r2(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2((function(t5) {
                t5(e4);
              }))).then(a2, s2);
            }
            l2((o2 = o2.apply(t3, e3 || [])).next());
          }));
        }, pc = function(t3, e3) {
          var n2, o2, r2, i2, a2 = { label: 0, sent: function() {
            if (1 & r2[0]) throw r2[1];
            return r2[1];
          }, trys: [], ops: [] };
          return i2 = { next: s2(0), throw: s2(1), return: s2(2) }, "function" == typeof Symbol && (i2[Symbol.iterator] = function() {
            return this;
          }), i2;
          function s2(s3) {
            return function(l2) {
              return (function(s4) {
                if (n2) throw new TypeError("Generator is already executing.");
                for (; i2 && (i2 = 0, s4[0] && (a2 = 0)), a2; ) try {
                  if (n2 = 1, o2 && (r2 = 2 & s4[0] ? o2["return"] : s4[0] ? o2["throw"] || ((r2 = o2["return"]) && r2.call(o2), 0) : o2.next) && !(r2 = r2.call(o2, s4[1])).done) return r2;
                  switch (o2 = 0, r2 && (s4 = [2 & s4[0], r2.value]), s4[0]) {
                    case 0:
                    case 1:
                      r2 = s4;
                      break;
                    case 4:
                      return a2.label++, { value: s4[1], done: false };
                    case 5:
                      a2.label++, o2 = s4[1], s4 = [0];
                      continue;
                    case 7:
                      s4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(r2 = a2.trys, (r2 = r2.length > 0 && r2[r2.length - 1]) || 6 !== s4[0] && 2 !== s4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === s4[0] && (!r2 || s4[1] > r2[0] && s4[1] < r2[3])) {
                        a2.label = s4[1];
                        break;
                      }
                      if (6 === s4[0] && a2.label < r2[1]) {
                        a2.label = r2[1], r2 = s4;
                        break;
                      }
                      if (r2 && a2.label < r2[2]) {
                        a2.label = r2[2], a2.ops.push(s4);
                        break;
                      }
                      r2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  s4 = e3.call(t3, a2);
                } catch (t4) {
                  s4 = [6, t4], o2 = 0;
                } finally {
                  n2 = r2 = 0;
                }
                if (5 & s4[0]) throw s4[1];
                return { value: s4[0] ? s4[1] : void 0, done: true };
              })([s3, l2]);
            };
          }
        }, dc = "local", fc = "remote", hc = (function(e3) {
          function n2(t3) {
            var n3 = e3.call(this, t3, "StorageManager", Ll()) || this;
            n3.storages = {}, n3.events = sc;
            var o2 = n3.config;
            return o2._disable && (o2.type = void 0), n3.storages = {}, n3.add(dc, new Rl()), n3.add(fc, new ic()), n3.setCurrent(o2.type), n3;
          }
          return lc(n2, e3), n2.prototype.isAutosave = function() {
            return !!this.config.autosave;
          }, n2.prototype.setAutosave = function(t3) {
            return this.config.autosave = !!t3, this;
          }, n2.prototype.getStepsBeforeSave = function() {
            return this.config.stepsBeforeSave;
          }, n2.prototype.setStepsBeforeSave = function(t3) {
            return this.config.stepsBeforeSave = t3, this;
          }, n2.prototype.add = function(t3, e4) {
            return this.storages[t3] = e4, this;
          }, n2.prototype.get = function(t3) {
            return this.storages[t3];
          }, n2.prototype.getStorages = function() {
            return this.storages;
          }, n2.prototype.getCurrent = function() {
            return this.config.currentStorage;
          }, n2.prototype.setCurrent = function(t3) {
            return this.getConfig().currentStorage = t3, this;
          }, n2.prototype.getCurrentStorage = function() {
            return this.get(this.getCurrent());
          }, n2.prototype.getStorageOptions = function(t3) {
            return this.getCurrentOptions(t3);
          }, n2.prototype.store = function(t3) {
            return uc(this, arguments, void 0, (function(t4, e4) {
              var n3, o2, r2, i2, a2;
              return void 0 === e4 && (e4 = {}), pc(this, (function(s2) {
                switch (s2.label) {
                  case 0:
                    n3 = this.getCurrentStorage(), o2 = cc(cc({}, this.getCurrentOptions()), e4), r2 = this.getRecoveryStorage(), i2 = this.getCurrentOptions(dc), s2.label = 1;
                  case 1:
                    return s2.trys.push([1, 5, , 9]), [4, this.__exec(n3, o2, t4)];
                  case 2:
                    return s2.sent(), r2 ? [4, this.__exec(r2, i2, {})] : [3, 4];
                  case 3:
                    s2.sent(), s2.label = 4;
                  case 4:
                    return [3, 9];
                  case 5:
                    return a2 = s2.sent(), r2 ? [4, this.__exec(r2, i2, t4)] : [3, 7];
                  case 6:
                    return s2.sent(), [3, 8];
                  case 7:
                    throw a2;
                  case 8:
                    return [3, 9];
                  case 9:
                    return [2, t4];
                }
              }));
            }));
          }, n2.prototype.load = function() {
            return uc(this, arguments, void 0, (function(e4) {
              var n3, o2, r2, i2, a2;
              return void 0 === e4 && (e4 = {}), pc(this, (function(s2) {
                switch (s2.label) {
                  case 0:
                    return n3 = this.getCurrentStorage(), o2 = cc(cc({}, this.getCurrentOptions()), e4), (r2 = this.getRecoveryStorage()) ? [4, this.__exec(r2, this.getCurrentOptions(dc))] : [3, 5];
                  case 1:
                    if (a2 = s2.sent(), (0, t2.isEmpty)(a2)) return [3, 5];
                    s2.label = 2;
                  case 2:
                    return s2.trys.push([2, 4, , 5]), [4, this.__askRecovery()];
                  case 3:
                    return s2.sent(), i2 = a2, [3, 5];
                  case 4:
                    return s2.sent(), [3, 5];
                  case 5:
                    return i2 ? [3, 7] : [4, this.__exec(n3, o2)];
                  case 6:
                    i2 = s2.sent(), s2.label = 7;
                  case 7:
                    return [2, i2 || {}];
                }
              }));
            }));
          }, n2.prototype.__askRecovery = function() {
            var e4 = this.em, n3 = this.getRecovery();
            return new Promise((function(o2, r2) {
              (0, t2.isFunction)(n3) ? n3(o2, r2, null == e4 ? void 0 : e4.getEditor()) : confirm(null == e4 ? void 0 : e4.t("storageManager.recover")) ? o2(null) : r2();
            }));
          }, n2.prototype.getRecovery = function() {
            return this.config.recovery;
          }, n2.prototype.getRecoveryStorage = function() {
            return this.getRecovery() && this.getCurrent() === fc && this.get(dc);
          }, n2.prototype.__exec = function(t3, e4, n3) {
            return uc(this, void 0, void 0, (function() {
              var o2, r2, i2, a2, s2, l2, c2, u2, p2, d2, f2, h2, v2, g2;
              return pc(this, (function(y2) {
                switch (y2.label) {
                  case 0:
                    if (o2 = n3 ? "store" : "load", r2 = this.getConfig(), i2 = r2.onStore, a2 = r2.onLoad, !t3) return [2, n3 || {}];
                    this.onStart(o2, n3), y2.label = 1;
                  case 1:
                    return y2.trys.push([1, 14, , 15]), l2 = null === (g2 = this.em) || void 0 === g2 ? void 0 : g2.getEditor(), c2 = void 0, n3 ? (p2 = i2) ? [4, i2(n3, l2)] : [3, 3] : [3, 7];
                  case 2:
                    p2 = y2.sent(), y2.label = 3;
                  case 3:
                    return u2 = p2 || n3, (d2 = e4.onStore) ? [4, e4.onStore(u2, l2)] : [3, 5];
                  case 4:
                    d2 = y2.sent(), y2.label = 5;
                  case 5:
                    return u2 = d2 || u2, [4, t3.store(u2, e4)];
                  case 6:
                    return c2 = y2.sent(), s2 = n3, [3, 13];
                  case 7:
                    return [4, t3.load(e4)];
                  case 8:
                    return c2 = y2.sent(), s2 = this.__clearKeys(c2), (f2 = e4.onLoad) ? [4, e4.onLoad(s2, l2)] : [3, 10];
                  case 9:
                    f2 = y2.sent(), y2.label = 10;
                  case 10:
                    return s2 = f2 || s2, (h2 = a2) ? [4, a2(s2, l2)] : [3, 12];
                  case 11:
                    h2 = y2.sent(), y2.label = 12;
                  case 12:
                    s2 = h2 || s2, y2.label = 13;
                  case 13:
                    return this.onAfter(o2, s2, c2), this.onEnd(o2, s2, c2), [3, 15];
                  case 14:
                    throw v2 = y2.sent(), this.onError(o2, v2), v2;
                  case 15:
                    return [2, s2];
                }
              }));
            }));
          }, n2.prototype.__clearKeys = function(t3) {
            void 0 === t3 && (t3 = {});
            var e4 = this.getConfig(), n3 = new RegExp("^".concat(e4.id)), o2 = {};
            for (var r2 in t3) {
              o2[r2.replace(n3, "")] = t3[r2];
            }
            return o2;
          }, n2.prototype.getCurrentOptions = function(t3) {
            var e4 = this.getConfig(), n3 = t3 || this.getCurrent();
            return e4.options[n3] || {};
          }, n2.prototype.onStart = function(t3, e4) {
            var n3 = this.em;
            if (n3) {
              var o2 = "load" === t3 ? sc.startLoad : sc.startStore;
              n3.trigger(sc.start, t3, e4), n3.trigger(o2, e4);
            }
          }, n2.prototype.onAfter = function(t3, e4, n3) {
            var o2 = this.em;
            if (o2) {
              var r2 = "load" === t3 ? sc.afterLoad : sc.afterStore;
              o2.trigger(sc.after), o2.trigger(r2, e4, n3);
              var i2 = "load" === t3 ? sc.load : sc.store;
              o2.trigger(i2, e4, n3);
            }
          }, n2.prototype.onEnd = function(t3, e4, n3) {
            var o2 = this.em;
            if (o2) {
              var r2 = "load" === t3 ? sc.endLoad : sc.endStore;
              o2.trigger(sc.end, t3, e4, n3), o2.trigger(r2, e4, n3);
            }
          }, n2.prototype.onError = function(t3, e4) {
            var n3 = this.em;
            if (n3) {
              var o2 = "load" === t3 ? sc.errorLoad : sc.errorStore;
              n3.trigger(sc.error, e4, t3), n3.trigger(o2, e4), this.onEnd(t3, e4);
            }
          }, n2.prototype.canAutoload = function() {
            return !!this.getCurrentStorage() && !!this.config.autoload;
          }, n2.prototype.destroy = function() {
            this.storages = {};
          }, n2;
        })(m);
        const vc = hc;
        const gc = function() {
          return { stylePrefix: "trt-", appendTo: "", optionsTarget: [{ value: false }, { value: "_blank" }], custom: false };
        };
        var yc = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), mc = function() {
          return mc = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, mc.apply(this, arguments);
        }, bc = (function(n2) {
          function o2(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = n2.call(this, t3) || this;
            e3.events = {}, e3.appendInput = true;
            var o3 = t3.config, r2 = void 0 === o3 ? {} : o3, i2 = e3, a2 = i2.model, s2 = i2.eventCapture, l2 = a2.target, c2 = a2.attributes.type;
            return e3.config = r2, e3.em = r2.em, e3.pfx = r2.stylePrefix || "", e3.ppfx = r2.pStylePrefix || "", e3.target = l2, e3.className = e3.pfx + "trait", e3.clsField = "".concat(e3.ppfx, "field ").concat(e3.ppfx, "field-").concat(c2), [["change:value", e3.onValueChange], ["remove", e3.removeView]].forEach((function(t4) {
              var n3 = t4[0], o4 = t4[1];
              a2.off(n3, o4), e3.listenTo(a2, n3, o4);
            })), a2.view = e3, e3.listenTo(a2, "change:label", e3.render), e3.listenTo(a2, "change:placeholder", e3.rerender), e3.events = {}, s2.forEach((function(t4) {
              return e3.events[t4] = "onChange";
            })), e3.delegateEvents(), e3.init(), e3;
          }
          return yc(o2, n2), o2.prototype.attributes = function() {
            return this.model.get("attributes") || {};
          }, o2.prototype.templateLabel = function(t3) {
            var e3 = this.ppfx, n3 = this.getLabel();
            return '<div class="'.concat(e3, 'label" title="').concat(n3, '">').concat(n3, "</div>");
          }, o2.prototype.templateInput = function(t3) {
            var e3 = this.clsField;
            return '<div class="'.concat(e3, '" data-input></div>');
          }, o2.prototype.getClbOpts = function() {
            return { component: this.target, trait: this.model, elInput: this.getInputElem() };
          }, o2.prototype.removeView = function() {
            this.remove(), this.removed();
          }, o2.prototype.init = function() {
          }, o2.prototype.removed = function() {
          }, o2.prototype.onRender = function(t3) {
          }, o2.prototype.onUpdate = function(t3) {
          }, o2.prototype.onEvent = function(t3) {
          }, o2.prototype.onChange = function(e3) {
            var n3 = this.getInputElem();
            n3 && !(0, t2.isUndefined)(n3.value) && this.model.set("value", n3.value), this.onEvent(mc(mc({}, this.getClbOpts()), { event: e3 }));
          }, o2.prototype.getValueForTarget = function() {
            return this.model.get("value");
          }, o2.prototype.setInputValue = function(t3) {
            var e3 = this.getInputElem();
            e3 && (e3.value = t3);
          }, o2.prototype.onValueChange = function(t3, e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = this.model, r2 = this.getValueForTarget();
            n3.fromTarget ? (this.setInputValue(r2), this.postUpdate()) : o3.setValue(r2, n3);
          }, o2.prototype.renderLabel = function() {
            var t3 = this.$el, e3 = this.target, n3 = this.getLabel(), o3 = this.templateLabel(e3);
            this.createLabel && (o3 = this.createLabel({ label: n3, component: e3, trait: this }) || ""), t3.find("[data-label]").append(o3);
          }, o2.prototype.getLabel = function() {
            var t3 = this.em, n3 = this.model.attributes, o3 = n3.label, r2 = n3.name;
            return t3.t("traitManager.traits.labels.".concat(r2)) || (0, e2.capitalize)(o3 || r2).replace(/-/g, " ");
          }, o2.prototype.getComponent = function() {
            return this.target;
          }, o2.prototype.getInputEl = function() {
            if (!this.$input) {
              var e3 = this.em, n3 = this.model, o3 = n3, r2 = n3.attributes.name, i2 = o3.get("placeholder") || o3.get("default") || "", a2 = o3.get("type") || "text", s2 = o3.get("min"), c2 = o3.get("max"), u2 = this.getModelValue(), p2 = (0, l["default"])('<input type="'.concat(a2, '">')), d2 = e3.t("traitManager.traits.attributes.".concat(r2)) || {};
              p2.attr(mc({ placeholder: i2 }, d2)), (0, t2.isUndefined)(u2) || (o3.set({ value: u2 }, { silent: true }), p2.prop("value", u2)), s2 && p2.prop("min", s2), c2 && p2.prop("max", c2), this.$input = p2;
            }
            return this.$input.get(0);
          }, o2.prototype.getInputElem = function() {
            var t3 = this.input, e3 = this.$input;
            return t3 || e3 && e3.get && e3.get(0) || this.getElInput();
          }, o2.prototype.getModelValue = function() {
            return this.model.getValue();
          }, o2.prototype.getElInput = function() {
            return this.elInput;
          }, o2.prototype.renderField = function() {
            var e3 = this, n3 = e3.$el, o3 = e3.appendInput, r2 = e3.model, i2 = n3.find("[data-input]"), a2 = i2[i2.length - 1], s2 = r2.el;
            s2 || (s2 = this.createInput ? this.createInput(this.getClbOpts()) : this.getInputEl()), (0, t2.isString)(s2) ? (a2.innerHTML = s2, this.elInput = a2.firstChild) : (o3 ? a2.appendChild(s2) : a2.insertBefore(s2, a2.firstChild), this.elInput = s2), r2.el = this.elInput;
          }, o2.prototype.hasLabel = function() {
            var t3 = this.model.attributes.label;
            return !this.noLabel && false !== t3;
          }, o2.prototype.rerender = function() {
            delete this.model.el, this.render();
          }, o2.prototype.postUpdate = function() {
            this.onUpdate(this.getClbOpts());
          }, o2.prototype.render = function() {
            var e3 = this, n3 = e3.$el, o3 = e3.pfx, r2 = e3.ppfx, i2 = e3.model.attributes, a2 = i2.type, s2 = i2.id, l2 = this.hasLabel && this.hasLabel(), c2 = "".concat(o3, "trait");
            delete this.$input;
            var u2 = '<div class="'.concat(c2, " ").concat(c2, "--").concat(a2, '">\n      ').concat(l2 ? '<div class="'.concat(r2, 'label-wrp" data-label></div>') : "", '\n      <div class="').concat(r2, "field-wrp ").concat(r2, "field-wrp--").concat(a2, '" data-input>\n        ').concat(this.templateInput ? (0, t2.isFunction)(this.templateInput) ? this.templateInput(this.getClbOpts()) : this.templateInput : "", "\n      </div>\n    </div>");
            return n3.empty().append(u2), l2 && this.renderLabel(), this.renderField(), this.el.className = "".concat(c2, "__wrp ").concat(c2, "__wrp-").concat(s2), this.postUpdate(), this.onRender(this.getClbOpts()), this;
          }, o2;
        })(u.Ss);
        const _c = bc;
        bc.prototype.eventCapture = ["change"];
        var wc = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), xc = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return wc(e3, t3), e3.prototype.templateInput = function() {
            return "";
          }, e3.prototype.onChange = function() {
            this.handleClick();
          }, e3.prototype.handleClick = function() {
            this.model.runCommand();
          }, e3.prototype.renderLabel = function() {
            this.model.get("label") && _c.prototype.renderLabel.apply(this);
          }, e3.prototype.getInputEl = function() {
            var t4 = this.model, e4 = this.ppfx, n2 = t4.props(), o2 = n2.labelButton, r2 = n2.text, i2 = n2.full, a2 = o2 || r2, s2 = "".concat(e4, "btn");
            return '<button type="button" class="'.concat(s2, "-prim").concat(i2 ? " ".concat(s2, "--full") : "", '">').concat(a2, "</button>");
          }, e3;
        })(_c);
        const Cc = xc;
        xc.prototype.eventCapture = ["click button"];
        var Sc = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Oc = (function(e3) {
          function n2() {
            var t3 = null !== e3 && e3.apply(this, arguments) || this;
            return t3.appendInput = false, t3;
          }
          return Sc(n2, e3), n2.prototype.templateInput = function() {
            var t3 = this.ppfx, e4 = this.clsField;
            return '<label class="'.concat(e4, '" data-input>\n    <i class="').concat(t3, 'chk-icon"></i>\n  </label>');
          }, n2.prototype.onChange = function() {
            this.model.set("value", this.getInputElem().checked);
          }, n2.prototype.setInputValue = function(t3) {
            var e4 = this.getInputElem();
            e4 && (e4.checked = !!t3);
          }, n2.prototype.getInputEl = function() {
            for (var e4 = [], n3 = 0; n3 < arguments.length; n3++) e4[n3] = arguments[n3];
            var o2 = !this.$input, r2 = _c.prototype.getInputEl.apply(this, e4);
            if (o2) {
              var i2 = void 0, a2 = void 0, s2 = this.model, l2 = this.target, c2 = s2.attributes.valueFalse, u2 = s2.getName();
              s2.changeProp ? a2 = i2 = l2.get(u2) : i2 = !(!(a2 = l2.get("attributes")[u2]) && "" !== a2), (0, t2.isUndefined)(c2) || a2 !== c2 || (i2 = false), r2.checked = i2;
            }
            return r2;
          }, n2;
        })(_c);
        var Tc = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Pc = (function(t3) {
          function e3(e4) {
            void 0 === e4 && (e4 = {});
            var n2 = t3.call(this, e4) || this, o2 = e4.ppfx || "";
            return n2.opts = e4, n2.ppfx = o2, n2.em = e4.target || {}, !e4.onChange && n2.listenTo(n2.model, "change:value", n2.handleModelChange), n2;
          }
          return Tc(e3, t3), e3.prototype.template = function() {
            return '<span class="'.concat(this.holderClass(), '"></span>');
          }, e3.prototype.inputClass = function() {
            return "".concat(this.ppfx, "field");
          }, e3.prototype.holderClass = function() {
            return "".concat(this.ppfx, "input-holder");
          }, e3.prototype.elementUpdated = function() {
            this.model.trigger("el:change");
          }, e3.prototype.setValue = function(t4, e4) {
            var n2 = this.model, o2 = t4 || n2.get("defaults"), r2 = this.getInputEl();
            r2 && (r2.value = o2);
          }, e3.prototype.handleModelChange = function(t4, e4, n2) {
            this.setValue(e4, n2);
          }, e3.prototype.handleChange = function(t4) {
            t4.stopPropagation();
            var e4 = this.getInputEl().value;
            this.__onInputChange(e4), this.elementUpdated();
          }, e3.prototype.__onInputChange = function(t4) {
            this.model.set({ value: t4 }, { fromInput: 1 });
          }, e3.prototype.getInputEl = function() {
            if (!this.inputEl) {
              var t4 = this.model, e4 = this.opts.type || "text", n2 = t4.get("placeholder") || t4.get("defaults") || t4.get("default") || "";
              this.inputEl = (0, l["default"])('<input type="'.concat(e4, '" placeholder="').concat(n2, '">'));
            }
            return this.inputEl.get(0);
          }, e3.prototype.render = function() {
            this.inputEl = null;
            var t4 = this.$el;
            return t4.addClass(this.inputClass()), t4.html(this.template()), t4.find(".".concat(this.holderClass())).append(this.getInputEl()), this;
          }, e3;
        })(u.Ss);
        const Ec = Pc;
        Pc.prototype.events = { change: "handleChange" };
        var kc = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ac = function() {
          return Ac = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ac.apply(this, arguments);
        };
        l["default"] && (function(t3, n2) {
          if ((0, e2.hasWin)()) {
            var o2 = { beforeShow: P2, move: P2, change: P2, show: P2, hide: P2, color: false, flat: false, showInput: false, allowEmpty: false, showButtons: true, clickoutFiresChange: true, showInitial: false, showPalette: false, showPaletteOnly: false, hideAfterPaletteSelect: false, togglePaletteOnly: false, showSelectionPalette: true, localStorageKey: false, appendTo: "body", maxSelectionSize: 7, cancelText: "cancel", chooseText: "choose", togglePaletteMoreText: "more", togglePaletteLessText: "less", clearText: "Clear Color Selection", noColorSelectedText: "No Color Selected", preferredFormat: false, className: "", containerClassName: "", replacerClassName: "", showAlpha: false, theme: "sp-light", palette: [["#ffffff", "#000000", "#ff0000", "#ff8000", "#ffff00", "#008000", "#0000ff", "#4b0082", "#9400d3"]], selectionPalette: [], disabled: false, offset: null }, r2 = [], i2 = !!/msie/i.exec(window.navigator.userAgent), a2 = (function() {
              function t4(t5, e4) {
                return !!~("" + t5).indexOf(e4);
              }
              var e3 = document.createElement("div").style;
              return e3.cssText = "background-color:rgba(0,0,0,.5)", t4(e3.backgroundColor, "rgba") || t4(e3.backgroundColor, "hsla");
            })(), s2 = ["<div class='sp-replacer'>", "<div class='sp-preview'><div class='sp-preview-inner'></div></div>", "<div class='sp-dd'>&#9660;</div>", "</div>"].join(""), l2 = (function() {
              var t4 = "";
              if (i2) for (var e3 = 1; e3 <= 6; e3++) t4 += "<div class='sp-" + e3 + "'></div>";
              return ["<div class='sp-container sp-hidden'>", "<div class='sp-palette-container'>", "<div class='sp-palette sp-thumb sp-cf'></div>", "<div class='sp-palette-button-container sp-cf'>", "<button type='button' class='sp-palette-toggle'></button>", "</div>", "</div>", "<div class='sp-picker-container'>", "<div class='sp-top sp-cf'>", "<div class='sp-fill'></div>", "<div class='sp-top-inner'>", "<div class='sp-color'>", "<div class='sp-sat'>", "<div class='sp-val'>", "<div class='sp-dragger'></div>", "</div>", "</div>", "</div>", "<div class='sp-clear sp-clear-display'>", "</div>", "<div class='sp-hue'>", "<div class='sp-slider'></div>", t4, "</div>", "</div>", "<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>", "</div>", "<div class='sp-input-container sp-cf'>", "<input class='sp-input' type='text' spellcheck='false'  />", "</div>", "<div class='sp-initial sp-thumb sp-cf'></div>", "<div class='sp-button-container sp-cf'>", "<a class='sp-cancel' href='#'></a>", "<button type='button' class='sp-choose'></button>", "</div>", "</div>", "</div>"].join("");
            })(), c2 = "spectrum.id";
            t3.fn.spectrum = function(e3, n3) {
              if ("string" == typeof e3) {
                var o3 = this, i3 = Array.prototype.slice.call(arguments, 1);
                return this.each((function() {
                  var n4 = r2[t3(this).data(c2)];
                  if (n4) {
                    var a3 = n4[e3];
                    if (!a3) throw new Error("Spectrum: no such method: '" + e3 + "'");
                    "get" == e3 ? o3 = n4.get() : "container" == e3 ? o3 = n4.container : "option" == e3 ? o3 = n4.option.apply(n4, i3) : "destroy" == e3 ? (n4.destroy(), t3(this).removeData(c2)) : a3.apply(n4, i3);
                  }
                })), o3;
              }
              return this.spectrum("destroy").each((function() {
                var n4 = T2(this, t3.extend({}, e3, t3(this).data()));
                t3(this).data(c2, n4.id);
              }));
            }, t3.fn.spectrum.load = true, t3.fn.spectrum.loadOpts = {}, t3.fn.spectrum.draggable = A2, t3.fn.spectrum.defaults = o2, t3.fn.spectrum.inputTypeColorSupport = function e3() {
              if (void 0 === e3._cachedResult) {
                var n3 = t3("<input type='color'/>")[0];
                e3._cachedResult = "color" === n3.type && "" !== n3.value;
              }
              return e3._cachedResult;
            }, t3.spectrum = {}, t3.spectrum.localization = {}, t3.spectrum.palettes = {}, t3.fn.spectrum.processNativeColorInputs = function() {
              var e3 = t3("input[type=color]");
              e3.length && !j2() && e3.spectrum({ preferredFormat: "hex6" });
            };
            var u2 = /^[\s,#]+/, p2 = /\s+$/, d2 = 0, f2 = Math, h2 = f2.round, v2 = f2.min, g2 = f2.max, y2 = f2.random, m2 = function(t4, e3) {
              if (e3 = e3 || {}, (t4 = t4 || "") instanceof m2) return t4;
              if (!(this instanceof m2)) return new m2(t4, e3);
              var n3 = (function(t5) {
                var e4 = { r: 0, g: 0, b: 0 }, n4 = 1, o3 = false, r3 = false;
                "string" == typeof t5 && (t5 = (function(t6) {
                  t6 = t6.replace(u2, "").replace(p2, "").toLowerCase();
                  var e5, n5 = false;
                  if (x2[t6]) t6 = x2[t6], n5 = true;
                  else if ("transparent" == t6) return { r: 0, g: 0, b: 0, a: 0, format: "name" };
                  if (e5 = S2.rgb.exec(t6)) return { r: e5[1], g: e5[2], b: e5[3] };
                  if (e5 = S2.rgba.exec(t6)) return { r: e5[1], g: e5[2], b: e5[3], a: e5[4] };
                  if (e5 = S2.hsl.exec(t6)) return { h: e5[1], s: e5[2], l: e5[3] };
                  if (e5 = S2.hsla.exec(t6)) return { h: e5[1], s: e5[2], l: e5[3], a: e5[4] };
                  if (e5 = S2.hsv.exec(t6)) return { h: e5[1], s: e5[2], v: e5[3] };
                  if (e5 = S2.hsva.exec(t6)) return { h: e5[1], s: e5[2], v: e5[3], a: e5[4] };
                  if (e5 = S2.hex8.exec(t6)) return { a: et2(e5[1]), r: Z2(e5[2]), g: Z2(e5[3]), b: Z2(e5[4]), format: n5 ? "name" : "hex8" };
                  if (e5 = S2.hex6.exec(t6)) return { r: Z2(e5[1]), g: Z2(e5[2]), b: Z2(e5[3]), format: n5 ? "name" : "hex" };
                  if (e5 = S2.hex3.exec(t6)) return { r: Z2(e5[1] + "" + e5[1]), g: Z2(e5[2] + "" + e5[2]), b: Z2(e5[3] + "" + e5[3]), format: n5 ? "name" : "hex" };
                  return false;
                })(t5));
                "object" == typeof t5 && (t5.hasOwnProperty("r") && t5.hasOwnProperty("g") && t5.hasOwnProperty("b") ? (i3 = t5.r, a3 = t5.g, s3 = t5.b, e4 = { r: 255 * J2(i3, 255), g: 255 * J2(a3, 255), b: 255 * J2(s3, 255) }, o3 = true, r3 = "%" === String(t5.r).substr(-1) ? "prgb" : "rgb") : t5.hasOwnProperty("h") && t5.hasOwnProperty("s") && t5.hasOwnProperty("v") ? (t5.s = tt2(t5.s), t5.v = tt2(t5.v), e4 = (function(t6, e5, n5) {
                  t6 = 6 * J2(t6, 360), e5 = J2(e5, 100), n5 = J2(n5, 100);
                  var o4 = f2.floor(t6), r4 = t6 - o4, i4 = n5 * (1 - e5), a4 = n5 * (1 - r4 * e5), s4 = n5 * (1 - (1 - r4) * e5), l3 = o4 % 6, c3 = [n5, a4, i4, i4, s4, n5][l3], u3 = [s4, n5, n5, a4, i4, i4][l3], p3 = [i4, i4, s4, n5, n5, a4][l3];
                  return { r: 255 * c3, g: 255 * u3, b: 255 * p3 };
                })(t5.h, t5.s, t5.v), o3 = true, r3 = "hsv") : t5.hasOwnProperty("h") && t5.hasOwnProperty("s") && t5.hasOwnProperty("l") && (t5.s = tt2(t5.s), t5.l = tt2(t5.l), e4 = (function(t6, e5, n5) {
                  var o4, r4, i4;
                  function a4(t7, e6, n6) {
                    return n6 < 0 && (n6 += 1), n6 > 1 && (n6 -= 1), n6 < 1 / 6 ? t7 + 6 * (e6 - t7) * n6 : n6 < 1 / 2 ? e6 : n6 < 2 / 3 ? t7 + (e6 - t7) * (2 / 3 - n6) * 6 : t7;
                  }
                  if (t6 = J2(t6, 360), e5 = J2(e5, 100), n5 = J2(n5, 100), 0 === e5) o4 = r4 = i4 = n5;
                  else {
                    var s4 = n5 < 0.5 ? n5 * (1 + e5) : n5 + e5 - n5 * e5, l3 = 2 * n5 - s4;
                    o4 = a4(l3, s4, t6 + 1 / 3), r4 = a4(l3, s4, t6), i4 = a4(l3, s4, t6 - 1 / 3);
                  }
                  return { r: 255 * o4, g: 255 * r4, b: 255 * i4 };
                })(t5.h, t5.s, t5.l), o3 = true, r3 = "hsl"), t5.hasOwnProperty("a") && (n4 = t5.a));
                var i3, a3, s3;
                return n4 = Y2(n4), { ok: o3, format: t5.format || r3, r: v2(255, g2(e4.r, 0)), g: v2(255, g2(e4.g, 0)), b: v2(255, g2(e4.b, 0)), a: n4 };
              })(t4);
              this._originalInput = t4, this._r = n3.r, this._g = n3.g, this._b = n3.b, this._a = n3.a, this._roundA = h2(100 * this._a) / 100, this._format = e3.format || n3.format, this._gradientType = e3.gradientType, this._r < 1 && (this._r = h2(this._r)), this._g < 1 && (this._g = h2(this._g)), this._b < 1 && (this._b = h2(this._b)), this._ok = n3.ok, this._tc_id = d2++;
            };
            m2.prototype = { isDark: function() {
              return this.getBrightness() < 128;
            }, isLight: function() {
              return !this.isDark();
            }, isValid: function() {
              return this._ok;
            }, getOriginalInput: function() {
              return this._originalInput;
            }, getFormat: function() {
              return this._format;
            }, getAlpha: function() {
              return this._a;
            }, getBrightness: function() {
              var t4 = this.toRgb();
              return (299 * t4.r + 587 * t4.g + 114 * t4.b) / 1e3;
            }, setAlpha: function(t4) {
              return this._a = Y2(t4), this._roundA = h2(100 * this._a) / 100, this;
            }, toHsv: function() {
              var t4 = D2(this._r, this._g, this._b);
              return { h: 360 * t4.h, s: t4.s, v: t4.v, a: this._a };
            }, toHsvString: function() {
              var t4 = D2(this._r, this._g, this._b), e3 = h2(360 * t4.h), n3 = h2(100 * t4.s), o3 = h2(100 * t4.v);
              return 1 == this._a ? "hsv(" + e3 + ", " + n3 + "%, " + o3 + "%)" : "hsva(" + e3 + ", " + n3 + "%, " + o3 + "%, " + this._roundA + ")";
            }, toHsl: function() {
              var t4 = M2(this._r, this._g, this._b);
              return { h: 360 * t4.h, s: t4.s, l: t4.l, a: this._a };
            }, toHslString: function() {
              var t4 = M2(this._r, this._g, this._b), e3 = h2(360 * t4.h), n3 = h2(100 * t4.s), o3 = h2(100 * t4.l);
              return 1 == this._a ? "hsl(" + e3 + ", " + n3 + "%, " + o3 + "%)" : "hsla(" + e3 + ", " + n3 + "%, " + o3 + "%, " + this._roundA + ")";
            }, toHex: function(t4) {
              return L2(this._r, this._g, this._b, t4);
            }, toHexString: function(t4) {
              return "#" + this.toHex(t4);
            }, toHex8: function() {
              return I2(this._r, this._g, this._b, this._a);
            }, toHex8String: function() {
              return "#" + this.toHex8();
            }, toRgb: function() {
              return { r: h2(this._r), g: h2(this._g), b: h2(this._b), a: this._a };
            }, toRgbString: function() {
              return 1 == this._a ? "rgb(" + h2(this._r) + ", " + h2(this._g) + ", " + h2(this._b) + ")" : "rgba(" + h2(this._r) + ", " + h2(this._g) + ", " + h2(this._b) + ", " + this._roundA + ")";
            }, toPercentageRgb: function() {
              return { r: h2(100 * J2(this._r, 255)) + "%", g: h2(100 * J2(this._g, 255)) + "%", b: h2(100 * J2(this._b, 255)) + "%", a: this._a };
            }, toPercentageRgbString: function() {
              return 1 == this._a ? "rgb(" + h2(100 * J2(this._r, 255)) + "%, " + h2(100 * J2(this._g, 255)) + "%, " + h2(100 * J2(this._b, 255)) + "%)" : "rgba(" + h2(100 * J2(this._r, 255)) + "%, " + h2(100 * J2(this._g, 255)) + "%, " + h2(100 * J2(this._b, 255)) + "%, " + this._roundA + ")";
            }, toName: function() {
              return 0 === this._a ? "transparent" : !(this._a < 1) && (C2[L2(this._r, this._g, this._b, true)] || false);
            }, toFilter: function(t4) {
              var e3 = "#" + I2(this._r, this._g, this._b, this._a), n3 = e3, o3 = this._gradientType ? "GradientType = 1, " : "";
              t4 && (n3 = m2(t4).toHex8String());
              return "progid:DXImageTransform.Microsoft.gradient(" + o3 + "startColorstr=" + e3 + ",endColorstr=" + n3 + ")";
            }, toString: function(t4) {
              var e3 = !!t4;
              t4 = t4 || this._format;
              var n3 = false, o3 = this._a < 1 && this._a >= 0;
              return e3 || !o3 || "hex" !== t4 && "hex6" !== t4 && "hex3" !== t4 && "name" !== t4 ? ("rgb" === t4 && (n3 = this.toRgbString()), "prgb" === t4 && (n3 = this.toPercentageRgbString()), "hex" !== t4 && "hex6" !== t4 || (n3 = this.toHexString()), "hex3" === t4 && (n3 = this.toHexString(true)), "hex8" === t4 && (n3 = this.toHex8String()), "name" === t4 && (n3 = this.toName()), "hsl" === t4 && (n3 = this.toHslString()), "hsv" === t4 && (n3 = this.toHsvString()), n3 || this.toHexString()) : "name" === t4 && 0 === this._a ? this.toName() : this.toRgbString();
            }, _applyModification: function(t4, e3) {
              var n3 = t4.apply(null, [this].concat([].slice.call(e3)));
              return this._r = n3._r, this._g = n3._g, this._b = n3._b, this.setAlpha(n3._a), this;
            }, lighten: function() {
              return this._applyModification(F2, arguments);
            }, brighten: function() {
              return this._applyModification(H2, arguments);
            }, darken: function() {
              return this._applyModification(U2, arguments);
            }, desaturate: function() {
              return this._applyModification(N2, arguments);
            }, saturate: function() {
              return this._applyModification(R2, arguments);
            }, greyscale: function() {
              return this._applyModification(V2, arguments);
            }, spin: function() {
              return this._applyModification(z2, arguments);
            }, _applyCombination: function(t4, e3) {
              return t4.apply(null, [this].concat([].slice.call(e3)));
            }, analogous: function() {
              return this._applyCombination(G2, arguments);
            }, complement: function() {
              return this._applyCombination(B2, arguments);
            }, monochromatic: function() {
              return this._applyCombination(K2, arguments);
            }, splitcomplement: function() {
              return this._applyCombination(q2, arguments);
            }, triad: function() {
              return this._applyCombination(W2, arguments);
            }, tetrad: function() {
              return this._applyCombination($2, arguments);
            } }, m2.fromRatio = function(t4, e3) {
              if ("object" == typeof t4) {
                var n3 = {};
                for (var o3 in t4) t4.hasOwnProperty(o3) && (n3[o3] = "a" === o3 ? t4[o3] : tt2(t4[o3]));
                t4 = n3;
              }
              return m2(t4, e3);
            }, m2.equals = function(t4, e3) {
              return !(!t4 || !e3) && m2(t4).toRgbString() == m2(e3).toRgbString();
            }, m2.random = function() {
              return m2.fromRatio({ r: y2(), g: y2(), b: y2() });
            }, m2.mix = function(t4, e3, n3) {
              n3 = 0 === n3 ? 0 : n3 || 50;
              var o3, r3 = m2(t4).toRgb(), i3 = m2(e3).toRgb(), a3 = n3 / 100, s3 = 2 * a3 - 1, l3 = i3.a - r3.a, c3 = 1 - (o3 = ((o3 = s3 * l3 == -1 ? s3 : (s3 + l3) / (1 + s3 * l3)) + 1) / 2), u3 = { r: i3.r * o3 + r3.r * c3, g: i3.g * o3 + r3.g * c3, b: i3.b * o3 + r3.b * c3, a: i3.a * a3 + r3.a * (1 - a3) };
              return m2(u3);
            }, m2.readability = function(t4, e3) {
              var n3 = m2(t4), o3 = m2(e3), r3 = n3.toRgb(), i3 = o3.toRgb(), a3 = n3.getBrightness(), s3 = o3.getBrightness(), l3 = Math.max(r3.r, i3.r) - Math.min(r3.r, i3.r) + Math.max(r3.g, i3.g) - Math.min(r3.g, i3.g) + Math.max(r3.b, i3.b) - Math.min(r3.b, i3.b);
              return { brightness: Math.abs(a3 - s3), color: l3 };
            }, m2.isReadable = function(t4, e3) {
              var n3 = m2.readability(t4, e3);
              return n3.brightness > 125 && n3.color > 500;
            }, m2.mostReadable = function(t4, e3) {
              for (var n3 = null, o3 = 0, r3 = false, i3 = 0; i3 < e3.length; i3++) {
                var a3 = m2.readability(t4, e3[i3]), s3 = a3.brightness > 125 && a3.color > 500, l3 = 3 * (a3.brightness / 125) + a3.color / 500;
                (s3 && !r3 || s3 && r3 && l3 > o3 || !s3 && !r3 && l3 > o3) && (r3 = s3, o3 = l3, n3 = m2(e3[i3]));
              }
              return n3;
            };
            var b2, _2, w2, x2 = m2.names = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "0ff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000", blanchedalmond: "ffebcd", blue: "00f", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", burntsienna: "ea7e5d", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "0ff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkgrey: "a9a9a9", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkslategrey: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dimgrey: "696969", dodgerblue: "1e90ff", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "f0f", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "008000", greenyellow: "adff2f", grey: "808080", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgray: "d3d3d3", lightgreen: "90ee90", lightgrey: "d3d3d3", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslategray: "789", lightslategrey: "789", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "0f0", limegreen: "32cd32", linen: "faf0e6", magenta: "f0f", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370db", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "db7093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", rebeccapurple: "663399", red: "f00", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", slategrey: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", wheat: "f5deb3", white: "fff", whitesmoke: "f5f5f5", yellow: "ff0", yellowgreen: "9acd32" }, C2 = m2.hexNames = (function(t4) {
              var e3 = {};
              for (var n3 in t4) t4.hasOwnProperty(n3) && (e3[t4[n3]] = n3);
              return e3;
            })(x2), S2 = (_2 = "[\\s|\\(]+(" + (b2 = "(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)") + ")[,|\\s]+(" + b2 + ")[,|\\s]+(" + b2 + ")\\s*\\)?", w2 = "[\\s|\\(]+(" + b2 + ")[,|\\s]+(" + b2 + ")[,|\\s]+(" + b2 + ")[,|\\s]+(" + b2 + ")\\s*\\)?", { rgb: new RegExp("rgb" + _2), rgba: new RegExp("rgba" + w2), hsl: new RegExp("hsl" + _2), hsla: new RegExp("hsla" + w2), hsv: new RegExp("hsv" + _2), hsva: new RegExp("hsva" + w2), hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/, hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/ });
            window.tinycolor = m2, t3((function() {
              t3.fn.spectrum.load && t3.fn.spectrum.processNativeColorInputs();
            }));
          }
          function O2(e3, n3, o3, r3) {
            for (var i3 = [], s3 = 0; s3 < e3.length; s3++) {
              var l3 = e3[s3];
              if (l3) {
                var c3 = m2(l3), u3 = c3.toHsl().l < 0.5 ? "sp-thumb-el sp-thumb-dark" : "sp-thumb-el sp-thumb-light";
                u3 += m2.equals(n3, l3) ? " sp-thumb-active" : "";
                var p3 = c3.toString(r3.preferredFormat || "rgb"), d3 = a2 ? "background-color:" + c3.toRgbString() : "filter:" + c3.toFilter();
                i3.push('<span title="' + p3 + '" data-color="' + c3.toRgbString() + '" class="' + u3 + '"><span class="sp-thumb-inner" style="' + d3 + ';"></span></span>');
              } else {
                i3.push(t3("<div />").append(t3('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title", r3.noColorSelectedText)).html());
              }
            }
            return "<div class='sp-cf " + o3 + "'>" + i3.join("") + "</div>";
          }
          function T2(e3, c3) {
            var u3, p3, d3, f3, h3 = (function(e4, n3) {
              var r3 = t3.extend({}, o2, e4);
              return r3.callbacks = { move: k2(r3.move, n3), change: k2(r3.change, n3), show: k2(r3.show, n3), hide: k2(r3.hide, n3), beforeShow: k2(r3.beforeShow, n3) }, r3;
            })(c3, e3), v3 = h3.flat, g3 = h3.showSelectionPalette, y3 = h3.localStorageKey, b3 = h3.theme, _3 = h3.callbacks, w3 = (u3 = $t2, p3 = 10, function() {
              var t4 = this, e4 = arguments, n3 = function() {
                f3 = null, u3.apply(t4, e4);
              };
              d3 && clearTimeout(f3), !d3 && f3 || (f3 = setTimeout(n3, p3));
            }), x3 = false, C3 = false, S3 = true, T3 = 0, P3 = 0, M3 = 0, D3 = 0, L3 = 0, I3 = 0, N3 = 0, R3 = 0, V3 = 0, F3 = 0, H3 = 1, U3 = [], z3 = [], B3 = {}, W3 = h3.selectionPalette.slice(0), $3 = h3.maxSelectionSize, q3 = "sp-dragging", G3 = null, K3 = e3.ownerDocument, Y3 = (K3.body, t3(e3)), J3 = false, X3 = t3(l2, K3).addClass(b3), Z3 = X3.find(".sp-picker-container"), Q3 = X3.find(".sp-color"), tt3 = X3.find(".sp-dragger"), et3 = X3.find(".sp-hue"), nt2 = X3.find(".sp-slider"), ot2 = X3.find(".sp-alpha-inner"), rt2 = X3.find(".sp-alpha"), it2 = X3.find(".sp-alpha-handle"), at2 = X3.find(".sp-input"), st2 = X3.find(".sp-palette"), lt2 = X3.find(".sp-initial"), ct2 = X3.find(".sp-cancel"), ut2 = X3.find(".sp-clear"), pt2 = X3.find(".sp-choose"), dt2 = X3.find(".sp-palette-toggle"), ft2 = Y3.is("input"), ht2 = ft2 && "color" === Y3.attr("type") && j2(), vt2 = ft2 && !v3, gt2 = vt2 ? t3(s2).addClass(b3).addClass(h3.className).addClass(h3.replacerClassName) : t3([]), yt2 = vt2 ? gt2 : Y3, mt2 = gt2.find(".sp-preview-inner"), bt2 = h3.color || ft2 && Y3.val(), _t2 = false, wt2 = h3.preferredFormat, xt2 = !h3.showButtons || h3.clickoutFiresChange, Ct2 = !bt2, St2 = h3.allowEmpty && !ht2;
            function Ot2() {
              if (h3.showPaletteOnly && (h3.showPalette = true), dt2.text(h3.showPaletteOnly ? h3.togglePaletteMoreText : h3.togglePaletteLessText), h3.palette) {
                U3 = h3.palette.slice(0), z3 = t3.isArray(U3[0]) ? U3 : [U3], B3 = {};
                for (var e4 = 0; e4 < z3.length; e4++) for (var n3 = 0; n3 < z3[e4].length; n3++) {
                  var o3 = m2(z3[e4][n3]).toRgbString();
                  B3[o3] = true;
                }
              }
              X3.toggleClass("sp-flat", v3), X3.toggleClass("sp-input-disabled", !h3.showInput), X3.toggleClass("sp-alpha-enabled", h3.showAlpha), X3.toggleClass("sp-clear-enabled", St2), X3.toggleClass("sp-buttons-disabled", !h3.showButtons), X3.toggleClass("sp-palette-buttons-disabled", !h3.togglePaletteOnly), X3.toggleClass("sp-palette-disabled", !h3.showPalette), X3.toggleClass("sp-palette-only", h3.showPaletteOnly), X3.toggleClass("sp-initial-disabled", !h3.showInitial), X3.addClass(h3.className).addClass(h3.containerClassName), $t2();
            }
            function Tt2() {
              if (y3 && window.localStorage) {
                try {
                  var e4 = window.localStorage[y3].split(",#");
                  e4.length > 1 && (delete window.localStorage[y3], t3.each(e4, (function(t4, e5) {
                    Pt2(e5);
                  })));
                } catch (t4) {
                }
                try {
                  W3 = window.localStorage[y3].split(";");
                } catch (t4) {
                }
              }
            }
            function Pt2(e4) {
              if (g3) {
                var n3 = m2(e4).toRgbString();
                if (!B3[n3] && -1 === t3.inArray(n3, W3)) for (W3.push(n3); W3.length > $3; ) W3.shift();
                if (y3 && window.localStorage) try {
                  window.localStorage[y3] = W3.join(";");
                } catch (t4) {
                }
              }
            }
            function Et2() {
              var e4 = Ht2(), n3 = t3.map(z3, (function(t4, n4) {
                return O2(t4, e4, "sp-palette-row sp-palette-row-" + n4, h3);
              }));
              Tt2(), W3 && n3.push(O2((function() {
                var t4 = [];
                if (h3.showPalette) for (var e5 = 0; e5 < W3.length; e5++) {
                  var n4 = m2(W3[e5]).toRgbString();
                  B3[n4] || t4.push(W3[e5]);
                }
                return t4.reverse().slice(0, h3.maxSelectionSize);
              })(), e4, "sp-palette-row sp-palette-row-selection", h3)), st2.html(n3.join(""));
            }
            function kt2() {
              if (h3.showInitial) {
                var t4 = _t2, e4 = Ht2();
                lt2.html(O2([t4, e4], e4, "sp-palette-row-initial", h3));
              }
            }
            function At2() {
              (P3 <= 0 || T3 <= 0 || D3 <= 0) && $t2(), C3 = true, X3.addClass(q3), G3 = null, Y3.trigger("dragstart.spectrum", [Ht2()]);
            }
            function jt2() {
              C3 = false, X3.removeClass(q3), Y3.trigger("dragstop.spectrum", [Ht2()]);
            }
            function Mt2() {
              var t4 = at2.val();
              if (null !== t4 && "" !== t4 || !St2) {
                var e4 = m2(t4);
                e4.isValid() ? (Ft2(e4), Wt2(true)) : at2.addClass("sp-validation-error");
              } else Ft2(null), Wt2(true);
            }
            function Dt2() {
              x3 ? Rt2() : Lt2();
            }
            function Lt2() {
              var e4 = t3.Event("beforeShow.spectrum");
              if (x3) $t2();
              else if (Y3.trigger("beforeShow.spectrum", [Ht2()]), false !== _3.beforeShow(Ht2()) && !e4.isDefaultPrevented()) {
                !(function() {
                  for (var t4 = 0; t4 < r2.length; t4++) r2[t4] && r2[t4].hide();
                })(), x3 = true;
                var n3 = t3(K3);
                n3.bind("keydown.spectrum", It2), n3.bind("click.spectrum", Nt2), t3(window).bind("resize.spectrum", w3), gt2.addClass("sp-active"), X3.removeClass("sp-hidden"), $t2(), zt2(), _t2 = Ht2(), kt2(), _3.show(_t2), Y3.trigger("show.spectrum", [_t2]);
              }
            }
            function It2(t4) {
              27 === t4.keyCode && Rt2();
            }
            function Nt2(t4) {
              2 != t4.button && (C3 || (xt2 ? Wt2(true) : Vt2(), Rt2()));
            }
            function Rt2() {
              x3 && !v3 && (x3 = false, t3(K3).unbind("keydown.spectrum", It2), t3(K3).unbind("click.spectrum", Nt2), t3(window).unbind("resize.spectrum", w3), gt2.removeClass("sp-active"), X3.addClass("sp-hidden"), _3.hide(Ht2()), Y3.trigger("hide.spectrum", [Ht2()]));
            }
            function Vt2() {
              Ft2(_t2, true);
            }
            function Ft2(t4, e4) {
              var n3, o3;
              m2.equals(t4, Ht2()) ? zt2() : (!t4 && St2 ? Ct2 = true : (Ct2 = false, S3 = !t4, o3 = (n3 = m2(t4)).toHsv(), R3 = o3.h % 360 / 360, V3 = o3.s, F3 = o3.v, H3 = o3.a), zt2(), n3 && n3.isValid() && !e4 && (wt2 = h3.preferredFormat || n3.getFormat()));
            }
            function Ht2(t4) {
              return t4 = t4 || {}, St2 && Ct2 ? null : m2.fromRatio({ h: R3, s: V3, v: F3, a: Math.round(100 * H3) / 100 }, { format: t4.format || wt2 });
            }
            function Ut2() {
              zt2(), _3.move(Ht2()), Y3.trigger("move.spectrum", [Ht2()]);
            }
            function zt2() {
              at2.removeClass("sp-validation-error"), Bt2();
              var t4 = m2.fromRatio({ h: R3, s: 1, v: 1 });
              Q3.css("background-color", t4.toHexString());
              var e4 = wt2;
              H3 < 1 && (0 !== H3 || "name" !== e4) && ("hex" !== e4 && "hex3" !== e4 && "hex6" !== e4 && "name" !== e4 || (e4 = "rgb"));
              var n3 = Ht2({ format: e4 }), o3 = "";
              if (mt2.removeClass("sp-clear-display"), mt2.css("background-color", "transparent"), !n3 && St2) mt2.addClass("sp-clear-display");
              else {
                var r3 = n3.toHexString(), s3 = n3.toRgbString();
                if (a2 || 1 === n3.alpha ? mt2.css("background-color", s3) : (mt2.css("background-color", "transparent"), mt2.css("filter", n3.toFilter())), h3.showAlpha) {
                  var l3 = n3.toRgb();
                  l3.a = 0;
                  var c4 = m2(l3).toRgbString(), u4 = "linear-gradient(left, " + c4 + ", " + r3 + ")";
                  i2 ? ot2.css("filter", m2(c4).toFilter({ gradientType: 1 }, r3)) : (ot2.css("background", "-webkit-" + u4), ot2.css("background", "-moz-" + u4), ot2.css("background", "-ms-" + u4), ot2.css("background", "linear-gradient(to right, " + c4 + ", " + r3 + ")"));
                }
                o3 = n3.toString(e4);
              }
              h3.showInput && at2.val(o3), h3.showPalette && Et2(), kt2();
            }
            function Bt2() {
              var t4 = V3, e4 = F3;
              if (St2 && Ct2) it2.hide(), nt2.hide(), tt3.hide();
              else {
                it2.show(), nt2.show(), tt3.show();
                var n3 = t4 * T3, o3 = P3 - e4 * P3;
                n3 = Math.max(-M3, Math.min(T3 - M3, n3 - M3)), o3 = Math.max(-M3, Math.min(P3 - M3, o3 - M3)), tt3.css({ top: o3 + "px", left: n3 + "px" });
                var r3 = H3 * L3;
                it2.css({ left: r3 - I3 / 2 + "px" });
                var i3 = R3 * D3;
                nt2.css({ top: i3 - N3 + "px" });
              }
            }
            function Wt2(t4) {
              var e4 = Ht2(), n3 = "", o3 = !!S3 || !m2.equals(e4, _t2);
              e4 && (n3 = e4.toString(wt2), !x3 && Pt2(e4)), ft2 && Y3.val(n3), t4 && o3 && (_3.change(e4), Y3.trigger("change", [e4]));
            }
            function $t2() {
              x3 && (T3 = Q3.width(), P3 = Q3.height(), M3 = tt3.height(), et3.width(), D3 = et3.height(), N3 = nt2.height(), L3 = rt2.width(), I3 = it2.width(), v3 || (X3.css("position", "absolute"), h3.offset ? X3.offset(h3.offset) : X3.offset((function(t4, e4) {
                var n3 = e4[0], o3 = t4[0], r3 = o3.parentElement, i3 = n3.getBoundingClientRect(), a3 = o3.offsetWidth, s3 = o3.offsetHeight, l3 = { top: 0, left: 0, width: n3.offsetWidth, height: n3.offsetHeight };
                for (; n3 && (l3.top += n3.offsetTop - n3.scrollTop, l3.left += n3.offsetLeft - n3.scrollLeft, n3 !== r3 && r3.contains(n3.offsetParent)); ) n3 = n3.offsetParent;
                i3.right + a3 > window.innerWidth - window.scrollX && i3.right - a3 > 0 && (l3.left -= a3 - l3.width);
                i3.bottom + s3 < window.innerHeight - window.scrollY ? l3.top += l3.height : l3.top -= s3;
                return l3;
              })(X3, yt2))), Bt2(), h3.showPalette && Et2(), Y3.trigger("reflow.spectrum"));
            }
            function qt2() {
              Rt2(), J3 = true, Y3.attr("disabled", true), yt2.addClass("sp-disabled");
            }
            !(function() {
              if (i2 && X3.find("*:not(input)").attr("unselectable", "on"), Ot2(), vt2 && Y3.after(gt2).hide(), St2 || ut2.hide(), v3) Y3.after(X3).hide();
              else {
                var e4 = "parent" === h3.appendTo ? Y3.parent() : t3(h3.appendTo);
                1 !== e4.length && (e4 = t3("body")), e4.append(X3);
              }
              function n3(e5) {
                return e5.data && e5.data.ignore ? (Ft2(t3(e5.target).closest(".sp-thumb-el").data("color")), Ut2()) : (Ft2(t3(e5.target).closest(".sp-thumb-el").data("color")), Ut2(), h3.hideAfterPaletteSelect && (Wt2(true), Rt2())), false;
              }
              Tt2(), yt2.bind("click.spectrum touchstart.spectrum", (function(e5) {
                J3 || Dt2(), e5.stopPropagation(), t3(e5.target).is("input") || e5.preventDefault();
              })), (Y3.is(":disabled") || true === h3.disabled) && qt2(), X3.click(E2), at2.change(Mt2), at2.bind("paste", (function() {
                setTimeout(Mt2, 1);
              })), at2.keydown((function(t4) {
                13 == t4.keyCode && Mt2();
              })), ct2.text(h3.cancelText), ct2.bind("click.spectrum", (function(t4) {
                t4.stopPropagation(), t4.preventDefault(), Vt2(), Rt2();
              })), ut2.attr("title", h3.clearText), ut2.bind("click.spectrum", (function(t4) {
                t4.stopPropagation(), t4.preventDefault(), Ct2 = true, Ut2(), v3 && Wt2(true);
              })), pt2.text(h3.chooseText), pt2.bind("click.spectrum", (function(t4) {
                t4.stopPropagation(), t4.preventDefault(), i2 && at2.is(":focus") && at2.trigger("change"), at2.hasClass("sp-validation-error") || (Wt2(true), Rt2());
              })), dt2.text(h3.showPaletteOnly ? h3.togglePaletteMoreText : h3.togglePaletteLessText), dt2.bind("click.spectrum", (function(t4) {
                t4.stopPropagation(), t4.preventDefault(), h3.showPaletteOnly = !h3.showPaletteOnly, h3.showPaletteOnly || v3 || X3.css("left", "-=" + (Z3.outerWidth(true) + 5)), Ot2();
              })), A2(rt2, (function(t4, e5, n4) {
                H3 = t4 / L3, Ct2 = false, n4.shiftKey && (H3 = Math.round(10 * H3) / 10), Ut2();
              }), At2, jt2), A2(et3, (function(t4, e5) {
                R3 = parseFloat(e5 / D3), Ct2 = false, h3.showAlpha || (H3 = 1), Ut2();
              }), At2, jt2), A2(Q3, (function(t4, e5, n4) {
                if (n4.shiftKey) {
                  if (!G3) {
                    var o4 = V3 * T3, r3 = P3 - F3 * P3, i3 = Math.abs(t4 - o4) > Math.abs(e5 - r3);
                    G3 = i3 ? "x" : "y";
                  }
                } else G3 = null;
                var a3 = !G3 || "y" === G3;
                (!G3 || "x" === G3) && (V3 = parseFloat(t4 / T3)), a3 && (F3 = parseFloat((P3 - e5) / P3)), Ct2 = false, h3.showAlpha || (H3 = 1), Ut2();
              }), At2, jt2), bt2 ? (Ft2(bt2), zt2(), wt2 = h3.preferredFormat || m2(bt2).getFormat(), Pt2(bt2)) : zt2(), v3 && Lt2();
              var o3 = i2 ? "mousedown.spectrum" : "click.spectrum touchstart.spectrum";
              st2.delegate(".sp-thumb-el", o3, n3), lt2.delegate(".sp-thumb-el:nth-child(1)", o3, { ignore: true }, n3);
            })();
            var Gt2 = { show: Lt2, hide: Rt2, toggle: Dt2, reflow: $t2, option: function(e4, o3) {
              return e4 === n2 ? t3.extend({}, h3) : o3 === n2 ? h3[e4] : (h3[e4] = o3, "preferredFormat" === e4 && (wt2 = h3.preferredFormat), void Ot2());
            }, enable: function() {
              J3 = false, Y3.attr("disabled", false), yt2.removeClass("sp-disabled");
            }, disable: qt2, offset: function(t4) {
              h3.offset = t4, $t2();
            }, set: function(t4) {
              Ft2(t4), Wt2();
            }, get: Ht2, destroy: function() {
              Y3.show(), yt2.unbind("click.spectrum touchstart.spectrum"), X3.remove(), gt2.remove(), r2[Gt2.id] = null;
            }, container: X3 };
            return Gt2.id = r2.push(Gt2) - 1, Gt2;
          }
          function P2() {
          }
          function E2(t4) {
            t4.stopPropagation();
          }
          function k2(t4, e3) {
            var n3 = Array.prototype.slice, o3 = n3.call(arguments, 2);
            return function() {
              return t4.apply(e3, o3.concat(n3.call(arguments)));
            };
          }
          function A2(e3, n3, o3, r3) {
            n3 = n3 || function() {
            }, o3 = o3 || function() {
            }, r3 = r3 || function() {
            };
            var a3 = document, s3 = false, l3 = {}, c3 = 0, u3 = 0, p3 = "ontouchstart" in window, d3 = {};
            function f3(t4) {
              t4.stopPropagation && t4.stopPropagation(), t4.preventDefault && t4.preventDefault(), t4.returnValue = false;
            }
            function h3(t4) {
              if (s3) {
                if (i2 && a3.documentMode < 9 && !t4.button) return v3();
                var o4 = t4 && t4.touches && t4.touches[0], r4 = o4 && o4.pageX || t4.pageX, d4 = o4 && o4.pageY || t4.pageY, h4 = Math.max(0, Math.min(r4 - l3.left, u3)), g3 = Math.max(0, Math.min(d4 - l3.top, c3));
                p3 && f3(t4), n3.apply(e3, [h4, g3, t4]);
              }
            }
            function v3() {
              s3 && (t3(a3).unbind(d3), t3(a3.body).removeClass("sp-dragging"), setTimeout((function() {
                r3.apply(e3, arguments);
              }), 0)), s3 = false;
            }
            d3["selectstart"] = f3, d3["dragstart"] = f3, d3["touchmove mousemove"] = h3, d3["touchend mouseup"] = v3, t3(e3).bind("touchstart mousedown", (function(n4) {
              (n4.which ? 3 == n4.which : 2 == n4.button) || s3 || false !== o3.apply(e3, arguments) && (s3 = true, c3 = t3(e3).height(), u3 = t3(e3).width(), l3 = t3(e3).offset(), t3(a3).bind(d3), t3(a3.body).addClass("sp-dragging"), h3(n4), f3(n4));
            }));
          }
          function j2() {
            return t3.fn.spectrum.inputTypeColorSupport();
          }
          function M2(t4, e3, n3) {
            t4 = J2(t4, 255), e3 = J2(e3, 255), n3 = J2(n3, 255);
            var o3, r3, i3 = g2(t4, e3, n3), a3 = v2(t4, e3, n3), s3 = (i3 + a3) / 2;
            if (i3 == a3) o3 = r3 = 0;
            else {
              var l3 = i3 - a3;
              switch (r3 = s3 > 0.5 ? l3 / (2 - i3 - a3) : l3 / (i3 + a3), i3) {
                case t4:
                  o3 = (e3 - n3) / l3 + (e3 < n3 ? 6 : 0);
                  break;
                case e3:
                  o3 = (n3 - t4) / l3 + 2;
                  break;
                case n3:
                  o3 = (t4 - e3) / l3 + 4;
              }
              o3 /= 6;
            }
            return { h: o3, s: r3, l: s3 };
          }
          function D2(t4, e3, n3) {
            t4 = J2(t4, 255), e3 = J2(e3, 255), n3 = J2(n3, 255);
            var o3, r3, i3 = g2(t4, e3, n3), a3 = v2(t4, e3, n3), s3 = i3, l3 = i3 - a3;
            if (r3 = 0 === i3 ? 0 : l3 / i3, i3 == a3) o3 = 0;
            else {
              switch (i3) {
                case t4:
                  o3 = (e3 - n3) / l3 + (e3 < n3 ? 6 : 0);
                  break;
                case e3:
                  o3 = (n3 - t4) / l3 + 2;
                  break;
                case n3:
                  o3 = (t4 - e3) / l3 + 4;
              }
              o3 /= 6;
            }
            return { h: o3, s: r3, v: s3 };
          }
          function L2(t4, e3, n3, o3) {
            var r3 = [Q2(h2(t4).toString(16)), Q2(h2(e3).toString(16)), Q2(h2(n3).toString(16))];
            return o3 && r3[0].charAt(0) == r3[0].charAt(1) && r3[1].charAt(0) == r3[1].charAt(1) && r3[2].charAt(0) == r3[2].charAt(1) ? r3[0].charAt(0) + r3[1].charAt(0) + r3[2].charAt(0) : r3.join("");
          }
          function I2(t4, e3, n3, o3) {
            var r3;
            return [Q2((r3 = o3, Math.round(255 * parseFloat(r3)).toString(16))), Q2(h2(t4).toString(16)), Q2(h2(e3).toString(16)), Q2(h2(n3).toString(16))].join("");
          }
          function N2(t4, e3) {
            e3 = 0 === e3 ? 0 : e3 || 10;
            var n3 = m2(t4).toHsl();
            return n3.s -= e3 / 100, n3.s = X2(n3.s), m2(n3);
          }
          function R2(t4, e3) {
            e3 = 0 === e3 ? 0 : e3 || 10;
            var n3 = m2(t4).toHsl();
            return n3.s += e3 / 100, n3.s = X2(n3.s), m2(n3);
          }
          function V2(t4) {
            return m2(t4).desaturate(100);
          }
          function F2(t4, e3) {
            e3 = 0 === e3 ? 0 : e3 || 10;
            var n3 = m2(t4).toHsl();
            return n3.l += e3 / 100, n3.l = X2(n3.l), m2(n3);
          }
          function H2(t4, e3) {
            e3 = 0 === e3 ? 0 : e3 || 10;
            var n3 = m2(t4).toRgb();
            return n3.r = g2(0, v2(255, n3.r - h2(255 * (-e3 / 100)))), n3.g = g2(0, v2(255, n3.g - h2(255 * (-e3 / 100)))), n3.b = g2(0, v2(255, n3.b - h2(255 * (-e3 / 100)))), m2(n3);
          }
          function U2(t4, e3) {
            e3 = 0 === e3 ? 0 : e3 || 10;
            var n3 = m2(t4).toHsl();
            return n3.l -= e3 / 100, n3.l = X2(n3.l), m2(n3);
          }
          function z2(t4, e3) {
            var n3 = m2(t4).toHsl(), o3 = (h2(n3.h) + e3) % 360;
            return n3.h = o3 < 0 ? 360 + o3 : o3, m2(n3);
          }
          function B2(t4) {
            var e3 = m2(t4).toHsl();
            return e3.h = (e3.h + 180) % 360, m2(e3);
          }
          function W2(t4) {
            var e3 = m2(t4).toHsl(), n3 = e3.h;
            return [m2(t4), m2({ h: (n3 + 120) % 360, s: e3.s, l: e3.l }), m2({ h: (n3 + 240) % 360, s: e3.s, l: e3.l })];
          }
          function $2(t4) {
            var e3 = m2(t4).toHsl(), n3 = e3.h;
            return [m2(t4), m2({ h: (n3 + 90) % 360, s: e3.s, l: e3.l }), m2({ h: (n3 + 180) % 360, s: e3.s, l: e3.l }), m2({ h: (n3 + 270) % 360, s: e3.s, l: e3.l })];
          }
          function q2(t4) {
            var e3 = m2(t4).toHsl(), n3 = e3.h;
            return [m2(t4), m2({ h: (n3 + 72) % 360, s: e3.s, l: e3.l }), m2({ h: (n3 + 216) % 360, s: e3.s, l: e3.l })];
          }
          function G2(t4, e3, n3) {
            e3 = e3 || 6, n3 = n3 || 30;
            var o3 = m2(t4).toHsl(), r3 = 360 / n3, i3 = [m2(t4)];
            for (o3.h = (o3.h - (r3 * e3 >> 1) + 720) % 360; --e3; ) o3.h = (o3.h + r3) % 360, i3.push(m2(o3));
            return i3;
          }
          function K2(t4, e3) {
            e3 = e3 || 6;
            for (var n3 = m2(t4).toHsv(), o3 = n3.h, r3 = n3.s, i3 = n3.v, a3 = [], s3 = 1 / e3; e3--; ) a3.push(m2({ h: o3, s: r3, v: i3 })), i3 = (i3 + s3) % 1;
            return a3;
          }
          function Y2(t4) {
            return t4 = parseFloat(t4), (isNaN(t4) || t4 < 0 || t4 > 1) && (t4 = 1), t4;
          }
          function J2(t4, e3) {
            (function(t5) {
              return "string" == typeof t5 && -1 != t5.indexOf(".") && 1 === parseFloat(t5);
            })(t4) && (t4 = "100%");
            var n3 = (function(t5) {
              return "string" == typeof t5 && -1 != t5.indexOf("%");
            })(t4);
            return t4 = v2(e3, g2(0, parseFloat(t4))), n3 && (t4 = parseInt(t4 * e3, 10) / 100), f2.abs(t4 - e3) < 1e-6 ? 1 : t4 % e3 / parseFloat(e3);
          }
          function X2(t4) {
            return v2(1, g2(0, t4));
          }
          function Z2(t4) {
            return parseInt(t4, 16);
          }
          function Q2(t4) {
            return 1 == t4.length ? "0" + t4 : "" + t4;
          }
          function tt2(t4) {
            return t4 <= 1 && (t4 = 100 * t4 + "%"), t4;
          }
          function et2(t4) {
            return Z2(t4) / 255;
          }
        })(l["default"]);
        var jc = function(t3) {
          var e3 = "name" === t3.getFormat() && t3.toName(), n2 = 1 == t3.getAlpha() ? t3.toHexString() : t3.toRgbString();
          return e3 || n2.replace(/ /g, "");
        }, Mc = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return kc(n2, e3), n2.prototype.template = function() {
            var t3 = this.ppfx;
            return '\n      <div class="'.concat(this.holderClass(), '"></div>\n      <div class="').concat(t3, 'field-colorp">\n        <div class="').concat(t3, 'field-colorp-c" data-colorp-c>\n          <div class="').concat(t3, 'checker-bg"></div>\n        </div>\n      </div>\n    ');
          }, n2.prototype.inputClass = function() {
            var t3 = this.ppfx;
            return "".concat(t3, "field ").concat(t3, "field-color");
          }, n2.prototype.holderClass = function() {
            return "".concat(this.ppfx, "input-holder");
          }, n2.prototype.remove = function() {
            return e3.prototype.remove.call(this), this.colorEl.spectrum("destroy"), this;
          }, n2.prototype.handleChange = function(e4) {
            e4.stopPropagation();
            var n3 = e4.target.value;
            (0, t2.isUndefined)(n3) || this.__onInputChange(n3);
          }, n2.prototype.__onInputChange = function(t3) {
            var e4 = this.model, n3 = this.opts.onChange, o2 = t3, r2 = this.getColorEl();
            if (r2) {
              r2.spectrum("set", o2);
              var i2 = r2.spectrum("get"), a2 = o2 && jc(i2);
              a2 && (o2 = a2);
            }
            n3 ? n3(o2) : e4.set({ value: o2 }, { fromInput: 1 });
          }, n2.prototype.setValue = function(e4, n3) {
            void 0 === n3 && (n3 = {});
            var o2 = this.model, r2 = (0, t2.isUndefined)(n3.def) ? o2.get("defaults") : n3.def, i2 = (0, t2.isUndefined)(e4) ? (0, t2.isUndefined)(r2) ? "" : r2 : e4, a2 = this.getInputEl(), s2 = this.getColorEl(), l2 = "none" != i2 ? i2 : "";
            a2.value = i2, s2.get(0).style.backgroundColor = l2, (n3.fromTarget || n3.fromInput && !n3.avoidStore) && (s2.spectrum("set", l2), this.noneColor = "none" == i2, this.movedColor = l2);
          }, n2.prototype.getColorEl = function() {
            var t3 = this;
            if (!this.colorEl) {
              var e4 = this, n3 = e4.em, o2 = e4.model, r2 = e4.opts, i2 = this.ppfx, a2 = r2.onChange, s2 = (0, l["default"])('<div class="'.concat(this.ppfx, 'field-color-picker"></div>')), c2 = s2.get(0).style, u2 = n3 && n3.getConfig && n3.getConfig().colorPicker || {};
              this.movedColor = "";
              var p2, d2 = false;
              this.$el.find("[data-colorp-c]").append(s2);
              var f2 = function(t4, e5) {
                void 0 === e5 && (e5 = true), a2 ? a2(t4, !e5) : (e5 && o2.setValueFromInput(0, false), o2.setValueFromInput(t4, e5));
              };
              s2.spectrum(Ac(Ac(Ac({ color: o2.getValue() || false, containerClassName: "".concat(i2, "one-bg ").concat(i2, "two-color ").concat(i2, "editor-sp"), maxSelectionSize: 8, showPalette: true, showAlpha: true, chooseText: "Ok", cancelText: "", palette: [] }, u2), o2.get("colorPicker") || {}), { move: function(e5) {
                var n4 = jc(e5);
                t3.movedColor = n4, c2.backgroundColor = n4, f2(n4, false);
              }, change: function(e5) {
                d2 = true;
                var n4 = jc(e5);
                c2.backgroundColor = n4, f2(n4), t3.noneColor = false;
              }, show: function(e5) {
                d2 = false, t3.movedColor = "", p2 = a2 ? o2.getValue({ noDefault: true }) : jc(e5);
              }, hide: function() {
                d2 || !p2 && !a2 || (t3.noneColor && (p2 = ""), c2.backgroundColor = p2, s2.spectrum("set", p2), f2(p2, false));
              } })), n3 && n3.on && this.listenTo(n3, "component:selected", (function() {
                t3.movedColor && f2(t3.movedColor), d2 = true, t3.movedColor = "", s2.spectrum("hide");
              })), this.colorEl = s2;
            }
            return this.colorEl;
          }, n2.prototype.render = function() {
            return Ec.prototype.render.call(this), this.getColorEl(), this;
          }, n2;
        })(Ec);
        const Dc = Mc;
        var Lc = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Ic = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Lc(e3, t3), e3.prototype.templateInput = function() {
            return "";
          }, e3.prototype.getInputEl = function() {
            if (!this.input) {
              var t4 = this.model, e4 = this.getModelValue(), n2 = new Dc({ model: t4, target: this.config.em, contClass: this.ppfx + "field-color", ppfx: this.ppfx }).render();
              n2.setValue(e4, { fromTarget: 1 }), this.input = n2.el;
            }
            return this.input;
          }, e3;
        })(_c);
        var Nc = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Rc = (function(e3) {
          function n2(n3) {
            void 0 === n3 && (n3 = {});
            var o2 = e3.call(this, n3) || this;
            return (0, t2.bindAll)(o2, "moveIncrement", "upIncrement"), o2.doc = document, o2.listenTo(o2.model, "change:unit", o2.handleModelChange), o2;
          }
          return Nc(n2, e3), n2.prototype.template = function() {
            var t3 = this.ppfx;
            return '\n      <span class="'.concat(t3, 'input-holder"></span>\n      <span class="').concat(t3, 'field-units"></span>\n      <div class="').concat(t3, 'field-arrows" data-arrows>\n        <div class="').concat(t3, 'field-arrow-u" data-arrow-up></div>\n        <div class="').concat(t3, 'field-arrow-d" data-arrow-down></div>\n      </div>\n    ');
          }, n2.prototype.inputClass = function() {
            var t3 = this.ppfx;
            return this.opts.contClass || "".concat(t3, "field ").concat(t3, "field-integer");
          }, n2.prototype.setValue = function(t3, e4) {
            var n3 = e4 || {}, o2 = this.validateInputValue(t3, { deepCheck: 1 }), r2 = { value: o2.value, unit: "" };
            (o2.unit || o2.force) && (r2.unit = o2.unit), this.model.set(r2, n3), n3.silent && this.handleModelChange();
          }, n2.prototype.handleChange = function(t3) {
            t3.stopPropagation(), this.setValue(this.getInputEl().value), this.elementUpdated();
          }, n2.prototype.handleUnitChange = function(t3) {
            t3.stopPropagation();
            var e4 = this.getUnitEl().value;
            this.model.set("unit", e4), this.elementUpdated();
          }, n2.prototype.handleKeyDown = function(t3) {
            "ArrowUp" === t3.key && (t3.preventDefault(), this.upArrowClick()), "ArrowDown" === t3.key && (t3.preventDefault(), this.downArrowClick());
          }, n2.prototype.elementUpdated = function() {
            this.model.trigger("el:change");
          }, n2.prototype.handleModelChange = function() {
            var t3 = this.model;
            this.getInputEl().value = t3.get("value");
            var e4 = this.getUnitEl();
            e4 && (e4.value = t3.get("unit") || "");
          }, n2.prototype.getUnitEl = function() {
            if (!this.unitEl) {
              var t3 = this.model, e4 = t3.get("units") || [];
              if (e4.length) {
                var n3 = ['<option value="" disabled hidden>-</option>'];
                e4.forEach((function(e5) {
                  var o3 = e5 == t3.get("unit") ? "selected" : "";
                  n3.push("<option ".concat(o3, ">").concat(e5, "</option>"));
                }));
                var o2 = document.createElement("div");
                o2.innerHTML = '<select class="'.concat(this.ppfx, 'input-unit">').concat(n3.join(""), "</select>"), this.unitEl = o2.firstChild;
              }
            }
            return this.unitEl;
          }, n2.prototype.upArrowClick = function() {
            var t3 = this.model.get("step"), e4 = parseFloat(this.getInputEl().value);
            this.setValue(this.normalizeValue(e4 + t3)), this.elementUpdated();
          }, n2.prototype.downArrowClick = function() {
            var t3 = this.model.get("step"), e4 = parseFloat(this.getInputEl().value);
            this.setValue(this.normalizeValue(e4 - t3)), this.elementUpdated();
          }, n2.prototype.downIncrement = function(t3) {
            t3.preventDefault(), this.moved = false;
            var e4 = this.model.get("value") || 0;
            e4 = this.normalizeValue(e4), this.current = { y: t3.pageY, val: e4 }, (0, Z.on)(this.doc, "mousemove", this.moveIncrement), (0, Z.on)(this.doc, "mouseup", this.upIncrement);
          }, n2.prototype.moveIncrement = function(t3) {
            this.moved = true;
            var e4 = this.model, n3 = e4.get("step"), o2 = this.current, r2 = this.normalizeValue(o2.val + (o2.y - t3.pageY) * n3), i2 = this.validateInputValue(r2), a2 = i2.value, s2 = i2.unit;
            return this.prValue = a2, e4.set({ value: a2, unit: s2 }, { avoidStore: 1 }), false;
          }, n2.prototype.upIncrement = function() {
            var t3 = this.model, e4 = t3.get("step");
            if ((0, Z.AU)(this.doc, "mouseup", this.upIncrement), (0, Z.AU)(this.doc, "mousemove", this.moveIncrement), this.prValue && this.moved) {
              var n3 = this.prValue - e4;
              t3.set("value", n3, { avoidStore: 1 }).set("value", n3 + e4), this.elementUpdated();
            }
          }, n2.prototype.normalizeValue = function(t3, e4) {
            void 0 === e4 && (e4 = 0);
            var n3 = this.model.get("step"), o2 = 0;
            if (isNaN(t3)) return e4;
            if (t3 = parseFloat(t3), Math.floor(t3) !== t3) {
              var r2 = n3.toString().split(".")[1];
              o2 = r2 ? r2.length : 0;
            }
            return o2 ? parseFloat(t3.toFixed(o2)) : t3;
          }, n2.prototype.validateInputValue = function(e4, n3) {
            void 0 === n3 && (n3 = {});
            var o2 = 0, r2 = n3 || {}, i2 = this.model, a2 = "", s2 = (0, t2.isUndefined)(e4) ? a2 : e4, l2 = n3.units || i2.get("units") || [], c2 = i2.get("unit") || l2.length && l2[0] || "", u2 = (0, t2.isUndefined)(n3.max) ? i2.get("max") : n3.max, p2 = (0, t2.isUndefined)(n3.min) ? i2.get("min") : n3.min, d2 = !!i2.get("limitlessMax"), f2 = !!i2.get("limitlessMin");
            if (r2.deepCheck) {
              var h2 = i2.get("fixedValues") || [];
              if ("" === s2 && (c2 = ""), s2) {
                var v2 = new RegExp("^" + h2.join("|"), "g");
                if (h2.length && v2.test(s2)) s2 = s2.match(v2)[0], c2 = "", o2 = 1;
                else {
                  var g2 = s2 + "";
                  s2 += "", s2 = parseFloat(s2.replace(",", ".")), s2 = isNaN(s2) ? a2 : s2;
                  var y2 = g2.replace(s2, "");
                  (0, t2.indexOf)(l2, y2) >= 0 && (c2 = y2);
                }
              }
            }
            return isNaN(s2) || "" === s2 || (d2 || (0, t2.isUndefined)(u2) || "" === u2 || (s2 = s2 > u2 ? u2 : s2), f2 || (0, t2.isUndefined)(p2) || "" === p2 || (s2 = s2 < p2 ? p2 : s2)), { force: o2, value: s2, unit: c2 };
          }, n2.prototype.render = function() {
            Ec.prototype.render.call(this), this.unitEl = null;
            var t3 = this.getUnitEl();
            return t3 && this.$el.find(".".concat(this.ppfx, "field-units")).get(0).appendChild(t3), this;
          }, n2;
        })(Ec);
        const Vc = Rc;
        Rc.prototype.events = { "change input": "handleChange", "change select": "handleUnitChange", "click [data-arrow-up]": "upArrowClick", "click [data-arrow-down]": "downArrowClick", "mousedown [data-arrows]": "downIncrement", keydown: "handleKeyDown" };
        var Fc = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Hc = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return Fc(n2, e3), n2.prototype.getValueForTarget = function() {
            var e4 = this.model, n3 = e4.attributes, o2 = n3.value, r2 = n3.unit;
            return (0, t2.isUndefined)(o2) || "" === o2 ? e4.get("default") : o2 + r2;
          }, n2.prototype.getInputEl = function() {
            if (!this.input) {
              var t3 = this.ppfx, e4 = this.model, n3 = this.getModelValue(), o2 = new Vc({ contClass: "".concat(t3, "field-int"), type: "number", model: e4, ppfx: t3 });
              o2.render(), this.$input = o2.inputEl, this.$unit = o2.unitEl, e4.set("value", n3, { fromTarget: true }), this.$input.val(n3), this.input = o2.el;
            }
            return this.input;
          }, n2;
        })(_c);
        const Uc = Hc;
        var zc = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Bc = (function(e3) {
          function n2(t3) {
            void 0 === t3 && (t3 = {});
            var n3 = e3.call(this, t3) || this;
            return n3.listenTo(n3.model, "change:options", n3.rerender), n3;
          }
          return zc(n2, e3), n2.prototype.templateInput = function() {
            var t3 = this.ppfx, e4 = this.clsField;
            return '<div class="'.concat(e4, '">\n      <div data-input></div>\n      <div class="').concat(t3, 'sel-arrow">\n        <div class="').concat(t3, 'd-s-arrow"></div>\n      </div>\n    </div>');
          }, n2.prototype.getInputEl = function() {
            if (!this.$input) {
              var e4 = this.model, n3 = this.em, o2 = e4.get("name"), r2 = e4.get("options") || [], i2 = [], a2 = "<select>";
              r2.forEach((function(e5) {
                var r3, s3, l2, c3 = "";
                (0, t2.isString)(e5) ? (r3 = e5, s3 = e5) : (r3 = e5.name || e5.label || e5.value, s3 = "".concat((0, t2.isUndefined)(e5.value) ? e5.id : e5.value).replace(/"/g, "&quot;"), c3 += (l2 = e5.style ? e5.style.replace(/"/g, "&quot;") : "") ? ' style="'.concat(l2, '"') : "");
                var u2 = n3.t("traitManager.traits.options.".concat(o2, ".").concat(s3)) || r3;
                a2 += '<option value="'.concat(s3, '"').concat(c3, ">").concat(u2, "</option>"), i2.push(s3);
              })), a2 += "</select>", this.$input = (0, l["default"])(a2);
              var s2 = e4.getTargetValue(), c2 = i2.indexOf(s2) >= 0 ? s2 : e4.get("default");
              !(0, t2.isUndefined)(c2) && this.$input.val(c2);
            }
            return this.$input.get(0);
          }, n2;
        })(_c);
        var Wc = n(8242), $c = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), qc = "data-categories", Gc = "data-no-categories", Kc = (function(t3) {
          function e3(e4, n2) {
            var o2 = t3.call(this, e4) || this;
            o2.reuseView = true, o2.renderedCategories = /* @__PURE__ */ new Map(), o2.itemsView = n2;
            var r2 = e4.config || {};
            o2.config = r2;
            var i2 = e4.editor;
            o2.em = i2;
            var a2 = r2.pStylePrefix || "";
            return o2.ppfx = a2, o2.pfx = a2 + r2.stylePrefix || "", o2.className = "".concat(o2.pfx, "traits"), o2.traitContClass = "".concat(a2, "traits-c"), o2.classNoCat = "".concat(a2, "traits-empty-c"), o2.catsClass = "".concat(a2, "trait-categories"), o2.collection = new mn([], { em: i2 }), o2.listenTo(i2, "component:toggled", o2.updatedCollection), o2.updatedCollection(), o2;
          }
          return $c(e3, t3), e3.prototype.updatedCollection = function() {
            var t4 = this.ppfx, e4 = this.em, n2 = e4.getSelected();
            this.el.className = "".concat(this.traitContClass, "s ").concat(t4, "one-bg ").concat(t4, "two-color"), this.collection = (null == n2 ? void 0 : n2.traits) || new mn([], { em: e4 }), this.render();
          }, e3.prototype.add = function(t4, e4) {
            var n2 = this.config, o2 = this.renderedCategories, r2 = this.itemView, i2 = t4.get(this.itemType);
            this.itemsView && this.itemsView[i2] && (r2 = this.itemsView[i2]);
            var a2 = new r2({ config: n2, model: t4, attributes: t4.get("attributes") }).render().el, s2 = t4.parent.initCategory(t4);
            if (s2) {
              var l2 = s2.getId(), c2 = this.getCategoriesEl(), u2 = o2.get(l2);
              return !u2 && c2 && (u2 = new ys({ model: s2 }, n2, "trait").render(), o2.set(l2, u2), c2.appendChild(u2.el)), void (null == u2 || u2.append(a2));
            }
            e4 ? e4.appendChild(a2) : this.append(a2);
          }, e3.prototype.getCategoriesEl = function() {
            return this.catsEl || (this.catsEl = this.el.querySelector("[".concat(qc, "]"))), this.catsEl;
          }, e3.prototype.getTraitsEl = function() {
            return this.traitsEl || (this.traitsEl = this.el.querySelector("[".concat(Gc, "]"))), this.traitsEl;
          }, e3.prototype.append = function(t4) {
            var e4 = this.getTraitsEl();
            null == e4 || e4.appendChild(t4);
          }, e3.prototype.render = function() {
            var t4 = this, e4 = this, n2 = e4.el, o2 = e4.ppfx, r2 = e4.catsClass, i2 = e4.traitContClass, a2 = e4.classNoCat, s2 = document.createDocumentFragment();
            delete this.catsEl, delete this.traitsEl, this.renderedCategories = /* @__PURE__ */ new Map(), n2.innerHTML = '\n      <div class="'.concat(r2, '" ').concat(qc, '></div>\n      <div class="').concat(a2, " ").concat(i2, '" ').concat(Gc, "></div>\n    "), this.collection.forEach((function(e5) {
              return t4.add(e5, s2);
            })), this.append(s2);
            var l2 = "".concat(i2, "s ").concat(o2, "one-bg ").concat(o2, "two-color");
            return this.$el.addClass(l2), this.rendered = true, this;
          }, e3;
        })(Wc.A);
        const Yc = Kc;
        Kc.prototype.itemView = _c;
        var Jc = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Xc = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Zc = (function(e3) {
          function n2(n3) {
            var o2 = e3.call(this, n3, "TraitManager", gc()) || this;
            o2.TraitsView = Yc, o2.events = ln, o2.state = new u.Kx({ traits: [] }), o2.types = { text: _c, number: Uc, select: Bc, checkbox: Oc, color: Ic, button: Cc };
            var r2 = o2, i2 = r2.state, a2 = r2.config, s2 = r2.events, l2 = a2.pStylePrefix;
            l2 && (a2.stylePrefix = "".concat(l2).concat(a2.stylePrefix)), (0, t2.bindAll)(o2, "__onSelect");
            var c2 = (0, t2.debounce)((function() {
              return o2.__upSel();
            }), 0), p2 = (0, t2.debounce)((function() {
              return o2.__onUp();
            }), 0);
            return i2.listenTo(n3, "component:toggled", c2), i2.listenTo(n3, s2.value, p2), i2.on("change:traits", o2.__onSelect), o2.debounced = [c2, p2], o2;
          }
          return Jc(n2, e3), n2.prototype.select = function(t3) {
            var e4 = (null == t3 ? void 0 : t3.getTraits()) || [];
            this.state.set({ component: t3, traits: e4 }), this.__trgCustom();
          }, n2.prototype.getCategories = function() {
            var t3, e4 = this.getComponent(), n3 = (null === (t3 = null == e4 ? void 0 : e4.traits.categories) || void 0 === t3 ? void 0 : t3.models) || [];
            return Xc([], n3, true);
          }, n2.prototype.getTraits = function() {
            return this.getCurrent();
          }, n2.prototype.getTraitsByCategory = function(t3) {
            return tn(t3 || this.getTraits());
          }, n2.prototype.getComponent = function() {
            return this.state.attributes.component;
          }, n2.prototype.addType = function(t3, e4) {
            var n3 = this.getType("text");
            this.types[t3] = n3.extend(e4);
          }, n2.prototype.getType = function(t3) {
            return this.getTypes()[t3];
          }, n2.prototype.getTypes = function() {
            return this.types;
          }, n2.prototype.getTraitsViewer = function() {
            return this.view;
          }, n2.prototype.getCurrent = function() {
            return this.state.get("traits") || [];
          }, n2.prototype.render = function() {
            var t3 = this.view, e4 = this.em;
            return t3 = new Yc({ el: null == t3 ? void 0 : t3.el, collection: [], editor: e4, config: this.getConfig() }, this.getTypes()), this.view = t3, t3.el;
          }, n2.prototype.postRender = function() {
            this.__appendTo();
          }, n2.prototype.__onSelect = function() {
            var t3 = this, e4 = t3.em, n3 = t3.events, o2 = t3.state.attributes, r2 = o2.component, i2 = o2.traits;
            e4.trigger(n3.select, { component: r2, traits: i2 });
          }, n2.prototype.__trgCustom = function(t3) {
            void 0 === t3 && (t3 = {});
            var e4 = this, n3 = e4.em, o2 = e4.events, r2 = e4.__ctn;
            this.__ctn = r2 || t3.container, n3.trigger(o2.custom, this.__customData());
          }, n2.prototype.__customData = function() {
            return { container: this.__ctn };
          }, n2.prototype.__upSel = function() {
            this.select(this.em.getSelected());
          }, n2.prototype.__onUp = function() {
            this.select(this.getComponent());
          }, n2;
        })(m);
        const Qc = Zc;
        const tu = function() {
          return { stylePrefix: "", appendTo: "", sortable: true, hidable: true, hideTextnode: true, root: "", showWrapper: true, showHover: true, scrollCanvas: { behavior: "smooth", block: "nearest" }, scrollLayers: { behavior: "auto", block: "nearest" }, highlightHover: true, custom: false, onInit: function() {
          }, onRender: function() {
          }, extend: {} };
        };
        var eu = n(6756), nu = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ou = (function(t3) {
          function e3() {
            var e4 = null !== t3 && t3.apply(this, arguments) || this;
            return e4._dropAreaConfig = { ratio: 0.4, minUndroppableDimension: 3, maxUndroppableDimension: 20 }, e4;
          }
          return nu(e3, t3), Object.defineProperty(e3.prototype, "view", { get: function() {
            return this.model.viewLayer;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "element", { get: function() {
            var t4;
            return null === (t4 = this.model.viewLayer) || void 0 === t4 ? void 0 : t4.el;
          }, enumerable: false, configurable: true }), e3;
        })(eu.h);
        const ru = ou;
        var iu = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), au = (function(e3) {
          function n2(t3) {
            void 0 === t3 && (t3 = {});
            var n3 = e3.call(this, t3) || this;
            n3.items = [], n3.opt = t3;
            var o2 = t3.config || {};
            n3.config = o2, n3.module = t3.module, n3.parentView = t3.parentView;
            var r2 = o2.stylePrefix || "", i2 = (o2.pStylePrefix, n3.collection);
            n3.listenTo(i2, "add", n3.addTo), n3.listenTo(i2, "reset resetNavigator", n3.render), n3.listenTo(i2, "remove", n3.removeChildren), n3.className = "".concat(r2, "layers");
            var a2 = o2.em;
            if (o2.sortable && !n3.opt.sorter) {
              var s2 = a2.Utils, l2 = o2.sortContainer || n3.el, c2 = n3.createPlaceholder(r2);
              n3.opt.sorter = new s2.ComponentSorter({ em: a2, treeClass: ru, containerContext: { container: l2, containerSel: ".".concat(n3.className), itemSel: ".".concat(r2, "layer"), pfx: o2.pStylePrefix, document, placeholderElement: c2 }, dragBehavior: { dragDirection: $n.A.Vertical, nested: true } });
            }
            return n3.$el.data("collection", i2), t3.parent && n3.$el.data("model", t3.parent), n3;
          }
          return iu(n2, e3), n2.prototype.createPlaceholder = function(t3) {
            var e4 = document.createElement("div"), n3 = document.createElement("div");
            return this.el.parentNode, e4.className = t3 + "placeholder", e4.style.display = "none", e4.style.pointerEvents = "none", n3.className = t3 + "placeholder-int", e4.appendChild(n3), e4;
          }, n2.prototype.removeChildren = function(t3) {
            var e4 = t3.viewLayer;
            e4 && (e4.remove(), delete t3.viewLayer);
          }, n2.prototype.addTo = function(t3) {
            this.addToCollection(t3, null, this.collection.indexOf(t3));
          }, n2.prototype.addToCollection = function(e4, n3, o2) {
            var r2 = this, i2 = r2.parentView, a2 = r2.opt, s2 = r2.config, l2 = r2.el, c2 = a2.ItemView, u2 = a2.opened, p2 = a2.module, d2 = a2.level, f2 = a2.sorter, h2 = e4.viewLayer || new c2({ ItemView: c2, level: d2, model: e4, parentView: i2, config: s2, sorter: f2, opened: u2, module: p2 }), v2 = h2.render().el;
            if (n3) n3.appendChild(v2);
            else {
              var g2 = l2, y2 = g2.childNodes;
              if ((0, t2.isUndefined)(o2)) g2.appendChild(v2);
              else {
                var m2 = y2.length == o2;
                m2 && o2--, m2 || !y2.length ? g2.appendChild(v2) : g2.insertBefore(v2, y2[o2]);
              }
            }
            return this.items.push(h2), v2;
          }, n2.prototype.remove = function() {
            for (var t3 = [], e4 = 0; e4 < arguments.length; e4++) t3[e4] = arguments[e4];
            return u.Ss.prototype.remove.apply(this, t3), this.items.map((function(t4) {
              return t4.remove();
            })), this;
          }, n2.prototype.render = function() {
            var t3 = this, e4 = this.el, n3 = this.module, o2 = document.createDocumentFragment();
            return e4.innerHTML = "", this.collection.map((function(t4) {
              return n3.__getLayerFromComponent(t4);
            })).forEach((function(e5) {
              return t3.addToCollection(e5, o2);
            })), e4.appendChild(o2), e4.className = this.className, this;
          }, n2;
        })(u.Ss);
        const su = au;
        var lu = n(9946);
        const cu = function() {
          return { stylePrefix: "com-", defaults: {}, strict: true, defaultOptions: {} };
        };
        var uu = n(1738), pu = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), du = function() {
          return du = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, du.apply(this, arguments);
        }, fu = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, hu = [["preview", "Preview", "preview"], ["resize", "Resize", "resize"], ["fullscreen", "Fullscreen", "fullscreen"], ["copy", "CopyComponent"], ["paste", "PasteComponent"], ["canvas-move", "CanvasMove"], ["canvas-clear", "CanvasClear"], ["open-code", "ExportTemplate", "export-template"], ["open-layers", "OpenLayers", "open-layers"], ["open-styles", "OpenStyleManager", "open-sm"], ["open-traits", "OpenTraitManager", "open-tm"], ["open-blocks", "OpenBlocks", "open-blocks"], ["open-assets", "OpenAssets", "open-assets"], ["component-select", "SelectComponent", "select-comp"], ["component-outline", "SwitchVisibility", "sw-visibility"], ["component-offset", "ShowOffset", "show-offset"], ["component-move", "MoveComponent", "move-comp"], ["component-next", "ComponentNext"], ["component-prev", "ComponentPrev"], ["component-enter", "ComponentEnter"], ["component-exit", "ComponentExit", "select-parent"], ["component-delete", "ComponentDelete"], ["component-style-clear", "ComponentStyleClear"], ["component-drag", "ComponentDrag"]], vu = { preserveSelected: 1 }, gu = function(t3) {
          return function(e3) {
            return t3.trigger("".concat(On, ":start"), e3);
          };
        }, yu = function(t3) {
          return function(e3) {
            return t3.trigger(On, e3);
          };
        }, mu = function(t3, e3, n2) {
          return void 0 === n2 && (n2 = {}), function(o2, r2, i2) {
            setTimeout((function() {
              e3.forEach((function(t4) {
                return t4.set("status", t4.get("selectable") ? "selected" : "");
              })), t3.setSelected(e3), e3[0].emitUpdate();
            })), t3.trigger("".concat(On, ":end"), i2), setTimeout((function() {
              return t3.runDefault(vu);
            })), (n2.altMode || i2.cancelled) && t3.set("_cmpDrag", 1);
          };
        }, bu = (function(e3) {
          function o2(o3) {
            var r2 = e3.call(this, o3, "Commands", cu()) || this;
            r2.CommandAbstract = lu["default"], r2.defaultCommands = {}, r2.commands = {}, r2.active = {}, r2.events = uu.A;
            var i2 = r2.config, a2 = i2.pStylePrefix, s2 = r2.defaultCommands;
            for (var l2 in a2 && (i2.stylePrefix = a2 + i2.stylePrefix), Object.keys(i2.defaults).forEach((function(t3) {
              var e4 = i2.defaults[t3];
              e4.id && r2.add(e4.id, e4);
            })), s2["tlb-delete"] = { run: function(t3) {
              return t3.runCommand("core:component-delete");
            } }, s2["tlb-clone"] = { run: function(t3) {
              t3.runCommand("core:copy"), t3.runCommand("core:paste", { action: "clone-component" });
            } }, s2["tlb-move"] = { run: function(e4, n2, o4) {
              var r3, i3;
              void 0 === o4 && (o4 = {});
              var a3 = e4.getModel(), s3 = o4.event, l3 = o4.target, c2 = (Array.isArray(l3) ? l3 : l3 ? [l3] : fu([], e4.getSelectedAll(), true)).map((function(t3) {
                var e5, n3;
                return (null === (n3 = null === (e5 = t3.delegate) || void 0 === e5 ? void 0 : e5.move) || void 0 === n3 ? void 0 : n3.call(e5, t3)) || t3;
              })).filter(Boolean), u2 = c2[c2.length - 1], p2 = "dragstart" === (null == s3 ? void 0 : s3.type);
              if (!(null == u2 ? void 0 : u2.get("draggable"))) return a3.logWarning("The element is not draggable");
              var d2 = o4.mode || u2.get("dmode") || a3.get("dmode"), f2 = function() {
                return a3.stopDefault(vu);
              }, h2 = (0, t2.includes)(["absolute", "translate"], d2);
              c2.forEach((function(t3) {
                return t3.trigger("disable", { fromMove: true });
              })), p2 ? setTimeout(f2, 0) : f2();
              var v2 = gu(a3), g2 = yu(a3), y2 = mu(a3, c2, { altMode: h2 });
              if (h2) e4.runCommand("core:component-drag", { guidesInfo: 1, mode: d2, target: u2, onStart: v2, onDrag: g2, onEnd: y2, event: s3 });
              else {
                p2 && (null === (r3 = null == s3 ? void 0 : s3.dataTransfer) || void 0 === r3 || r3.setDragImage(null === (i3 = u2.view) || void 0 === i3 ? void 0 : i3.el, 0, 0));
                var m2 = e4.Commands.get("move-comp");
                m2.onStart = v2, m2.onDrag = g2, m2.onEndMoveFromModel = y2, m2.initSorterFromModels(c2);
              }
              c2.filter((function(t3) {
                return t3.get("selectable");
              })).forEach((function(t3) {
                return t3.set("status", "freezed-selected");
              }));
            } }, s2["core:undo"] = function(t3) {
              return t3.UndoManager.undo();
            }, s2["core:redo"] = function(t3) {
              return t3.UndoManager.redo();
            }, hu.forEach((function(t3) {
              var e4 = t3[2], r3 = n(585)("./".concat(t3[1])).default, i3 = "core:".concat(t3[0]);
              s2[i3] = r3, e4 && (s2[e4] = r3, ["run", "stop"].forEach((function(t4) {
                o3.on("".concat(t4, ":").concat(e4), (function() {
                  for (var e5 = [], n2 = 0; n2 < arguments.length; n2++) e5[n2] = arguments[n2];
                  return o3.trigger.apply(o3, fu(["".concat(t4, ":").concat(i3)], e5, false));
                }));
              })));
            })), i2.model = o3.Canvas, s2) r2.add(l2, s2[l2]);
            return r2;
          }
          return pu(o2, e3), o2.prototype.add = function(e4, n2) {
            var o3 = (0, t2.isFunction)(n2) ? { run: n2 } : n2;
            return o3.stop || (o3.noStop = true), delete o3.initialize, o3.id = e4, this.commands[e4] = lu["default"].extend(o3), this;
          }, o2.prototype.get = function(e4) {
            var n2 = this.commands[e4];
            return (0, t2.isFunction)(n2) ? (n2 = new n2(this.config), this.commands[e4] = n2) : n2 || this.em.logWarning("'".concat(e4, "' command not found")), n2;
          }, o2.prototype.extend = function(t3, e4) {
            void 0 === e4 && (e4 = {});
            var n2 = this.get(t3);
            if (n2) {
              var o3 = du(du({}, n2.constructor.prototype), e4);
              this.add(t3, o3);
              var r2 = hu.filter((function(e5) {
                return "core:".concat(e5[0]) === t3 && e5[2];
              }))[0];
              r2 && this.add(r2[2], o3);
            }
            return this;
          }, o2.prototype.has = function(t3) {
            return !!this.commands[t3];
          }, o2.prototype.getAll = function() {
            return this.commands;
          }, o2.prototype.run = function(t3, e4) {
            return void 0 === e4 && (e4 = {}), this.runCommand(this.get(t3), e4);
          }, o2.prototype.stop = function(t3, e4) {
            return void 0 === e4 && (e4 = {}), this.stopCommand(this.get(t3), e4);
          }, o2.prototype.isActive = function(t3) {
            return this.getActive().hasOwnProperty(t3);
          }, o2.prototype.getActive = function() {
            return this.active;
          }, o2.prototype.runCommand = function(e4, n2) {
            var o3, r2, i2;
            if (void 0 === n2 && (n2 = {}), null == e4 ? void 0 : e4.run) {
              var a2 = this.em, s2 = this.config, l2 = e4.id, c2 = a2.Editor;
              if (!this.isActive(l2) || n2.force || !s2.strict) {
                var u2 = null === (r2 = null === (o3 = s2.defaultOptions) || void 0 === o3 ? void 0 : o3[l2]) || void 0 === r2 ? void 0 : r2.run;
                (0, t2.isFunction)(u2) && (n2 = u2(n2)), i2 = c2 && e4.callRun(c2, n2);
              }
            }
            return i2;
          }, o2.prototype.stopCommand = function(e4, n2) {
            var o3, r2, i2;
            if (void 0 === n2 && (n2 = {}), null == e4 ? void 0 : e4.run) {
              var a2 = this.em, s2 = this.config, l2 = e4.id, c2 = a2.Editor;
              if (this.isActive(l2) || n2.force || !s2.strict) {
                var u2 = null === (r2 = null === (o3 = s2.defaultOptions) || void 0 === o3 ? void 0 : o3[l2]) || void 0 === r2 ? void 0 : r2.stop;
                (0, t2.isFunction)(u2) && (n2 = u2(n2)), i2 = e4.callStop(c2, n2);
              }
            }
            return i2;
          }, o2.prototype.create = function(t3) {
            return t3.stop || (t3.noStop = true), new (lu["default"].extend(t3))(this.config);
          }, o2.prototype.__onRun = function(t3, e4) {
            var n2 = this.em, o3 = this.events;
            n2.on("".concat(o3.runCommand).concat(t3), e4);
          }, o2.prototype.__onStop = function(t3, e4) {
            var n2 = this.em, o3 = this.events;
            n2.on("".concat(o3.stopCommand).concat(t3), e4);
          }, o2.prototype.destroy = function() {
            this.defaultCommands = {}, this.commands = {}, this.active = {};
          }, o2;
        })(m);
        const _u = bu;
        var wu = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), xu = function() {
          return xu = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, xu.apply(this, arguments);
        }, Cu = "contentEditable", Su = "data-toggle-move", Ou = (function(e3) {
          function n2(n3) {
            var o2 = e3.call(this, n3) || this;
            (0, t2.bindAll)(o2, "__render"), o2.opt = n3, o2.module = n3.module, o2.config = n3.config || {}, o2.sorter = n3.sorter || "", o2.parentView = n3.parentView;
            var r2 = o2, i2 = r2.model, a2 = r2.pfx, s2 = r2.ppfx, l2 = i2.get("type") || "default";
            return o2.className = "".concat(a2, "layer ").concat(a2, "layer__t-").concat(l2, " no-select ").concat(s2, "two-color"), o2.inputNameCls = "".concat(s2, "layer-name"), o2.clsTitleC = "".concat(a2, "layer-title-c"), o2.clsTitle = "".concat(a2, "layer-title"), o2.clsCaret = "".concat(a2, "layer-caret"), o2.clsCount = "".concat(a2, "layer-count"), o2.clsMove = "".concat(a2, "layer-move"), o2.clsChildren = "".concat(a2, "layer-children"), o2.clsNoChild = "".concat(a2, "layer-no-chld"), o2.clsEdit = "".concat(o2.inputNameCls, "--edit"), o2.clsNoEdit = "".concat(o2.inputNameCls, "--no-edit"), o2.initComponent(), o2;
          }
          return wu(n2, e3), n2.prototype.events = function() {
            var t3;
            return (t3 = {})["mousedown [".concat(Su, "]")] = "startSort", t3["touchstart [".concat(Su, "]")] = "startSort", t3["click [data-toggle-visible]"] = "toggleVisibility", t3["click [data-toggle-open]"] = "toggleOpening", t3["click [data-toggle-select]"] = "handleSelect", t3["mouseover [data-toggle-select]"] = "handleHover", t3["mouseout [data-toggle-select]"] = "handleHoverOut", t3["dblclick [data-name]"] = "handleEdit", t3["keydown [data-name]"] = "handleEditKey", t3["focusout [data-name]"] = "handleEditEnd", t3;
          }, n2.prototype.template = function(t3) {
            var e4 = this, n3 = e4.pfx, o2 = e4.ppfx, r2 = e4.config, i2 = e4.clsNoEdit, a2 = e4.module, s2 = e4.opt, l2 = e4.em, c2 = r2.hidable, u2 = a2.getComponents(t3).length, p2 = u2 ? "" : this.clsNoChild, d2 = "".concat(this.clsTitle, " ").concat(p2), f2 = "".concat(this.clsTitleC), h2 = "".concat(this.inputNameCls, " ").concat(i2, " ").concat(o2, "no-app"), v2 = s2.level || 0, g2 = "".concat(10 * v2, "px"), y2 = t3.getName(), m2 = t3.getIcon(), b2 = "".concat(n3, "layer"), _2 = (null == l2 ? void 0 : l2.getConfig()).icons, w2 = _2.move, x2 = _2.eye, C2 = _2.eyeOff, S2 = _2.chevron;
            return '\n      <div class="'.concat(n3, "layer-item ").concat(o2, 'one-bg" data-toggle-select>\n        <div class="').concat(n3, 'layer-item-left">\n          ').concat(c2 ? '<i class="'.concat(n3, 'layer-vis" data-toggle-visible>\n                <i class="').concat(n3, 'layer-vis-on">').concat(x2, '</i>\n                <i class="').concat(n3, 'layer-vis-off">').concat(C2, "</i>\n              </i>") : "", '\n          <div class="').concat(f2, '">\n            <div class="').concat(d2, '" style="padding-left: ').concat(g2, '">\n              <div class="').concat(n3, 'layer-title-inn" title="').concat(y2, '">\n                <i class="').concat(this.clsCaret, '" data-toggle-open>').concat(S2, "</i>\n                  ").concat(m2 ? '<span class="'.concat(b2, '__icon">').concat(m2, "</span>") : "", '\n                <span class="').concat(h2, '" data-name>').concat(y2, '</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="').concat(n3, 'layer-item-right">\n          <div class="').concat(this.clsCount, '" data-count>').concat(u2 || "", '</div>\n          <div class="').concat(this.clsMove, '" ').concat(Su, ">").concat(w2 || "", '</div>\n        </div>\n      </div>\n      <div class="').concat(this.clsChildren, '"></div>\n    ');
          }, Object.defineProperty(n2.prototype, "em", { get: function() {
            return this.module.em;
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "ppfx", { get: function() {
            return this.em.getConfig().stylePrefix;
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "pfx", { get: function() {
            return this.config.stylePrefix;
          }, enumerable: false, configurable: true }), n2.prototype.initComponent = function() {
            var t3 = this, e4 = this.model, n3 = this.config.onInit, o2 = e4.components();
            this.listenTo(o2, "remove add reset", this.checkChildren), [["change:status", this.updateStatus], ["change:open", this.updateOpening], ["change:layerable", this.updateLayerable], ["change:style:display", this.updateVisibility], ["change:draggable", this.updateMove], ["rerender:layer", this.render], ["change:name change:custom-name", this.updateName]].forEach((function(n4) {
              return t3.listenTo(e4, n4[0], n4[1]);
            })), this.$el.data("model", e4), this.$el.data("collection", o2), e4.viewLayer = this, n3.bind(this)({ component: e4, render: this.__render, listenTo: this.listenTo });
          }, n2.prototype.updateName = function() {
            this.getInputName().innerText = this.model.getName();
          }, n2.prototype.getVisibilityEl = function() {
            return this.getItemContainer().find("[data-toggle-visible]");
          }, n2.prototype.updateVisibility = function() {
            var t3 = this, e4 = t3.pfx, n3 = t3.model, o2 = t3.module, r2 = "".concat(e4, "layer-hidden"), i2 = !o2.isVisible(n3) ? "addClass" : "removeClass";
            this.$el[i2](r2), this.getVisibilityEl()[i2]("".concat(e4, "layer-off"));
          }, n2.prototype.updateMove = function() {
            var t3 = this.model, e4 = this.config, n3 = this.getItemContainer().find("[".concat(Su, "]"))[0];
            if (n3) {
              var o2 = t3.get("draggable") && e4.sortable;
              n3.style.display = o2 ? "" : "none";
            }
          }, n2.prototype.toggleVisibility = function(t3) {
            null == t3 || t3.stopImmediatePropagation();
            var e4 = this.module, n3 = this.model;
            e4.setVisible(n3, !e4.isVisible(n3));
          }, n2.prototype.handleEdit = function(t3) {
            null == t3 || t3.stopPropagation();
            var e4 = this, n3 = e4.em, o2 = e4.$el, r2 = e4.clsNoEdit, i2 = e4.clsEdit, a2 = this.getInputName();
            a2[Cu] = "true", a2.focus(), document.execCommand("selectAll", false), n3.setEditing(true), o2.find(".".concat(this.inputNameCls)).removeClass(r2).addClass(i2);
          }, n2.prototype.handleEditKey = function(t3) {
            t3.stopPropagation(), ((0, Z.v$)(t3) || (0, Z.Ci)(t3)) && this.handleEditEnd(t3);
          }, n2.prototype.handleEditEnd = function(t3) {
            null == t3 || t3.stopPropagation();
            var e4 = this, n3 = e4.em, o2 = e4.$el, r2 = e4.clsNoEdit, i2 = e4.clsEdit, a2 = e4.model, s2 = this.getInputName(), l2 = s2.textContent;
            s2.scrollLeft = 0, s2[Cu] = "false", a2.setName(l2), n3.setEditing(false), o2.find(".".concat(this.inputNameCls)).addClass(r2).removeClass(i2), this.updateName();
          }, n2.prototype.getInputName = function() {
            return this.inputName || (this.inputName = this.el.querySelector(".".concat(this.inputNameCls))), this.inputName;
          }, n2.prototype.updateOpening = function() {
            var t3 = this, e4 = t3.$el, n3 = t3.model, o2 = t3.pfx, r2 = "open", i2 = "".concat(o2, "layer-open"), a2 = this.getCaret();
            this.module.isOpen(n3) ? (e4.addClass(r2), a2.addClass(i2)) : (e4.removeClass(r2), a2.removeClass(i2));
          }, n2.prototype.toggleOpening = function(t3) {
            var e4 = this.model, n3 = this.module;
            null == t3 || t3.stopImmediatePropagation(), e4.get("components").length && n3.setOpen(e4, !n3.isOpen(e4));
          }, n2.prototype.handleSelect = function(t3) {
            null == t3 || t3.stopPropagation();
            var e4 = this.module, n3 = this.model;
            e4.setLayerData(n3, { selected: true }, { event: t3 });
          }, n2.prototype.handleHover = function(t3) {
            null == t3 || t3.stopPropagation();
            var e4 = this.module, n3 = this.model;
            e4.setLayerData(n3, { hovered: true });
          }, n2.prototype.handleHoverOut = function(t3) {
            null == t3 || t3.stopPropagation();
            var e4 = this.module, n3 = this.model;
            e4.setLayerData(n3, { hovered: false });
          }, n2.prototype.startSort = function(t3) {
            var e4, n3, o2;
            t3.stopPropagation();
            var r2 = this, i2 = r2.em, a2 = r2.sorter, s2 = r2.model;
            if ((!t3.button || 0 === t3.button) && a2) {
              var l2 = (null === (n3 = null === (e4 = s2.delegate) || void 0 === e4 ? void 0 : e4.move) || void 0 === n3 ? void 0 : n3.call(e4, s2)) || s2;
              a2.eventHandlers = xu({ legacyOnStartSort: gu(i2), legacyOnMoveClb: yu(i2), legacyOnEndMove: mu(i2, [l2]) }, a2.eventHandlers);
              var c2 = (null === (o2 = l2.viewLayer) || void 0 === o2 ? void 0 : o2.el) || t3.target;
              a2.startSort([{ element: c2 }]);
            }
          }, n2.prototype.updateStatus = function() {
            Zr.prototype.updateStatus.apply(this, [{ avoidHover: !this.config.highlightHover, noExtHl: true }]);
          }, n2.prototype.getItemContainer = function() {
            return this.$el.children("[data-toggle-select]");
          }, n2.prototype.checkChildren = function() {
            var t3 = this, e4 = t3.model, n3 = t3.clsNoChild, o2 = t3.module, r2 = o2.getComponents(e4).length, i2 = this.getItemContainer(), a2 = i2.find(".".concat(this.clsTitle)), s2 = i2.find("[data-count]");
            a2[r2 ? "removeClass" : "addClass"](n3), s2.html("".concat(r2 || "")), !r2 && o2.setOpen(e4, false);
          }, n2.prototype.getCaret = function() {
            return this.caret && this.caret.length || (this.caret = this.getItemContainer().find(".".concat(this.clsCaret))), this.caret;
          }, n2.prototype.setRoot = function(e4) {
            var n3, o2 = (0, t2.isString)(e4) ? null === (n3 = this.em.getWrapper()) || void 0 === n3 ? void 0 : n3.find(e4)[0] : e4;
            o2 && (this.stopListening(), this.model = o2, this.initComponent(), this._rendered && this.render());
          }, n2.prototype.updateLayerable = function() {
            (this.parentView || this).render();
          }, n2.prototype.__clearItems = function() {
            var t3;
            null === (t3 = this.items) || void 0 === t3 || t3.remove();
          }, n2.prototype.remove = function() {
            for (var t3 = [], e4 = 0; e4 < arguments.length; e4++) t3[e4] = arguments[e4];
            return u.Ss.prototype.remove.apply(this, t3), delete this.model.viewLayer, this.__clearItems(), this;
          }, n2.prototype.render = function() {
            var t3 = this, e4 = t3.model, n3 = t3.config, o2 = t3.pfx, r2 = t3.ppfx, i2 = t3.opt, a2 = t3.sorter;
            this.__clearItems();
            var s2 = i2.opened, l2 = i2.module, c2 = i2.ItemView, u2 = !l2.__isLayerable(e4), p2 = this.$el.empty(), d2 = i2.level + 1;
            delete this.inputName, this.items = new su({ ItemView: c2, collection: e4.get("components"), config: n3, sorter: a2, opened: s2, parentView: this, parent: e4, level: d2, module: l2 });
            var f2 = this.items.render().$el;
            return n3.showWrapper || 1 !== d2 ? (p2.html(this.template(e4)), p2.find(".".concat(this.clsChildren)).append(f2)) : p2.append(f2), !l2.isVisible(e4) && (this.className += " ".concat(o2, "hide")), u2 && (this.className += " ".concat(r2, "hidden")), p2.attr("class", this.className), this.updateStatus(), this.updateOpening(), this.updateVisibility(), this.updateMove(), this.__render(), this._rendered = true, this;
          }, n2.prototype.__render = function() {
            var t3 = this, e4 = t3.model, n3 = t3.config, o2 = { component: e4, el: t3.el };
            n3.onRender.bind(this)(o2), this.em.trigger("layer:render", o2);
          }, n2;
        })(u.Ss);
        const Tu = Ou;
        var Pu = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Eu = function() {
          return Eu = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Eu.apply(this, arguments);
        }, ku = "layer", Au = "".concat(ku, ":"), ju = "".concat(Au, "root"), Mu = "".concat(Au, "component"), Du = "".concat(Au, "custom"), Lu = { all: ku, root: ju, component: Mu, custom: Du }, Iu = { mediaText: "" }, Nu = ["open", "status", "locked", "custom-name", "components", "classes"].map((function(t3) {
          return "".concat($.I.update, ":").concat(t3);
        })).join(" "), Ru = (function(n2) {
          function o2(e3) {
            var o3 = n2.call(this, e3, "LayerManager", tu()) || this;
            return o3.events = Lu, (0, t2.bindAll)(o3, "componentChanged", "__onRootChange", "__onComponent"), o3.model = new x.A(o3, { opened: {} }), o3.config.stylePrefix = o3.config.pStylePrefix, o3;
          }
          return Pu(o2, n2), o2.prototype.onLoad = function() {
            var t3 = this, e3 = this, n3 = e3.em, o3 = e3.config, r2 = e3.model;
            r2.listenTo(n3, "component:selected", this.componentChanged), r2.on("change:root", this.__onRootChange), r2.listenTo(n3, Nu, this.__onComponent), this.componentChanged(), r2.listenToOnce(n3, "load", (function() {
              t3.setRoot(o3.root), t3.__appendTo();
            }));
          }, o2.prototype.setRoot = function(n3) {
            var o3 = this.em.getWrapper(), r2 = (0, e2.isComponent)(n3) ? n3 : o3;
            n3 && (0, t2.isString)(n3) && (0, e2.hasWin)() && (r2 = o3.find(n3)[0] || o3);
            var i2 = this.__getLayerFromComponent(r2);
            return this.model.set("root", i2), i2;
          }, o2.prototype.getRoot = function() {
            return this.model.get("root");
          }, o2.prototype.getComponents = function(t3) {
            var e3 = this;
            return t3.components().map((function(t4) {
              return e3.__getLayerFromComponent(t4);
            })).filter((function(t4) {
              return e3.__isLayerable(t4);
            }));
          }, o2.prototype.setOpen = function(t3, e3) {
            t3.set("open", e3);
          }, o2.prototype.isOpen = function(t3) {
            return !!t3.get("open");
          }, o2.prototype.setVisible = function(t3, e3) {
            var n3 = "__prev-display", o3 = t3.getStyle(Iu), r2 = o3.display;
            if (e3) {
              var i2 = t3.get(n3);
              delete o3.display, i2 && (o3.display = i2, t3.unset(n3));
            } else r2 && t3.set(n3, r2), o3.display = "none";
            t3.setStyle(o3, Iu), this.updateLayer(t3), this.em.trigger("component:toggled");
          }, o2.prototype.isVisible = function(t3) {
            return void 0 === (e3 = t3.getStyle(Iu)) && (e3 = {}), !(0 === (e3.display || "").trim().indexOf("none"));
            var e3;
          }, o2.prototype.setLocked = function(t3, e3) {
            t3.set("locked", e3);
          }, o2.prototype.isLocked = function(t3) {
            return !!t3.get("locked");
          }, o2.prototype.setName = function(t3, e3) {
            t3.set("custom-name", e3);
          }, o2.prototype.getName = function(t3) {
            return t3.getName();
          }, o2.prototype.getLayerData = function(t3) {
            var e3 = t3.get("status");
            return { name: t3.getName(), open: this.isOpen(t3), selected: "selected" === e3, hovered: "hovered" === e3, visible: this.isVisible(t3), locked: this.isLocked(t3), components: this.getComponents(t3) };
          }, o2.prototype.setLayerData = function(t3, n3, o3) {
            var r2;
            void 0 === o3 && (o3 = {});
            var i2 = this.em, a2 = this.config, s2 = n3.open, l2 = n3.selected, c2 = n3.hovered, u2 = n3.visible, p2 = n3.locked, d2 = n3.name, f2 = Eu({ fromLayers: true }, o3);
            if ((0, e2.isDef)(s2) && this.setOpen(t3, s2), (0, e2.isDef)(l2)) if (l2) {
              i2.setSelected(t3, f2);
              var h2 = a2.scrollCanvas;
              h2 && (null === (r2 = t3.views) || void 0 === r2 || r2.forEach((function(t4) {
                return t4.scrollIntoView(h2);
              })));
            } else i2.removeSelected(t3, f2);
            (0, e2.isDef)(c2) && a2.showHover && (c2 ? i2.setHovered(t3, f2) : i2.setHovered(null, f2)), (0, e2.isDef)(u2) && u2 !== this.isVisible(t3) && this.setVisible(t3, u2), (0, e2.isDef)(p2) && this.setLocked(t3, p2), (0, e2.isDef)(d2) && this.setName(t3, d2);
          }, o2.prototype.componentChanged = function(t3, e3) {
            var n3;
            if (void 0 === e3 && (e3 = {}), !e3.fromLayers) {
              var o3 = this.em, r2 = this.config.scrollLayers, i2 = this.model.get("opened"), a2 = o3.getSelected(), s2 = null == a2 ? void 0 : a2.parent();
              for (var l2 in i2) i2[l2].set("open", false), delete i2[l2];
              for (; s2; ) s2.set("open", true), i2[s2.cid] = s2, s2 = s2.parent();
              if (a2 && r2) {
                var c2 = null === (n3 = a2.viewLayer) || void 0 === n3 ? void 0 : n3.el;
                null == c2 || c2.scrollIntoView(r2);
              }
            }
          }, o2.prototype.getAll = function() {
            return this.view;
          }, o2.prototype.render = function() {
            var t3, e3, n3 = this.config, o3 = this.model, r2 = Tu.extend(n3.extend);
            return this.view = new r2({ el: null === (t3 = this.view) || void 0 === t3 ? void 0 : t3.el, ItemView: r2, level: 0, config: n3, opened: o3.get("opened"), model: this.getRoot(), module: this }), null === (e3 = this.view) || void 0 === e3 ? void 0 : e3.render().el;
          }, o2.prototype.destroy = function() {
            var t3;
            null === (t3 = this.view) || void 0 === t3 || t3.remove();
          }, o2.prototype.__onRootChange = function() {
            var t3, e3 = this.getRoot();
            null === (t3 = this.view) || void 0 === t3 || t3.setRoot(e3), this.em.trigger(ju, e3), this.__trgCustom();
          }, o2.prototype.__getLayerFromComponent = function(t3) {
            var e3, n3;
            return (null === (n3 = null === (e3 = t3.delegate) || void 0 === e3 ? void 0 : e3.layer) || void 0 === n3 ? void 0 : n3.call(e3, t3)) || t3;
          }, o2.prototype.__onComponent = function(t3) {
            this.updateLayer(t3);
          }, o2.prototype.__isLayerable = function(t3) {
            var e3 = t3.tagName;
            return (!this.config.hideTextnode || !t3.isInstanceOf("textnode") && "br" !== e3) && t3.get("layerable");
          }, o2.prototype.__trgCustom = function(t3) {
            var e3 = this, n3 = e3.__ctn, o3 = e3.em, r2 = e3.events;
            this.__ctn = n3 || (null == t3 ? void 0 : t3.container), o3.trigger(r2.custom, { container: this.__ctn, root: this.getRoot() });
          }, o2.prototype.updateLayer = function(t3, e3) {
            this.em.trigger(Mu, t3, e3);
          }, o2;
        })(m);
        const Vu = Ru;
        const Fu = function() {
          return { assets: [], noAssets: "", stylePrefix: "am-", upload: "", uploadName: "files", headers: {}, params: {}, credentials: "include", multiUpload: true, multiUploadSuffix: "[]", autoAdd: true, customFetch: void 0, uploadFile: void 0, embedAsBase64: true, handleAdd: void 0, beforeUpload: void 0, showUrlInput: true, custom: false, dropzone: false, openAssetsOnDrop: true, dropzoneContent: "" };
        };
        var Hu = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Uu = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return Hu(n2, e3), n2.getDefaults = function() {
            return (0, t2.result)(this.prototype, "defaults");
          }, n2.prototype.defaults = function() {
            return { type: "", src: "" };
          }, n2.prototype.getType = function() {
            return this.get("type");
          }, n2.prototype.getSrc = function() {
            return this.get("src") || "";
          }, n2.prototype.getFilename = function() {
            return this.getSrc().split("/").pop().split("?").shift();
          }, n2.prototype.getExtension = function() {
            return this.getFilename().split(".").pop();
          }, n2;
        })(u.Kx);
        const zu = Uu;
        Uu.prototype.idAttribute = "src";
        var Bu = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Wu = function() {
          return Wu = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Wu.apply(this, arguments);
        };
        const $u = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Bu(e3, t3), e3.prototype.defaults = function() {
            return Wu(Wu({}, zu.getDefaults()), { type: "image", unitDim: "px", height: 0, width: 0 });
          }, e3;
        })(zu);
        var qu = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Gu = (function(e3) {
          function n2(t3) {
            var n3 = e3.call(this, t3) || this;
            n3.options = t3, n3.collection = t3.collection;
            var o2 = t3.config || {};
            n3.config = o2, n3.pfx = o2.stylePrefix || "", n3.ppfx = o2.pStylePrefix || "", n3.em = o2.em, n3.className = n3.pfx + "asset", n3.listenTo(n3.model, "destroy remove", n3.remove), n3.model.view = n3;
            var r2 = n3.init && n3.init.bind(n3);
            return r2 && r2(t3), n3;
          }
          return qu(n2, e3), n2.prototype.__getBhv = function() {
            var t3 = this.em, e4 = null == t3 ? void 0 : t3.Assets;
            return (null == e4 ? void 0 : e4.__getBehaviour()) || {};
          }, n2.prototype.template = function(t3, e4) {
            var n3 = this.pfx;
            return '\n      <div class="'.concat(n3, 'preview-cont">\n        ').concat(this.getPreview(), '\n      </div>\n      <div class="').concat(n3, 'meta">\n        ').concat(this.getInfo(), '\n      </div>\n      <div class="').concat(n3, 'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    ');
          }, n2.prototype.updateTarget = function(e4) {
            e4 && e4.set && (e4.set("attributes", (0, t2.clone)(e4.get("attributes"))), e4.set("src", this.model.get("src")));
          }, n2.prototype.getPreview = function() {
            return "";
          }, n2.prototype.getInfo = function() {
            return "";
          }, n2.prototype.render = function() {
            var t3 = this.el;
            return t3.innerHTML = this.template(this, this.model), t3.className = this.className, this;
          }, n2;
        })(u.Ss);
        const Ku = Gu;
        var Yu = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ju = function(t3, e3) {
          return Object.defineProperty ? Object.defineProperty(t3, "raw", { value: e3 }) : t3.raw = e3, t3;
        }, Xu = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return Yu(n2, e3), n2.prototype.getPreview = function() {
            var t3 = this, e4 = t3.pfx, n3 = t3.ppfx, o2 = t3.model.get("src");
            return r(Qu || (Qu = Ju(['\n      <div class="', `preview" style="background-image: url('`, `');"></div>
      <div class="`, "preview-bg ", 'checker-bg"></div>\n    '], ['\n      <div class="', `preview" style="background-image: url('`, `');"></div>
      <div class="`, "preview-bg ", 'checker-bg"></div>\n    '])), e4, o2, e4, n3);
          }, n2.prototype.getInfo = function() {
            var t3 = this.pfx, e4 = this.model, n3 = e4.get("name"), o2 = e4.get("width"), i2 = e4.get("height"), a2 = e4.get("unitDim"), s2 = o2 && i2 ? "".concat(o2, "x").concat(i2).concat(a2) : "";
            return n3 = n3 || e4.getFilename(), r(tp || (tp = Ju(['\n      <div class="', 'name">', '</div>\n      <div class="', 'dimensions">', "</div>\n    "], ['\n      <div class="', 'name">', '</div>\n      <div class="', 'dimensions">', "</div>\n    "])), t3, n3, t3, s2);
          }, n2.prototype.init = function(t3) {
            var e4 = this.pfx;
            this.className += " ".concat(e4, "asset-image");
          }, n2.prototype.onClick = function() {
            var e4 = this.model, n3 = this.pfx, o2 = this.__getBhv().select, r2 = this.config.onClick, i2 = this.collection;
            i2.trigger("deselectAll"), this.$el.addClass(n3 + "highlight"), (0, t2.isFunction)(o2) ? o2(e4, false) : (0, t2.isFunction)(r2) ? r2(e4) : this.updateTarget(i2.target);
          }, n2.prototype.onDblClick = function() {
            var e4 = this.em, n3 = this.model, o2 = this.__getBhv().select, r2 = this.config.onDblClick, i2 = this.collection, a2 = i2.target, s2 = i2.onSelect;
            (0, t2.isFunction)(o2) ? o2(n3, true) : (0, t2.isFunction)(r2) ? r2(n3) : (this.updateTarget(a2), null == e4 || e4.Modal.close()), (0, t2.isFunction)(s2) && s2(n3);
          }, n2.prototype.onRemove = function(t3) {
            t3.stopImmediatePropagation(), this.model.collection.remove(this.model);
          }, n2;
        })(Ku);
        const Zu = Xu;
        var Qu, tp;
        Xu.prototype.events = { "click [data-toggle=asset-remove]": "onRemove", click: "onClick", dblclick: "onDblClick" };
        var ep = function() {
          return ep = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ep.apply(this, arguments);
        }, np = { types: [], initialize: function(t3, e3) {
          var n2 = this;
          void 0 === e3 && (e3 = {});
          var o2 = e3.em;
          this.em = o2, this.opts = e3, this.model = function(t4, e4) {
            var r3, i2, a2;
            if (void 0 === t4 && (t4 = {}), void 0 === e4 && (e4 = {}), t4 && t4.type) {
              var s2 = n2.getBaseType();
              r3 = (a2 = n2.getType(t4.type)) ? a2.model : s2.model, i2 = a2 ? a2.view : s2.view;
            } else {
              var l2 = n2.recognizeType(t4);
              r3 = (a2 = l2.type).model, i2 = a2.view, t4 = l2.attributes;
            }
            var c2 = new r3(t4, ep(ep({}, e4), { em: o2 }));
            return c2.typeView = i2, n2.model.prototype = r3.prototype, c2;
          };
          var r2 = this.init && this.init.bind(this);
          r2 && r2();
        }, recognizeType: function(t3) {
          for (var e3 = this.getTypes(), n2 = 0; n2 < e3.length; n2++) {
            var o2 = e3[n2], r2 = o2.isType(t3);
            if (r2 = "boolean" == typeof r2 && r2 ? { type: o2.id } : r2) return { type: o2, attributes: r2 };
          }
          return { type: this.getBaseType(), attributes: t3 };
        }, getBaseType: function() {
          var t3 = this.getTypes();
          return t3[t3.length - 1];
        }, getTypes: function() {
          return this.types;
        }, getType: function(t3) {
          for (var e3 = this.getTypes(), n2 = 0; n2 < e3.length; n2++) {
            var o2 = e3[n2];
            if (o2.id === t3) return o2;
          }
        }, addType: function(e3, n2) {
          var o2 = this.getType(e3), r2 = this.getBaseType(), i2 = o2 ? o2.model : r2.model, a2 = o2 ? o2.view : r2.view, s2 = n2.model, l2 = n2.view, c2 = n2.isType;
          s2 = s2 instanceof u.Kx || (0, t2.isFunction)(s2) ? s2 : i2.extend(s2 || {}), l2 = l2 instanceof u.Ss || (0, t2.isFunction)(l2) ? l2 : a2.extend(l2 || {}), !this.extendViewApi || n2.model || n2.view || (l2 = l2.extend(n2)), o2 ? (o2.model = s2, o2.view = l2, o2.isType = c2 || o2.isType) : (n2.id = e3, n2.model = s2, n2.view = l2, n2.isType = c2 || function(t3) {
            if (t3 && t3.type == e3) return true;
          }, this.getTypes().unshift(n2));
        } };
        const op = np;
        var rp = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ip = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return rp(e3, t3), e3;
        })(u.pM.extend(op));
        const ap = ip;
        var sp;
        ip.prototype.types = [{ id: "image", model: $u, view: Zu, isType: function(t3) {
          return "string" == typeof t3 ? { type: "image", src: t3 } : t3;
        } }], (function(t3) {
          t3["add"] = "asset:add", t3["remove"] = "asset:remove", t3["removeBefore"] = "asset:remove:before", t3["update"] = "asset:update", t3["open"] = "asset:open", t3["close"] = "asset:close", t3["uploadStart"] = "asset:upload:start", t3["uploadEnd"] = "asset:upload:end", t3["uploadError"] = "asset:upload:error", t3["uploadResponse"] = "asset:upload:response", t3["custom"] = "asset:custom", t3["all"] = "asset";
        })(sp || (sp = {}));
        const lp = sp;
        var cp = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), up = (function(t3) {
          function e3(e4) {
            void 0 === e4 && (e4 = {});
            var n2 = t3.call(this, e4) || this;
            n2.options = e4, n2.config = e4.config, n2.pfx = n2.config.stylePrefix || "", n2.ppfx = n2.config.pStylePrefix || "", n2.em = n2.config.em;
            var o2 = n2.collection;
            return n2.listenTo(o2, "reset", n2.renderAssets), n2.listenTo(o2, "add", n2.addToAsset), n2.listenTo(o2, "remove", n2.removedAsset), n2.listenTo(o2, "deselectAll", n2.deselectAll), n2;
          }
          return cp(e3, t3), e3.prototype.template = function(t4) {
            var e4 = t4.pfx, n2 = t4.ppfx, o2 = t4.em, r2 = "";
            return this.config.showUrlInput && (r2 = '\n          <form class="'.concat(e4, 'add-asset">\n            <div class="').concat(n2, "field ").concat(e4, 'add-field">\n              <input placeholder="').concat(null == o2 ? void 0 : o2.t("assetManager.inputPlh"), '"/>\n            </div>\n            <button class="').concat(n2, 'btn-prim">').concat(null == o2 ? void 0 : o2.t("assetManager.addButton"), '</button>\n            <div style="clear:both"></div>\n          </form>\n      ')), '\n    <div class="'.concat(e4, 'assets-cont">\n      <div class="').concat(e4, 'assets-header">\n        ').concat(r2, '\n      </div>\n      <div class="').concat(e4, 'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    ');
          }, e3.prototype.handleSubmit = function(t4) {
            t4.preventDefault();
            var e4 = this.getAddInput(), n2 = e4 && e4.value.trim(), o2 = this.config.handleAdd;
            if (n2) {
              e4.value = "";
              var r2 = this.getAssetsEl();
              r2 && (r2.scrollTop = 0), o2 ? o2.bind(this)(n2) : this.options.globalCollection.add(n2, { at: 0 });
            }
          }, e3.prototype.getAssetsEl = function() {
            return this.el.querySelector(".".concat(this.pfx, "assets"));
          }, e3.prototype.getAddInput = function() {
            return this.inputUrl && this.inputUrl.value || (this.inputUrl = this.el.querySelector(".".concat(this.pfx, "add-asset input"))), this.inputUrl;
          }, e3.prototype.removedAsset = function(t4) {
            this.collection.length || this.toggleNoAssets();
          }, e3.prototype.addToAsset = function(t4) {
            1 == this.collection.length && this.toggleNoAssets(true), this.addAsset(t4);
          }, e3.prototype.addAsset = function(t4, e4) {
            void 0 === e4 && (e4 = null);
            var n2 = e4, o2 = this.collection, r2 = this.config, i2 = new t4.typeView({ model: t4, collection: o2, config: r2 }).render().el;
            if (n2) n2.appendChild(i2);
            else {
              var a2 = this.getAssetsEl();
              a2 && a2.insertBefore(i2, a2.firstChild);
            }
            return i2;
          }, e3.prototype.toggleNoAssets = function(t4) {
            void 0 === t4 && (t4 = false);
            var e4 = this.$el.find(".".concat(this.pfx, "assets"));
            if (t4) e4.empty();
            else {
              var n2 = this.config.noAssets;
              n2 && e4.append(n2);
            }
          }, e3.prototype.deselectAll = function() {
            var t4 = this.pfx;
            this.$el.find(".".concat(t4, "highlight")).removeClass("".concat(t4, "highlight"));
          }, e3.prototype.renderAssets = function() {
            var t4 = this, e4 = document.createDocumentFragment(), n2 = this.$el.find(".".concat(this.pfx, "assets"));
            n2.empty(), this.toggleNoAssets(!!this.collection.length), this.collection.each((function(n3) {
              return t4.addAsset(n3, e4);
            })), n2.append(e4);
          }, e3.prototype.render = function() {
            var t4 = this.options.fu.render().el;
            return this.$el.empty(), this.$el.append(t4).append(this.template(this)), this.el.className = "".concat(this.ppfx, "asset-manager"), this.renderAssets(), this;
          }, e3;
        })(u.Ss);
        const pp = up;
        up.prototype.events = { submit: "handleSubmit" };
        var dp = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), fp = function(t3, e3) {
          return Object.defineProperty ? Object.defineProperty(t3, "raw", { value: e3 }) : t3.raw = e3, t3;
        }, hp = (function(t3) {
          function e3(n2) {
            void 0 === n2 && (n2 = {});
            var o2 = t3.call(this, n2) || this;
            o2.options = n2;
            var r2 = n2.config || {};
            o2.module = n2.module, o2.config = r2, o2.em = o2.config.em, o2.pfx = r2.stylePrefix || "", o2.ppfx = r2.pStylePrefix || "", o2.target = o2.options.globalCollection || {}, o2.uploadId = o2.pfx + "uploadFile", o2.disabled = void 0 !== r2.disableUpload ? r2.disableUpload : !r2.upload && !r2.embedAsBase64, o2.multiUpload = void 0 === r2.multiUpload || r2.multiUpload;
            var i2 = r2.uploadFile;
            return i2 ? o2.uploadFile = i2.bind(o2) : !r2.upload && r2.embedAsBase64 && (o2.uploadFile = e3.embedAsBase64), o2.delegateEvents(), o2;
          }
          return dp(e3, t3), e3.prototype.template = function(t4) {
            var e4 = t4.pfx, n2 = t4.title, o2 = t4.uploadId, i2 = t4.disabled, a2 = t4.multiUpload;
            return r(gp || (gp = fp(['\n      <form>\n        <div id="', 'title">', '</div>\n        <input\n          data-input\n          type="file"\n          id="', '"\n          name="file"\n          accept="*/*"\n          ', "\n          ", '\n        />\n        <div style="clear:both;"></div>\n      </form>\n    '], ['\n      <form>\n        <div id="', 'title">', '</div>\n        <input\n          data-input\n          type="file"\n          id="', '"\n          name="file"\n          accept="*/*"\n          ', "\n          ", '\n        />\n        <div style="clear:both;"></div>\n      </form>\n    '])), e4, n2, o2, i2 ? "disabled" : "", a2 ? "multiple" : "");
          }, e3.prototype.events = function() {
            return { "change [data-input]": "uploadFile" };
          }, e3.prototype.onUploadStart = function() {
            var t4 = this.module;
            null == t4 || t4.__propEv(t4.events.uploadStart);
          }, e3.prototype.onUploadEnd = function(t4) {
            var e4 = this.$el, n2 = this.module;
            null == n2 || n2.__propEv(n2.events.uploadEnd, t4);
            var o2 = e4.find("input");
            o2 && o2.val("");
          }, e3.prototype.onUploadError = function(t4) {
            var e4 = this.module;
            console.error(t4), this.onUploadEnd(t4), null == e4 || e4.__propEv(e4.events.uploadError, t4);
          }, e3.prototype.onUploadResponse = function(t4, e4) {
            var n2, o2 = this, r2 = o2.module, i2 = o2.config, a2 = o2.target;
            try {
              n2 = "string" == typeof t4 ? JSON.parse(t4) : t4;
            } catch (e5) {
              n2 = t4;
            }
            null == r2 || r2.__propEv(r2.events.uploadResponse, n2), i2.autoAdd && a2 && a2.add(n2.data, { at: 0 }), this.onUploadEnd(t4), null == e4 || e4(n2);
          }, e3.prototype.uploadFile = function(t4, e4, n2) {
            var o2, r2 = this, i2 = t4.dataTransfer ? t4.dataTransfer.files : null === (o2 = t4.target) || void 0 === o2 ? void 0 : o2.files, a2 = this.config, s2 = a2.beforeUpload;
            if (false !== (s2 && s2(i2))) {
              var l2 = new FormData(), c2 = a2.params, u2 = a2.customFetch, p2 = a2.fetchOptions;
              for (var d2 in c2) l2.append(d2, c2[d2]);
              if (this.multiUpload) for (var f2 = 0; f2 < i2.length; f2++) l2.append("".concat(a2.uploadName).concat(a2.multiUploadSuffix), i2[f2]);
              else i2.length && l2.append(a2.uploadName, i2[0]);
              var h2 = a2.upload, v2 = a2.headers, g2 = "X-Requested-With";
              if (void 0 === v2[g2] && (v2[g2] = "XMLHttpRequest"), h2) {
                this.onUploadStart();
                var y2 = { method: "post", credentials: a2.credentials || "include", headers: v2, body: l2 }, m2 = (null == p2 ? void 0 : p2(y2)) || y2;
                return (u2 ? u2(h2, m2) : tc(h2, m2).then((function(t5) {
                  return 1 == (t5.status / 200 | 0) ? t5.text() : t5.text().then((function(t6) {
                    return Promise.reject(t6);
                  }));
                }))).then((function(t5) {
                  return r2.onUploadResponse(t5, e4);
                })).catch((function(t5) {
                  return r2.onUploadError(t5);
                }));
              }
            }
          }, e3.prototype.initDrop = function() {
            var t4 = this;
            if (!this.uploadForm) {
              this.uploadForm = this.$el.find("form").get(0);
              var e4 = this.uploadForm;
              "draggable" in e4 && (this.uploadForm.ondragover = function() {
                return e4.className = t4.pfx + "hover", false;
              }, this.uploadForm.ondragleave = function() {
                return e4.className = "", false;
              }, this.uploadForm.ondrop = function(n2) {
                e4.className = "", n2.preventDefault(), t4.uploadFile(n2);
              });
            }
          }, e3.prototype.initDropzone = function(t4) {
            var e4 = this, n2 = 0, o2 = this.config, r2 = t4.model, i2 = t4.el, a2 = r2.Editor, s2 = r2.Canvas.getBody(), l2 = this.ppfx, c2 = "".concat(l2, "dropzone-active"), u2 = "".concat(l2, "dropzone"), p2 = function() {
              i2.className = i2.className.replace(c2, "").trim(), n2 = 0;
            }, d2 = function() {
              return n2 || (i2.className += " ".concat(c2), n2 = 1), false;
            }, f2 = function() {
              return p2(), false;
            }, h2 = function(t5) {
              if (p2(), t5.preventDefault(), t5.stopPropagation(), e4.uploadFile(t5), o2.openAssetsOnDrop && a2) {
                var n3 = a2.getSelected();
                a2.runCommand("open-assets", { target: n3, onSelect: function() {
                  a2.Modal.close(), a2.AssetManager.setTarget(null);
                } });
              }
              return false;
            };
            t4.$el.append('<div class="'.concat(u2, '">').concat(o2.dropzoneContent, "</div>")), p2(), "draggable" in i2 && [i2, s2].forEach((function(t5) {
              t5.ondragover = d2, t5.ondragleave = f2, t5.ondrop = h2;
            }));
          }, e3.prototype.render = function() {
            var t4 = this, e4 = t4.$el, n2 = t4.pfx, o2 = t4.em;
            return e4.html(this.template({ title: o2 && o2.t("assetManager.uploadTitle"), uploadId: this.uploadId, disabled: this.disabled, multiUpload: this.multiUpload, pfx: n2 })), this.initDrop(), e4.attr("class", n2 + "file-uploader"), this;
          }, e3.embedAsBase64 = function(t4, e4) {
            var n2 = this, o2 = t4.dataTransfer ? t4.dataTransfer.files : t4.target.files, r2 = { data: [] };
            if (FileReader) {
              for (var i2 = [], a2 = /^(.+)\/(.+)$/, s2 = function(t5) {
                var e5 = new Promise((function(e6, n3) {
                  var o3 = new FileReader();
                  o3.addEventListener("load", (function(r3) {
                    var i3, s3 = t5.name, l3 = a2.exec(t5.type);
                    if ("image" === (i3 = l3 ? l3[1] : t5.type)) {
                      var c3 = { src: o3.result, name: s3, type: i3, height: 0, width: 0 }, u2 = new Image();
                      u2.addEventListener("error", (function(t6) {
                        n3(t6);
                      })), u2.addEventListener("load", (function() {
                        c3.height = u2.height, c3.width = u2.width, e6(c3);
                      })), u2.src = c3.src;
                    } else e6(i3 ? { src: o3.result, name: s3, type: i3 } : o3.result);
                  })), o3.addEventListener("error", (function(t6) {
                    n3(t6);
                  })), o3.addEventListener("abort", (function(t6) {
                    n3("Aborted");
                  })), o3.readAsDataURL(t5);
                }));
                i2.push(e5);
              }, l2 = 0, c2 = o2; l2 < c2.length; l2++) {
                s2(c2[l2]);
              }
              return Promise.all(i2).then((function(t5) {
                r2.data = t5, n2.onUploadResponse(r2, e4);
              }), (function(t5) {
                n2.onUploadError(t5);
              }));
            }
            this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));
          }, e3;
        })(u.Ss);
        const vp = hp;
        var gp, yp = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), mp = function() {
          return mp = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, mp.apply(this, arguments);
        }, bp = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, _p = "open-assets", wp = (function(e3) {
          function n2(n3) {
            var o2 = e3.call(this, n3, "AssetManager", new ap([], n3), lp, Fu()) || this;
            o2.storageKey = "assets", o2.Asset = zu, o2.Assets = ap, o2.events = lp;
            var r2 = o2, i2 = r2.all, a2 = r2.config;
            o2.assetsVis = new ap([]);
            var s2 = a2.pStylePrefix;
            return s2 && (a2.stylePrefix = "".concat(s2).concat(a2.stylePrefix)), i2.on("add", (function(t3) {
              return o2.getAllVisible().add(t3);
            })), i2.on("remove", (function(t3) {
              return o2.getAllVisible().remove(t3);
            })), o2.__onAllEvent = (0, t2.debounce)((function() {
              return o2.__trgCustom();
            }), 0), o2;
          }
          return yp(n2, e3), n2.prototype.open = function(t3) {
            void 0 === t3 && (t3 = {}), this.em.Commands.run(_p, mp({ types: ["image"], select: function() {
            } }, t3));
          }, n2.prototype.close = function() {
            this.em.Commands.stop(_p);
          }, n2.prototype.isOpen = function() {
            var t3 = this.em.Commands;
            return !!(null == t3 ? void 0 : t3.isActive(_p));
          }, n2.prototype.add = function(t3, e4) {
            return void 0 === e4 && (e4 = {}), void 0 === e4.at && (e4.at = 0), this.all.add(t3, e4);
          }, n2.prototype.get = function(t3) {
            return this.all.where({ src: t3 })[0] || null;
          }, n2.prototype.getAll = function() {
            return this.all;
          }, n2.prototype.getAllVisible = function() {
            return this.assetsVis;
          }, n2.prototype.remove = function(t3, e4) {
            return this.__remove(t3, e4);
          }, n2.prototype.store = function() {
            return this.getProjectData();
          }, n2.prototype.load = function(t3) {
            return this.loadProjectData(t3);
          }, n2.prototype.getContainer = function() {
            var t3;
            return this.__getBehaviour().container || (null === (t3 = this.am) || void 0 === t3 ? void 0 : t3.el);
          }, n2.prototype.getAssetsEl = function() {
            var t3;
            return null === (t3 = this.am) || void 0 === t3 ? void 0 : t3.el.querySelector("[data-el=assets]");
          }, n2.prototype.render = function(t3) {
            if (!this.getConfig().custom) {
              var e4 = t3 || this.getAll().models;
              if (!this.am) {
                var n3 = this.__viewParams();
                n3.fu = this.FileUploader(), this.am = new pp(mp({}, n3)), this.am.render();
              }
              return this.assetsVis.reset(e4), this.getContainer();
            }
          }, n2.prototype.__viewParams = function() {
            return { collection: this.assetsVis, globalCollection: this.all, config: this.config, module: this, fu: void 0 };
          }, n2.prototype.addType = function(t3, e4) {
            this.getAll().addType(t3, e4);
          }, n2.prototype.getType = function(t3) {
            return this.getAll().getType(t3);
          }, n2.prototype.getTypes = function() {
            return this.getAll().getTypes();
          }, n2.prototype.AssetsView = function() {
            return this.am;
          }, n2.prototype.FileUploader = function() {
            return this.fu || (this.fu = new vp(this.__viewParams())), this.fu;
          }, n2.prototype.onLoad = function() {
            var t3 = this;
            this.getAll().reset(this.config.assets);
            var e4 = this.em, n3 = this.events;
            e4.Commands.__onRun(_p, (function() {
              return t3.__propEv(n3.open);
            })), e4.Commands.__onStop(_p, (function() {
              return t3.__propEv(n3.close);
            }));
          }, n2.prototype.postRender = function(t3) {
            var e4;
            this.config.dropzone && (null === (e4 = this.fu) || void 0 === e4 || e4.initDropzone(t3));
          }, n2.prototype.setTarget = function(t3) {
            this.assetsVis.target = t3;
          }, n2.prototype.onSelect = function(t3) {
            this.assetsVis.onSelect = t3;
          }, n2.prototype.onClick = function(t3) {
            this.config.onClick = t3;
          }, n2.prototype.onDblClick = function(t3) {
            this.config.onDblClick = t3;
          }, n2.prototype.__propEv = function(t3) {
            for (var e4, n3, o2 = [], r2 = 1; r2 < arguments.length; r2++) o2[r2 - 1] = arguments[r2];
            (e4 = this.em).trigger.apply(e4, bp([t3], o2, false)), (n3 = this.getAll()).trigger.apply(n3, bp([t3], o2, false));
          }, n2.prototype.__trgCustom = function() {
            var t3 = this.__getBehaviour(), e4 = this.getConfig().custom;
            (t3.container || e4.open) && this.em.trigger(this.events.custom, this.__customData());
          }, n2.prototype.__customData = function() {
            var e4 = this, n3 = this.__getBehaviour();
            return { am: this, open: this.isOpen(), assets: this.getAll().models, types: n3.types || [], container: n3.container, close: function() {
              return e4.close();
            }, remove: function(t3, n4) {
              return e4.remove(t3, n4);
            }, select: function(o2, r2) {
              var i2 = e4.add(o2);
              (0, t2.isFunction)(n3.select) && n3.select(i2, r2);
            }, options: n3.options || {} };
          }, n2.prototype.__behaviour = function(t3) {
            return void 0 === t3 && (t3 = {}), this._bhv = mp(mp({}, this._bhv || {}), t3);
          }, n2.prototype.__getBehaviour = function(t3) {
            return void 0 === t3 && (t3 = {}), this._bhv || {};
          }, n2.prototype.destroy = function() {
            var t3, e4;
            this.all.stopListening(), this.all.reset(), this.assetsVis.stopListening(), this.assetsVis.reset(), null === (t3 = this.fu) || void 0 === t3 || t3.remove(), null === (e4 = this.am) || void 0 === e4 || e4.remove(), this._bhv = {};
          }, n2;
        })(b);
        const xp = wp;
        const Cp = function() {
          return { default: "", devices: [{ id: "desktop", name: "Desktop", width: "" }, { id: "tablet", name: "Tablet", width: "770px", widthMedia: "992px" }, { id: "mobileLandscape", name: "Mobile landscape", width: "568px", widthMedia: "768px" }, { id: "mobilePortrait", name: "Mobile portrait", width: "320px", widthMedia: "480px" }] };
        };
        var Sp = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Op = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Sp(e3, t3), e3.prototype.defaults = function() {
            return { name: "", width: null, height: "", widthMedia: null, priority: null };
          }, e3.prototype.initialize = function() {
            var t4 = this;
            null === this.get("widthMedia") && this.set("widthMedia", this.get("width")), null === this.get("width") && this.set("width", this.get("widthMedia")), !this.get("priority") && this.set("priority", parseFloat(this.get("widthMedia")) || 0);
            ["width", "height", "widthMedia"].forEach((function(e4) {
              return t4.checkUnit(e4);
            }));
          }, e3.prototype.checkUnit = function(t4) {
            var e4 = this.get(t4) || "";
            (parseFloat(e4) || 0).toString() === e4.toString() && this.set(t4, "".concat(e4, "px"));
          }, e3.prototype.getName = function() {
            return this.get("name") || this.get("id");
          }, e3.prototype.getWidthMedia = function() {
            return this.get("widthMedia") || "";
          }, e3;
        })(u.Kx);
        var Tp = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Pp = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Tp(e3, t3), e3;
        })(u.pM);
        const Ep = Pp;
        Pp.prototype.model = Op;
        var kp = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ap = function(t3, e3) {
          return Object.defineProperty ? Object.defineProperty(t3, "raw", { value: e3 }) : t3.raw = e3, t3;
        }, jp = (function(t3) {
          function e3(e4) {
            var n2 = t3.call(this, e4) || this;
            return n2.config = e4.config || {}, n2.em = n2.config.em, n2.ppfx = n2.config.pStylePrefix || "", n2.listenTo(n2.em, "change:device", n2.updateSelect), n2;
          }
          return kp(e3, t3), e3.prototype.template = function(t4) {
            var e4 = t4.ppfx, n2 = t4.label;
            return r(Dp || (Dp = Ap(['\n      <div class="', 'device-label">', '</div>\n      <div class="', "field ", 'select">\n        <span id="', 'input-holder">\n          <select class="', 'devices"></select>\n        </span>\n        <div class="', 'sel-arrow">\n          <div class="', 'd-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="', 'add-trasp" data-add-trasp>+</button>\n    '], ['\n      <div class="', 'device-label">', '</div>\n      <div class="', "field ", 'select">\n        <span id="', 'input-holder">\n          <select class="', 'devices"></select>\n        </span>\n        <div class="', 'sel-arrow">\n          <div class="', 'd-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="', 'add-trasp" data-add-trasp>+</button>\n    '])), e4, n2, e4, e4, e4, e4, e4, e4, e4);
          }, e3.prototype.events = function() {
            return { change: "updateDevice", "click [data-add-trasp]": "startAdd" };
          }, e3.prototype.startAdd = function() {
          }, e3.prototype.updateDevice = function() {
            var t4 = this.em;
            if (t4) {
              var e4 = this.devicesEl;
              t4.set("device", e4 ? e4.val() : "");
            }
          }, e3.prototype.updateSelect = function() {
            var t4 = this.em, e4 = this.devicesEl;
            if (t4 && t4.getDeviceModel && e4) {
              var n2 = t4.getDeviceModel();
              e4.val(n2 ? n2.get("id") : "");
            }
          }, e3.prototype.getOptions = function() {
            var t4 = this.collection, e4 = this.em, n2 = "";
            return t4.forEach((function(t5) {
              var o2 = t5.attributes, r2 = o2.name, i2 = o2.id, a2 = e4 && e4.t && e4.t("deviceManager.devices.".concat(i2)) || r2;
              n2 += '<option value="'.concat(i2 || r2, '">').concat(a2, "</option>");
            })), n2;
          }, e3.prototype.render = function() {
            var t4 = this, e4 = t4.em, n2 = t4.ppfx, o2 = t4.$el, r2 = t4.el, i2 = e4 && e4.t && e4.t("deviceManager.device");
            return o2.html(this.template({ ppfx: n2, label: i2 })), this.devicesEl = o2.find(".".concat(n2, "devices")), this.devicesEl.append(this.getOptions()), this.devicesEl.val(e4.get("device")), r2.className = "".concat(n2, "devices-c"), this;
          }, e3;
        })(u.Ss);
        const Mp = jp;
        var Dp, Lp = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ip = function() {
          return Ip = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ip.apply(this, arguments);
        }, Np = (function(e3) {
          function n2(t3) {
            var n3, o2 = e3.call(this, t3, "DeviceManager", new Ep(), C, Cp()) || this;
            return o2.Device = Op, o2.Devices = Ep, o2.storageKey = "", o2.devices = o2.all, null === (n3 = o2.config.devices) || void 0 === n3 || n3.forEach((function(t4) {
              return o2.add(t4, { silent: true });
            })), o2.select(o2.config.default || o2.devices.at(0)), t3.on("change:device", o2._onSelect, o2), o2;
          }
          return Lp(n2, e3), n2.prototype._onSelect = function(t3, e4, n3) {
            var o2 = this.em, r2 = this.events, i2 = t3.previous("device"), a2 = this.get(e4), s2 = r2.select;
            o2.trigger(s2, a2, this.get(i2)), this.__catchAllEvent(s2, a2, n3);
          }, n2.prototype.add = function(e4, n3) {
            var o2;
            void 0 === n3 && (n3 = {});
            var r2 = n3;
            if ((0, t2.isString)(e4)) {
              var i2 = n3;
              o2 = Ip(Ip({}, r2 = arguments[2] || {}), { id: e4, name: r2.name || e4, width: i2 });
            } else o2 = e4;
            return o2.id || (o2.id = o2.name || this._createId()), this.devices.add(o2, r2);
          }, n2.prototype.get = function(t3) {
            return this.getAll().filter((function(e4) {
              return e4.get("name") === t3;
            }))[0] || this.devices.get(t3) || null;
          }, n2.prototype.remove = function(t3, e4) {
            return void 0 === e4 && (e4 = {}), this.__remove(t3, e4);
          }, n2.prototype.getDevices = function() {
            return this.devices.models;
          }, n2.prototype.select = function(e4, n3) {
            void 0 === n3 && (n3 = {});
            var o2 = (0, t2.isString)(e4) ? this.get(e4) : e4;
            return o2 && this.em.set("device", o2.get("id"), n3), this;
          }, n2.prototype.getSelected = function() {
            return this.get(this.em.get("device"));
          }, n2.prototype.getAll = function() {
            return this.devices;
          }, n2.prototype.render = function() {
            var t3, e4 = this.em;
            return null === (t3 = this.view) || void 0 === t3 || t3.remove(), this.view = new Mp({ collection: this.devices, config: Ip({ em: e4 }, this.config) }), this.view.render().el;
          }, n2.prototype.destroy = function() {
            this.__destroy();
          }, n2;
        })(b);
        const Rp = Np;
        var Vp = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Fp = (function(e3) {
          function n2(t3, n3) {
            void 0 === n3 && (n3 = {});
            var o2 = e3.call(this, t3, n3) || this, r2 = n3.em, i2 = {};
            o2.em = r2, t3.frames || (i2.component = t3.component, i2.styles = t3.styles, ["component", "styles"].map((function(t4) {
              return o2.unset(t4);
            })));
            var a2 = t3.frames || [i2], s2 = new H(r2.Canvas, a2);
            return s2.page = o2, o2.set("frames", s2), !o2.getId() && o2.set("id", null == r2 ? void 0 : r2.Pages._createId()), null == r2 || r2.UndoManager.add(s2), o2;
          }
          return Vp(n2, e3), n2.prototype.defaults = function() {
            return { name: "", frames: [], _undo: true };
          }, n2.prototype.onRemove = function() {
            this.getFrames().reset();
          }, n2.prototype.getFrames = function() {
            return this.get("frames");
          }, n2.prototype.getId = function() {
            return this.id;
          }, n2.prototype.getName = function() {
            return this.get("name");
          }, n2.prototype.setName = function(t3) {
            return this.set({ name: t3 });
          }, n2.prototype.getAllFrames = function() {
            return this.getFrames().models || [];
          }, n2.prototype.getMainFrame = function() {
            return this.getFrames().at(0);
          }, n2.prototype.getMainComponent = function() {
            var t3 = this.getMainFrame();
            return null == t3 ? void 0 : t3.getComponent();
          }, n2.prototype.toJSON = function(e4) {
            void 0 === e4 && (e4 = {});
            var n3 = u.Kx.prototype.toJSON.call(this, e4), o2 = (0, t2.result)(this, "defaults");
            return (0, t2.forEach)(n3, (function(t3, e5) {
              0 === e5.indexOf("_") && delete n3[e5];
            })), (0, t2.forEach)(o2, (function(t3, e5) {
              n3[e5] === t3 && delete n3[e5];
            })), n3;
          }, n2;
        })(u.Kx);
        var Hp = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Up = function() {
          return Up = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Up.apply(this, arguments);
        }, zp = (function(t3) {
          function e3(e4, n2) {
            var o2 = t3.call(this, e4) || this;
            return o2.on("reset", o2.onReset), o2.on("remove", o2.onRemove), o2.model = function(t4, e5) {
              return void 0 === e5 && (e5 = {}), new Fp(t4, Up(Up({}, e5), { em: n2 }));
            }, o2;
          }
          return Hp(e3, t3), e3.prototype.onReset = function(t4, e4) {
            var n2, o2 = this;
            null === (n2 = null == e4 ? void 0 : e4.previousModels) || void 0 === n2 || n2.map((function(t5) {
              return o2.onRemove(t5, o2, e4);
            }));
          }, e3.prototype.onRemove = function(t4, e4, n2) {
            void 0 === n2 && (n2 = {}), n2.fromUndo || n2.temporary || null == t4 || t4.onRemove();
          }, e3;
        })(u.pM);
        const Bp = zp;
        var Wp = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), $p = function() {
          return $p = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, $p.apply(this, arguments);
        }, qp = function(t3, e3) {
          var n2 = {};
          for (var o2 in t3) Object.prototype.hasOwnProperty.call(t3, o2) && e3.indexOf(o2) < 0 && (n2[o2] = t3[o2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o2 = Object.getOwnPropertySymbols(t3); r2 < o2.length; r2++) e3.indexOf(o2[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o2[r2]) && (n2[o2[r2]] = t3[o2[r2]]);
          }
          return n2;
        }, Gp = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Kp = "change:selected", Yp = "main", Jp = (function(n2) {
          function o2(e3) {
            var o3 = n2.call(this, e3, "PageManager", new Bp([], e3), O) || this;
            o3.events = O, o3.storageKey = "pages", (0, t2.bindAll)(o3, "_onPageChange");
            var r2 = new x.A(o3, { _undo: true });
            return o3.model = r2, o3.pages.on("reset", o3.__onReset, o3), o3.pages.on("all", o3.__onChange, o3), r2.on(Kp, o3._onPageChange), o3;
          }
          return Wp(o2, n2), Object.defineProperty(o2.prototype, "pages", { get: function() {
            return this.all;
          }, enumerable: false, configurable: true }), o2.prototype.getAll = function() {
            return Gp([], this.all.models, true);
          }, o2.prototype.__onChange = function(t3, e3, n3, o3) {
            var r2 = this.em, i2 = this.events, a2 = o3 || n3;
            r2.trigger(i2.all, { event: t3, page: e3, options: a2 });
          }, o2.prototype.__onReset = function() {
            var t3 = this.pages.at(0);
            t3 && this.select(t3);
          }, o2.prototype.onLoad = function() {
            var t3, e3 = this, n3 = e3.pages, o3 = e3.config, r2 = e3.em, i2 = { silent: true }, a2 = (null === (t3 = o3.pages) || void 0 === t3 ? void 0 : t3.map((function(t4) {
              return new Fp(t4, { em: r2, config: o3 });
            }))) || [];
            n3.add(a2, i2);
            var s2 = n3.length ? this._initPage() : this.add({ type: Yp }, i2);
            s2 && this.select(s2, i2);
          }, o2.prototype._onPageChange = function(t3, e3, n3) {
            var o3 = this.em, r2 = this.events, i2 = o3.Layers, a2 = e3.getMainComponent();
            i2 && a2 && i2.setRoot(a2), o3.trigger(r2.select, e3, t3.previous("selected")), this.__onChange(Kp, e3, n3);
          }, o2.prototype.postLoad = function() {
            var t3 = this, e3 = t3.em, n3 = t3.model, o3 = t3.pages, r2 = e3.UndoManager;
            r2.add(n3), r2.add(o3), o3.on("add remove reset change", (function(t4, n4, o4) {
              return e3.changesUp(o4 || n4);
            }));
          }, o2.prototype.add = function(t3, e3) {
            var n3 = this;
            void 0 === e3 && (e3 = {});
            var o3 = this.em, r2 = this.events;
            t3.id = t3.id || this._createId();
            var i2 = function() {
              var o4 = n3.pages.add(new Fp(t3, { em: n3.em, config: n3.config }), e3);
              return e3.select && n3.select(o4), o4;
            };
            return !e3.silent && o3.trigger(r2.addBefore, t3, i2, e3), e3.abort ? void 0 : i2();
          }, o2.prototype.remove = function(e3, n3) {
            var o3 = this;
            void 0 === n3 && (n3 = {});
            var r2 = this.em, i2 = this.events, a2 = (0, t2.isString)(e3) ? this.get(e3) : e3, s2 = function() {
              return a2 && o3.pages.remove(a2, n3), a2;
            };
            return !n3.silent && r2.trigger(i2.removeBefore, a2, s2, n3), !n3.abort && s2();
          }, o2.prototype.move = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = this.pages, r2 = (0, t2.isString)(e3) ? this.get(e3) : e3, i2 = n3.at, a2 = void 0 === i2 ? 0 : i2, s2 = qp(n3, ["at"]);
            if (r2) {
              var l2 = o3.indexOf(r2) === a2;
              if (!(a2 < 0 || a2 >= o3.length || l2)) return this.remove(r2, $p($p({}, s2), { temporary: true })), o3.add(r2, $p($p({}, s2), { at: a2 })), r2;
            }
          }, o2.prototype.get = function(t3) {
            return this.pages.filter((function(e3) {
              return e3.get(e3.idAttribute) === t3;
            }))[0];
          }, o2.prototype.getMain = function() {
            var t3 = this.pages;
            return t3.filter((function(t4) {
              return t4.get("type") === Yp;
            }))[0] || t3.at(0);
          }, o2.prototype.getAllWrappers = function() {
            var e3 = this.getAll();
            return (0, t2.unique)((0, t2.flatten)(e3.map((function(t3) {
              return t3.getAllFrames().map((function(t4) {
                return t4.getComponent();
              }));
            }))));
          }, o2.prototype.select = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = this, r2 = o3.em, i2 = o3.model, a2 = o3.events, s2 = (0, t2.isString)(e3) ? this.get(e3) : e3;
            return s2 && (r2.trigger(a2.selectBefore, s2, n3), i2.set("selected", s2, n3)), this;
          }, o2.prototype.getSelected = function() {
            return this.model.get("selected");
          }, o2.prototype.destroy = function() {
            var t3 = this;
            this.pages.off().reset(), this.model.stopListening(), this.model.clear({ silent: true }), ["selected", "model"].map((function(e3) {
              return t3[e3] = 0;
            }));
          }, o2.prototype.store = function() {
            return this.getProjectData();
          }, o2.prototype.load = function(t3) {
            var e3 = this, n3 = this.loadProjectData(t3, { all: this.pages, reset: true, onResult: function(t4, n4) {
              t4.forEach((function(t5) {
                return e3.add(t5, n4);
              })), e3.__onReset();
            } });
            return this.pages.forEach((function(t4) {
              return t4.getFrames().initRefs();
            })), n3;
          }, o2.prototype._initPage = function() {
            return this.get(this.config.selected) || this.getMain();
          }, o2.prototype._createId = function() {
            var t3, n3 = this.getAll().length + 16, o3 = this.getAllMap();
            do {
              t3 = (0, e2.createId)(n3);
            } while (o3[t3]);
            return t3;
          }, o2;
        })(b);
        const Xp = Jp;
        var Zp = { placeholder: "eg. Text here" };
        const Qp = { assetManager: { addButton: "Add image", inputPlh: "http://path/to/the/image.jpg", modalTitle: "Select Image", uploadTitle: "Drop files here or click to upload" }, blockManager: { labels: {}, categories: {} }, domComponents: { names: { "": "Box", wrapper: "Body", text: "Text", comment: "Comment", image: "Image", video: "Video", label: "Label", link: "Link", map: "Map", tfoot: "Table foot", tbody: "Table body", thead: "Table head", table: "Table", row: "Table row", cell: "Table cell" } }, deviceManager: { device: "Device", devices: { desktop: "Desktop", tablet: "Tablet", mobileLandscape: "Mobile Landscape", mobilePortrait: "Mobile Portrait" } }, panels: { buttons: { titles: { preview: "Preview", fullscreen: "Fullscreen", "sw-visibility": "View components", "export-template": "View code", "open-sm": "Open Style Manager", "open-tm": "Settings", "open-layers": "Open Layer Manager", "open-blocks": "Open Blocks" } } }, selectorManager: { label: "Classes", selected: "Selected", emptyState: "- State -", states: { hover: "Hover", active: "Click", "nth-of-type(2n)": "Even/Odd" } }, styleManager: { empty: "Select an element before using Style Manager", layer: "Layer", fileButton: "Images", sectors: { general: "General", layout: "Layout", typography: "Typography", decorations: "Decorations", extra: "Extra", flex: "Flex", dimension: "Dimension" }, properties: { "text-shadow-h": "X", "text-shadow-v": "Y", "text-shadow-blur": "Blur", "text-shadow-color": "Color", "box-shadow-h": "X", "box-shadow-v": "Y", "box-shadow-blur": "Blur", "box-shadow-spread": "Spread", "box-shadow-color": "Color", "box-shadow-type": "Type", "margin-top-sub": "Top", "margin-right-sub": "Right", "margin-bottom-sub": "Bottom", "margin-left-sub": "Left", "padding-top-sub": "Top", "padding-right-sub": "Right", "padding-bottom-sub": "Bottom", "padding-left-sub": "Left", "border-width-sub": "Width", "border-style-sub": "Style", "border-color-sub": "Color", "border-top-left-radius-sub": "Top Left", "border-top-right-radius-sub": "Top Right", "border-bottom-right-radius-sub": "Bottom Right", "border-bottom-left-radius-sub": "Bottom Left", "transform-rotate-x": "Rotate X", "transform-rotate-y": "Rotate Y", "transform-rotate-z": "Rotate Z", "transform-scale-x": "Scale X", "transform-scale-y": "Scale Y", "transform-scale-z": "Scale Z", "transition-property-sub": "Property", "transition-duration-sub": "Duration", "transition-timing-function-sub": "Timing", "background-image-sub": "Image", "background-repeat-sub": "Repeat", "background-position-sub": "Position", "background-attachment-sub": "Attachment", "background-size-sub": "Size" } }, traitManager: { empty: "Select an element before using Trait Manager", label: "Component settings", categories: {}, traits: { labels: {}, attributes: { id: Zp, alt: Zp, title: Zp, href: { placeholder: "eg. https://google.com" } }, options: { target: { false: "This window", _blank: "New window" } } } }, storageManager: { recover: "Do you want to recover unsaved changes?" } };
        const td = function() {
          return { locale: "en", localeFallback: "en", detectLocale: true, debug: false, messages: { en: Qp }, messagesAdd: void 0 };
        };
        var ed;
        !(function(t3) {
          t3["add"] = "i18n:add", t3["update"] = "i18n:update", t3["locale"] = "i18n:locale";
        })(ed || (ed = {}));
        const nd = ed;
        var od = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), rd = (function(n2) {
          function o2(t3) {
            var e3 = n2.call(this, t3, "I18n", td()) || this;
            e3.events = nd;
            var o3 = e3.config.messagesAdd;
            return o3 && e3.addMessages(o3), e3.config.detectLocale && (e3.config.locale = e3._localLang()), e3;
          }
          return od(o2, n2), o2.prototype.setLocale = function(t3) {
            var e3 = this, n3 = e3.em, o3 = e3.config, r2 = e3.events;
            return n3.trigger(r2.locale, { value: t3, valuePrev: o3.locale }), o3.locale = t3, this;
          }, o2.prototype.getLocale = function() {
            return this.config.locale;
          }, o2.prototype.getMessages = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.config.messages;
            return t3 && !n3[t3] && this._debug("'".concat(t3, "' i18n lang not found"), e3), t3 ? n3[t3] : n3;
          }, o2.prototype.setMessages = function(t3) {
            var e3 = this, n3 = e3.em, o3 = e3.config, r2 = e3.events;
            return o3.messages = t3, n3.trigger(r2.update, t3), this;
          }, o2.prototype.addMessages = function(t3) {
            var n3 = this, o3 = n3.em, r2 = n3.events, i2 = n3.config.messages;
            return o3.trigger(r2.add, t3), this.setMessages((0, e2.deepMerge)(i2, t3)), this;
          }, o2.prototype.t = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = this.config, r2 = n3.params || {}, i2 = n3.l || this.getLocale(), a2 = n3.lFlb || o3.localeFallback, s2 = this._getMsg(e3, i2, n3);
            return s2 || (s2 = this._getMsg(e3, a2, n3)), !s2 && this._debug("'".concat(e3, "' i18n key not found in '").concat(i2, "' lang"), n3), s2 = s2 && (0, t2.isString)(s2) ? this._addParams(s2, r2) : s2;
          }, o2.prototype._localLang = function() {
            var t3 = (0, e2.hasWin)() && window.navigator || {}, n3 = t3.language || t3.userLanguage;
            return n3 ? n3.split("-")[0] : "en";
          }, o2.prototype._addParams = function(t3, e3) {
            var n3 = new RegExp("{([\\w\\d-]*)}", "g");
            return t3.replace(n3, (function(t4, n4) {
              return e3[n4] || "";
            })).trim();
          }, o2.prototype._getMsg = function(e3, n3, o3) {
            void 0 === o3 && (o3 = {});
            var r2 = this.getMessages(n3, o3);
            if (r2) {
              var i2 = r2[e3];
              return !i2 && e3.indexOf(".") > 0 && (i2 = e3.split(".").reduce((function(e4, n4) {
                if (!(0, t2.isUndefined)(e4)) return e4[n4];
              }), r2)), i2;
            }
          }, o2.prototype._debug = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.em, o3 = this.config;
            (e3.debug || o3.debug) && n3 && n3.logWarning(t3);
          }, o2.prototype.destroy = function() {
          }, o2;
        })(m);
        const id = rd;
        var ad = function() {
          return ad = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, ad.apply(this, arguments);
        }, sd = (function() {
          function n2(e3) {
            void 0 === e3 && (e3 = {}), this.moved = false, this.defOpts = { ratioDefault: false, onUpdateContainer: function() {
            }, step: 1, minDim: 10, maxDim: 1 / 0, unitHeight: "px", unitWidth: "px", keyHeight: "height", keyWidth: "width", currentUnit: true, silentFrames: false, avoidContainerUpdate: false, keepAutoHeight: false, keepAutoWidth: false, autoHeight: false, autoWidth: false, tl: true, tc: true, tr: true, cl: true, cr: true, bl: true, bc: true, br: true }, this.opts = ad({}, this.defOpts), this.setOptions(e3), (0, t2.bindAll)(this, "handleKeyDown", "handleMouseDown", "move", "stop");
          }
          return n2.prototype.getConfig = function() {
            return this.opts;
          }, n2.prototype.setOptions = function(t3, e3) {
            void 0 === t3 && (t3 = {}), this.opts = ad(ad({}, e3 ? this.defOpts : this.opts), t3), this.setup();
          }, n2.prototype.setup = function() {
            var t3 = this.opts, e3 = t3.prefix || "", n3 = t3.appendTo || document.body, o2 = this.container;
            for (o2 || ((o2 = document.createElement("div")).className = "".concat(e3, "resizer-c"), n3.appendChild(o2), this.container = o2); o2.firstChild; ) o2.removeChild(o2.firstChild);
            var r2 = {};
            for (var i2 in ["tl", "tc", "tr", "cl", "cr", "bl", "bc", "br"].forEach((function(e4) {
              return r2[e4] = t3[e4] ? (function(t4, e5) {
                void 0 === e5 && (e5 = {});
                var n4 = e5.prefix || "", o3 = document.createElement("i");
                return o3.className = n4 + "resizer-h " + n4 + "resizer-h-" + t4, o3.setAttribute("data-" + n4 + "handler", t4), o3;
              })(e4, t3) : null;
            })), r2) {
              var a2 = r2[i2];
              a2 && o2.appendChild(a2);
            }
            this.handlers = r2, this.mousePosFetcher = t3.mousePosFetcher, this.updateTarget = t3.updateTarget, this.posFetcher = t3.posFetcher, this.onStart = t3.onStart, this.onMove = t3.onMove, this.onEnd = t3.onEnd, this.onUpdateContainer = t3.onUpdateContainer;
          }, n2.prototype.toggleFrames = function(e3) {
            if (this.opts.silentFrames) {
              var n3 = document.querySelectorAll("iframe");
              (0, t2.each)(n3, (function(t3) {
                return t3.style.pointerEvents = e3 ? "none" : "";
              }));
            }
          }, n2.prototype.isHandler = function(t3) {
            var e3 = this.handlers;
            for (var n3 in e3) if (e3[n3] === t3) return true;
            return false;
          }, n2.prototype.getFocusedEl = function() {
            return this.el;
          }, n2.prototype.getParentEl = function() {
            var t3;
            return null === (t3 = this.el) || void 0 === t3 ? void 0 : t3.parentElement;
          }, n2.prototype.getDocumentEl = function() {
            return this.opts.docs || [this.el.ownerDocument, document];
          }, n2.prototype.getElementPos = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.posFetcher;
            return n3 ? n3(t3, e3) : (function(t4, e4) {
              var n4 = e4 || window, o2 = t4.getBoundingClientRect();
              return { left: o2.left + n4.pageXOffset, top: o2.top + n4.pageYOffset, width: o2.width, height: o2.height };
            })(t3);
          }, n2.prototype.focus = function(t3) {
            t3 && t3 === this.el || (this.el = t3, this.updateContainer({ forceShow: true }), (0, Z.on)(this.getDocumentEl(), "pointerdown", this.handleMouseDown));
          }, n2.prototype.blur = function() {
            this.container.style.display = "none", this.el && ((0, Z.AU)(this.getDocumentEl(), "pointerdown", this.handleMouseDown), delete this.el);
          }, n2.prototype.start = function(e3) {
            var n3, o2 = this.el, r2 = this.opts, i2 = void 0 === r2 ? {} : r2;
            if (this.moved = false, 0 === e3.button && o2) {
              e3.preventDefault(), e3.stopPropagation(), null === (n3 = this.selectedHandler) || void 0 === n3 || n3.setPointerCapture(e3.pointerId);
              var a2 = this.getParentEl(), s2 = i2, l2 = this.mousePosFetcher, c2 = "data-" + s2.prefix + "handler", u2 = this.getElementPos(o2, { avoidFrameZoom: true, avoidFrameOffset: true }), p2 = this.getElementPos(a2), d2 = e3.target;
              this.handlerAttr = d2.getAttribute(c2), this.clickedHandler = d2, this.startDim = { t: u2.top, l: u2.left, w: u2.width, h: u2.height }, this.rectDim = { t: u2.top, l: u2.left, w: u2.width, h: u2.height }, this.startPos = l2 ? l2(e3) : { x: e3.clientX, y: e3.clientY }, this.parentDim = { t: p2.top, l: p2.left, w: p2.width, h: p2.height };
              var f2 = this.getDocumentEl();
              this.docs = f2, (0, Z.on)(f2, "pointermove", this.move), (0, Z.on)(f2, "keydown", this.handleKeyDown), (0, Z.on)(f2, "pointerup", this.stop), (0, t2.isFunction)(this.onStart) && this.onStart(e3, { docs: f2, config: s2, el: o2, resizer: this }), this.toggleFrames(true), !s2.updateOnMove && this.move(e3);
            }
          }, n2.prototype.move = function(t3) {
            var e3, n3;
            this.moved = true;
            var o2 = this.el, r2 = this.opts, i2 = this.docs || this.getDocumentEl(), a2 = (null === (e3 = this.mousePosFetcher) || void 0 === e3 ? void 0 : e3.call(this, t3)) || { x: t3.clientX, y: t3.clientY };
            this.currentPos = a2, this.delta = { x: a2.x - this.startPos.x, y: a2.y - this.startPos.y }, this.keys = { shift: t3.shiftKey, ctrl: t3.ctrlKey, alt: t3.altKey }, this.rectDim = this.calc(this), this.updateRect(false, t3), null === (n3 = this.onMove) || void 0 === n3 || n3.call(this, t3, { docs: i2, config: r2, el: o2, resizer: this });
          }, n2.prototype.stop = function(t3) {
            var e3, n3, o2 = this.el, r2 = this.opts, i2 = this.docs || this.getDocumentEl();
            (0, Z.AU)(i2, "pointermove", this.move), (0, Z.AU)(i2, "keydown", this.handleKeyDown), (0, Z.AU)(i2, "pointerup", this.stop), !this.moved && r2.updateOnMove || this.updateRect(true, t3), t3.pointerId && (null === (e3 = this.selectedHandler) || void 0 === e3 || e3.releasePointerCapture(t3.pointerId)), this.toggleFrames(), null === (n3 = this.onEnd) || void 0 === n3 || n3.call(this, t3, { docs: i2, config: r2, el: o2, resizer: this }), this.moved = false, delete this.docs;
          }, n2.prototype.updateRect = function(e3, n3) {
            var o2 = this.el, r2 = this.opts, i2 = this.rectDim, a2 = this.updateTarget, s2 = this.getSelectedHandler(), l2 = r2.unitHeight, c2 = r2.unitWidth, u2 = r2.keyWidth, p2 = r2.keyHeight;
            if ((0, t2.isFunction)(a2)) a2(o2, i2, { store: e3, selectedHandler: s2, resizer: this, config: r2, event: n3 });
            else {
              var d2 = o2.style;
              d2[u2] = i2.w + c2, d2[p2] = i2.h + l2;
            }
            this.updateContainer();
          }, n2.prototype.updateContainer = function(t3) {
            var e3;
            void 0 === t3 && (t3 = {});
            var n3 = this, o2 = n3.opts, r2 = n3.container, i2 = n3.el, a2 = r2.style;
            !o2.avoidContainerUpdate && i2 && t3.forceShow && (a2.display = "block"), null === (e3 = this.onUpdateContainer) || void 0 === e3 || e3.call(this, { el: r2, resizer: this, opts: ad(ad({}, o2), t3) });
          }, n2.prototype.getSelectedHandler = function() {
            var t3 = this.handlers;
            if (this.selectedHandler) {
              for (var e3 in t3) if (t3[e3] === this.selectedHandler) return e3;
            }
          }, n2.prototype.handleKeyDown = function(t3) {
            27 === t3.keyCode && (this.rectDim = this.startDim, this.stop(t3));
          }, n2.prototype.handleMouseDown = function(t3) {
            var e3 = t3.target;
            this.isHandler(e3) ? (this.selectedHandler = e3, this.start(t3)) : e3 !== this.el && (delete this.selectedHandler, this.blur());
          }, n2.prototype.calc = function(t3) {
            var n3, o2 = this.opts || {}, r2 = o2.step, i2 = this.startDim, a2 = o2.minDim, s2 = o2.maxDim, l2 = t3.delta.x, c2 = t3.delta.y, u2 = this.parentDim.w, p2 = this.parentDim.h, d2 = o2.unitWidth, f2 = o2.unitHeight, h2 = o2.skipUnitAdjustments, v2 = this.getParentRect(), g2 = "%" === d2 && !h2, y2 = "%" === f2 && !h2, m2 = g2 ? i2.w / 100 * u2 : i2.w, b2 = y2 ? i2.h / 100 * p2 : i2.h, _2 = { t: i2.t - v2.top, l: i2.l - v2.left, w: m2, h: b2 };
            if (t3) {
              var w2 = t3.handlerAttr;
              ~w2.indexOf("r") && (n3 = g2 ? (0, e2.normalizeFloat)((m2 + l2 * r2) / u2 * 100, 0.01) : (0, e2.normalizeFloat)(m2 + l2 * r2, r2), n3 = Math.max(a2, n3), s2 && (n3 = Math.min(s2, n3)), _2.w = n3), ~w2.indexOf("b") && (n3 = y2 ? (0, e2.normalizeFloat)((b2 + c2 * r2) / p2 * 100, 0.01) : (0, e2.normalizeFloat)(b2 + c2 * r2, r2), n3 = Math.max(a2, n3), s2 && (n3 = Math.min(s2, n3)), _2.h = n3), ~w2.indexOf("l") && (n3 = g2 ? (0, e2.normalizeFloat)((m2 - l2 * r2) / u2 * 100, 0.01) : (0, e2.normalizeFloat)(m2 - l2 * r2, r2), n3 = Math.max(a2, n3), s2 && (n3 = Math.min(s2, n3)), _2.w = n3), ~w2.indexOf("t") && (n3 = y2 ? (0, e2.normalizeFloat)((b2 - c2 * r2) / p2 * 100, 0.01) : (0, e2.normalizeFloat)(b2 - c2 * r2, r2), n3 = Math.max(a2, n3), s2 && (n3 = Math.min(s2, n3)), _2.h = n3);
              var x2 = o2.ratioDefault ? !t3.keys.shift : t3.keys.shift;
              if (w2.indexOf("c") < 0 && x2) {
                var C2 = i2.w / i2.h;
                _2.w / _2.h > C2 ? _2.h = Math.round(_2.w / C2) : _2.w = Math.round(_2.h * C2);
              }
              for (var S2 in ~w2.indexOf("l") && (_2.l += i2.w - _2.w), ~w2.indexOf("t") && (_2.t += i2.h - _2.h), _2) {
                var O2 = S2;
                _2[O2] = parseInt("".concat(_2[O2]), 10);
              }
              return _2;
            }
          }, n2.prototype.getParentRect = function() {
            var t3 = { left: 0, top: 0, width: 0, height: 0 }, e3 = this.el;
            if (!e3) return t3;
            var n3 = e3.offsetParent;
            return n3 && "BODY" !== n3.tagName && (t3 = this.getElementPos(n3)), t3;
          }, n2;
        })();
        const ld = sd;
        var cd = function() {
          return cd = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, cd.apply(this, arguments);
        };
        function ud(t3) {
          var e3 = t3.getBoundingClientRect();
          return { top: e3.top + document.body.scrollTop, left: e3.left + document.body.scrollLeft };
        }
        function pd(t3, n2) {
          return e2.matches.call(t3, n2);
        }
        function dd(t3) {
          return t3 ? [t3].concat(dd(t3.parent())) : [];
        }
        var fd = (function() {
          function t3(t4) {
            this.timeout = null, this.threshold = t4;
          }
          return t3.prototype.updateArgs = function(t4) {
            this.lastArgs = t4;
          }, t3.prototype.execute = function(t4) {
            var e3 = this;
            this.timeout || (this.timeout = setTimeout((function() {
              e3.lastArgs && t4(e3.lastArgs), e3.timeout = null;
            }), this.threshold));
          }, t3.prototype.clearTimeout = function() {
            this.timeout && (clearTimeout(this.timeout), this.timeout = null), delete this.lastArgs;
          }, t3;
        })(), hd = function() {
          return hd = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, hd.apply(this, arguments);
        }, vd = (function() {
          function t3(t4) {
            this.top = t4.top, this.left = t4.left, this.height = t4.height, this.width = t4.width, this.offsets = t4.offsets, this.dir = t4.dir;
          }
          return t3.prototype.calculateDimensionDifference = function(t4) {
            return { topDifference: t4.top - this.top, leftDifference: t4.left - this.left };
          }, t3.prototype.adjustDimensions = function(t4) {
            return this.top += t4.topDifference, this.left += t4.leftDifference, this;
          }, t3.prototype.determinePlacement = function(t4, e3) {
            var n2 = this.left + this.width / 2, o2 = this.top + this.height / 2;
            return this.dir ? e3 < o2 ? "before" : "after" : t4 < n2 ? "before" : "after";
          }, t3.prototype.equals = function(t4) {
            return !!t4 && (this.top === t4.top && this.left === t4.left && this.height === t4.height && this.width === t4.width && this.dir === t4.dir && JSON.stringify(this.offsets) === JSON.stringify(t4.offsets));
          }, t3.prototype.clone = function() {
            return new t3({ top: this.top, left: this.left, height: this.height, width: this.width, offsets: hd({}, this.offsets), dir: this.dir });
          }, t3.prototype.getDropArea = function(t4) {
            var e3 = this.clone(), n2 = this.adjustDropDimension(this.width, this.left, t4), o2 = n2.newSize, r2 = n2.newPosition;
            e3.width = o2, e3.left = r2;
            var i2 = this.adjustDropDimension(this.height, this.top, t4), a2 = i2.newSize, s2 = i2.newPosition;
            return e3.height = a2, e3.top = s2, e3;
          }, t3.prototype.adjustDropDimension = function(t4, e3, n2) {
            var o2 = n2.ratio, r2 = n2.minUndroppableDimension, i2 = n2.maxUndroppableDimension, a2 = t4 * (1 - o2) / 2;
            return a2 = Math.max(a2, r2), { newSize: t4 - 2 * (a2 = Math.min(a2, i2)), newPosition: e3 + a2 };
          }, t3.prototype.isWithinBounds = function(t4, e3) {
            return t4 >= this.left && t4 <= this.left + this.width && e3 >= this.top && e3 <= this.top + this.height;
          }, t3;
        })();
        const gd = vd;
        var yd = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), md = (function(e3) {
          function n2(n3) {
            var o2 = e3.call(this) || this;
            return o2.sourceNodes = [], o2.containerOffset = { top: 0, left: 0 }, o2.moveThreshold = 20, o2.treeClass = n3.treeClass, o2.em = n3.em, o2.containerContext = n3.containerContext, o2.positionOptions = n3.positionOptions, o2.dragDirection = n3.dragDirection, o2.eventHandlers = n3.eventHandlers, (0, t2.bindAll)(o2, "endDrag", "cancelDrag", "recalculateTargetOnScroll", "startSort", "onDragStart", "onMove"), o2.restLastMoveData(), o2.rateLimiter = new fd(o2.moveThreshold), o2;
          }
          return yd(n2, e3), n2.prototype.startSort = function(t3) {
            this.sourceNodes = t3, this.bindDragEventHandlers();
          }, n2.prototype.bindDragEventHandlers = function() {
            (0, Z.on)(this.containerContext.container, "dragstart", this.onDragStart), (0, Z.on)(this.containerContext.container, "mousemove dragover", this.onMove), (0, Z.on)(this.containerContext.document, "mouseup dragend touchend", this.endDrag);
          }, n2.prototype.recalculateTargetOnScroll = function() {
            var t3 = this.lastMoveData.mouseEvent;
            t3 && this.onMove(t3);
          }, n2.prototype.onMove = function(t3) {
            this.rateLimiter.updateArgs(t3), this.rateLimiter.execute(this.handleMove.bind(this));
          }, n2.prototype.handleMove = function(t3) {
            var e4, n3, o2, r2, i2, a2, s2;
            this.adjustForScroll();
            var c2 = this.lastMoveData.targetNode;
            null === (n3 = (e4 = this.eventHandlers).onMouseMove) || void 0 === n3 || n3.call(e4, t3), this.cacheContainerPosition();
            var u2 = this.getMousePositionRelativeToContainer(t3.clientX, t3.clientY), p2 = u2.mouseXRelative, d2 = u2.mouseYRelative, f2 = this.getMouseTargetElement(t3), h2 = this.getFirstElementWithAModel(f2), v2 = h2 ? null === (o2 = (0, l["default"])(h2)) || void 0 === o2 ? void 0 : o2.data("model") : void 0, g2 = v2 ? this.getOrCreateHoveredNode(v2) : void 0, y2 = g2 ? this.getIndexInParent(g2, g2.nodeDimensions, p2, d2) : 0, m2 = g2 ? this.getValidParent(g2, 0, p2, d2) : void 0;
            if (!(null == m2 ? void 0 : m2.equals(c2)) && (null === (i2 = (r2 = this.eventHandlers).onTargetChange) || void 0 === i2 || i2.call(r2, c2, m2)), !m2 || !g2) return this.triggerLegacyOnMoveCallback(t3, 0), this.triggerMoveEvent(p2, d2), void this.restLastMoveData();
            var b2 = this.getDropPosition(m2, p2, d2), _2 = b2.index, w2 = b2.placement, x2 = b2.placeholderDimensions;
            (!x2.equals(this.lastMoveData.placeholderDimensions) || w2 !== this.lastMoveData.placement) && (null === (s2 = (a2 = this.eventHandlers).onPlaceholderPositionChange) || void 0 === s2 || s2.call(a2, x2, w2)), this.lastMoveData = { targetNode: m2, hoveredNode: g2, mouseEvent: t3, index: _2, hoveredIndex: y2, placement: w2, placeholderDimensions: x2 }, this.triggerMoveEvent(p2, d2), this.triggerLegacyOnMoveCallback(t3, _2);
          }, n2.prototype.adjustForScroll = function() {
            var t3, e4, n3 = this.lastMoveData.targetNode;
            if (null == n3 ? void 0 : n3.element) {
              var o2 = this.getDim(null == n3 ? void 0 : n3.element);
              (i2 = null === (t3 = n3.nodeDimensions) || void 0 === t3 ? void 0 : t3.calculateDimensionDifference(o2)) && n3.adjustDimensions(i2);
            }
            var r2 = this.lastMoveData.hoveredNode;
            if (null == r2 ? void 0 : r2.element) {
              var i2;
              o2 = this.getDim(null == r2 ? void 0 : r2.element);
              (i2 = null === (e4 = r2.nodeDimensions) || void 0 === e4 ? void 0 : e4.calculateDimensionDifference(o2)) && r2.adjustDimensions(i2);
            }
          }, n2.prototype.restLastMoveData = function() {
            this.lastMoveData = { targetNode: void 0, index: void 0, placement: void 0, mouseEvent: void 0 };
          }, n2.prototype.triggerLegacyOnMoveCallback = function(t3, e4) {
            var n3, o2, r2, i2, a2 = null === (n3 = this.sourceNodes[0]) || void 0 === n3 ? void 0 : n3.model;
            null === (r2 = (o2 = this.eventHandlers).legacyOnMoveClb) || void 0 === r2 || r2.call(o2, { event: t3, target: a2, parent: null === (i2 = this.lastMoveData.targetNode) || void 0 === i2 ? void 0 : i2.model, index: e4 });
          }, n2.prototype.triggerMoveEvent = function(t3, e4) {
            var n3, o2 = this.lastMoveData, r2 = o2.targetNode, i2 = o2.placement, a2 = o2.index, s2 = a2 ? a2 + ("after" === i2 ? -1 : 0) : 0;
            this.em.trigger("sorter:drag", { target: (null == r2 ? void 0 : r2.element) || null, targetModel: null === (n3 = this.lastMoveData.targetNode) || void 0 === n3 ? void 0 : n3.model, sourceModel: this.sourceNodes[0].model, dims: (null == r2 ? void 0 : r2.childrenDimensions) || [], pos: { index: s2, indexEl: s2, placement: i2 }, x: t3, y: e4 });
          }, n2.prototype.getDropPosition = function(t3, e4, n3) {
            var o2, r2 = t3.nodeDimensions, i2 = t3.childrenDimensions, a2 = t3.getChildren(), s2 = a2 && a2.length > 0;
            r2 = r2 || this.getDim(t3.element), t3.nodeDimensions = r2, i2 = i2 || this.getChildrenDim(t3), t3.childrenDimensions = i2;
            var l2 = r2.clone(), c2 = 0, u2 = "inside";
            return s2 && (c2 = (o2 = (function(t4, e5, n4) {
              for (var o3, r3 = { index: 0, placement: "before" }, i3 = 0, a3 = 0, s3 = 0, l3 = 0, c3 = 0, u3 = 0, p2 = 0, d2 = t4.length; p2 < d2; p2++) {
                var f2 = (o3 = t4[p2]).top, h2 = o3.left, v2 = o3.height, g2 = o3.width;
                if (u3 = f2 + v2, l3 = h2 + g2 / 2, c3 = f2 + v2 / 2, !(a3 && h2 > a3 || s3 && c3 >= s3 || i3 && h2 + g2 < i3)) if (r3.index = p2, o3.dir) {
                  if (n4 < c3) {
                    r3.placement = "before";
                    break;
                  }
                  r3.placement = "after";
                } else n4 < u3 && (s3 = u3), e5 < l3 ? (a3 = l3, r3.placement = "before") : (i3 = l3, r3.placement = "after");
              }
              return r3;
            })(i2, e4, n3)).index, u2 = o2.placement, l2 = i2[c2].clone(), c2 += "after" == u2 ? 1 : 0), { index: c2, placement: u2, placeholderDimensions: l2 };
          }, n2.prototype.getOrCreateHoveredNode = function(t3) {
            var e4 = this.lastMoveData.hoveredNode, n3 = new this.treeClass(t3), o2 = n3.equals(e4), r2 = o2 ? e4 : n3;
            return r2.nodeDimensions = o2 ? e4.nodeDimensions : this.getDim(n3.element), r2;
          }, n2.prototype.getMouseTargetElement = function(t3) {
            var e4 = this.containerContext.customTarget, n3 = this.containerContext.document.elementFromPoint(t3.clientX, t3.clientY);
            return e4 ? e4({ event: t3 }) : n3;
          }, n2.prototype.onDragStart = function(t3) {
            this.eventHandlers.onDragStart && this.eventHandlers.onDragStart(t3);
          }, n2.prototype.endDrag = function() {
            this.dropDragged();
          }, n2.prototype.cancelDrag = function() {
            var t3, e4, n3 = this.lastMoveData.targetNode;
            null === (e4 = (t3 = this.eventHandlers).onTargetChange) || void 0 === e4 || e4.call(t3, n3, void 0), this.finalizeMove();
          }, n2.prototype.finalizeMove = function() {
            var t3, e4, n3, o2;
            this.cleanupEventListeners(), this.triggerOnDragEndEvent(), null === (e4 = (t3 = this.eventHandlers).onEnd) || void 0 === e4 || e4.call(t3), null === (o2 = (n3 = this.eventHandlers).legacyOnEnd) || void 0 === o2 || o2.call(n3), this.restLastMoveData(), this.rateLimiter.clearTimeout();
          }, n2.prototype.dropDragged = function() {
            var t3, e4, n3 = this.lastMoveData, o2 = n3.targetNode, r2 = n3.index;
            null === (e4 = (t3 = this.eventHandlers).onDrop) || void 0 === e4 || e4.call(t3, o2, this.sourceNodes, r2), this.finalizeMove();
          }, n2.prototype.triggerOnDragEndEvent = function() {
            var t3 = this.lastMoveData.targetNode, e4 = this.sourceNodes[0];
            this.em.trigger("sorter:drag:end", { targetCollection: t3 ? t3.getChildren() : null, modelToDrop: null == e4 ? void 0 : e4.model, warns: [""], validResult: { result: true, src: this.sourceNodes.map((function(t4) {
              return t4.element;
            })), srcModel: null == e4 ? void 0 : e4.model, trg: null == t3 ? void 0 : t3.element, trgModel: null == t3 ? void 0 : t3.model, draggable: true, droppable: true }, dst: null == t3 ? void 0 : t3.element, srcEl: null == e4 ? void 0 : e4.element });
          }, n2.prototype.getFirstElementWithAModel = function(t3) {
            for (var e4; t3 && this.containerContext.container.contains(t3); ) {
              if (e4 = t3, void 0 !== (0, l["default"])(e4).data("model")) return t3;
              t3 = t3.parentElement;
            }
            return null;
          }, n2.prototype.getValidParent = function(t3, e4, n3, o2) {
            var r2, i2;
            if (t3) {
              var a2 = this.lastMoveData, s2 = a2.targetNode, l2 = a2.hoveredNode, c2 = a2.hoveredIndex, u2 = a2.mouseEvent, p2 = t3.equals(l2);
              t3.nodeDimensions = p2 ? l2.nodeDimensions : this.getDim(t3.element);
              var d2 = this.getIndexInParent(t3, t3.nodeDimensions, n3, o2) === c2, f2 = t3.isWithinDropBounds(n3, o2);
              if (p2 && d2 && f2 === t3.isWithinDropBounds(null !== (r2 = null == u2 ? void 0 : u2.clientX) && void 0 !== r2 ? r2 : 0, null !== (i2 = null == u2 ? void 0 : u2.clientY) && void 0 !== i2 ? i2 : 0) && s2) return s2;
              if (!f2) return this.handleParentTraversal(t3, n3, o2);
              var h2 = this.sourceNodes.some((function(n4) {
                return t3.canMove(n4, e4);
              }));
              return this.triggerDragValidation(h2, t3), h2 ? t3 : this.handleParentTraversal(t3, n3, o2);
            }
          }, n2.prototype.handleParentTraversal = function(t3, e4, n3) {
            var o2 = t3.getParent();
            if (o2) {
              var r2 = this.getIndexInParent(t3, t3.nodeDimensions, e4, n3);
              if (void 0 !== r2) return this.getValidParent(o2, r2, e4, n3);
            }
          }, n2.prototype.getIndexInParent = function(t3, e4, n3, o2) {
            var r2 = t3.getParent();
            if (r2) {
              var i2 = null == r2 ? void 0 : r2.indexOfChild(t3);
              return e4.dir = this.getDirection(t3.element, r2.element), i2 += "after" == e4.determinePlacement(n3, o2) ? 1 : 0;
            }
          }, n2.prototype.triggerDragValidation = function(t3, e4) {
            var n3 = this.sourceNodes[0];
            return this.em.trigger("sorter:drag:validation", { valid: t3, src: null == n3 ? void 0 : n3.element, srcModel: null == n3 ? void 0 : n3.model, trg: e4.element, trgModel: e4.model }), n3;
          }, n2.prototype.cleanupEventListeners = function() {
            var t3 = this.containerContext.container;
            (0, Z.AU)(t3, "dragstart", this.onDragStart), (0, Z.AU)(t3, "mousemove dragover", this.onMove), (0, Z.AU)(this.containerContext.document, "mouseup dragend touchend", this.endDrag);
          }, n2.prototype.getDirection = function(t3, e4) {
            var n3;
            return n3 = this.dragDirection === $n.A.Vertical || this.dragDirection !== $n.A.Horizontal && (function(t4, e5) {
              if ((0, Z.ir)(t4)) return false;
              var n4 = t4.style || {}, o2 = (0, l["default"])(t4), r2 = (0, l["default"])(e5);
              if (n4.overflow && "visible" !== n4.overflow) return false;
              var i2 = o2.css("float");
              return (!i2 || "none" === i2) && ("flex" !== r2.css("display") || "column" === r2.css("flex-direction")) && !!(function(t5) {
                switch (t5) {
                  case "static":
                  case "relative":
                  case "":
                    return true;
                  default:
                    return false;
                }
              })(n4.position) && ((function(t5) {
                return ["TR", "TBODY", "THEAD", "TFOOT"].includes(t5.tagName);
              })(t4) || (function(t5) {
                var e6 = t5.css("display");
                return ["block", "list-item", "table", "flex", "grid"].includes(e6);
              })(o2));
            })(t3, e4), n3;
          }, n2.prototype.getChildrenDim = function(e4) {
            var n3 = this, o2 = [], r2 = e4.element;
            if (!r2) return [];
            var i2 = e4.getChildren();
            return i2 && 0 !== i2.length ? ((0, t2.each)(i2, (function(t3, e5) {
              var i3 = t3.element;
              if (i3 && ((0, Z.ir)(i3) || pd(i3, n3.containerContext.itemSel))) {
                var a2 = n3.getDim(i3);
                a2.dir = n3.getDirection(i3, r2), o2.push(a2);
              }
            })), o2) : [];
          }, n2.prototype.getMousePositionRelativeToContainer = function(t3, e4) {
            var n3 = e4 - this.containerOffset.top + this.containerContext.container.scrollTop, o2 = t3 - this.containerOffset.left + this.containerContext.container.scrollLeft;
            if (this.positionOptions.canvasRelative) {
              var r2 = this.em.Canvas.getMouseRelativeCanvas({ clientX: t3, clientY: e4 }, { noScroll: 1 });
              o2 = r2.x, n3 = r2.y;
            }
            return { mouseXRelative: o2, mouseYRelative: n3 };
          }, n2.prototype.cacheContainerPosition = function() {
            var t3 = ud(this.containerContext.container), e4 = this.positionOptions.windowMargin ? Math.abs(t3.top) : t3.top, n3 = this.positionOptions.windowMargin ? Math.abs(t3.left) : t3.left;
            this.containerOffset = { top: e4, left: n3 };
          }, n2.prototype.getDim = function(t3) {
            var e4, n3, o2, r2, i2 = this.em, a2 = this.positionOptions.relative, s2 = this.positionOptions.windowMargin, l2 = null == i2 ? void 0 : i2.Canvas, c2 = l2 ? l2.getElementOffsets(t3) : {};
            if (this.positionOptions.canvasRelative && this.em) {
              var u2 = l2.getElementPos(t3, { noScroll: 1 });
              e4 = u2.top, n3 = u2.left, o2 = u2.height, r2 = u2.width;
            } else {
              var p2 = ud(t3);
              e4 = a2 ? t3.offsetTop : p2.top - (s2 ? -1 : 1) * this.containerOffset.top, n3 = a2 ? t3.offsetLeft : p2.left - (s2 ? -1 : 1) * this.containerOffset.left, o2 = t3.offsetHeight, r2 = t3.offsetWidth;
            }
            return new gd({ top: e4, left: n3, height: o2, width: r2, offsets: c2 });
          }, n2;
        })(u.Ss), bd = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), _d = (function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.pfx = e4.pfx || "", n2.allowNesting = e4.allowNesting || false, n2.container = e4.container, n2.setElement(e4.el), n2.offset = { top: e4.offset.top || 0, left: e4.offset.left || 0 }, n2.moveLimiter = new fd(100), n2;
          }
          return bd(e3, t3), e3.prototype.show = function() {
            this.el.style.display = "block";
          }, e3.prototype.hide = function() {
            this.moveLimiter.clearTimeout(), this.el.style.display = "none";
          }, e3.prototype.move = function(t4, e4) {
            var n2 = this, o2 = { elementDimension: t4, placement: e4 };
            this.moveLimiter.updateArgs(o2), this.moveLimiter.execute((function(t5) {
              var e5 = t5.elementDimension, o3 = t5.placement;
              n2._move(e5, o3);
            }));
          }, e3.prototype._move = function(t4, e4) {
            var n2 = 0, o2 = "px", r2 = 0, i2 = 0, a2 = "", s2 = "";
            this.setOrientationForDimension(t4);
            var l2 = t4.top, c2 = t4.left, u2 = t4.height, p2 = t4.width, d2 = t4.dir, f2 = t4.offsets;
            if ("inside" === e4) {
              if (this.setOrientation("horizontal"), !this.allowNesting) return void this.hide();
              var h2 = 5, v2 = (null == f2 ? void 0 : f2.paddingTop) || h2, g2 = (null == f2 ? void 0 : f2.paddingLeft) || h2, y2 = (null == f2 ? void 0 : f2.borderTopWidth) || 0, m2 = (null == f2 ? void 0 : f2.borderLeftWidth) || 0, b2 = m2 + ((null == f2 ? void 0 : f2.borderRightWidth) || 0);
              r2 = l2 + v2 + y2, i2 = c2 + g2 + m2, a2 = Math.max(p2 - 2 * g2 - b2, 1) + "px", s2 = "auto";
            } else d2 ? (a2 = p2 + o2, s2 = "auto", r2 = "before" === e4 ? l2 - n2 : l2 + u2 - n2, i2 = c2) : (a2 = "auto", s2 = u2 - 2 * n2 + o2, r2 = l2 + n2, i2 = "before" === e4 ? c2 - n2 : c2 + p2 - n2, this.setOrientation("vertical"));
            this.updateStyles(r2, i2, a2, s2), this.adjustOffset();
          }, e3.prototype.setOrientationForDimension = function(t4) {
            this.el.classList.remove("vertical"), this.el.classList.add("horizontal"), t4 && !t4.dir && this.setOrientation("vertical");
          }, e3.prototype.setOrientation = function(t4) {
            this.el.classList.remove("horizontal"), this.el.classList.remove("vertical"), this.el.classList.add(t4);
          }, e3.prototype.updateStyles = function(t4, e4, n2, o2) {
            this.el.style.top = t4 + "px", this.el.style.left = e4 + "px", n2 && (this.el.style.width = n2), o2 && (this.el.style.height = o2);
          }, e3.prototype.adjustOffset = function() {
            this.$el.css("top", "+=" + this.offset.top + "px"), this.$el.css("left", "+=" + this.offset.left + "px");
          }, e3;
        })(u.Ss), wd = function() {
          return wd = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, wd.apply(this, arguments);
        }, xd = (function() {
          function e3(e4) {
            var n2 = (function(t3) {
              var e5 = { containerContext: { container: "", placeholderElement: "", containerSel: "*", itemSel: "*", pfx: "", document }, positionOptions: { borderOffset: 10, relative: false, windowMargin: 0, offsetTop: 0, offsetLeft: 0, scale: 1, canvasRelative: false }, dragBehavior: { dragDirection: $n.A.Vertical, nested: false, selectOnEnd: true }, eventHandlers: {} };
              return cd(cd(cd({}, e5), t3), { containerContext: cd(cd({}, e5.containerContext), t3.containerContext), positionOptions: cd(cd({}, e5.positionOptions), t3.positionOptions), dragBehavior: cd(cd({}, e5.dragBehavior), t3.dragBehavior), eventHandlers: cd(cd({}, e5.eventHandlers), t3.eventHandlers) });
            })(e4);
            (0, t2.bindAll)(this, "startSort", "cancelDrag", "recalculateTargetOnScroll", "rollback", "updateOffset", "handlePlaceholderMove", "finalizeMove"), this.containerContext = n2.containerContext, this.positionOptions = n2.positionOptions, this.dragBehavior = n2.dragBehavior, this.eventHandlers = wd(wd({}, n2.eventHandlers), { onPlaceholderPositionChange: this.handlePlaceholderMove, onEnd: this.finalizeMove }), this.em = e4.em, this.treeClass = e4.treeClass, this.updateOffset(), this.em.on(this.em.Canvas.events.refresh, this.updateOffset), this.placeholder = this.createPlaceholder(), this.dropLocationDeterminer = new md({ em: this.em, treeClass: this.treeClass, containerContext: this.containerContext, positionOptions: this.positionOptions, dragDirection: this.dragBehavior.dragDirection, eventHandlers: this.eventHandlers });
          }
          return e3.prototype.startSort = function(t3) {
            var e4, n2, o2, r2, i2, a2, s2, l2 = this.getSourceNodes(t3), c2 = l2.sourceNodes, u2 = l2.sourcesWithModel;
            this.sourceNodes = c2, this.dropLocationDeterminer.startSort(c2), this.bindDragEventHandlers(), null === (n2 = (e4 = this.eventHandlers).onStartSort) || void 0 === n2 || n2.call(e4, this.sourceNodes, this.containerContext.container);
            var p2 = null === (o2 = this.sourceNodes[0]) || void 0 === o2 ? void 0 : o2.model;
            null === (i2 = (r2 = this.eventHandlers).legacyOnStartSort) || void 0 === i2 || i2.call(r2, { sorter: this, target: p2, parent: p2 && (null === (a2 = p2.parent) || void 0 === a2 ? void 0 : a2.call(p2)), index: p2 && (null === (s2 = p2.index) || void 0 === s2 ? void 0 : s2.call(p2)) }), this.em.trigger("sorter:drag:start", t3[0], u2[0]);
          }, e3.prototype.validTarget = function(t3, e4, n2) {
            if (!t3) return false;
            var o2 = (0, l["default"])(t3).data("model");
            if (!o2) return false;
            var r2 = new this.treeClass(o2);
            return this.getSourceNodes(e4).sourceNodes.some((function(t4) {
              return r2.canMove(t4, n2);
            }));
          }, e3.prototype.getSourceNodes = function(t3) {
            var e4 = this, n2 = t3.filter((function(t4) {
              return !!t4.dragSource || e4.findValidSourceElement(t4.element);
            })).map((function(t4) {
              var e5, n3;
              return { model: (null === (e5 = t4.dragSource) || void 0 === e5 ? void 0 : e5.model) || (null === (n3 = (0, l["default"])(t4.element)) || void 0 === n3 ? void 0 : n3.data("model")), content: t4.dragSource };
            }));
            return { sourceNodes: n2.sort((function(t4, e5) {
              return (function(t5, e6) {
                var n3 = dd(t5), o2 = dd(e6), r2 = o2.filter((function(t6) {
                  return n3.includes(t6);
                }))[0];
                if (!r2) return t5.model.index() - e6.model.index();
                var i2 = o2[o2.indexOf(r2) - 1];
                return n3[n3.indexOf(r2) - 1].index() - i2.index();
              })(t4.model, e5.model);
            })).map((function(t4) {
              return new e4.treeClass(t4.model, t4.content);
            })), sourcesWithModel: n2 };
          }, e3.prototype.recalculateTargetOnScroll = function() {
            this.dropLocationDeterminer.recalculateTargetOnScroll();
          }, e3.prototype.cancelDrag = function() {
            this.triggerNullOnEndMove(true), this.dropLocationDeterminer.cancelDrag();
          }, e3.prototype.endDrag = function() {
            this.dropLocationDeterminer.endDrag();
          }, e3.prototype.handlePlaceholderMove = function(t3, e4) {
            this.ensurePlaceholderElement(), this.updatePlaceholderPosition(t3, e4);
          }, e3.prototype.createPlaceholder = function() {
            return new _d({ container: this.containerContext.container, allowNesting: this.dragBehavior.nested, pfx: this.containerContext.pfx, el: this.containerContext.placeholderElement, offset: { top: this.positionOptions.offsetTop, left: this.positionOptions.offsetLeft } });
          }, e3.prototype.ensurePlaceholderElement = function() {
            var t3 = this.placeholder.el, e4 = this.containerContext.container;
            t3.ownerDocument.contains(t3) || e4.append(this.placeholder.el);
          }, e3.prototype.updateOffset = function() {
            var t3, e4 = (null === (t3 = this.em) || void 0 === t3 ? void 0 : t3.get("canvasOffset")) || {};
            this.positionOptions.offsetTop = e4.top, this.positionOptions.offsetLeft = e4.left;
          }, e3.prototype.findValidSourceElement = function(t3) {
            return t3 && !pd(t3, "".concat(this.containerContext.itemSel, ", ").concat(this.containerContext.containerSel)) && (t3 = (function(t4, e4) {
              if (t4) for (var n2 = t4.parentNode; n2 && 1 === n2.nodeType; ) {
                if (pd(n2, e4)) return n2;
                n2 = n2.parentNode;
              }
            })(t3, this.containerContext.itemSel)), t3;
          }, e3.prototype.bindDragEventHandlers = function() {
            (0, Z.on)(this.containerContext.document, "keydown", this.rollback);
          }, e3.prototype.updatePlaceholderPosition = function(t3, e4) {
            this.placeholder.move(t3, e4);
          }, e3.prototype.cleanupEventListeners = function() {
            (0, Z.AU)(this.containerContext.document, "keydown", this.rollback);
          }, e3.prototype.finalizeMove = function() {
            this.cleanupEventListeners(), this.placeholder.hide(), delete this.sourceNodes;
          }, e3.prototype.rollback = function(t3) {
            (0, Z.AU)(this.containerContext.document, "keydown", this.rollback);
            "Escape" === t3.key && this.cancelDrag();
          }, e3.prototype.triggerNullOnEndMove = function(t3) {
            var e4, n2, o2, r2, i2, a2 = null === (e4 = this.sourceNodes) || void 0 === e4 ? void 0 : e4[0].model, s2 = { target: a2, parent: a2 && (null === (n2 = a2.parent) || void 0 === n2 ? void 0 : n2.call(a2)), index: a2 && (null === (o2 = a2.index) || void 0 === o2 ? void 0 : o2.call(a2)) };
            null === (i2 = (r2 = this.eventHandlers).legacyOnEndMove) || void 0 === i2 || i2.call(r2, null, this, wd(wd({}, s2), { cancelled: t3 }));
          }, e3;
        })();
        const Cd = xd;
        var Sd = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Od = function() {
          return Od = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Od.apply(this, arguments);
        }, Td = { id: "sorter-target", type: W.F.Target }, Pd = (function(e3) {
          function n2(n3) {
            var o2 = n3.em, r2 = n3.treeClass, i2 = n3.containerContext, a2 = n3.dragBehavior, s2 = n3.positionOptions, l2 = void 0 === s2 ? {} : s2, c2 = n3.eventHandlers, u2 = void 0 === c2 ? {} : c2, p2 = e3.call(this, { em: o2, treeClass: r2, containerContext: i2, positionOptions: l2, dragBehavior: a2, eventHandlers: Od(Od({}, u2), { onStartSort: function(t3, e4) {
              var n4;
              null === (n4 = u2.onStartSort) || void 0 === n4 || n4.call(u2, t3, e4), p2.onStartSort();
            }, onDrop: function(t3, e4, n4) {
              var o3;
              null === (o3 = u2.onDrop) || void 0 === o3 || o3.call(u2, t3, e4, n4), p2.onDrop(t3, e4, n4);
            }, onTargetChange: function(t3, e4) {
              var n4;
              null === (n4 = u2.onTargetChange) || void 0 === n4 || n4.call(u2, t3, e4), p2.onTargetChange(t3, e4);
            }, onMouseMove: function(t3) {
              var e4;
              null === (e4 = u2.onMouseMove) || void 0 === e4 || e4.call(u2, t3), p2.onMouseMove(t3);
            } }) }) || this;
            return p2.targetIsText = false, p2.onMouseMove = function(t3) {
              var e4;
              p2.targetIsText && (null === (e4 = p2.sourceNodes) || void 0 === e4 ? void 0 : e4.some((function(t4) {
                return t4.isTextable();
              }))) && p2.updateTextViewCursorPosition(t3);
            }, p2.onDrop = function(t3, e4, n4) {
              var o3 = "number" == typeof n4 ? n4 : -1;
              t3 && e4.length > 0 ? 0 === p2.handleNodeAddition(t3, e4, o3).length && p2.triggerNullOnEndMove(false) : p2.triggerNullOnEndMove(true);
              null == t3 || t3.restNodeState(), p2.placeholder.hide();
            }, p2.onTargetChange = function(t3, e4) {
              var n4;
              null == t3 || t3.restNodeState();
              var o3 = p2.em.Canvas;
              if (!e4) return p2.placeholder.hide(), void o3.removeSpots(Td);
              null == e4 || e4.setSelectedParentState(), p2.targetIsText = e4.isTextNode(), p2.targetIsText && (null === (n4 = p2.sourceNodes) || void 0 === n4 ? void 0 : n4.some((function(t4) {
                return t4.isTextable();
              }))) ? (e4.setContentEditable(true), p2.placeholder.hide()) : p2.placeholder.show(), [W.F.Select, W.F.Hover, W.F.Spacing].forEach((function(t4) {
                return o3.removeSpots({ type: t4 });
              })), o3.addSpot(Od(Od({}, Td), { component: e4.model }));
            }, (0, t2.bindAll)(p2, "handleScrollEvent"), p2;
          }
          return Sd(n2, e3), n2.prototype.onStartSort = function() {
            this.em.clearSelection(), this.setAutoCanvasScroll(true);
          }, n2.prototype.bindDragEventHandlers = function() {
            this.em.on("frame:scroll", this.handleScrollEvent), e3.prototype.bindDragEventHandlers.call(this);
          }, n2.prototype.cleanupEventListeners = function() {
            this.em.off("frame:scroll", this.handleScrollEvent), e3.prototype.cleanupEventListeners.call(this);
          }, n2.prototype.handleScrollEvent = function() {
            for (var t3, e4 = [], n3 = 0; n3 < arguments.length; n3++) e4[n3] = arguments[n3];
            var o2 = null === (t3 = null == e4 ? void 0 : e4[0]) || void 0 === t3 ? void 0 : t3.frame;
            this.em.Canvas.getCanvasView().frame === o2 && this.recalculateTargetOnScroll();
          }, n2.prototype.handleNodeAddition = function(t3, e4, n3) {
            var o2 = this;
            return e4.reduce((function(e5, r2) {
              if (!t3.canMove(r2, n3)) return e5;
              if (o2.isPositionChanged(t3, r2, n3)) {
                var i2 = o2.moveNode(t3, r2, n3), a2 = i2.index, s2 = i2.addedNode;
                e5.push(s2), n3 = a2;
              }
              return n3++, e5;
            }), []);
          }, n2.prototype.isPositionChanged = function(t3, e4, n3) {
            var o2 = e4.getParent(), r2 = o2 ? o2.indexOfChild(e4) : -1;
            (null == o2 ? void 0 : o2.model.cid) === t3.model.cid && r2 < n3 && n3--;
            var i2 = (null == o2 ? void 0 : o2.model.cid) === t3.model.cid, a2 = r2 === n3, s2 = this.targetIsText && e4.isTextable();
            return !(i2 && a2 && !s2);
          }, n2.prototype.moveNode = function(t3, e4, n3) {
            var o2 = e4.getParent();
            if (o2) {
              var r2 = o2.indexOfChild(e4);
              o2.removeChildAt(r2, { temporary: true }), o2.model.cid === t3.model.cid && r2 < n3 && n3--;
            }
            var i2 = t3.addChildAt(e4, n3, { action: "move-component" });
            return i2 && this.triggerEndMoveEvent(i2), { addedNode: i2, index: n3 };
          }, n2.prototype.triggerEndMoveEvent = function(t3) {
            var e4, n3, o2, r2, i2, a2;
            null === (n3 = (e4 = this.eventHandlers).legacyOnEndMove) || void 0 === n3 || n3.call(e4, t3.model, this, { target: t3.model, parent: t3.model && (null === (r2 = (o2 = t3.model).parent) || void 0 === r2 ? void 0 : r2.call(o2)), index: t3.model && (null === (a2 = (i2 = t3.model).index) || void 0 === a2 ? void 0 : a2.call(i2)) });
          }, n2.prototype.finalizeMove = function() {
            var t3, n3;
            null === (t3 = this.em) || void 0 === t3 || t3.Canvas.removeSpots(Td), null === (n3 = this.sourceNodes) || void 0 === n3 || n3.forEach((function(t4) {
              return t4.restNodeState();
            })), this.setAutoCanvasScroll(false), e3.prototype.finalizeMove.call(this);
          }, n2.prototype.updateTextViewCursorPosition = function(t3) {
            var e4 = this.em;
            if (e4) {
              var n3 = e4.Canvas, o2 = n3.getDocument(), r2 = null, i2 = (0, Z.G2)(t3);
              if (o2.caretPositionFromPoint) {
                var a2 = o2.caretPositionFromPoint(i2.clientX, i2.clientY);
                a2 && (r2 = o2.createRange()).setStart(a2.offsetNode, a2.offset);
              } else o2.caretRangeFromPoint ? r2 = o2.caretRangeFromPoint(i2.clientX, i2.clientY) : t3.rangeParent && (r2 = o2.createRange()).setStart(t3.rangeParent, t3.rangeOffset);
              var s2 = n3.getWindow().getSelection();
              n3.getFrameEl().focus(), null == s2 || s2.removeAllRanges(), r2 && (null == s2 || s2.addRange(r2));
            }
          }, n2.prototype.setAutoCanvasScroll = function(t3) {
            var e4 = this.em, n3 = null == e4 ? void 0 : e4.Canvas;
            n3 && (t3 ? n3.startAutoscroll() : n3.stopAutoscroll());
          }, n2;
        })(Cd);
        const Ed = Pd;
        var kd = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ad = function() {
          return Ad = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ad.apply(this, arguments);
        }, jd = (function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return kd(n2, t3), n2.prototype.defaults = function() {
            return { values: {} };
          }, n2.prototype.initialize = function() {
            var t4 = this.collection;
            this.prop = null == t4 ? void 0 : t4.prop;
          }, n2.prototype.getId = function() {
            return this.cid;
          }, n2.prototype.getIndex = function() {
            var t4 = this.collection;
            return t4 ? t4.indexOf(this) : -1;
          }, n2.prototype.getValues = function(t4) {
            void 0 === t4 && (t4 = {});
            var n3 = this.get("values");
            return t4.camelCase ? Object.keys(n3).reduce((function(t5, o2) {
              return t5[(0, e2.camelCase)(o2)] = n3[o2], t5;
            }), {}) : n3;
          }, n2.prototype.getLabel = function() {
            var t4;
            return null === (t4 = this.prop) || void 0 === t4 ? void 0 : t4.getLayerLabel(this);
          }, n2.prototype.isSelected = function() {
            var t4;
            return (null === (t4 = this.prop) || void 0 === t4 ? void 0 : t4.getSelectedLayer()) === this;
          }, n2.prototype.select = function() {
            var t4;
            return null === (t4 = this.prop) || void 0 === t4 ? void 0 : t4.selectLayer(this);
          }, n2.prototype.remove = function() {
            var t4;
            return null === (t4 = this.prop) || void 0 === t4 ? void 0 : t4.removeLayer(this);
          }, n2.prototype.move = function(t4) {
            var e3;
            return null === (e3 = this.prop) || void 0 === e3 ? void 0 : e3.moveLayer(this, t4);
          }, n2.prototype.getStylePreview = function(t4) {
            var e3;
            return void 0 === t4 && (t4 = {}), null === (e3 = this.prop) || void 0 === e3 ? void 0 : e3.getStylePreview(this, t4);
          }, n2.prototype.hasPreview = function() {
            var t4;
            return !!(null === (t4 = this.prop) || void 0 === t4 ? void 0 : t4.get("preview"));
          }, n2.prototype.upValues = function(t4) {
            return void 0 === t4 && (t4 = {}), this.set("values", Ad(Ad({}, this.getValues()), t4));
          }, n2;
        })(u.Kx);
        const Md = jd;
        var Dd = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ld = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Dd(e3, t3), e3.prototype.initialize = function(t4, e4) {
            void 0 === e4 && (e4 = {}), this.prop = e4.prop;
          }, e3;
        })(u.pM);
        const Id = Ld;
        Ld.prototype.model = Md;
        var Nd = n(3178), Rd = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Vd = (function(t3) {
          function e3(e4) {
            return t3.call(this, e4) || this;
          }
          return Rd(e3, t3), e3.prototype.getChildren = function() {
            return this.model instanceof Id ? this.model.models.map((function(t4) {
              return new e3(t4);
            })) : null;
          }, e3.prototype.getParent = function() {
            var t4 = this.model instanceof Md ? this.model.collection : null;
            return t4 ? new e3(t4) : null;
          }, e3.prototype.addChildAt = function(t4, n2) {
            if (this.model instanceof Md) throw Error("Cannot add a layer model to another layer model");
            return new e3(this.model.add(t4.model, { at: n2 }));
          }, e3.prototype.removeChildAt = function(t4) {
            if (this.model instanceof Md) throw Error("Cannot remove a layer model from another layer model");
            var e4 = this.model.at(t4);
            e4 && this.model.remove(e4);
          }, e3.prototype.indexOfChild = function(t4) {
            return t4.model instanceof Md && this.model instanceof Id ? this.model.indexOf(t4.model) : -1;
          }, e3.prototype.canMove = function(t4, e4) {
            return this.model instanceof Id && !!t4.model;
          }, Object.defineProperty(e3.prototype, "view", { get: function() {
            return this.model.view;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "element", { get: function() {
            var t4;
            return null === (t4 = this.view) || void 0 === t4 ? void 0 : t4.el;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "model", { get: function() {
            return this._model;
          }, enumerable: false, configurable: true }), e3;
        })(Nd.$), Fd = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Hd = function() {
          return Hd = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Hd.apply(this, arguments);
        }, Ud = (function(t3) {
          function e3(e4) {
            var n2 = e4.em, o2 = e4.containerContext, r2 = e4.dragBehavior, i2 = e4.positionOptions, a2 = void 0 === i2 ? {} : i2, s2 = e4.eventHandlers, l2 = void 0 === s2 ? {} : s2, c2 = t3.call(this, { em: n2, treeClass: Vd, containerContext: o2, positionOptions: a2, dragBehavior: r2, eventHandlers: Hd({ onStartSort: function(t4, e5) {
              var n3;
              null === (n3 = l2.onStartSort) || void 0 === n3 || n3.call(l2, t4, e5), c2.onLayerStartSort(t4);
            }, onDrop: function(t4, e5, n3) {
              var o3;
              null === (o3 = l2.onDrop) || void 0 === o3 || o3.call(l2, t4, e5, n3), c2.onLayerDrop(t4, e5, n3);
            }, onEnd: function() {
              c2.placeholder.hide();
            } }, l2) }) || this;
            return c2.onLayerStartSort = function(t4) {
              c2.em.clearSelection();
              var e5 = t4[0];
              c2.em.trigger("sorter:drag:start", null == e5 ? void 0 : e5.element, null == e5 ? void 0 : e5.model), c2.placeholder.show();
            }, c2.onLayerDrop = function(t4, e5, n3) {
              if (t4) {
                n3 = "number" == typeof n3 ? n3 : -1;
                for (var o3 = 0; o3 < e5.length; o3++) {
                  var r3 = e5[o3];
                  if (t4.canMove(r3, o3)) {
                    var i3 = r3.getParent(), a3 = -1;
                    i3 && (a3 = i3.indexOfChild(r3), i3.removeChildAt(a3)), n3 = a3 < n3 ? n3 - 1 : n3, t4.addChildAt(r3, n3);
                  }
                }
                c2.placeholder.hide();
              }
            }, c2;
          }
          return Fd(e3, t3), e3;
        })(Cd);
        const zd = Ud;
        var Bd = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Wd = function() {
          return Wd = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Wd.apply(this, arguments);
        };
        const $d = (function(t3) {
          function n2(n3) {
            var o2 = t3.call(this, n3, "Utils") || this;
            return o2.Sorter = Ed, o2.Resizer = ld, o2.Dragger = to.A, o2.ComponentSorter = Ed, o2.StyleManagerSorter = zd, o2.helpers = Wd({}, e2), o2;
          }
          return Bd(n2, t3), n2.prototype.destroy = function() {
          }, n2;
        })(m);
        var qd, Gd = {}, Kd = { 16: false, 18: false, 17: false, 91: false }, Yd = "all", Jd = { "": 16, shift: 16, "": 18, alt: 18, option: 18, "": 17, ctrl: 17, control: 17, "": 91, command: 91 }, Xd = { backspace: 8, tab: 9, clear: 12, enter: 13, return: 13, esc: 27, escape: 27, space: 32, left: 37, up: 38, right: 39, down: 40, del: 46, delete: 46, home: 36, end: 35, pageup: 33, pagedown: 34, ",": 188, ".": 190, "/": 191, "`": 192, "-": 189, "=": 187, ";": 186, "'": 222, "[": 219, "]": 221, "\\": 220 }, Zd = function(t3) {
          return Xd[t3] || t3.toUpperCase().charCodeAt(0);
        }, Qd = [];
        for (qd = 1; qd < 20; qd++) Xd["f" + qd] = 111 + qd;
        function tf(t3, e3) {
          for (var n2 = t3.length; n2--; ) if (t3[n2] === e3) return n2;
          return -1;
        }
        function ef(t3, e3) {
          if (t3.length != e3.length) return false;
          for (var n2 = 0; n2 < t3.length; n2++) if (t3[n2] !== e3[n2]) return false;
          return true;
        }
        var nf = { 16: "shiftKey", 18: "altKey", 17: "ctrlKey", 91: "metaKey" };
        function of(t3) {
          for (qd in Kd) Kd[qd] = t3[nf[qd]];
        }
        function rf(t3) {
          var e3, n2 = t3.keyCode, o2 = tf(Qd, n2);
          if (o2 >= 0 && Qd.splice(o2, 1), 93 != n2 && 224 != n2 || (n2 = 91), n2 in Kd) for (e3 in Kd[n2] = false, Jd) Jd[e3] == n2 && (sf[e3] = false);
        }
        function af() {
          for (qd in Kd) Kd[qd] = false;
          for (qd in Jd) sf[qd] = false;
        }
        function sf(t3, e3, n2) {
          var o2, r2;
          o2 = cf(t3), void 0 === n2 && (n2 = e3, e3 = "all");
          for (var i2 = 0; i2 < o2.length; i2++) r2 = [], (t3 = o2[i2].split("+")).length > 1 && (r2 = uf(t3), t3 = [t3[t3.length - 1]]), t3 = t3[0], (t3 = Zd(t3)) in Gd || (Gd[t3] = []), Gd[t3].push({ shortcut: o2[i2], scope: e3, method: n2, key: o2[i2], mods: r2 });
        }
        for (qd in Jd) sf[qd] = false;
        function lf() {
          return Yd || "all";
        }
        function cf(t3) {
          var e3;
          return "" == (e3 = (t3 = t3.replace(/\s/g, "")).split(","))[e3.length - 1] && (e3[e3.length - 2] += ","), e3;
        }
        function uf(t3) {
          for (var e3 = t3.slice(0, t3.length - 1), n2 = 0; n2 < e3.length; n2++) e3[n2] = Jd[e3[n2]];
          return e3;
        }
        function pf(t3, e3, n2) {
          t3.addEventListener ? t3.addEventListener(e3, n2, false) : t3.attachEvent && t3.attachEvent("on" + e3, (function() {
            n2(window.event);
          }));
        }
        sf.setScope = function(t3) {
          Yd = t3 || "all";
        }, sf.getScope = lf, sf.deleteScope = function(t3) {
          var e3, n2, o2;
          for (e3 in Gd) for (n2 = Gd[e3], o2 = 0; o2 < n2.length; ) n2[o2].scope === t3 ? n2.splice(o2, 1) : o2++;
        }, sf.filter = function(t3) {
          var e3 = (t3.target || t3.srcElement).tagName;
          return !("INPUT" == e3 || "SELECT" == e3 || "TEXTAREA" == e3);
        }, sf.isPressed = function(t3) {
          return "string" == typeof t3 && (t3 = Zd(t3)), -1 != tf(Qd, t3);
        }, sf.getPressedKeyCodes = function() {
          return Qd.slice(0);
        }, sf.unbind = function(t3, e3) {
          var n2, o2, r2, i2, a2, s2 = [];
          for (n2 = cf(t3), i2 = 0; i2 < n2.length; i2++) {
            if ((o2 = n2[i2].split("+")).length > 1 && (s2 = uf(o2)), t3 = o2[o2.length - 1], t3 = Zd(t3), void 0 === e3 && (e3 = lf()), !Gd[t3]) return;
            for (r2 = 0; r2 < Gd[t3].length; r2++) (a2 = Gd[t3][r2]).scope === e3 && ef(a2.mods, s2) && (Gd[t3][r2] = {});
          }
        }, sf.handlers = Gd, sf.init = function(t3) {
          pf(t3.document, "keydown", (function(t4) {
            !(function(t5) {
              var e3, n2, o2, r2, i2, a2;
              if (e3 = t5.keyCode, -1 == tf(Qd, e3) && Qd.push(e3), 93 != e3 && 224 != e3 || (e3 = 91), e3 in Kd) for (o2 in Kd[e3] = true, Jd) Jd[o2] == e3 && (sf[o2] = true);
              else if (of(t5), sf.filter.call(this, t5) && e3 in Gd) {
                for (a2 = lf(), r2 = 0; r2 < Gd[e3].length; r2++) if ((n2 = Gd[e3][r2]).scope == a2 || "all" == n2.scope) {
                  for (o2 in i2 = n2.mods.length > 0, Kd) (!Kd[o2] && tf(n2.mods, +o2) > -1 || Kd[o2] && -1 == tf(n2.mods, +o2)) && (i2 = false);
                  (0 != n2.mods.length || Kd[16] || Kd[18] || Kd[17] || Kd[91]) && !i2 || false === n2.method(t5, n2) && (t5.preventDefault ? t5.preventDefault() : t5.returnValue = false, t5.stopPropagation && t5.stopPropagation(), t5.cancelBubble && (t5.cancelBubble = true));
                }
              }
            })(t4);
          })), pf(t3.document, "keyup", rf), pf(t3, "focus", af);
        };
        const df = sf;
        const ff = function() {
          return { defaults: { "core:undo": { keys: "+z, ctrl+z", handler: "core:undo", opts: { prevent: true } }, "core:redo": { keys: "+shift+z, ctrl+shift+z", handler: "core:redo", opts: { prevent: true } }, "core:copy": { keys: "+c, ctrl+c", handler: "core:copy" }, "core:paste": { keys: "+v, ctrl+v", handler: "core:paste" }, "core:component-next": { keys: "s", handler: "core:component-next" }, "core:component-prev": { keys: "w", handler: "core:component-prev" }, "core:component-enter": { keys: "d", handler: "core:component-enter" }, "core:component-exit": { keys: "a", handler: "core:component-exit" }, "core:component-delete": { keys: "backspace, delete", handler: "core:component-delete", opts: { prevent: true } } } };
        };
        var hf = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), vf = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        };
        (0, e2.hasWin)() && df.init(window);
        var gf = (function(e3) {
          function n2(t3) {
            var n3 = e3.call(this, t3, "Keymaps", ff()) || this;
            return n3.keymaster = df, n3.keymaps = {}, n3;
          }
          return hf(n2, e3), n2.prototype.onLoad = function() {
            if (!this.em.isHeadless) {
              var t3 = this.config.defaults;
              for (var e4 in t3) {
                var n3 = t3[e4];
                this.add(e4, n3.keys, n3.handler, n3.opts || {});
              }
            }
          }, n2.prototype.add = function(e4, n3, o2, r2) {
            void 0 === r2 && (r2 = {});
            var i2 = this.em, a2 = i2.Commands, s2 = i2.getEditor(), l2 = i2.Canvas, c2 = { id: e4, keys: n3, handler: o2 };
            return this.keymaps[e4] && this.remove(e4), this.keymaps[e4] = c2, df(n3, (function(n4, c3) {
              var u2, p2 = { event: n4, h: c3 }, d2 = (0, t2.isString)(o2) ? a2.get(o2) : o2;
              if (!i2.isEditing() && !s2.Canvas.isInputFocused() || r2.force) {
                r2.prevent && (null === (u2 = l2.getCanvasView()) || void 0 === u2 || u2.preventDefault(n4)), (0, t2.isFunction)(d2) ? d2(s2, 0, p2) : a2.runCommand(d2, p2);
                var f2 = [e4, c3.shortcut, n4];
                i2.trigger.apply(i2, vf(["keymap:emit"], f2, false)), i2.trigger.apply(i2, vf(["keymap:emit:".concat(e4)], f2, false));
              }
            }), void 0), i2.trigger("keymap:add", c2), c2;
          }, n2.prototype.get = function(t3) {
            return this.keymaps[t3];
          }, n2.prototype.getAll = function() {
            return this.keymaps;
          }, n2.prototype.remove = function(t3) {
            var e4 = this.em, n3 = this.get(t3);
            if (n3) return delete this.keymaps[t3], n3.keys.split(", ").forEach((function(t4) {
              df.unbind(t4.trim());
            })), null == e4 || e4.trigger("keymap:remove", n3), n3;
          }, n2.prototype.removeAll = function() {
            var t3 = this;
            return Object.keys(this.keymaps).forEach((function(e4) {
              return t3.remove(e4);
            })), df.handlers = {}, this;
          }, n2.prototype.destroy = function() {
            this.removeAll(), this.keymaps = {};
          }, n2;
        })(m);
        const yf = gf;
        const mf = function() {
          return { stylePrefix: "mdl-", title: "", content: "", backdrop: true, custom: false, extend: {} };
        };
        var bf = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const _f = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return bf(e3, t3), e3.prototype.defaults = function() {
            return { title: "", content: "", attributes: {}, open: false };
          }, e3.prototype.open = function() {
            this.set("open", true);
          }, e3.prototype.close = function() {
            this.set("open", false);
          }, e3;
        })(x.A);
        var wf = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), xf = function() {
          return xf = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, xf.apply(this, arguments);
        }, Cf = (function(t3) {
          function e3(e4) {
            var n2 = t3.call(this, e4) || this, o2 = n2.model;
            return n2.listenTo(o2, "change:open", n2.updateOpen), n2.listenTo(o2, "change:title", n2.updateTitle), n2.listenTo(o2, "change:content", n2.updateContent), n2;
          }
          return wf(e3, t3), e3.prototype.template = function(t4) {
            var e4 = t4.pfx, n2 = t4.ppfx, o2 = t4.content, r2 = t4.title;
            return '<div class="'.concat(e4, "dialog ").concat(n2, "one-bg ").concat(n2, 'two-color">\n      <div class="').concat(e4, 'header">\n        <div class="').concat(e4, 'title">').concat(r2, '</div>\n        <div class="').concat(e4, 'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="').concat(e4, 'content">\n        <div id="').concat(e4, 'c">').concat(o2, '</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="').concat(e4, 'collector" style="display: none"></div>');
          }, e3.prototype.events = function() {
            return { click: "onClick", "click [data-close-modal]": "hide" };
          }, e3.prototype.onClick = function(t4) {
            this.config.backdrop && t4.target === this.el && this.hide();
          }, e3.prototype.getCollector = function() {
            return this.$collector || (this.$collector = this.$el.find("." + this.pfx + "collector")), this.$collector;
          }, e3.prototype.getContent = function() {
            var t4 = this.pfx;
            return this.$content || (this.$content = this.$el.find(".".concat(t4, "content #").concat(t4, "c"))), this.$content;
          }, e3.prototype.getTitle = function(t4) {
            return void 0 === t4 && (t4 = {}), this.$title || (this.$title = this.$el.find("." + this.pfx + "title")), t4.$ ? this.$title : this.$title.get(0);
          }, e3.prototype.updateContent = function() {
            var t4 = this.getContent(), e4 = t4.children(), n2 = this.getCollector(), o2 = this.model.get("content");
            e4.length && n2.append(e4), t4.empty().append(o2);
          }, e3.prototype.updateTitle = function() {
            var t4 = this.getTitle({ $: true });
            t4 && t4.empty().append(this.model.get("title"));
          }, e3.prototype.updateOpen = function() {
            this.el.style.display = this.model.get("open") ? "" : "none";
          }, e3.prototype.hide = function() {
            this.model.close();
          }, e3.prototype.show = function() {
            this.model.open();
          }, e3.prototype.updateAttr = function(t4) {
            var e4 = this, n2 = e4.pfx, o2 = e4.$el, r2 = e4.el, i2 = [].slice.call(r2.attributes).map((function(t5) {
              return t5.name;
            }));
            o2.removeAttr(i2.join(" ")), o2.attr(xf(xf({}, t4 || {}), { class: "".concat(n2, "container ").concat(t4 && t4.class || "").trim() }));
          }, e3.prototype.render = function() {
            var t4 = this.$el, e4 = this.model.toJSON();
            return e4.pfx = this.pfx, e4.ppfx = this.ppfx, t4.html(this.template(e4)), this.updateAttr(), this.updateOpen(), this;
          }, e3;
        })(X);
        const Sf = Cf;
        var Of = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Tf = (function(e3) {
          function n2(n3) {
            var o2 = e3.call(this, n3, "Modal", mf()) || this;
            return o2.model = new _f(o2), o2.model.on("change:open", (function(t3, e4) {
              n3.trigger("modal:".concat(e4 ? "open" : "close"));
            })), o2.model.on("change", (0, t2.debounce)((function() {
              var e4 = o2._evData(), r2 = o2.config.custom;
              (0, t2.isFunction)(r2) && r2(e4), n3.trigger("modal", e4);
            }), 0)), o2;
          }
          return Of(n2, e3), n2.prototype._evData = function() {
            var e4 = this, n3 = this.getTitle(), o2 = this.getContent(), r2 = this.model.attributes;
            return { open: r2.open, attributes: r2.attributes, title: (0, t2.isString)(n3) ? (0, Z.GZ)(n3) : n3, content: (0, t2.isString)(o2) ? (0, Z.GZ)(o2) : o2.get ? o2.get(0) : o2, close: function() {
              e4.close();
            } };
          }, n2.prototype.postRender = function(t3) {
            var e4 = t3.model.config.el || t3.el, n3 = this.render();
            n3 && (null == e4 || e4.appendChild(n3));
          }, n2.prototype.open = function(t3) {
            void 0 === t3 && (t3 = {});
            var e4 = t3.attributes || {};
            return t3.title && this.setTitle(t3.title), t3.content && this.setContent(t3.content), this.model.set("attributes", e4), this.model.open(), this.modal && this.modal.updateAttr(e4), this;
          }, n2.prototype.close = function() {
            return this.model.close(), this;
          }, n2.prototype.onceClose = function(t3) {
            return this.em.once("modal:close", t3), this;
          }, n2.prototype.onceOpen = function(t3) {
            return this.em.once("modal:open", t3), this;
          }, n2.prototype.isOpen = function() {
            return !!this.model.get("open");
          }, n2.prototype.setTitle = function(t3) {
            return this.model.set("title", t3), this;
          }, n2.prototype.getTitle = function() {
            return this.model.get("title");
          }, n2.prototype.setContent = function(t3) {
            return this.model.set("content", " "), this.model.set("content", t3), this;
          }, n2.prototype.getContent = function() {
            return this.model.get("content");
          }, n2.prototype.getContentEl = function() {
            var t3;
            return null === (t3 = this.modal) || void 0 === t3 ? void 0 : t3.getContent().get(0);
          }, n2.prototype.getModel = function() {
            return this.model;
          }, n2.prototype.render = function() {
            var t3;
            if (!this.config.custom) {
              var e4 = Sf.extend(this.config.extend), n3 = this.modal && this.modal.el;
              return this.modal = new e4({ el: n3, model: this.model, config: this.config }), null === (t3 = this.modal) || void 0 === t3 ? void 0 : t3.render().el;
            }
          }, n2.prototype.destroy = function() {
            var t3;
            null === (t3 = this.modal) || void 0 === t3 || t3.remove();
          }, n2;
        })(m);
        const Pf = Tf;
        var Ef = "sw-visibility", kf = "export-template", Af = "open-sm", jf = "open-tm", Mf = "open-layers", Df = "open-blocks", Lf = "fullscreen", If = "preview";
        const Nf = function() {
          return { stylePrefix: "pn-", defaults: [{ id: "commands", buttons: [{}] }, { id: "options", buttons: [{ active: true, id: Ef, className: "fa fa-square-o", command: "core:component-outline", context: Ef, attributes: { title: "View components" } }, { id: If, className: "fa fa-eye", command: If, context: If, attributes: { title: "Preview" } }, { id: Lf, className: "fa fa-arrows-alt", command: Lf, context: Lf, attributes: { title: "Fullscreen" } }, { id: kf, className: "fa fa-code", command: kf, attributes: { title: "View code" } }] }, { id: "views", buttons: [{ id: Af, className: "fa fa-paint-brush", command: Af, active: true, togglable: false, attributes: { title: "Open Style Manager" } }, { id: jf, className: "fa fa-cog", command: jf, togglable: false, attributes: { title: "Settings" } }, { id: Mf, className: "fa fa-bars", command: Mf, togglable: false, attributes: { title: "Open Layer Manager" } }, { id: Df, className: "fa fa-th-large", command: Df, togglable: false, attributes: { title: "Open Blocks" } }] }] };
        };
        var Rf = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Vf = (function(t3) {
          function e3(e4, n2) {
            var o2 = t3.call(this, e4, n2) || this;
            return o2.get("buttons").length && o2.set("buttons", new Uf(o2.module, o2.get("buttons"))), o2;
          }
          return Rf(e3, t3), e3.prototype.defaults = function() {
            return { id: "", label: "", tagName: "span", className: "", command: "", context: "", buttons: [], attributes: {}, options: {}, active: false, dragDrop: false, togglable: true, runDefaultCommand: true, stopDefaultCommand: false, disable: false };
          }, Object.defineProperty(e3.prototype, "className", { get: function() {
            return this.get("className");
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "command", { get: function() {
            return this.get("command");
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "active", { get: function() {
            return this.get("active");
          }, set: function(t4) {
            this.set("active", t4);
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "togglable", { get: function() {
            return this.get("togglable");
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "runDefaultCommand", { get: function() {
            return this.get("runDefaultCommand");
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "stopDefaultCommand", { get: function() {
            return this.get("stopDefaultCommand");
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "disable", { get: function() {
            return this.get("disable");
          }, enumerable: false, configurable: true }), e3;
        })(x.A);
        var Ff = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Hf = (function(t3) {
          function e3(e4, n2) {
            return t3.call(this, e4, n2, Vf) || this;
          }
          return Ff(e3, t3), e3.prototype.deactivateAllExceptOne = function(t4, e4) {
            this.forEach((function(n2, o2) {
              n2 !== t4 && (n2.set("active", false), e4 && n2.get("buttons").length && n2.get("buttons").deactivateAllExceptOne(t4, e4));
            }));
          }, e3.prototype.deactivateAll = function(t4, e4) {
            var n2 = t4 || "";
            this.forEach((function(t5) {
              t5.get("context") == n2 && t5 !== e4 && t5.set("active", false, { fromCollection: true });
            }));
          }, e3.prototype.disableAllButtons = function(t4) {
            var e4 = t4 || "";
            this.forEach((function(t5, n2) {
              t5.get("context") == e4 && t5.set("disable", true);
            }));
          }, e3.prototype.disableAllButtonsExceptOne = function(t4, e4) {
            this.forEach((function(n2, o2) {
              n2 !== t4 && (n2.set("disable", true), e4 && n2.get("buttons").length && n2.get("buttons").disableAllButtonsExceptOne(t4, e4));
            }));
          }, e3;
        })(E);
        const Uf = Hf;
        Hf.prototype.model = Vf;
        var zf = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Bf = (function(t3) {
          function e3(e4, n2) {
            var o2 = t3.call(this, e4, n2) || this, r2 = o2.get("buttons") || [];
            return o2.buttons = new Uf(e4, r2), o2;
          }
          return zf(e3, t3), e3.prototype.defaults = function() {
            return { id: "", content: "", visible: true, buttons: [], attributes: {} };
          }, Object.defineProperty(e3.prototype, "buttons", { get: function() {
            return this.get("buttons");
          }, set: function(t4) {
            this.set("buttons", t4);
          }, enumerable: false, configurable: true }), e3;
        })(x.A);
        var Wf = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), $f = (function(t3) {
          function e3(e4, n2) {
            return t3.call(this, e4, n2, Bf) || this;
          }
          return Wf(e3, t3), e3;
        })(E);
        const qf = $f;
        $f.prototype.model = Bf;
        var Gf = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Kf = function() {
          return Kf = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Kf.apply(this, arguments);
        }, Yf = (function(e3) {
          function n2(n3) {
            var o2 = e3.call(this, n3) || this, r2 = o2, i2 = r2.model, a2 = r2.em, s2 = r2.pfx, l2 = r2.ppfx, c2 = i2.className, u2 = i2.attributes, p2 = u2.command, d2 = u2.listen;
            if (o2.id = s2 + i2.get("id"), o2.activeCls = "".concat(s2, "active ").concat(l2, "four-color"), o2.disableCls = "".concat(l2, "disabled"), o2.btnsVisCls = "".concat(s2, "visible"), o2.className = s2 + "btn" + (c2 ? " " + c2 : ""), o2.listenTo(i2, "change", o2.render), o2.listenTo(i2, "change:active updateActive", o2.updateActive), o2.listenTo(i2, "checkActive", o2.checkActive), o2.listenTo(i2, "change:bntsVis", o2.updateBtnsVis), o2.listenTo(i2, "change:attributes", o2.updateAttributes), o2.listenTo(i2, "change:className", o2.updateClassName), o2.listenTo(i2, "change:disable", o2.updateDisable), a2 && (0, t2.isString)(p2) && d2) {
              var f2 = { fromListen: true };
              o2.listenTo(a2, "run:".concat(p2), (function() {
                return i2.set("active", true, f2);
              })), o2.listenTo(a2, "stop:".concat(p2), (function() {
                return i2.set("active", false, f2);
              }));
            }
            return a2 && a2.get && (o2.commands = a2.get("Commands")), o2;
          }
          return Gf(n2, e3), n2.prototype.tagName = function() {
            return this.model.get("tagName");
          }, n2.prototype.events = function() {
            return { click: "clicked" };
          }, n2.prototype.updateClassName = function() {
            var t3 = this.model, e4 = this.pfx, n3 = t3.className, o2 = t3.get("attributes").class, r2 = "".concat(o2 || "", " ").concat(e4, "btn ").concat(n3 || "");
            this.$el.attr("class", r2.trim());
          }, n2.prototype.updateAttributes = function() {
            var t3 = this, e4 = t3.em, n3 = t3.model, o2 = t3.$el, r2 = n3.get("attributes") || {}, i2 = e4 && e4.t && e4.t("panels.buttons.titles.".concat(n3.id));
            o2.attr(r2), i2 && o2.attr({ title: i2 }), this.updateClassName();
          }, n2.prototype.updateBtnsVis = function() {
            this.$buttons && (this.model.get("bntsVis") ? this.$buttons.addClass(this.btnsVisCls) : this.$buttons.removeClass(this.btnsVisCls));
          }, n2.prototype.updateActive = function(e4, n3, o2) {
            var r2;
            void 0 === o2 && (o2 = {});
            var i2 = this, a2 = i2.model, s2 = i2.commands, l2 = i2.$el, c2 = i2.activeCls, u2 = o2.fromCollection, p2 = o2.fromListen, d2 = a2.get("context"), f2 = a2.get("options"), h2 = a2.command, v2 = {};
            h2 && (s2 && (0, t2.isString)(h2) ? v2 = s2.get(h2) || {} : (0, t2.isFunction)(h2) ? v2 = s2.create({ run: h2 }) : null !== h2 && (0, t2.isObject)(h2) && (v2 = s2.create(h2)), a2.active ? (!u2 && (null === (r2 = a2.collection) || void 0 === r2 || r2.deactivateAll(d2, a2)), a2.set("active", true, { silent: true }).trigger("checkActive"), !p2 && s2.runCommand(v2, Kf(Kf({}, f2), { sender: a2 })), v2.noStop && a2.set("active", false)) : (l2.removeClass(c2), !p2 && s2.stopCommand(v2, Kf(Kf({}, f2), { sender: a2, force: 1 }))));
          }, n2.prototype.updateDisable = function() {
            var t3 = this.disableCls, e4 = this.model.disable;
            this.$el[e4 ? "addClass" : "removeClass"](t3);
          }, n2.prototype.checkActive = function() {
            var t3 = this, e4 = t3.model, n3 = t3.$el, o2 = t3.activeCls;
            e4.active ? n3.addClass(o2) : n3.removeClass(o2);
          }, n2.prototype.clicked = function() {
            var t3 = this.model;
            t3.get("bntsVis") || t3.disable || !t3.command || this.toggleActive();
          }, n2.prototype.toggleActive = function() {
            var t3 = this.model, e4 = this.em, n3 = t3.active, o2 = t3.togglable;
            n3 && !o2 || (t3.active = !n3, n3 ? t3.runDefaultCommand && e4.runDefault() : t3.stopDefaultCommand && e4.stopDefault());
          }, n2.prototype.render = function() {
            var t3 = this.model, e4 = t3.get("label"), n3 = this.$el;
            return !t3.get("el") && n3.empty(), this.updateAttributes(), e4 && n3.append(e4), this.checkActive(), this.updateDisable(), this;
          }, n2;
        })(X);
        const Jf = Yf;
        var Xf = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const Zf = (function(e3) {
          function n2(t3) {
            var n3 = e3.call(this, { collection: t3 }) || this;
            return n3.listenTo(n3.collection, "add", n3.addTo), n3.listenTo(n3.collection, "reset remove", n3.render), n3.className = n3.pfx + "buttons", n3;
          }
          return Xf(n2, e3), n2.prototype.addTo = function(t3) {
            this.addToCollection(t3);
          }, n2.prototype.addToCollection = function(t3, e4) {
            var n3 = e4 || null, o2 = t3.get("el"), r2 = new Jf({ el: o2, model: t3 }).render().el;
            return n3 ? n3.appendChild(r2) : this.$el.append(r2), r2;
          }, n2.prototype.render = function() {
            var e4 = this, n3 = document.createDocumentFragment();
            return this.$el.empty(), this.collection.each((function(t3) {
              return e4.addToCollection(t3, n3);
            })), this.$el.append(n3), this.$el.attr("class", (0, t2.result)(this, "className")), this;
          }, n2;
        })(X);
        var Qf = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), th = function() {
          return th = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, th.apply(this, arguments);
        }, eh = (function(t3) {
          function e3(e4) {
            var n2 = t3.call(this, { model: e4, el: e4.get("el") }) || this;
            return n2.className = n2.pfx + "panel", n2.id = n2.pfx + e4.get("id"), n2.listenTo(e4, "change:appendContent", n2.appendContent), n2.listenTo(e4, "change:content", n2.updateContent), n2.listenTo(e4, "change:visible", n2.toggleVisible), e4.view = n2, n2;
          }
          return Qf(e3, t3), e3.prototype.appendContent = function() {
            this.$el.append(this.model.get("appendContent"));
          }, e3.prototype.updateContent = function() {
            this.$el.html(this.model.get("content"));
          }, e3.prototype.toggleVisible = function() {
            this.model.get("visible") ? this.$el.removeClass("".concat(this.ppfx, "hidden")) : this.$el.addClass("".concat(this.ppfx, "hidden"));
          }, e3.prototype.attributes = function() {
            return this.model.get("attributes");
          }, e3.prototype.initResize = function() {
            var t4 = this.em, e4 = null == t4 ? void 0 : t4.Editor, n2 = this.model.get("resizable");
            if (e4 && n2) {
              var o2 = true === n2 ? [true, true, true, true] : n2, r2 = o2.length, i2 = void 0, a2 = void 0, s2 = void 0, l2 = false;
              if (2 == r2) i2 = (c2 = o2)[0], s2 = c2[0], a2 = c2[1], l2 = c2[1];
              else if (4 == r2) {
                var c2;
                i2 = (c2 = o2)[0], a2 = c2[1], s2 = c2[2], l2 = c2[3];
              }
              var u2 = new e4.Utils.Resizer(th({ tc: i2, cr: a2, bc: s2, cl: l2, tl: false, tr: false, bl: false, br: false, appendTo: this.el, silentFrames: true, avoidContainerUpdate: true, prefix: e4.getConfig().stylePrefix, onEnd: function() {
                t4.Canvas.refresh({ all: true });
              }, posFetcher: function(t5, e5) {
                var n3 = e5.target, o3 = t5.style, r3 = u2.getConfig(), i3 = r3.keyWidth, a3 = r3.keyHeight, s3 = t5.getBoundingClientRect(), l3 = "container" == n3, c3 = o3[i3], p2 = o3[a3];
                return { left: 0, top: 0, width: c3 && !l3 ? parseFloat(c3) : s3.width, height: p2 && !l3 ? parseFloat(p2) : s3.height };
              } }, n2 && "boolean" != typeof n2 ? n2 : {}));
              u2.blur = function() {
              }, u2.focus(this.el);
            }
          }, e3.prototype.render = function() {
            var t4 = this.model.buttons, e4 = this.$el, n2 = this.ppfx, o2 = "".concat(this.className, " ").concat(this.id, " ").concat(n2, "one-bg ").concat(n2, "two-color");
            if (e4.addClass(o2), this.toggleVisible(), t4.length) {
              var r2 = new Zf(t4);
              e4.append(r2.render().el);
            }
            return e4.append(this.model.get("content")), this;
          }, e3;
        })(X);
        const nh = eh;
        var oh = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const rh = (function(t3) {
          function e3(e4) {
            var n2 = t3.call(this, { collection: e4 }) || this;
            return n2.listenTo(e4, "add", n2.addTo), n2.listenTo(e4, "reset", n2.render), n2.listenTo(e4, "remove", n2.onRemove), n2.className = n2.pfx + "panels", n2;
          }
          return oh(e3, t3), e3.prototype.onRemove = function(t4) {
            var e4 = t4.view;
            e4 && e4.remove();
          }, e3.prototype.addTo = function(t4) {
            this.addToCollection(t4);
          }, e3.prototype.addToCollection = function(t4, e4) {
            var n2 = e4 || null, o2 = t4.get("el"), r2 = new nh(t4), i2 = r2.render().el, a2 = t4.get("appendTo");
            if (o2) ;
            else if (a2) {
              var s2 = document.querySelector(a2);
              null == s2 || s2.appendChild(i2);
            } else n2 ? n2.appendChild(i2) : this.$el.append(i2);
            return r2.initResize(), i2;
          }, e3.prototype.render = function() {
            var t4 = this, e4 = this.$el, n2 = document.createDocumentFragment();
            return e4.empty(), this.collection.each((function(e5) {
              return t4.addToCollection(e5, n2);
            })), e4.append(n2), e4.attr("class", this.className), this;
          }, e3;
        })(X);
        var ih = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ah = (function(t3) {
          function e3(e4) {
            var n2 = t3.call(this, e4, "Panels", Nf()) || this;
            return n2.panels = new qf(n2, n2.config.defaults), n2;
          }
          return ih(e3, t3), e3.prototype.getPanels = function() {
            return this.panels;
          }, e3.prototype.getPanelsEl = function() {
            var t4;
            return null === (t4 = this.PanelsViewObj) || void 0 === t4 ? void 0 : t4.el;
          }, e3.prototype.addPanel = function(t4) {
            return this.panels.add(t4);
          }, e3.prototype.removePanel = function(t4) {
            return this.panels.remove(t4);
          }, e3.prototype.getPanel = function(t4) {
            var e4 = this.panels.where({ id: t4 });
            return e4.length ? e4[0] : null;
          }, e3.prototype.addButton = function(t4, e4) {
            var n2 = this.getPanel(t4);
            return n2 ? n2.buttons.add(e4) : null;
          }, e3.prototype.removeButton = function(t4, e4) {
            var n2 = this.getPanel(t4);
            return n2 && n2.buttons.remove(e4);
          }, e3.prototype.getButton = function(t4, e4) {
            var n2 = this.getPanel(t4);
            if (n2) {
              var o2 = n2.buttons.where({ id: e4 });
              return o2.length ? o2[0] : null;
            }
            return null;
          }, e3.prototype.render = function() {
            var t4;
            return null === (t4 = this.PanelsViewObj) || void 0 === t4 || t4.remove(), this.PanelsViewObj = new rh(this.panels), this.PanelsViewObj.render().el;
          }, e3.prototype.active = function() {
            this.getPanels().each((function(t4) {
              t4.buttons.each((function(t5) {
                t5.get("active") && t5.trigger("updateActive");
              }));
            }));
          }, e3.prototype.disableButtons = function() {
            this.getPanels().each((function(t4) {
              t4.buttons.each((function(t5) {
                t5.get("disable") && t5.trigger("change:disable");
              }));
            }));
          }, e3.prototype.destroy = function() {
            this.panels.reset(), this.panels.stopListening(), this.PanelsViewObj && this.PanelsViewObj.remove();
          }, e3;
        })(m);
        const sh = ah;
        const lh = function() {
          return { stylePrefix: "cm-", optsCodeViewer: {} };
        };
        var ch = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), uh = function(t3, e3) {
          var n2 = {};
          for (var o2 in t3) Object.prototype.hasOwnProperty.call(t3, o2) && e3.indexOf(o2) < 0 && (n2[o2] = t3[o2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o2 = Object.getOwnPropertySymbols(t3); r2 < o2.length; r2++) e3.indexOf(o2[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o2[r2]) && (n2[o2[r2]] = t3[o2[r2]]);
          }
          return n2;
        };
        const ph = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return ch(e3, t3), e3.prototype.build = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n2 = e4.em, o2 = uh(e4, ["em"]);
            if (e4.cleanId && n2) {
              var r2 = n2.Css.getAll().toJSON().map((function(t5) {
                var e5 = t5.selectors, n3 = e5 && 1 === e5.length && e5.models[0];
                return n3 && n3.isId() && n3.get("name");
              })).filter(Boolean);
              o2.attributes || (o2.attributes = function(t5, e5) {
                var n3 = e5.id;
                return n3 && "i" === n3[0] && !t5.get("script") && !t5.get("script-export") && !t5.get("attributes").id && r2.indexOf(n3) < 0 && delete e5.id, e5;
              });
            }
            return t4.toHTML(o2);
          }, e3;
        })(u.Kx);
        var dh = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), fh = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return dh(n2, e3), n2.prototype.build = function(e4) {
            var n3 = this, o2 = e4.toJSON();
            return this.beforeEach(o2), (0, t2.each)(o2, (function(t3, e5) {
              var r2 = o2[e5];
              if (r2 instanceof u.Kx) o2[e5] = n3.build(r2);
              else if (r2 instanceof u.pM) {
                var i2 = r2;
                o2[e5] = [], i2.length && i2.forEach((function(t4, r3) {
                  o2[e5][r3] = n3.build(t4);
                }));
              }
            })), o2;
          }, n2.prototype.beforeEach = function(t3) {
            delete t3.status;
          }, n2;
        })(u.Kx);
        const hh = fh;
        var vh = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        function gh(t3) {
          var e3;
          return 0 === ((null === (e3 = t3.toString().match(/\{([\s\S]*)\}/m)) || void 0 === e3 ? void 0 : e3[1]) || "").replace(/^\s*\/\/.*$/gm, "").trim().length;
        }
        var yh = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return vh(n2, e3), n2.prototype.mapModel = function(e4) {
            var n3, o2 = this, r2 = "", i2 = e4.get("script-export") || e4.get("script"), a2 = e4.get("type"), s2 = e4.get("components"), l2 = e4.getId();
            if (i2) {
              var c2 = e4.get("attributes");
              c2 = (0, t2.extend)({}, c2, { id: l2 }), e4.set("attributes", c2, { silent: true });
              var u2 = e4.getScriptString(i2), p2 = e4.get("script-props");
              if (e4.get("scriptUpdated") && !p2) this.mapJs[a2 + "-" + l2] = { ids: [l2], code: u2 };
              else {
                var d2 = void 0, f2 = this.mapJs[a2];
                if (p2 && (d2 = e4.__getScriptProps()), f2) f2.ids.push(l2), d2 && (f2.props[l2] = d2);
                else {
                  var h2 = { ids: [l2], code: u2 };
                  d2 && (h2.props = ((n3 = {})[l2] = d2, n3)), this.mapJs[a2] = h2;
                }
              }
            }
            return s2.forEach((function(t3) {
              r2 += o2.mapModel(t3);
            })), r2;
          }, n2.prototype.build = function(t3) {
            this.mapJs = {}, this.mapModel(t3);
            var e4 = "";
            for (var n3 in this.mapJs) {
              var o2 = this.mapJs[n3];
              if (o2.code) if (o2.props) {
                if (gh(o2.code)) continue;
                e4 += "\n          var props = ".concat(JSON.stringify(o2.props), ";\n          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');\n          var els = document.querySelectorAll(ids);\n          for (var i = 0, len = els.length; i < len; i++) {\n            var el = els[i];\n            (").concat(o2.code, ".bind(el))(props[el.id]);\n          }");
              } else {
                var r2 = "#" + o2.ids.join(", #");
                e4 += "\n          var items = document.querySelectorAll('".concat(r2, "');\n          for (var i = 0, len = items.length; i < len; i++) {\n            (function(){\n").concat(o2.code, "\n}.bind(items[i]))();\n          }");
              }
            }
            return e4;
          }, n2;
        })(u.Kx);
        const mh = yh;
        var bh, _h = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), wh = function() {
          return wh = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, wh.apply(this, arguments);
        };
        (0, e2.hasWin)() && (bh = n(4408), n(8253), n(7389), n(3640));
        var xh = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return _h(n2, e3), n2.prototype.defaults = function() {
            return { input: "", label: "", codeName: "", theme: "hopscotch", readOnly: true, lineNumbers: true, autoFormat: true };
          }, n2.prototype.init = function(e4) {
            return (0, t2.bindAll)(this, "onChange"), this.editor = bh.fromTextArea(e4, wh({ dragDrop: false, lineWrapping: true, mode: this.get("codeName") }, this.attributes)), this.element = e4, this.editor.on("change", this.onChange), this;
          }, n2.prototype.onChange = function() {
            this.trigger("update", this);
          }, n2.prototype.getEditor = function() {
            return this.editor;
          }, n2.prototype.getElement = function() {
            return this.element;
          }, n2.prototype.setElement = function(t3) {
            return this.element = t3, this;
          }, n2.prototype.refresh = function() {
            return this.getEditor().refresh(), this;
          }, n2.prototype.focus = function() {
            return this.getEditor().focus(), this;
          }, n2.prototype.getContent = function() {
            var t3 = this.getEditor();
            return t3 && t3.getValue();
          }, n2.prototype.setContent = function(t3, e4) {
            var n3 = this;
            void 0 === e4 && (e4 = {});
            var o2 = this.editor;
            if (o2) {
              o2.setValue(t3);
              var r2 = this.get("autoFormat");
              o2.autoFormatRange && (true === r2 || Array.isArray(r2) && r2.includes(this.get("codeName"))) && (bh.commands.selectAll(o2), o2.autoFormatRange(o2.getCursor(true), o2.getCursor(false)), bh.commands.goDocStart(o2)), !e4.noRefresh && setTimeout((function() {
                return n3.refresh();
              }));
            }
          }, n2;
        })(u.Kx);
        const Ch = xh;
        xh.prototype.CodeMirror = bh;
        var Sh = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Oh = function(t3, e3) {
          return Object.defineProperty ? Object.defineProperty(t3, "raw", { value: e3 }) : t3.raw = e3, t3;
        }, Th = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Sh(e3, t3), e3.prototype.template = function(t4) {
            var e4 = t4.pfx, n2 = t4.codeName, o2 = t4.label;
            return r(Eh || (Eh = Oh(['\n      <div class="', 'editor" id="', "", '">\n        <div id="', 'title">', '</div>\n        <div id="', 'code"></div>\n      </div>\n    '], ['\n      <div class="', 'editor" id="', "", '">\n        <div id="', 'title">', '</div>\n        <div id="', 'code"></div>\n      </div>\n    '])), e4, e4, n2, e4, o2, e4);
          }, e3.prototype.initialize = function(t4) {
            this.config = t4.config || {}, this.pfx = this.config.stylePrefix;
          }, e3.prototype.render = function() {
            var t4, e4, n2 = this, o2 = n2.model, r2 = n2.pfx, i2 = n2.$el, a2 = o2.toJSON(), s2 = o2.get("input") || (null === (e4 = (t4 = o2).getElement) || void 0 === e4 ? void 0 : e4.call(t4));
            return a2.pfx = r2, i2.html(this.template(a2)), i2.attr("class", "".concat(r2, "editor-c")), i2.find("#".concat(r2, "code")).append(s2), this;
          }, e3;
        })(u.Ss);
        const Ph = Th;
        var Eh, kh = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ah = function() {
          return Ah = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ah.apply(this, arguments);
        }, jh = "CodeMirror", Mh = (function(e3) {
          function n2(t3) {
            var n3 = e3.call(this, t3, "CodeManager", lh()) || this;
            n3.EditorView = Ph;
            var o2 = n3.config, r2 = o2.pStylePrefix;
            return r2 && (o2.stylePrefix = r2 + o2.stylePrefix), n3.generators = {}, n3.viewers = {}, n3.defGenerators = { html: new ph(), css: new za(), json: new hh(), js: new mh() }, n3.defViewers = { CodeMirror: new Ch() }, n3.loadDefaultGenerators().loadDefaultViewers(), n3;
          }
          return kh(n2, e3), n2.prototype.addGenerator = function(t3, e4) {
            return this.generators[t3] = e4, this;
          }, n2.prototype.getGenerator = function(t3) {
            return this.generators[t3];
          }, n2.prototype.getGenerators = function() {
            return this.generators;
          }, n2.prototype.addViewer = function(t3, e4) {
            return this.viewers[t3] = e4, this;
          }, n2.prototype.getViewer = function(t3) {
            return this.viewers[t3];
          }, n2.prototype.getViewers = function() {
            return this.viewers;
          }, n2.prototype.createViewer = function(e4) {
            void 0 === e4 && (e4 = {});
            var n3 = (0, t2.isUndefined)(e4.type) ? jh : e4.type, o2 = this.getViewer(n3) && this.getViewer(n3).clone(), r2 = document.createElement("div"), i2 = document.createElement("textarea");
            return r2.appendChild(i2), o2.set(Ah(Ah({}, this.config.optsCodeViewer), e4)), o2.init(i2), o2.setElement(r2), o2;
          }, n2.prototype.updateViewer = function(t3, e4) {
            t3.setContent(e4);
          }, n2.prototype.getCode = function(t3, e4, n3) {
            void 0 === n3 && (n3 = {}), n3.em = this.em;
            var o2 = this.getGenerator(e4);
            return o2 ? o2.build(t3, n3) : "";
          }, n2.prototype.loadDefaultGenerators = function() {
            for (var t3 in this.defGenerators) this.addGenerator(t3, this.defGenerators[t3]);
            return this;
          }, n2.prototype.loadDefaultViewers = function() {
            for (var t3 in this.defViewers) this.addViewer(t3, this.defViewers[t3]);
            return this;
          }, n2.prototype.destroy = function() {
          }, n2;
        })(m);
        const Dh = Mh;
        var Lh = n(4729), Ih = n.n(Lh);
        const Nh = function() {
          return { maximumStackLength: 500, trackSelection: true };
        };
        var Rh;
        !(function(t3) {
          t3["update"] = "update", t3["undo"] = "undo", t3["redo"] = "redo", t3["load"] = "load", t3["projectLoad"] = "project:load", t3["projectLoaded"] = "project:loaded", t3["projectGet"] = "project:get", t3["log"] = "log", t3["telemetryInit"] = "telemetry:init", t3["destroy"] = "destroy", t3["destroyed"] = "destroyed";
        })(Rh || (Rh = {}));
        var Vh = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Fh = function() {
          return Fh = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Fh.apply(this, arguments);
        }, Hh = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Uh = function(t3) {
          return t3.avoidStore || t3.noUndo || t3.partial;
        }, zh = function(t3) {
          return Object.keys(t3.changedAttributes());
        }, Bh = /* @__PURE__ */ new WeakMap(), Wh = (function(e3) {
          function n2(n3) {
            var o2 = e3.call(this, n3, "UndoManager", Nh()) || this;
            o2.config._disable && (o2.config.maximumStackLength = 0);
            var r2 = true;
            return o2.um = new (Ih())(Fh({ track: true, register: [] }, o2.config)), o2.um.changeUndoType("change", { condition: function(e4) {
              var n4 = e4.get("_undo");
              if (n4) {
                var o3 = e4.get("_undoexc");
                if ((0, t2.isArray)(o3) && zh(e4).some((function(t3) {
                  return o3.indexOf(t3) >= 0;
                }))) return false;
                if ((0, t2.isBoolean)(n4)) return true;
                if ((0, t2.isArray)(n4) && zh(e4).some((function(t3) {
                  return n4.indexOf(t3) >= 0;
                }))) return true;
              }
              return false;
            }, on: function(e4, n4, o3) {
              var i2 = Bh.get(e4);
              i2 || (i2 = e4.previousAttributes(), Bh.set(e4, i2));
              var a2 = o3 || n4 || {};
              if (a2.noUndo && setTimeout((function() {
                Bh.delete(e4);
              })), !Uh(a2)) {
                var s2 = e4.toJSON({ fromUndo: r2 }), l2 = { object: e4, before: i2, after: s2 };
                if (Bh.delete(e4), !(0, t2.isEmpty)(s2)) return l2;
              }
            } }), o2.um.changeUndoType("add", { on: function(t3, e4, n4) {
              if (void 0 === n4 && (n4 = {}), !Uh(n4) && o2.isRegistered(e4)) return { object: e4, before: void 0, after: t3, options: Fh(Fh({}, n4), { fromUndo: r2 }) };
            } }), o2.um.changeUndoType("remove", { on: function(t3, e4, n4) {
              if (void 0 === n4 && (n4 = {}), !Uh(n4) && o2.isRegistered(e4)) return { object: e4, before: t3, after: void 0, options: Fh(Fh({}, n4), { fromUndo: r2 }) };
            } }), o2.um.changeUndoType("reset", { undo: function(t3, e4) {
              t3.reset(e4, { fromUndo: r2 });
            }, redo: function(t3, e4, n4) {
              t3.reset(n4, { fromUndo: r2 });
            }, on: function(t3, e4) {
              if (void 0 === e4 && (e4 = {}), !Uh(e4) && o2.isRegistered(t3)) return { object: t3, before: e4.previousModels, after: Hh([], t3.models, true), options: Fh(Fh({}, e4), { fromUndo: r2 }) };
            } }), o2.um.on("undo redo", (function() {
              n3.getSelectedAll().map((function(t3) {
                return t3.trigger("rerender:layer");
              }));
            })), [Rh.undo, Rh.redo].forEach((function(t3) {
              return o2.um.on(t3, (function() {
                return n3.trigger(t3);
              }));
            })), o2;
          }
          return Vh(n2, e3), n2.prototype.postLoad = function() {
            var t3 = this.config, e4 = this.em;
            t3.trackSelection && e4 && this.add(e4.get("selected"));
          }, n2.prototype.add = function(t3) {
            return this.um.register(t3), this;
          }, n2.prototype.remove = function(t3) {
            return this.um.unregister(t3), this;
          }, n2.prototype.removeAll = function() {
            return this.um.unregisterAll(), this;
          }, n2.prototype.start = function() {
            return this.um.startTracking(), this;
          }, n2.prototype.stop = function() {
            return this.um.stopTracking(), this;
          }, n2.prototype.undo = function(t3) {
            void 0 === t3 && (t3 = true);
            var e4 = this.em, n3 = this.um;
            return !e4.isEditing() && n3.undo(t3), this;
          }, n2.prototype.undoAll = function() {
            return this.um.undoAll(), this;
          }, n2.prototype.redo = function(t3) {
            void 0 === t3 && (t3 = true);
            var e4 = this.em, n3 = this.um;
            return !e4.isEditing() && n3.redo(t3), this;
          }, n2.prototype.redoAll = function() {
            return this.um.redoAll(), this;
          }, n2.prototype.hasUndo = function() {
            return !!this.um.isAvailable("undo");
          }, n2.prototype.hasRedo = function() {
            return !!this.um.isAvailable("redo");
          }, n2.prototype.isRegistered = function(t3) {
            return !!this.getInstance().objectRegistry.isRegistered(t3);
          }, n2.prototype.getStack = function() {
            return this.um.stack;
          }, n2.prototype.getStackGroup = function() {
            var t3 = [], e4 = [];
            return this.getStack().forEach((function(n3) {
              var o2 = n3.get("magicFusionIndex");
              e4.indexOf(o2) < 0 && (e4.push(o2), t3.push(n3));
            })), t3;
          }, n2.prototype.skip = function(t3) {
            var e4 = !!this.um.isTracking();
            e4 && this.stop(), t3(), e4 && this.start();
          }, n2.prototype.getGroupedStack = function() {
            var e4 = {}, n3 = this.getStack();
            return n3.forEach((function(t3, n4) {
              var o2 = t3.get("magicFusionIndex"), r2 = (function(t4, e5) {
                var n5 = t4.attributes, o3 = n5.type, r3 = n5.after, i2 = n5.before, a2 = n5.object, s2 = n5.options;
                return { index: e5, type: o3, after: r3, before: i2, object: a2, options: void 0 === s2 ? {} : s2 };
              })(t3, n4);
              e4[o2] ? e4[o2].push(r2) : e4[o2] = [r2];
            })), Object.keys(e4).map((function(n4) {
              var o2 = e4[n4];
              return { index: o2[o2.length - 1].index, actions: o2, labels: (0, t2.unique)(o2.reduce((function(t3, e5) {
                var n5, o3 = null === (n5 = e5.options) || void 0 === n5 ? void 0 : n5.action;
                return o3 && t3.push(o3), t3;
              }), [])) };
            }));
          }, n2.prototype.goToGroup = function(e4) {
            var n3 = this;
            if (e4) {
              var o2 = this.getPointer(), r2 = e4.index - o2;
              (0, t2.times)(Math.abs(r2), (function() {
                n3[r2 < 0 ? "undo" : "redo"](false);
              }));
            }
          }, n2.prototype.getPointer = function() {
            return this.getStack().pointer;
          }, n2.prototype.clear = function() {
            return this.um.clear(), this;
          }, n2.prototype.getInstance = function() {
            return this.um;
          }, n2.prototype.destroy = function() {
            this.clear().removeAll();
          }, n2;
        })(m);
        const $h = Wh;
        const qh = function() {
          return { stylePrefix: "rte-", adjustToolbar: true, actions: ["bold", "italic", "underline", "strikethrough", "link", "wrap"], custom: false };
        };
        var Gh, Kh = function() {
          return Kh = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Kh.apply(this, arguments);
        };
        !(function(t3) {
          t3[t3["ACTIVE"] = 1] = "ACTIVE", t3[t3["INACTIVE"] = 0] = "INACTIVE", t3[t3["DISABLED"] = -1] = "DISABLED";
        })(Gh || (Gh = {}));
        var Yh = "_rte", Jh = 1, Xh = 0, Zh = -1, Qh = function(t3, e3) {
          void 0 === e3 && (e3 = "A");
          var n2 = t3.selection() || {}, o2 = n2.anchorNode, r2 = n2.focusNode, i2 = null == o2 ? void 0 : o2.parentNode, a2 = null == r2 ? void 0 : r2.parentNode;
          return (null == i2 ? void 0 : i2.nodeName) == e3 || (null == a2 ? void 0 : a2.nodeName) == e3;
        }, tv = "data-selectme", ev = { bold: { name: "bold", icon: "<b>B</b>", attributes: { title: "Bold" }, result: function(t3) {
          return t3.exec("bold");
        } }, italic: { name: "italic", icon: "<i>I</i>", attributes: { title: "Italic" }, result: function(t3) {
          return t3.exec("italic");
        } }, underline: { name: "underline", icon: "<u>U</u>", attributes: { title: "Underline" }, result: function(t3) {
          return t3.exec("underline");
        } }, strikethrough: { name: "strikethrough", icon: "<s>S</s>", attributes: { title: "Strike-through" }, result: function(t3) {
          return t3.exec("strikeThrough");
        } }, link: { icon: '<svg viewBox="0 0 24 24">\n          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />\n        </svg>', name: "link", attributes: { style: "font-size:1.4rem;padding:0 4px 2px;", title: "Link" }, state: function(t3) {
          return t3 && t3.selection() && Qh(t3) ? Jh : Xh;
        }, result: function(t3) {
          Qh(t3) ? t3.exec("unlink") : t3.insertHTML('<a href="" '.concat(tv, ">").concat(t3.selection(), "</a>"), { select: true });
        } }, wrap: { name: "wrap", icon: '<svg viewBox="0 0 24 24">\n            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />\n        </svg>', attributes: { title: "Wrap for style" }, state: function(t3) {
          return (null == t3 ? void 0 : t3.selection()) && Qh(t3, "SPAN") ? Zh : Xh;
        }, result: function(t3) {
          !Qh(t3, "SPAN") && t3.insertHTML("<span ".concat(tv, ">").concat(t3.selection(), "</span>"), { select: true });
        } } }, nv = (function() {
          function n2(e3, n3, o2) {
            void 0 === o2 && (o2 = {});
            var r2 = this;
            if (this.em = e3, this.settings = o2, n3[Yh]) return n3[Yh];
            n3[Yh] = this, this.setEl(n3), this.updateActiveActions = this.updateActiveActions.bind(this), this.__onKeydown = this.__onKeydown.bind(this), this.__onPaste = this.__onPaste.bind(this);
            var i2 = (o2.actions || []).map((function(e4) {
              var n4 = e4;
              return (0, t2.isString)(e4) ? n4 = Kh({}, ev[e4]) : ev[e4.name] && (n4 = Kh(Kh({}, ev[e4.name]), e4)), n4;
            })), a2 = i2.length ? i2 : Object.keys(ev).map((function(t3) {
              return ev[t3];
            }));
            o2.classes = Kh({ actionbar: "actionbar", button: "action", active: "active", disabled: "disabled", inactive: "inactive" }, o2.classes);
            var s2 = o2.classes, l2 = o2.actionbar;
            if (this.actionbar = l2, this.classes = s2, this.actions = a2, !l2) {
              if (!this.isCustom(o2.module)) {
                var c2 = o2.actionbarContainer;
                (l2 = document.createElement("div")).className = s2.actionbar, null == c2 || c2.appendChild(l2), this.actionbar = l2;
              }
              a2.forEach((function(t3) {
                return r2.addAction(t3);
              }));
            }
            return o2.styleWithCSS && this.exec("styleWithCSS"), this;
          }
          return n2.prototype.isCustom = function(t3) {
            var e3 = t3 || this.em.RichTextEditor;
            return !(!(null == e3 ? void 0 : e3.config.custom) && !(null == e3 ? void 0 : e3.customRte));
          }, n2.prototype.destroy = function() {
          }, n2.prototype.setEl = function(t3) {
            this.el = t3, this.doc = t3.ownerDocument;
          }, n2.prototype.updateActiveActions = function() {
            var t3 = this, e3 = this.getActions();
            e3.forEach((function(e4) {
              var n3 = e4.update, o2 = e4.btn, r2 = t3.classes, i2 = r2.active, a2 = r2.inactive, s2 = r2.disabled, l2 = e4.state, c2 = e4.name, u2 = t3.doc, p2 = Gh.INACTIVE;
              if (o2 && (o2.className = o2.className.replace(i2, "").trim(), o2.className = o2.className.replace(a2, "").trim(), o2.className = o2.className.replace(s2, "").trim()), l2) {
                var d2 = l2(t3, u2);
                if (p2 = d2, o2) switch (d2) {
                  case Jh:
                    o2.className += " ".concat(i2);
                    break;
                  case Xh:
                    o2.className += " ".concat(a2);
                    break;
                  case Zh:
                    o2.className += " ".concat(s2);
                }
              } else u2.queryCommandSupported(c2) && u2.queryCommandState(c2) && (o2 && (o2.className += " ".concat(i2)), p2 = Gh.ACTIVE);
              e4.currentState = p2, null == n3 || n3(t3, e4);
            })), e3.length && this.em.RichTextEditor.__dbdTrgCustom();
          }, n2.prototype.enable = function(t3) {
            return this.enabled ? this : this.__toggleEffects(true, t3);
          }, n2.prototype.disable = function() {
            return this.__toggleEffects(false);
          }, n2.prototype.__toggleEffects = function(t3, e3) {
            void 0 === t3 && (t3 = false), void 0 === e3 && (e3 = {});
            var n3 = t3 ? Z.on : Z.AU, o2 = this.el, r2 = this.doc, i2 = this.actionbarEl();
            if (i2 && (i2.style.display = t3 ? "" : "none"), o2.contentEditable = "".concat(!!t3), n3(o2, "mouseup keyup", this.updateActiveActions), n3(r2, "keydown", this.__onKeydown), n3(r2, "paste", this.__onPaste), this.enabled = t3, t3) {
              var a2 = e3.event;
              if (this.syncActions(), this.updateActiveActions(), a2) {
                var s2 = null;
                if (r2.caretRangeFromPoint) {
                  var l2 = (0, Z.G2)(a2);
                  s2 = r2.caretRangeFromPoint(l2.clientX, l2.clientY);
                } else a2.rangeParent && (s2 = r2.createRange()).setStart(a2.rangeParent, a2.rangeOffset);
                var c2 = r2.getSelection();
                null == c2 || c2.removeAllRanges(), s2 && (null == c2 || c2.addRange(s2));
              }
              o2.focus();
            }
            return this;
          }, n2.prototype.__onKeydown = function(t3) {
            var e3 = this.em, n3 = e3.RichTextEditor.getConfig().onKeydown;
            if (n3) return n3({ ev: t3, rte: this, editor: e3.getEditor() });
            var o2 = this.doc;
            "Enter" !== t3.key || ["insertOrderedList", "insertUnorderedList"].some((function(t4) {
              return o2.queryCommandState(t4);
            })) || (o2.execCommand("insertLineBreak"), t3.preventDefault());
          }, n2.prototype.__onPaste = function(t3) {
            var e3 = this.em, n3 = e3.RichTextEditor.getConfig().onPaste;
            if (n3) return n3({ ev: t3, rte: this, editor: e3.getEditor() });
            var o2 = t3.clipboardData, r2 = o2.getData("text"), i2 = o2.getData("text/html");
            if (r2 && !i2) {
              t3.preventDefault();
              var a2 = r2.replace(/(?:\r\n|\r|\n)/g, "<br/>");
              this.doc.execCommand("insertHTML", false, a2);
            }
          }, n2.prototype.syncActions = function() {
            var t3 = this;
            this.getActions().forEach((function(e3) {
              if (t3.actionbar && (!e3.state || e3.state && e3.state(t3, t3.doc) >= 0)) {
                var n3 = e3.event || "click", o2 = e3.btn;
                o2 && (o2["on".concat(n3)] = function() {
                  e3.result(t3, e3), t3.updateActiveActions();
                });
              }
            }));
          }, n2.prototype.addAction = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = e3.sync, o2 = this.actionbarEl();
            if (o2) {
              var r2 = t3.icon, i2 = t3.attributes, a2 = void 0 === i2 ? {} : i2, s2 = document.createElement("span");
              for (var l2 in s2.className = this.classes.button, t3.btn = s2, a2) s2.setAttribute(l2, a2[l2]);
              "string" == typeof r2 ? s2.innerHTML = r2 : s2.appendChild(r2), o2.appendChild(s2);
            }
            n3 && (this.actions.push(t3), this.syncActions());
          }, n2.prototype.getActions = function() {
            return this.actions;
          }, n2.prototype.selection = function() {
            return this.doc.getSelection();
          }, n2.prototype.exec = function(t3, e3) {
            this.doc.execCommand(t3, false, e3);
          }, n2.prototype.actionbarEl = function() {
            return this.actionbar;
          }, n2.prototype.insertHTML = function(n3, o2) {
            var r2 = (void 0 === o2 ? {} : o2).select, i2 = this, a2 = i2.em, s2 = i2.doc, l2 = i2.el, c2 = s2.getSelection();
            if (c2 && c2.rangeCount) {
              var u2 = (0, e2.getComponentModel)(l2) || a2.getSelected(), p2 = s2.createElement("div"), d2 = c2.getRangeAt(0);
              d2.deleteContents(), (0, t2.isString)(n3) ? p2.innerHTML = n3 : n3 && p2.appendChild(n3), Array.prototype.slice.call(p2.childNodes).forEach((function(t3) {
                d2.insertNode(t3);
              })), c2.removeAllRanges(), c2.addRange(d2), l2.focus(), r2 && u2 && (u2.once("rte:disable", (function() {
                var t3 = u2.find("[".concat(tv, "]"))[0];
                t3 && (a2.setSelected(t3), t3.removeAttributes(tv));
              })), u2.trigger("disable"));
            }
          }, n2;
        })();
        const ov = nv;
        var rv = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), iv = function() {
          return iv = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, iv.apply(this, arguments);
        }, av = function(t3, e3, n2, o2) {
          return new (n2 || (n2 = Promise))((function(r2, i2) {
            function a2(t4) {
              try {
                l2(o2.next(t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function s2(t4) {
              try {
                l2(o2["throw"](t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function l2(t4) {
              var e4;
              t4.done ? r2(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2((function(t5) {
                t5(e4);
              }))).then(a2, s2);
            }
            l2((o2 = o2.apply(t3, e3 || [])).next());
          }));
        }, sv = function(t3, e3) {
          var n2, o2, r2, i2, a2 = { label: 0, sent: function() {
            if (1 & r2[0]) throw r2[1];
            return r2[1];
          }, trys: [], ops: [] };
          return i2 = { next: s2(0), throw: s2(1), return: s2(2) }, "function" == typeof Symbol && (i2[Symbol.iterator] = function() {
            return this;
          }), i2;
          function s2(s3) {
            return function(l2) {
              return (function(s4) {
                if (n2) throw new TypeError("Generator is already executing.");
                for (; i2 && (i2 = 0, s4[0] && (a2 = 0)), a2; ) try {
                  if (n2 = 1, o2 && (r2 = 2 & s4[0] ? o2["return"] : s4[0] ? o2["throw"] || ((r2 = o2["return"]) && r2.call(o2), 0) : o2.next) && !(r2 = r2.call(o2, s4[1])).done) return r2;
                  switch (o2 = 0, r2 && (s4 = [2 & s4[0], r2.value]), s4[0]) {
                    case 0:
                    case 1:
                      r2 = s4;
                      break;
                    case 4:
                      return a2.label++, { value: s4[1], done: false };
                    case 5:
                      a2.label++, o2 = s4[1], s4 = [0];
                      continue;
                    case 7:
                      s4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(r2 = a2.trys, (r2 = r2.length > 0 && r2[r2.length - 1]) || 6 !== s4[0] && 2 !== s4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === s4[0] && (!r2 || s4[1] > r2[0] && s4[1] < r2[3])) {
                        a2.label = s4[1];
                        break;
                      }
                      if (6 === s4[0] && a2.label < r2[1]) {
                        a2.label = r2[1], r2 = s4;
                        break;
                      }
                      if (r2 && a2.label < r2[2]) {
                        a2.label = r2[2], a2.ops.push(s4);
                        break;
                      }
                      r2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  s4 = e3.call(t3, a2);
                } catch (t4) {
                  s4 = [6, t4], o2 = 0;
                } finally {
                  n2 = r2 = 0;
                }
                if (5 & s4[0]) throw s4[1];
                return { value: s4[0] ? s4[1] : void 0, done: true };
              })([s3, l2]);
            };
          }
        }, lv = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, cv = "".concat(A.refresh, " frame:scroll ").concat($.I.update), uv = { enable: "rte:enable", disable: "rte:disable", custom: "rte:custom" }, pv = (function(n2) {
          function o2(e3) {
            var o3 = n2.call(this, e3, "RichTextEditor", qh()) || this;
            o3.events = uv;
            var r2 = o3.config, i2 = r2.pStylePrefix;
            i2 && (r2.stylePrefix = i2 + r2.stylePrefix), o3.pfx = r2.stylePrefix, o3.actions = r2.actions || [];
            var a2 = new u.Kx();
            return o3.model = a2, a2.on("change:currentView", o3.__trgCustom, o3), o3.__dbdTrgCustom = (0, t2.debounce)((function() {
              return o3.__trgCustom();
            }), 0), o3;
          }
          return rv(o2, n2), o2.prototype.onLoad = function() {
            if ((0, e2.hasWin)()) {
              var t3 = this.config, n3 = t3.pStylePrefix, o3 = t3.custom, r2 = (0, Z.a_)("div", { class: (0, Z.cx)("".concat(n3, "rte-toolbar"), !o3 && "".concat(n3, "one-bg ").concat(n3, "rte-toolbar-ui")) });
              this.toolbar = r2, this.initRte((0, Z.a_)("div")), (0, Z.on)(r2, "mousedown", (function(t4) {
                return t4.stopPropagation();
              }));
            }
          }, o2.prototype.__trgCustom = function() {
            var t3 = this, e3 = t3.model, n3 = t3.em, o3 = t3.events;
            n3.trigger(o3.custom, { enabled: !!e3.get("currentView"), container: this.getToolbarEl(), actions: this.getAll() });
          }, o2.prototype.destroy = function() {
            var t3, e3, n3;
            null === (t3 = this.globalRte) || void 0 === t3 || t3.destroy(), null === (n3 = null === (e3 = this.customRte) || void 0 === e3 ? void 0 : e3.destroy) || void 0 === n3 || n3.call(e3), this.model.stopListening().clear({ silent: true }), this.__dbdTrgCustom.cancel(), (0, Z.YZ)(this.toolbar);
          }, o2.prototype.postRender = function(t3) {
            var e3 = t3.model.get("Canvas");
            this.toolbar.style.pointerEvents = "all", this.hideToolbar(), e3.getToolsEl().appendChild(this.toolbar);
          }, o2.prototype.initRte = function(t3) {
            var e3 = this.globalRte, n3 = this, o3 = n3.em, r2 = n3.pfx, i2 = n3.actionbar, a2 = n3.config, s2 = this.actions || lv([], a2.actions, true), l2 = { actionbar: "".concat(r2, "actionbar"), button: "".concat(r2, "action"), active: "".concat(r2, "active"), inactive: "".concat(r2, "inactive"), disabled: "".concat(r2, "disabled") };
            return e3 ? (e3.em = o3, e3.setEl(t3)) : (e3 = new ov(o3, t3, { classes: l2, actions: s2, actionbar: i2, actionbarContainer: this.toolbar, module: this }), this.globalRte = e3), e3.actionbar && (this.actionbar = e3.actionbar), e3.actions && (this.actions = e3.actions), e3;
          }, o2.prototype.add = function(t3, e3) {
            var n3;
            void 0 === e3 && (e3 = {}), e3.name = t3, null === (n3 = this.globalRte) || void 0 === n3 || n3.addAction(e3, { sync: true });
          }, o2.prototype.get = function(t3) {
            var e3, n3;
            return null === (e3 = this.globalRte) || void 0 === e3 || e3.getActions().forEach((function(e4) {
              e4.name == t3 && (n3 = e4);
            })), n3;
          }, o2.prototype.getAll = function() {
            var t3;
            return (null === (t3 = this.globalRte) || void 0 === t3 ? void 0 : t3.getActions()) || [];
          }, o2.prototype.remove = function(t3) {
            var e3, n3 = this.getAll(), o3 = this.get(t3);
            if (o3) {
              var r2 = o3.btn, i2 = n3.indexOf(o3);
              null === (e3 = null == r2 ? void 0 : r2.parentNode) || void 0 === e3 || e3.removeChild(r2), n3.splice(i2, 1);
            }
            return o3;
          }, o2.prototype.run = function(e3) {
            var n3 = this.globalRte, o3 = (0, t2.isString)(e3) ? this.get(e3) : e3;
            n3 && o3 && (o3.result(n3, o3), n3.updateActiveActions());
          }, o2.prototype.getToolbarEl = function() {
            return this.toolbar;
          }, o2.prototype.updatePosition = function() {
            var n3 = this.em, o3 = this.toolbar, r2 = "px", i2 = n3.Canvas, a2 = o3.style, s2 = i2.getTargetToElementFixed(this.lastEl, o3, { event: "rteToolbarPosUpdate", left: 0 });
            ["top", "left", "bottom", "right"].forEach((function(n4) {
              var o4 = s2[n4];
              (0, e2.isDef)(o4) && (a2[n4] = (0, t2.isString)(o4) ? o4 : (o4 || 0) + r2);
            }));
          }, o2.prototype.enable = function(t3, e3, n3) {
            return av(this, void 0, void 0, (function() {
              var o3, r2, i2, a2, s2;
              return sv(this, (function(l2) {
                switch (l2.label) {
                  case 0:
                    return this.lastEl = t3.el, r2 = (o3 = this).customRte, i2 = o3.em, a2 = t3.getChildrenContainer(), this.toolbar.style.display = "", [4, r2 ? r2.enable(a2, e3, n3) : this.initRte(a2).enable(n3)];
                  case 1:
                    return s2 = l2.sent(), i2 && (setTimeout(this.updatePosition.bind(this), 0), i2.off(cv, this.updatePosition, this), i2.on(cv, this.updatePosition, this), i2.trigger("rte:enable", t3, s2)), this.model.set({ currentView: t3 }), [2, s2];
                }
              }));
            }));
          }, o2.prototype.getContent = function(e3, n3) {
            return av(this, void 0, void 0, (function() {
              var o3, r2;
              return sv(this, (function(i2) {
                switch (i2.label) {
                  case 0:
                    return o3 = this.customRte, r2 = e3.getChildrenContainer(), o3 && n3 && (0, t2.isFunction)(o3.getContent) ? [4, o3.getContent(r2, n3, { view: e3 })] : [3, 2];
                  case 1:
                    return [2, i2.sent()];
                  case 2:
                    return [2, r2.innerHTML];
                }
              }));
            }));
          }, o2.prototype.hideToolbar = function() {
            var t3 = this.toolbar.style, e3 = "-1000px";
            t3.top = e3, t3.left = e3, t3.display = "none";
          }, o2.prototype.disable = function(t3, e3) {
            return av(this, arguments, void 0, (function(t4, e4, n3) {
              var o3, r2, i2, a2;
              return void 0 === n3 && (n3 = {}), sv(this, (function(s2) {
                switch (s2.label) {
                  case 0:
                    return o3 = {}, r2 = this.em, (i2 = this.customRte) ? [4, i2.disable(t4.getChildrenContainer(), e4, iv(iv({}, n3), { view: t4 }))] : [3, 2];
                  case 1:
                    return (a2 = s2.sent()) && (o3 = a2), [3, 3];
                  case 2:
                    e4 && e4.disable(), s2.label = 3;
                  case 3:
                    return this.hideToolbar(), r2 && (r2.off(cv, this.updatePosition, this), !n3.fromMove && r2.trigger("rte:disable", t4, e4)), this.model.unset("currentView"), [2, o3];
                }
              }));
            }));
          }, o2;
        })(m);
        const dv = pv;
        const fv = function() {
          return { sectors: [{ name: "General", open: false, properties: ["display", "float", "position", "top", "right", "left", "bottom"] }, { name: "Flex", open: false, properties: ["flex-direction", "flex-wrap", "justify-content", "align-items", "align-content", "order", "flex-basis", "flex-grow", "flex-shrink", "align-self"] }, { name: "Dimension", open: false, properties: ["width", "height", "max-width", "min-height", "margin", "padding"] }, { name: "Typography", open: false, properties: ["font-family", "font-size", "font-weight", "letter-spacing", "color", "line-height", "text-align", "text-shadow"] }, { name: "Decorations", open: false, properties: ["background-color", "border-radius", "border", "box-shadow", "background"] }, { name: "Extra", open: false, properties: ["opacity", "transition", "transform"] }], appendTo: "", stylePrefix: "sm-", custom: false, hideNotStylable: true, highlightChanged: true, highlightComputed: true, showComputed: true, clearProperties: true, avoidComputed: ["width", "height"] };
        };
        var hv = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), vv = function() {
          return vv = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, vv.apply(this, arguments);
        }, gv = function(t3, e3) {
          var n2 = {};
          for (var o2 in t3) Object.prototype.hasOwnProperty.call(t3, o2) && e3.indexOf(o2) < 0 && (n2[o2] = t3[o2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o2 = Object.getOwnPropertySymbols(t3); r2 < o2.length; r2++) e3.indexOf(o2[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o2[r2]) && (n2[o2[r2]] = t3[o2[r2]]);
          }
          return n2;
        }, yv = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, mv = (function(n2) {
          function o2() {
            return null !== n2 && n2.apply(this, arguments) || this;
          }
          return hv(o2, n2), o2.getDefaults = function() {
            return (0, t2.result)(this.prototype, "defaults");
          }, o2.prototype.defaults = function() {
            return { name: "", property: "", type: "", defaults: "", info: "", value: "", icon: "", functionName: "", status: "", visible: true, fixedValues: ["initial", "inherit"], full: false, important: false, toRequire: false, requires: void 0, requiresParent: null, parentTarget: null };
          }, o2.prototype.initialize = function(t3, n3) {
            void 0 === t3 && (t3 = {}), void 0 === n3 && (n3 = {}), this.em = n3.em;
            var r2 = this.getId() || "", i2 = this.get("name") || this.get("label") || "";
            !this.get("property") && this.set("property", (i2 || r2).replace(/ /g, "-"));
            var a2 = this.get("property");
            !this.get("id") && this.set("id", a2), !i2 && this.set("name", (0, e2.capitalize)(a2).replace(/-/g, " ")), this.on("change", this.__upTargets), o2.callInit(this, t3, n3);
          }, o2.prototype.__getParentProp = function() {
            var t3, e3;
            return null === (e3 = null === (t3 = this.collection) || void 0 === t3 ? void 0 : t3.opts) || void 0 === e3 ? void 0 : e3.parentProp;
          }, o2.prototype.__upTargets = function(e3, n3) {
            var o3, r2 = this;
            void 0 === n3 && (n3 = {});
            var i2 = this.em.Styles, a2 = this.getName(), s2 = n3.__clear, l2 = s2 ? "" : this.__getFullValue(n3), c2 = this.__getParentProp(), u2 = this.changedAttributes(), p2 = (0, t2.keys)(u2).reduce((function(t3, e4) {
              return t3[e4] = r2.previous(e4), t3;
            }), {}), d2 = yv(yv([], (0, t2.keys)(this.__getClearProps()), true), ["__p"], false), f2 = (0, t2.keys)(u2), h2 = !n3.__up && !c2 && (s2 || d2.some((function(t3) {
              return f2.indexOf(t3) >= 0;
            }))), v2 = this.get("onChange"), g2 = { property: this, from: p2, to: u2, value: l2, opts: n3 };
            i2.__trgEv(i2.events.propertyUpdate, g2), v2 && v2(g2), h2 && this.__upTargetsStyle(((o3 = {})[a2] = l2, o3), n3);
          }, o2.prototype.__upTargetsStyle = function(t3, e3) {
            var n3, o3 = null === (n3 = this.em) || void 0 === n3 ? void 0 : n3.get("StyleManager");
            null == o3 || o3.addStyleTargets(vv(vv({}, t3), { __p: !!e3.avoidStore }), e3);
          }, o2.prototype._up = function(t3, e3) {
            void 0 === e3 && (e3 = {}), e3.noTarget && (e3.__up = true);
            var n3 = e3.partial, o3 = gv(e3, ["partial"]);
            return t3.__p = !(!o3.avoidStore && !n3), this.set(t3, vv(vv({}, o3), { avoidStore: t3.__p }));
          }, o2.prototype.up = function(t3, e3) {
            void 0 === e3 && (e3 = {}), this.set(t3, vv(vv({}, e3), { __up: true }));
          }, o2.prototype.init = function() {
          }, o2.prototype.getId = function() {
            return this.get("id");
          }, o2.prototype.getType = function() {
            return this.get("type");
          }, o2.prototype.getName = function() {
            return this.get("property");
          }, o2.prototype.getLabel = function(t3) {
            var e3;
            void 0 === t3 && (t3 = {});
            var n3 = t3.locale, o3 = void 0 === n3 || n3, r2 = this.getId(), i2 = this.get("name") || this.get("label");
            return o3 && (null === (e3 = this.em) || void 0 === e3 ? void 0 : e3.t("styleManager.properties.".concat(r2))) || i2;
          }, o2.prototype.getValue = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = t3.noDefault, n3 = this.get("value");
            return this.hasValue() || e3 ? n3 : this.getDefaultValue();
          }, o2.prototype.hasValue = function(e3) {
            void 0 === e3 && (e3 = {});
            var n3 = e3.noParent && this.getParentTarget(), o3 = this.get("value");
            return !(0, t2.isUndefined)(o3) && "" !== o3 && !n3;
          }, o2.prototype.hasValueParent = function() {
            return this.hasValue() && !this.hasValue({ noParent: true });
          }, o2.prototype.getStyle = function(t3) {
            var n3;
            void 0 === t3 && (t3 = {});
            var o3 = this.getName();
            return (n3 = {})[t3.camelCase ? (0, e2.camelCase)(o3) : o3] = this.__getFullValue(t3), n3;
          }, o2.prototype.getDefaultValue = function() {
            var e3 = this.get("default");
            return "".concat((0, t2.isUndefined)(e3) ? this.get("defaults") : e3);
          }, o2.prototype.upValue = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = null === t3 || "" === t3 ? this.__getClearProps() : this.__parseValue(t3, e3);
            return this._up(n3, e3);
          }, o2.prototype.isVisible = function() {
            return !!this.get("visible");
          }, o2.prototype.clear = function(t3) {
            return void 0 === t3 && (t3 = {}), this._up(this.__getClearProps(), vv(vv({}, t3), { __clear: true })), this;
          }, o2.prototype.canClear = function() {
            var t3 = this.getParent();
            return t3 ? t3.__canClearProp(this) : this.hasValue({ noParent: true });
          }, o2.prototype.getParent = function() {
            return this.__getParentProp();
          }, o2.prototype.isFull = function() {
            return !!this.get("full");
          }, o2.prototype.__parseValue = function(t3, e3) {
            return this.parseValue(t3, e3);
          }, o2.prototype.__getClearProps = function() {
            return { value: "", important: false };
          }, o2.prototype.setValue = function(t3, e3, n3) {
            void 0 === e3 && (e3 = true), void 0 === n3 && (n3 = {});
            var o3 = this.parseValue(t3), r2 = !e3;
            !r2 && this.set({ value: void 0 }, { avoidStore: r2, silent: true }), this.set(o3, vv({ avoidStore: r2 }, n3));
          }, o2.prototype.setValueFromInput = function(t3, e3, n3) {
            void 0 === n3 && (n3 = {}), this.setValue(t3, e3, vv(vv({}, n3), { fromInput: 1 }));
          }, o2.prototype.parseValue = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = { value: e3 }, r2 = "!important", i2 = this.get("functionName") || "";
            if ((0, t2.isString)(e3) && -1 !== e3.indexOf(r2) && (o3.value = e3.replace(r2, "").trim(), o3.important = true), !i2 && !n3.complete) return o3;
            var a2 = [], s2 = "".concat(o3.value).trim(), l2 = s2.indexOf("(") + 1, c2 = i2 || s2.substring(0, l2 - 1);
            if (c2 && (o3.functionName = c2), !i2 || 0 === s2.indexOf("".concat(i2, "("))) {
              var u2 = s2.lastIndexOf(")");
              a2.push(l2), u2 >= 0 && a2.push(u2), o3.value = String.prototype.substring.apply(s2, a2);
            }
            if (n3.numeric) {
              var p2 = parseFloat(o3.value);
              o3.unit = o3.value.replace(p2, ""), o3.value = p2;
            }
            return o3;
          }, o2.prototype.__getFullValue = function(t3) {
            var e3 = (void 0 === t3 ? {} : t3).withDefault;
            return !this.hasValue() && e3 ? this.getDefaultValue() : this.getFullValue();
          }, o2.prototype.getFullValue = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = this.get("functionName"), r2 = this.getDefaultValue(), i2 = (0, t2.isUndefined)(e3) ? this.get("value") : e3, a2 = this.hasValue();
            if (i2 && r2 && i2 === r2) return r2;
            if (o3 && a2) {
              var s2 = "url" === o3 ? "'".concat(i2.replace(/'|"/g, ""), "'") : i2;
              i2 = "".concat(o3, "(").concat(s2, ")");
            }
            return a2 && this.get("important") && !n3.skipImportant && (i2 = "".concat(i2, " !important")), i2 || "";
          }, o2.prototype.__setParentTarget = function(t3) {
            this.up({ parentTarget: t3 });
          }, o2.prototype.getParentTarget = function() {
            return this.get("parentTarget") || null;
          }, o2.prototype.__parseFn = function(t3) {
            void 0 === t3 && (t3 = "");
            var e3 = t3.indexOf("(") + 1, n3 = t3.lastIndexOf(")");
            return { name: t3.substring(0, e3 - 1).trim(), value: String.prototype.substring.apply(t3, [e3, n3 >= 0 ? n3 : void 0]).trim() };
          }, o2.prototype.__checkVisibility = function(n3) {
            var o3 = n3.target, r2 = n3.component, i2 = n3.sector, a2 = n3.sectors, s2 = r2 || o3;
            if (!s2) return false;
            var l2 = this.getId(), c2 = this.getName(), u2 = this.attributes, p2 = u2.requires, d2 = u2.requiresParent, f2 = u2.toRequire, h2 = u2.isVisible, v2 = s2.get("unstylable"), g2 = s2.get("stylable-require"), y2 = s2.get("stylable");
            if ((0, t2.isFunction)(h2)) return !!h2({ property: this, sector: i2, target: o3, component: r2 });
            if ((0, t2.isArray)(y2) && (y2 = y2.indexOf(c2) >= 0), (0, t2.isArray)(v2) && (y2 = v2.indexOf(c2) < 0), f2 && (y2 = !o3 || g2 && (g2.indexOf(l2) >= 0 || g2.indexOf(c2) >= 0)), a2 && p2) {
              var m2 = (0, t2.keys)(p2);
              a2.forEach((function(e3) {
                e3.getProperties().forEach((function(e4) {
                  if ((0, t2.includes)(m2, e4.id)) {
                    var n4 = p2[e4.id];
                    y2 = y2 && (0, t2.includes)(n4, e4.get("value"));
                  }
                }));
              }));
            }
            if (d2) {
              var b2 = r2 && r2.parent(), _2 = b2 && b2.getEl();
              if (_2) {
                var w2 = (0, e2.hasWin)() ? window.getComputedStyle(_2) : {};
                (0, t2.each)(d2, (function(e3, n4) {
                  y2 = y2 && w2[n4] && (0, t2.includes)(e3, w2[n4]);
                }));
              } else y2 = false;
            }
            return !!y2;
          }, o2;
        })(u.Kx);
        const bv = mv;
        mv.callParentInit = function(t3, e3, n2, o2) {
          void 0 === o2 && (o2 = {}), t3.prototype.initialize.apply(e3, [n2, vv(vv({}, o2), { skipInit: 1 })]);
        }, mv.callInit = function(t3, e3, n2) {
          void 0 === n2 && (n2 = {}), !n2.skipInit && t3.init(e3, n2);
        };
        var _v = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), wv = function() {
          return wv = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, wv.apply(this, arguments);
        }, xv = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Cv = function(t3) {
          return "integer" === t3 || "number" === t3;
        }, Sv = (function(n2) {
          function o2() {
            return null !== n2 && n2.apply(this, arguments) || this;
          }
          return _v(o2, n2), o2.prototype.defaults = function() {
            return wv(wv({}, bv.getDefaults()), { detached: false, properties: [], separator: " ", join: null, fromStyle: null, toStyle: null, full: true });
          }, o2.prototype.initialize = function(t3, e3) {
            void 0 === t3 && (t3 = {}), void 0 === e3 && (e3 = {}), bv.callParentInit(bv, this, t3, e3);
            var n3 = this.em, o3 = new Ng(this.get("properties") || [], { em: n3, parentProp: this });
            this.set("properties", o3, { silent: true }), this.listenTo(o3, "change", this.__upProperties), bv.callInit(this, t3, e3);
          }, Object.defineProperty(o2.prototype, "properties", { get: function() {
            return this.get("properties") || [];
          }, enumerable: false, configurable: true }), o2.prototype.getProperties = function() {
            return xv([], this.get("properties").models, true);
          }, o2.prototype.getProperty = function(t3) {
            return this.properties.filter((function(e3) {
              return e3.getId() === t3 || e3.getName() === t3;
            }))[0];
          }, o2.prototype.getPropertyAt = function(t3) {
            return this.get("properties").at(t3);
          }, o2.prototype.isDetached = function() {
            return !!this.get("detached");
          }, o2.prototype.getValues = function(t3) {
            var e3 = (void 0 === t3 ? {} : t3).byName;
            return this.getProperties().reduce((function(t4, n3) {
              return t4[e3 ? n3.getName() : n3.getId()] = "".concat(n3.__getFullValue()), t4;
            }), {});
          }, o2.prototype.getSeparator = function() {
            return this.getSplitSeparator();
          }, o2.prototype.getJoin = function() {
            return this.__getJoin();
          }, o2.prototype.getStyleFromProps = function(t3) {
            var n3;
            void 0 === t3 && (t3 = {});
            var o3 = this.getName(), r2 = this.__getJoin(), i2 = this.get("toStyle"), a2 = this.getValues(), s2 = {};
            if (i2) s2 = i2(a2, { join: r2, name: o3, property: this });
            else if (a2 = this.getValues({ byName: true }), this.isDetached()) s2 = a2;
            else {
              var l2 = this.getProperties().map((function(t4) {
                return t4.__getFullValue({ withDefault: 1 });
              })).filter(Boolean).join(r2);
              (n3 = {})[o3] = l2, s2 = n3;
            }
            return this.isDetached() ? s2[o3] = "" : (s2[o3] = s2[o3] || "", s2 = wv(wv({}, s2), this.getProperties().reduce((function(t4, e3) {
              return t4[e3.getName()] = "", t4;
            }), {}))), t3.camelCase ? Object.keys(s2).reduce((function(t4, n4) {
              return t4[(0, e2.camelCase)(n4)] = s2[n4], t4;
            }), {}) : s2;
          }, o2.prototype.getSplitSeparator = function() {
            return new RegExp("".concat(this.get("separator"), "(?![^\\(]*\\))"));
          }, o2.prototype.__upProperties = function(t3, e3) {
            if (void 0 === e3 && (e3 = {}), !e3.__up && !e3.__clearIn) {
              var n3 = this.__getParentProp();
              if (n3) return n3.__upProperties(this, e3);
              this.__upTargetsStyleProps(e3, t3);
            }
          }, o2.prototype.__upTargetsStyleProps = function(t3, e3) {
            var n3;
            void 0 === t3 && (t3 = {});
            var o3 = this.getStyleFromProps();
            if (this.isDetached() && e3) {
              var r2 = e3.getName();
              (n3 = {})[r2] = o3[r2], o3 = n3;
            }
            this.__upTargetsStyle(o3, t3);
          }, o2.prototype._up = function(t3, e3) {
            return void 0 === e3 && (e3 = {}), this.__setProperties(this.__getSplitValue(t3.value), e3), bv.prototype._up.call(this, t3, e3), this;
          }, o2.prototype.getStyle = function(t3) {
            return this.getStyleFromProps(t3);
          }, o2.prototype.__getFullValue = function(t3) {
            if (void 0 === t3 && (t3 = {}), this.isDetached() || t3.__clear) return "";
            var e3 = this.getStyleFromProps()[this.getName()] || "";
            return je(e3);
          }, o2.prototype.__getJoin = function() {
            var e3 = this.get("join");
            return (0, t2.isString)(e3) ? e3 : this.get("separator");
          }, o2.prototype.__styleHasProps = function(e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.getName(), o3 = this.getProperties().map((function(t3) {
              return t3.getName();
            }));
            return xv([n3], o3, true).some((function(n4) {
              return !(0, t2.isUndefined)(e3[n4]) && "" !== e3[n4];
            }));
          }, o2.prototype.__splitValue = function(t3, e3) {
            return je(t3).split(e3).map((function(t4) {
              return t4.trim();
            })).filter(Boolean);
          }, o2.prototype.__splitStyleName = function(t3, e3, n3) {
            var o3 = t3[e3];
            return this.__splitValue(o3 || "", n3);
          }, o2.prototype.__getSplitValue = function(e3, n3) {
            void 0 === e3 && (e3 = "");
            var o3 = (void 0 === n3 ? {} : n3).byName, r2 = this.getProperties(), i2 = 4 === r2.length && r2.every((function(t3) {
              return Cv(t3.getType());
            })), a2 = this.__splitValue(e3, this.getSplitSeparator()), s2 = {};
            return r2.forEach((function(e4, n4) {
              var r3 = a2[n4], l2 = (0, t2.isUndefined)(r3) ? "" : r3;
              if (i2) {
                var c2 = a2.length;
                l2 = a2[n4] || a2[n4 % c2 + (1 != c2 && c2 % 2 ? 1 : 0)] || l2;
              }
              var u2 = o3 ? e4.getName() : e4.getId();
              s2[u2] = l2 || "";
            })), s2;
          }, o2.prototype.__getPropsFromStyle = function(e3, n3) {
            if (void 0 === e3 && (e3 = {}), void 0 === n3 && (n3 = {}), !this.__styleHasProps(e3)) return null;
            var o3 = n3.byName, r2 = this.getName(), i2 = this.getProperties(), a2 = this.getSplitSeparator(), s2 = this.get("fromStyle"), l2 = s2 ? s2(e3, { property: this, name: r2, separator: a2 }) : {};
            if (!s2) {
              var c2 = e3[r2];
              l2 = this.__getSplitValue(c2 || "", { byName: o3 }), i2.forEach((function(n4) {
                var r3 = e3[n4.getName()], i3 = o3 ? n4.getName() : n4.getId();
                (0, t2.isUndefined)(r3) || "" === r3 || (l2[i3] = r3);
              }));
            }
            return l2;
          }, o2.prototype.__setProperties = function(e3, n3) {
            void 0 === e3 && (e3 = {}), void 0 === n3 && (n3 = {}), this.getProperties().forEach((function(t3) {
              var o4 = e3[t3.getId()];
              t3.__getFullValue() !== o4 && t3.upValue(o4, n3);
            }));
            var o3 = (0, t2.keys)(e3).map((function(t3) {
              return e3[t3];
            })).join(" ");
            this.set("value", o3, { silent: true });
          }, o2.prototype.clear = function() {
            var t3 = this;
            return this.getProperties().map((function(e3) {
              return e3.clear({ __clearIn: !t3.isDetached() });
            })), bv.prototype.clear.call(this), this;
          }, o2.prototype.hasValue = function(t3) {
            return this.getProperties().some((function(e3) {
              return e3.hasValue(t3);
            }));
          }, o2.prototype.getFullValue = function() {
            return this.__getFullValue();
          }, o2.prototype.__canClearProp = function(t3) {
            return this.isDetached() && t3.hasValue({ noParent: true });
          }, o2;
        })(bv);
        const Ov = Sv;
        var Tv = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Pv = function() {
          return Pv = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Pv.apply(this, arguments);
        }, Ev = function(t3, e3) {
          var n2 = {};
          for (var o2 in t3) Object.prototype.hasOwnProperty.call(t3, o2) && e3.indexOf(o2) < 0 && (n2[o2] = t3[o2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o2 = Object.getOwnPropertySymbols(t3); r2 < o2.length; r2++) e3.indexOf(o2[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o2[r2]) && (n2[o2[r2]] = t3[o2[r2]]);
          }
          return n2;
        }, kv = /,(?![^\(]*\))/, Av = /\s(?![^(]*\))/, jv = (function(n2) {
          function o2() {
            return null !== n2 && n2.apply(this, arguments) || this;
          }
          return Tv(o2, n2), o2.prototype.defaults = function() {
            return Pv(Pv({}, Ov.getDefaults()), { layers: [], emptyValue: "unset", layerSeparator: ", ", layerJoin: "", prepend: 0, preview: false, layerLabel: null, selectedLayer: null });
          }, o2.prototype.initialize = function(t3, e3) {
            void 0 === t3 && (t3 = {}), void 0 === e3 && (e3 = {}), Ov.callParentInit(Ov, this, t3, e3);
            var n3 = this.get("layers"), o3 = new Id(n3, { prop: this });
            o3.property = this, o3.properties = this.get("properties"), this.set("layers", o3, { silent: true }), this.on("change:selectedLayer", this.__upSelected), this.listenTo(o3, "add remove", this.__upLayers), Ov.callInit(this, t3, e3);
          }, Object.defineProperty(o2.prototype, "layers", { get: function() {
            return this.get("layers");
          }, enumerable: false, configurable: true }), o2.prototype.getLayers = function() {
            return this.layers.models;
          }, o2.prototype.hasLayers = function() {
            return this.getLayers().length > 0;
          }, o2.prototype.getLayer = function(t3) {
            return void 0 === t3 && (t3 = 0), this.layers.at(t3) || void 0;
          }, o2.prototype.getSelectedLayer = function() {
            var t3 = this.get("selectedLayer");
            return t3 && t3.getIndex() >= 0 ? t3 : void 0;
          }, o2.prototype.selectLayer = function(t3) {
            return this.set("selectedLayer", t3, { __select: true });
          }, o2.prototype.selectLayerAt = function(t3) {
            void 0 === t3 && (t3 = 0);
            var e3 = this.getLayer(t3);
            return e3 && this.selectLayer(e3);
          }, o2.prototype.moveLayer = function(e3, n3) {
            void 0 === n3 && (n3 = 0);
            var o3 = this.layers, r2 = e3 ? e3.getIndex() : -1;
            r2 >= 0 && (0, t2.isNumber)(n3) && n3 >= 0 && n3 < o3.length && r2 !== n3 && (this.removeLayer(e3), o3.add(e3, { at: n3 }));
          }, o2.prototype.addLayer = function(e3, n3) {
            void 0 === e3 && (e3 = {}), void 0 === n3 && (n3 = {});
            var o3 = {};
            return this.getProperties().forEach((function(n4) {
              var r2 = n4.getId(), i2 = e3[r2];
              o3[r2] = (0, t2.isUndefined)(i2) ? n4.getDefaultValue() : i2;
            })), this.layers.push({ values: o3 }, n3);
          }, o2.prototype.removeLayer = function(t3) {
            return this.layers.remove(t3);
          }, o2.prototype.removeLayerAt = function(t3) {
            void 0 === t3 && (t3 = 0);
            var e3 = this.getLayer(t3);
            return e3 ? this.removeLayer(e3) : null;
          }, o2.prototype.getLayerLabel = function(t3) {
            var e3 = "";
            if (t3) {
              var n3 = this.get("layerLabel"), o3 = t3.getValues(), r2 = t3.getIndex();
              if (n3) e3 = n3(t3, { index: r2, values: o3, property: this });
              else {
                var i2 = [];
                this.getProperties().map((function(t4) {
                  i2.push(o3[t4.getId()]);
                })), e3 = i2.filter(Boolean).join(" ");
              }
            }
            return e3;
          }, o2.prototype.getStyleFromLayer = function(n3, o3) {
            var r2;
            void 0 === o3 && (o3 = {});
            var i2, a2 = this.__getJoin(), s2 = this.__getJoinLayers(), l2 = this.get("toStyle"), c2 = this.getName(), u2 = n3.getValues();
            if (l2) i2 = l2(u2, { join: a2, joinLayers: s2, name: c2, layer: n3, property: this });
            else {
              var p2 = this.getProperties().map((function(e3) {
                var n4 = e3.getName(), r3 = u2[e3.getId()], i3 = (0, t2.isUndefined)(r3) ? e3.getDefaultValue() : r3;
                if (o3.number && Cv(e3.getType())) {
                  var a3 = e3.parseValue(r3, o3.number);
                  i3 = "".concat(a3.value).concat(a3.unit);
                }
                return { name: n4, value: i3 };
              }));
              i2 = this.isDetached() ? p2.reduce((function(t3, e3) {
                return t3[e3.name] = e3.value, t3;
              }), {}) : ((r2 = {})[this.getName()] = p2.map((function(t3) {
                return t3.value;
              })).join(a2), r2);
            }
            return o3.camelCase ? Object.keys(i2).reduce((function(t3, n4) {
              return t3[(0, e2.camelCase)(n4)] = i2[n4], t3;
            }), {}) : i2;
          }, o2.prototype.getStylePreview = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = {};
            return this.get("preview") && (n3 = this.getStyleFromLayer(t3, e3)), n3;
          }, o2.prototype.getLayerSeparator = function() {
            var e3 = this.get("layerSeparator");
            return (0, t2.isString)(e3) ? new RegExp("".concat(e3, "(?![^\\(]*\\))")) : e3;
          }, o2.prototype.hasEmptyValue = function() {
            return !this.hasLayers() && !!this.attributes.isEmptyValue;
          }, o2.prototype.__upProperties = function(t3, e3) {
            var n3;
            void 0 === e3 && (e3 = {});
            var o3 = this.getSelectedLayer();
            o3 && (o3.upValues(((n3 = {})[t3.getId()] = t3.__getFullValue(), n3)), e3.__up || this.__upTargetsStyleProps(e3));
          }, o2.prototype.__upLayers = function(t3, e3, n3) {
            this.__upTargetsStyleProps(n3 || e3);
          }, o2.prototype.__upTargets = function(t3, e3) {
            if (void 0 === e3 && (e3 = {}), !e3.__select) return bv.prototype.__upTargets.call(this, t3, e3);
          }, o2.prototype.__upTargetsStyleProps = function(t3) {
            void 0 === t3 && (t3 = {}), this.__upTargetsStyle(this.getStyleFromLayers(t3), t3);
          }, o2.prototype.__upTargetsStyle = function(t3, e3) {
            return bv.prototype.__upTargetsStyle.call(this, t3, e3);
          }, o2.prototype.__upSelected = function(t3, e3) {
            var n3 = (void 0 === t3 ? {} : t3).noEvent;
            void 0 === e3 && (e3 = {});
            var o3 = this.em.Styles, r2 = this.getSelectedLayer(), i2 = null == r2 ? void 0 : r2.getValues();
            i2 && this.getProperties().forEach((function(t4) {
              var n4, o4 = null !== (n4 = i2[t4.getId()]) && void 0 !== n4 ? n4 : "";
              t4.__getFullValue() !== o4 && t4.upValue(o4, Pv(Pv({}, e3), { __up: true }));
            })), !n3 && o3.__trgEv(o3.events.layerSelect, { property: this });
          }, o2.prototype._up = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = t3.__layers, o3 = void 0 === n3 ? [] : n3, r2 = Ev(t3, ["__layers"]);
            return !this.isDetached() && this.__setLayers(o3), this.__upSelected({ noEvent: true }, e3), bv.prototype._up.call(this, r2, e3), this;
          }, o2.prototype.__setLayers = function(t3, e3) {
            void 0 === t3 && (t3 = []), void 0 === e3 && (e3 = {});
            var n3 = this.layers, o3 = t3.map((function(t4) {
              return { values: t4 };
            }));
            n3.length === o3.length ? o3.map((function(t4, e4) {
              var o4;
              return null === (o4 = n3.at(e4)) || void 0 === o4 ? void 0 : o4.upValues(t4.values);
            })) : n3.reset(o3), this.set({ isEmptyValue: !!e3.isEmptyValue }), this.__upSelected({ noEvent: true });
          }, o2.prototype.__parseValue = function(t3) {
            var e3 = this, n3 = this.parseValue(t3);
            return n3.__layers = t3.split(kv).map((function(t4) {
              return t4.trim();
            })).map((function(t4) {
              return e3.__parseLayer(t4);
            })).filter(Boolean), n3;
          }, o2.prototype.__parseLayer = function(e3) {
            var n3 = this.get("parseLayer"), o3 = e3.split(Av), r2 = this.getProperties();
            return n3 ? n3({ value: e3, values: o3 }) : r2.reduce((function(e4, n4, r3) {
              var i2 = o3[r3];
              return e4[n4.getId()] = (0, t2.isUndefined)(i2) ? n4.getDefaultValue() : i2, e4;
            }), {});
          }, o2.prototype.__getLayersFromStyle = function(e3) {
            var n3 = this;
            if (void 0 === e3 && (e3 = {}), !this.__styleHasProps(e3)) return null;
            if (this.isEmptyValueStyle(e3)) return [];
            var o3 = this.getName(), r2 = this.getProperties(), i2 = this.getLayerSeparator(), a2 = this.attributes.fromStyle, s2 = a2 ? a2(e3, { property: this, name: o3, separatorLayers: i2 }) : [];
            if (!a2) {
              var l2 = this.__splitStyleName(e3, o3, i2).map((function(t3) {
                return t3.split(n3.getSplitSeparator());
              })).map((function(e4) {
                var n4 = {};
                return r2.forEach((function(o4, r3) {
                  var i3 = e4[r3];
                  n4[o4.getId()] = (0, t2.isUndefined)(i3) ? o4.getDefaultValue() : i3;
                })), n4;
              }));
              r2.forEach((function(t3) {
                var o4 = t3.getId();
                n3.__splitStyleName(e3, t3.getName(), i2).map((function(e4) {
                  var n4;
                  return (n4 = {})[o4] = e4 || t3.getDefaultValue(), n4;
                })).forEach((function(t4, e4) {
                  l2[e4] = l2[e4] ? Pv(Pv({}, l2[e4]), t4) : t4;
                }));
              })), s2 = l2;
            }
            return (0, t2.isArray)(s2) ? s2 : [s2];
          }, o2.prototype.getStyle = function(t3) {
            return void 0 === t3 && (t3 = {}), this.getStyleFromLayers(t3);
          }, o2.prototype.getStyleFromLayers = function(e3) {
            var n3 = this;
            void 0 === e3 && (e3 = {});
            var o3 = {}, r2 = this.getName(), i2 = this.getLayers(), a2 = this.getProperties();
            if (i2.map((function(t3) {
              return n3.getStyleFromLayer(t3, e3);
            })).forEach((function(e4) {
              (0, t2.keys)(e4).map((function(t3) {
                o3[t3] || (o3[t3] = []), o3[t3].push(e4[t3]);
              }));
            })), (0, t2.keys)(o3).map((function(t3) {
              o3[t3] = o3[t3].join(n3.__getJoinLayers());
            })), this.isDetached()) o3[r2] = "", !i2.length && a2.map((function(t3) {
              o3[t3.getName()] = "";
            }));
            else {
              var s2 = a2.reduce((function(t3, e4) {
                return t3[e4.getName()] = "", t3;
              }), {});
              o3[r2] = o3[r2] || "", o3 = Pv(Pv({}, o3), s2);
            }
            return Pv(Pv({}, o3), e3.__clear ? {} : this.getEmptyValueStyle());
          }, o2.prototype.isEmptyValueStyle = function(e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.getEmptyValueStyle({ force: true }), o3 = (0, t2.keys)(n3);
            return !!o3.length && o3.every((function(t3) {
              return n3[t3] === e3[t3];
            }));
          }, o2.prototype.getEmptyValueStyle = function(e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.attributes.emptyValue;
            if (!n3 || this.hasLayers() && !e3.force) return {};
            var o3 = this.getName(), r2 = this.getProperties(), i2 = (0, t2.isString)(n3) ? n3 : n3({ property: this });
            if ((0, t2.isString)(i2)) {
              var a2 = {};
              return this.isDetached() ? r2.map((function(t3) {
                a2[t3.getName()] = i2;
              })) : a2[o3] = i2, a2;
            }
            return i2;
          }, o2.prototype.__getJoinLayers = function() {
            var e3 = this.get("layerJoin"), n3 = this.get("layerSeparator");
            return e3 || ((0, t2.isString)(n3) ? n3 : e3);
          }, o2.prototype.__getFullValue = function() {
            if (this.get("detached")) return "";
            var t3 = this.getStyleFromLayers();
            return je(t3[this.getName()]);
          }, o2.prototype.hasValue = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = t3.noParent && this.getParentTarget();
            return (this.hasLayers() || this.hasEmptyValue()) && !e3;
          }, o2.prototype.clear = function(t3) {
            return void 0 === t3 && (t3 = {}), this.layers.reset(), this.__upTargetsStyleProps(Pv(Pv({}, t3), { __clear: true })), bv.prototype.clear.call(this), this;
          }, o2.prototype.__canClearProp = function() {
            return false;
          }, o2.prototype.__getLayers = function() {
            return this.layers;
          }, o2;
        })(Ov);
        const Mv = jv;
        var Dv = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Lv = function() {
          return Lv = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Lv.apply(this, arguments);
        }, Iv = function(t3, e3) {
          var n2 = {};
          for (var o2 in t3) Object.prototype.hasOwnProperty.call(t3, o2) && e3.indexOf(o2) < 0 && (n2[o2] = t3[o2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o2 = Object.getOwnPropertySymbols(t3); r2 < o2.length; r2++) e3.indexOf(o2[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o2[r2]) && (n2[o2[r2]] = t3[o2[r2]]);
          }
          return n2;
        }, Nv = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Rv = "data-clear-style", Vv = (function(n2) {
          function o2(e3) {
            void 0 === e3 && (e3 = {});
            var o3 = n2.call(this, e3) || this;
            (0, t2.bindAll)(o3, "__change", "__updateStyle");
            var r2 = e3.config || {}, i2 = r2.em;
            o3.config = r2, o3.em = i2, o3.pfx = r2.stylePrefix || "", o3.ppfx = r2.pStylePrefix || "", o3.__destroyFn = o3.destroy ? o3.destroy.bind(o3) : function() {
            };
            var a2 = o3.model;
            a2.view = o3, o3.onValueChange = (0, t2.debounce)(o3.onValueChange.bind(o3), 10), o3.updateStatus = (0, t2.debounce)(o3.updateStatus.bind(o3), 0), o3.listenTo(a2, "destroy remove", o3.remove), o3.listenTo(a2, "change:visible", o3.updateVisibility), o3.listenTo(a2, "change:name change:className change:full", o3.render), o3.listenTo(a2, "change:value", o3.onValueChange), o3.listenTo(a2, "change:parentTarget", o3.updateStatus), o3.listenTo(i2, "change:device", o3.onValueChange);
            var s2 = o3.init && o3.init.bind(o3);
            return s2 && s2(), o3;
          }
          return Dv(o2, n2), o2.prototype.events = function() {
            var t3;
            return (t3 = { change: "inputValueChanged" })["click [".concat(Rv, "]")] = "clear", t3;
          }, o2.prototype.template = function(t3) {
            var e3 = this.pfx, n3 = this.ppfx;
            return '\n      <div class="'.concat(e3, 'label" data-sm-label></div>\n      <div class="').concat(n3, 'fields" data-sm-fields></div>\n    ');
          }, o2.prototype.templateLabel = function(t3) {
            var e3 = this.pfx, n3 = this.em, o3 = t3.parent, r2 = t3.attributes, i2 = r2.icon, a2 = void 0 === i2 ? "" : i2, s2 = r2.info, l2 = void 0 === s2 ? "" : s2, c2 = null == n3 ? void 0 : n3.getConfig().icons, u2 = (null == c2 ? void 0 : c2.close) || "";
            return '\n      <span class="'.concat(e3, "icon ").concat(a2, '" title="').concat(l2, '">\n        ').concat(t3.getLabel(), "\n      </span>\n      ").concat(o3 ? "" : '<div class="'.concat(e3, 'clear" style="display: none" ').concat(Rv, ">").concat(u2, "</div>"), "\n    ");
          }, o2.prototype.templateInput = function(t3) {
            return '\n      <div class="'.concat(this.ppfx, 'field">\n        <input placeholder="').concat(t3.getDefaultValue(), '"/>\n      </div>\n    ');
          }, o2.prototype.remove = function() {
            var t3 = this;
            return u.Ss.prototype.remove.apply(this, arguments), ["em", "input", "$input", "view"].forEach((function(e3) {
              return t3[e3] = null;
            })), this.__destroyFn(this._getClbOpts()), this;
          }, o2.prototype.updateStatus = function() {
            var t3, e3 = this, n3 = e3.model, o3 = e3.pfx, r2 = e3.ppfx, i2 = e3.config, a2 = "".concat(r2, "four-color"), s2 = "".concat(r2, "color-warn"), l2 = this.$el.children(".".concat(o3, "label")), c2 = this.getClearEl(), u2 = c2 ? c2.style : {};
            l2.removeClass("".concat(a2, " ").concat(s2)), u2.display = "none", n3.hasValue({ noParent: true }) && i2.highlightChanged ? (l2.addClass(a2), i2.clearProperties && (u2.display = "")) : n3.hasValue() && i2.highlightComputed && l2.addClass(s2), null === (t3 = this.parent) || void 0 === t3 || t3.updateStatus();
          }, o2.prototype.clear = function(t3) {
            t3 && t3.stopPropagation(), this.model.clear();
          }, o2.prototype.getClearEl = function() {
            return this.clearEl || (this.clearEl = this.el.querySelector("[".concat(Rv, "]"))), this.clearEl;
          }, o2.prototype.inputValueChanged = function(t3) {
            t3 && t3.stopPropagation(), this.emit || this.model.upValue(t3.target.value);
          }, o2.prototype.onValueChange = function(t3, e3, n3) {
            void 0 === n3 && (n3 = {}), this.setValue(this.model.getFullValue(void 0, { skipImportant: true })), this.updateStatus();
          }, o2.prototype.setValue = function(e3) {
            var n3 = this.model, o3 = (0, t2.isUndefined)(e3) || "" === e3 ? n3.getDefaultValue() : e3;
            if (this.update) return this.__update(o3);
            this.__setValueInput(o3);
          }, o2.prototype.__setValueInput = function(t3) {
            var e3 = this.getInputEl();
            e3 && (e3.value = t3);
          }, o2.prototype.getInputEl = function() {
            return this.input || (this.input = this.el.querySelector("input")), this.input;
          }, o2.prototype.updateVisibility = function() {
            this.el.style.display = this.model.isVisible() ? "" : "none";
          }, o2.prototype.clearCached = function() {
            delete this.clearEl, delete this.input, delete this.$input;
          }, o2.prototype.__unset = function() {
            var t3 = this.unset && this.unset.bind(this);
            t3 && t3(this._getClbOpts());
          }, o2.prototype.__update = function(t3) {
            var e3 = this.update && this.update.bind(this);
            e3 && e3(Lv(Lv({}, this._getClbOpts()), { value: t3 }));
          }, o2.prototype.__change = function() {
            for (var t3 = [], e3 = 0; e3 < arguments.length; e3++) t3[e3] = arguments[e3];
            var n3 = this.emit && this.emit.bind(this);
            n3 && n3.apply(void 0, Nv([this._getClbOpts()], t3, false));
          }, o2.prototype.__updateStyle = function(t3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = n3.complete, r2 = n3.partial, i2 = (Iv(n3, ["complete", "partial"]), this.model), a2 = false !== o3 && true !== r2;
            (0, e2.isObject)(t3) ? i2.__upTargetsStyle(t3, { avoidStore: !a2 }) : i2.upValue(t3, { partial: !a2 });
          }, o2.prototype._getClbOpts = function() {
            var t3 = this, e3 = t3.model;
            return { el: t3.el, createdEl: t3.createdEl, property: e3, props: e3.attributes, change: this.__change, updateStyle: this.__updateStyle };
          }, o2.prototype.render = function() {
            this.clearCached();
            var t3 = this, e3 = t3.pfx, n3 = t3.model, o3 = t3.el, r2 = t3.$el, i2 = n3.getName(), a2 = n3.getType(), s2 = n3.get("className") || "", l2 = "".concat(e3, "property"), c2 = "number" === a2 ? "".concat(e3).concat(a2, " ").concat(e3, "integer") : "".concat(e3).concat(a2);
            this.createdEl && this.__destroyFn(this._getClbOpts()), r2.empty().append(this.template(n3)), r2.find("[data-sm-label]").append(this.templateLabel(n3));
            var u2 = this.create && this.create.bind(this);
            this.createdEl = u2 && u2(this._getClbOpts()), r2.find("[data-sm-fields]").append(this.createdEl || this.templateInput(n3)), o3.className = "".concat(l2, " ").concat(c2, " ").concat(l2, "__").concat(i2, " ").concat(s2).trim(), o3.className += n3.isFull() ? " ".concat(l2, "--full") : "";
            var p2 = this.onRender && this.onRender.bind(this);
            return p2 && p2(), this.setValue(n3.getValue()), this;
          }, o2.prototype.onRender = function() {
          }, o2;
        })(u.Ss);
        const Fv = Vv;
        var Hv = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Uv = (function(t3) {
          function e3(e4) {
            var n2 = t3.call(this, e4) || this;
            n2.config = e4.config || {}, n2.pfx = n2.config.stylePrefix || "", n2.properties = [], n2.parent = e4.parent;
            var o2 = n2.collection;
            return n2.listenTo(o2, "add", n2.addTo), n2.listenTo(o2, "reset", n2.render), n2;
          }
          return Hv(e3, t3), e3.prototype.addTo = function(t4, e4, n2) {
            this.add(t4, null, n2);
          }, e3.prototype.add = function(t4, e4, n2) {
            void 0 === n2 && (n2 = {});
            var o2 = this.parent, r2 = this.config, i2 = e4 || this.el, a2 = new t4.typeView({ model: t4, config: r2 });
            o2 && (a2.parent = o2), a2.render();
            var s2 = a2.el;
            this.properties.push(a2), (0, Z.Sc)(i2, s2, n2.at);
          }, e3.prototype.remove = function() {
            return u.Ss.prototype.remove.apply(this, arguments), this.clearItems(), this;
          }, e3.prototype.clearItems = function() {
            this.properties.forEach((function(t4) {
              return t4.remove();
            })), this.properties = [];
          }, e3.prototype.render = function() {
            var t4 = this, e4 = this.$el, n2 = this.pfx;
            this.clearItems();
            var o2 = document.createDocumentFragment();
            return this.collection.forEach((function(e5) {
              return t4.add(e5, o2);
            })), e4.empty(), e4.append(o2), e4.attr("class", "".concat(n2, "properties")), this;
          }, e3;
        })(u.Ss);
        const zv = Uv;
        var Bv = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Wv = function() {
          return Wv = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Wv.apply(this, arguments);
        }, $v = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Bv(e3, t3), e3.prototype.templateInput = function() {
            var t4 = this.pfx;
            return '\n      <div class="'.concat(t4, "field ").concat(t4, 'composite">\n        <span id="').concat(t4, 'input-holder"></span>\n      </div>\n    ');
          }, e3.prototype.remove = function() {
            var t4;
            return null === (t4 = this.props) || void 0 === t4 || t4.remove(), Fv.prototype.remove.apply(this, arguments), this;
          }, e3.prototype.onValueChange = function() {
          }, e3.prototype.onRender = function() {
            var t4 = this.pfx, e4 = this.model, n2 = e4.get("properties");
            if (n2.length && !this.props) {
              var o2 = e4.isDetached(), r2 = new zv({ config: Wv(Wv({}, this.config), { highlightComputed: o2, highlightChanged: o2 }), collection: n2, parent: this });
              r2.render(), this.$el.find("#".concat(t4, "input-holder")).append(r2.el), this.props = r2;
            }
          }, e3.prototype.clearCached = function() {
            Fv.prototype.clearCached.apply(this, arguments), delete this.props;
          }, e3;
        })(Fv);
        const qv = $v;
        var Gv = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Kv = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return Gv(n2, e3), n2.prototype.events = function() {
            return { click: "select", "click [data-close-layer]": "removeItem", "mousedown [data-move-layer]": "initSorter", "touchstart [data-move-layer]": "initSorter" };
          }, n2.prototype.template = function() {
            var t3 = this, e4 = t3.pfx, n3 = t3.ppfx, o2 = t3.em, r2 = null == o2 ? void 0 : o2.getConfig().icons, i2 = (null == r2 ? void 0 : r2.close) || "", a2 = (null == r2 ? void 0 : r2.move) || "";
            return '\n      <div class="'.concat(e4, 'label-wrp">\n        <div id="').concat(e4, 'move" class="').concat(n3, 'no-touch-actions" data-move-layer>\n          ').concat(a2, '\n        </div>\n        <div id="').concat(e4, 'label" data-label></div>\n        <div id="').concat(e4, 'preview-box" class="').concat(e4, 'layer-preview" style="display: none" data-preview-box>\n          <div id="').concat(e4, 'preview" class="').concat(e4, 'layer-preview-cnt" data-preview></div>\n        </div>\n        <div id="').concat(e4, 'close-layer" class="').concat(e4, 'btn-close" data-close-layer>\n          ').concat(i2, '\n        </div>\n      </div>\n      <div id="').concat(e4, 'inputs" data-properties></div>\n    ');
          }, n2.prototype.initialize = function(t3) {
            void 0 === t3 && (t3 = {});
            var e4 = this.model, n3 = t3.config || {};
            this.em = n3.em, this.config = n3, this.sorter = t3.sorter, this.pfx = n3.stylePrefix || "", this.ppfx = n3.pStylePrefix || "", this.propertyView = t3.propertyView;
            var o2 = this.propertyView.model;
            this.listenTo(e4, "destroy remove", this.remove), this.listenTo(e4, "change:values", this.updateLabel), this.listenTo(o2, "change:selectedLayer", this.updateVisibility), e4.view = this, e4.set({ droppable: 0, draggable: 1 }), this.$el.data("model", e4);
          }, n2.prototype.initSorter = function() {
            var t3;
            null === (t3 = this.sorter) || void 0 === t3 || t3.startSort([{ element: this.el }]);
          }, n2.prototype.removeItem = function(t3) {
            t3 && t3.stopPropagation(), this.model.remove();
          }, n2.prototype.select = function() {
            this.model.select();
          }, n2.prototype.getPropertiesWrapper = function() {
            return this.propsWrapEl || (this.propsWrapEl = this.el.querySelector("[data-properties]")), this.propsWrapEl;
          }, n2.prototype.getPreviewEl = function() {
            return this.previewEl || (this.previewEl = this.el.querySelector("[data-preview]")), this.previewEl;
          }, n2.prototype.getLabelEl = function() {
            return this.labelEl || (this.labelEl = this.el.querySelector("[data-label]")), this.labelEl;
          }, n2.prototype.updateLabel = function() {
            var e4 = this.model, n3 = e4.getLabel();
            if (this.getLabelEl().innerHTML = n3, e4.hasPreview()) {
              var o2 = this.getPreviewEl(), r2 = e4.getStylePreview({ number: { min: -3, max: 3 } }), i2 = (0, t2.keys)(r2).map((function(t3) {
                return "".concat(t3, ":").concat(r2[t3]);
              })).join(";");
              o2.setAttribute("style", i2);
            }
          }, n2.prototype.updateVisibility = function() {
            var t3, e4 = this, n3 = e4.pfx, o2 = e4.model, r2 = e4.propertyView, i2 = this.getPropertiesWrapper(), a2 = o2.isSelected();
            i2.style.display = a2 ? "" : "none", this.$el[a2 ? "addClass" : "removeClass"]("".concat(n3, "active")), a2 && i2.appendChild(null === (t3 = r2.props) || void 0 === t3 ? void 0 : t3.el);
          }, n2.prototype.render = function() {
            var t3 = this, e4 = t3.el, n3 = t3.pfx, o2 = t3.model;
            return e4.innerHTML = this.template(), e4.className = "".concat(n3, "layer"), o2.hasPreview() && (e4.querySelector("[data-preview-box]").style.display = ""), this.updateLabel(), this.updateVisibility(), this;
          }, n2;
        })(u.Ss);
        const Yv = Kv;
        var Jv = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Xv = (function(t3) {
          function e3(e4) {
            var n2 = t3.call(this, e4) || this, o2 = n2.collection, r2 = e4.config || {}, i2 = r2.em, a2 = r2.stylePrefix || "", s2 = r2.pStylePrefix || "";
            n2.config = r2, n2.pfx = a2, n2.ppfx = s2, n2.propertyView = e4.propertyView, n2.className = "".concat(a2, "layers ").concat(s2, "field"), n2.listenTo(o2, "add", n2.addTo), n2.listenTo(o2, "reset", n2.reset), n2.items = [];
            var l2 = n2.createPlaceholder(r2.pStylePrefix);
            n2.$el.append(l2);
            var c2 = null == i2 ? void 0 : i2.Utils;
            return n2.sorter = c2 ? new c2.StyleManagerSorter({ em: i2, containerContext: { container: n2.el, containerSel: ".".concat(a2, "layers"), itemSel: ".".concat(a2, "layer"), pfx: r2.pStylePrefix, document, placeholderElement: l2 }, dragBehavior: { dragDirection: $n.A.Vertical, nested: false } }) : void 0, o2.view = n2, n2.$el.data("model", o2), n2.$el.data("collection", o2), n2;
          }
          return Jv(e3, t3), e3.prototype.addTo = function(t4) {
            var e4 = this.collection.indexOf(t4);
            this.addToCollection(t4, null, e4);
          }, e3.prototype.addToCollection = function(t4, e4, n2) {
            var o2 = e4 || null, r2 = this, i2 = r2.propertyView, a2 = r2.config, s2 = r2.sorter, l2 = r2.$el, c2 = new Yv({ model: t4, config: a2, sorter: s2, propertyView: i2 }), u2 = c2.render().el;
            if (this.items.push(c2), o2) o2.appendChild(u2);
            else if (void 0 !== n2) {
              var p2 = "before";
              l2.children().length === n2 && (n2--, p2 = "after"), n2 < 0 ? l2.append(u2) : l2.children().eq(n2)[p2](u2);
            } else l2.append(u2);
            return u2;
          }, e3.prototype.reset = function(t4, e4) {
            this.clearItems(), this.render();
          }, e3.prototype.remove = function() {
            return this.clearItems(), u.Ss.prototype.remove.apply(this, arguments), this;
          }, e3.prototype.clearItems = function() {
            this.items.forEach((function(t4) {
              return t4.remove();
            })), this.items = [];
          }, e3.prototype.render = function() {
            var t4 = this, e4 = this.$el, n2 = document.createDocumentFragment();
            return e4.empty(), this.collection.forEach((function(e5) {
              return t4.addToCollection(e5, n2);
            })), e4.append(n2), e4.attr("class", this.className), this;
          }, e3.prototype.createPlaceholder = function(t4) {
            var e4 = document.createElement("div"), n2 = document.createElement("div");
            return this.el.parentNode, e4.className = t4 + "placeholder", e4.style.display = "none", e4.style.pointerEvents = "none", n2.className = t4 + "placeholder-int", e4.appendChild(n2), e4;
          }, e3;
        })(u.Ss);
        const Zv = Xv;
        var Qv = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), tg = function() {
          return tg = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, tg.apply(this, arguments);
        }, eg = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Qv(e3, t3), e3.prototype.events = function() {
            return tg(tg({}, qv.prototype.events()), { "click [data-add-layer]": "addLayer", change: "" });
          }, e3.prototype.templateInput = function() {
            var t4 = this.pfx, e4 = this.em, n2 = null == e4 ? void 0 : e4.getConfig().icons, o2 = (null == n2 ? void 0 : n2.plus) || "+";
            return '\n      <div class="'.concat(t4, "field ").concat(t4, 'stack">\n        <button type="button" id="').concat(t4, 'add" data-add-layer>\n          ').concat(o2, "\n        </button>\n        <div data-layers-wrapper></div>\n      </div>\n    ");
          }, e3.prototype.init = function() {
            var t4 = this.model;
            this.listenTo(t4.layers, "change reset", this.updateStatus), this.listenTo(t4, "change:isEmptyValue", this.updateStatus);
          }, e3.prototype.addLayer = function() {
            this.model.addLayer({}, { at: 0 });
          }, e3.prototype.setValue = function() {
          }, e3.prototype.remove = function() {
            var t4;
            return null === (t4 = this.layersView) || void 0 === t4 || t4.remove(), qv.prototype.remove.apply(this, arguments), this;
          }, e3.prototype.clearCached = function() {
            qv.prototype.clearCached.apply(this, arguments), delete this.layersView;
          }, e3.prototype.onRender = function() {
            var t4 = this, e4 = t4.model, n2 = t4.el, o2 = t4.config, r2 = e4.get("properties");
            if (r2.length && !this.props) {
              var i2 = new zv({ config: tg(tg({}, o2), { highlightComputed: false, highlightChanged: false }), collection: r2, parent: this });
              i2.render();
              var a2 = new Zv({ collection: e4.layers, config: o2, propertyView: this });
              a2.render(), n2.querySelector("[data-layers-wrapper]").appendChild(a2.el), this.props = i2, this.layersView = a2;
            }
          }, e3;
        })(qv);
        const ng = eg;
        var og = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), rg = function() {
          return rg = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, rg.apply(this, arguments);
        }, ig = (function(e3) {
          function n2() {
            return null !== e3 && e3.apply(this, arguments) || this;
          }
          return og(n2, e3), n2.prototype.events = function() {
            return rg(rg({}, Fv.prototype.events()), { "click [data-clear-asset]": "clear", "click [data-open-assets]": "openAssetManager" });
          }, n2.prototype.templateInput = function() {
            var t3, e4 = this.pfx, n3 = this.em, o2 = null === (t3 = this.em) || void 0 === t3 ? void 0 : t3.getConfig().icons, r2 = null == o2 ? void 0 : o2.close;
            return '\n      <div class="'.concat(e4, "field ").concat(e4, `file">
        <div id='`).concat(e4, `input-holder'>
          <div class="`).concat(e4, 'btn-c">\n            <button class="').concat(e4, 'btn" id="').concat(e4, 'images" type="button" data-open-assets>\n              ').concat(n3.t("styleManager.fileButton"), '\n            </button>\n          </div>\n          <div style="clear:both;"></div>\n        </div>\n        <div id="').concat(e4, 'preview-box" class="').concat(e4, 'preview-file" data-preview-box>\n          <div id="').concat(e4, 'preview-file" class="').concat(e4, 'preview-file-cnt" data-preview></div>\n          <div id="').concat(e4, 'close" class="').concat(e4, 'preview-file-close" data-clear-asset>').concat(r2, "</div>\n        </div>\n      </div>\n    ");
          }, n2.prototype.__setValueInput = function(t3) {
            var e4 = this.model, n3 = this.el, o2 = e4.getDefaultValue(), r2 = n3.querySelector("[data-preview-box]"), i2 = n3.querySelector("[data-preview]");
            r2.style.display = t3 && t3 !== o2 ? "" : "none", i2.style.backgroundImage = t3 || e4.getDefaultValue();
          }, n2.prototype.openAssetManager = function() {
            var e4, n3 = this, o2 = null === (e4 = this.em) || void 0 === e4 ? void 0 : e4.Assets;
            null == o2 || o2.open({ select: function(e5, r2) {
              var i2 = (0, t2.isString)(e5) ? e5 : e5.get("src");
              n3.model.upValue(i2, { partial: !r2 }), r2 && o2.close();
            }, types: ["image"], accept: "image/*" });
          }, n2;
        })(Fv);
        const ag = ig;
        var sg = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), lg = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return sg(e3, t3), e3.prototype.templateInput = function(t4) {
            return "";
          }, e3.prototype.init = function() {
            var t4 = this.model;
            this.listenTo(t4, "change:unit", this.onValueChange), this.listenTo(t4, "change:units", this.render);
          }, e3.prototype.setValue = function(t4) {
          }, e3.prototype.onRender = function() {
            var t4 = this, e4 = t4.ppfx, n2 = t4.model, o2 = t4.el;
            if (!this.inputInst) {
              var r2 = n2.input;
              r2.ppfx = e4, r2.render(), o2.querySelector(".".concat(e4, "fields")).appendChild(r2.el), this.input = r2.inputEl.get(0), this.inputInst = r2;
            }
          }, e3.prototype.clearCached = function() {
            Fv.prototype.clearCached.apply(this, arguments), this.inputInst = null;
          }, e3;
        })(Fv);
        const cg = lg;
        var ug = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), pg = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return ug(e3, t3), e3.prototype.setValue = function(t4) {
            var e4;
            null === (e4 = this.inputInst) || void 0 === e4 || e4.setValue(t4, { fromTarget: 1, def: this.model.getDefaultValue() });
          }, e3.prototype.remove = function() {
            var t4 = this;
            cg.prototype.remove.apply(this, arguments);
            var e4 = this.inputInst;
            return e4 && e4.remove && e4.remove(), ["inputInst", "$color"].forEach((function(e5) {
              return t4[e5] = null;
            })), this;
          }, e3.prototype.__handleChange = function(t4, e4) {
            this.model.upValue(t4, { partial: e4 });
          }, e3.prototype.onRender = function() {
            var t4;
            if (!this.inputInst) {
              this.__handleChange = this.__handleChange.bind(this);
              var e4 = this, n2 = e4.ppfx, o2 = e4.model, r2 = e4.em, i2 = e4.el, a2 = new Dc({ target: r2, model: o2, ppfx: n2, onChange: this.__handleChange }).render();
              i2.querySelector(".".concat(n2, "fields")).appendChild(a2.el), this.input = null === (t4 = a2.inputEl) || void 0 === t4 ? void 0 : t4.get(0), this.inputInst = a2;
            }
          }, e3;
        })(cg);
        const dg = pg;
        var fg = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), hg = function() {
          return hg = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, hg.apply(this, arguments);
        }, vg = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, gg = (function(n2) {
          function o2() {
            return null !== n2 && n2.apply(this, arguments) || this;
          }
          return fg(o2, n2), o2.prototype.defaults = function() {
            return hg(hg({}, bv.getDefaults()), { options: [], full: 0 });
          }, o2.prototype.getOptions = function() {
            var t3 = this.attributes, e3 = t3.options, n3 = t3.list;
            return (e3 && e3.length ? e3 : n3) || [];
          }, o2.prototype.getOption = function(t3) {
            var n3 = this, o3 = (0, e2.isDef)(t3) ? t3 : this.getValue();
            return this.getOptions().filter((function(t4) {
              return n3.getOptionId(t4) === o3;
            }))[0] || null;
          }, o2.prototype.setOptions = function(t3) {
            return void 0 === t3 && (t3 = []), this.set("options", t3), this;
          }, o2.prototype.addOption = function(t3) {
            if (t3) {
              var e3 = this.getOptions();
              this.setOptions(vg(vg([], e3, true), [t3], false));
            }
            return this;
          }, o2.prototype.getOptionId = function(t3) {
            return (0, e2.isDef)(t3.id) ? t3.id : t3.value;
          }, o2.prototype.getOptionLabel = function(e3, n3) {
            var o3;
            void 0 === n3 && (n3 = {});
            var r2 = n3.locale, i2 = void 0 === r2 || r2, a2 = ((0, t2.isString)(e3) ? this.getOption(e3) : e3) || {}, s2 = this.getOptionId(a2), l2 = a2.label || a2.name || s2, c2 = n3.property || this.getId();
            return i2 && (null === (o3 = this.em) || void 0 === o3 ? void 0 : o3.t("styleManager.options.".concat(c2, ".").concat(s2))) || l2;
          }, o2.prototype.initialize = function() {
            for (var t3 = [], e3 = 0; e3 < arguments.length; e3++) t3[e3] = arguments[e3];
            bv.prototype.initialize.apply(this, t3), this.listenTo(this, "change:options", this.__onOptionChange);
          }, o2.prototype.__onOptionChange = function() {
            this.set("list", this.get("options"));
          }, o2;
        })(bv);
        const yg = gg;
        var mg = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })();
        const bg = (function(t3) {
          function e3(e4) {
            var n2 = t3.call(this, e4) || this;
            return n2.listenTo(n2.model, "change:options", n2.updateOptions), n2;
          }
          return mg(e3, t3), e3.prototype.templateInput = function() {
            var t4 = this.pfx, e4 = this.ppfx;
            return '\n      <div class="'.concat(e4, "field ").concat(e4, 'select">\n        <span id="').concat(t4, 'input-holder"></span>\n        <div class="').concat(e4, 'sel-arrow">\n          <div class="').concat(e4, 'd-s-arrow"></div>\n        </div>\n      </div>\n    ');
          }, e3.prototype.updateOptions = function() {
            delete this.input, this.onRender();
          }, e3.prototype.onRender = function() {
            var t4 = this.pfx, e4 = this.model, n2 = e4.getOptions();
            if (!this.input) {
              var o2 = [];
              n2.forEach((function(t5) {
                var n3 = e4.getOptionId(t5), r3 = e4.getOptionLabel(n3), i2 = t5.style ? t5.style.replace(/"/g, "&quot;") : "", a2 = i2 ? 'style="'.concat(i2, '"') : "", s2 = n3.replace(/"/g, "&quot;");
                o2.push('<option value="'.concat(s2, '" ').concat(a2, ">").concat(r3, "</option>"));
              }));
              var r2 = this.el.querySelector("#".concat(t4, "input-holder"));
              r2.innerHTML = "<select>".concat(o2.join(""), "</select>"), this.input = r2.firstChild;
            }
          }, e3.prototype.__setValueInput = function(t4) {
            var e4 = this.model, n2 = this.getInputEl(), o2 = e4.getOptions()[0], r2 = o2 ? e4.getOptionId(o2) : "";
            n2 && (n2.value = t4 || r2);
          }, e3;
        })(Fv);
        var _g = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), wg = function() {
          return wg = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, wg.apply(this, arguments);
        };
        const xg = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return _g(e3, t3), e3.prototype.defaults = function() {
            return wg(wg({}, yg.getDefaults()), { full: 1 });
          }, e3;
        })(yg);
        var Cg = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Sg = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Cg(e3, t3), e3.prototype.templateInput = function() {
            var t4 = this.ppfx;
            return '<div class="'.concat(t4, "field ").concat(t4, 'field-radio"></div>');
          }, e3.prototype.onRender = function() {
            var t4 = this.pfx, e4 = this.ppfx, n2 = this.model, o2 = "".concat(e4, "radio-item-label"), r2 = n2.getName(), i2 = n2.getOptions(), a2 = "".concat(t4, "radio ").concat(t4, "radio-").concat(r2), s2 = n2.cid;
            if (!this.input) {
              var l2 = [];
              i2.forEach((function(i3) {
                var c3 = i3.className ? "".concat(i3.className, " ").concat(t4, "icon ").concat(o2) : "", u2 = n2.getOptionId(i3), p2 = "".concat(r2, "-").concat(u2, "-").concat(s2), d2 = c3 ? "" : n2.getOptionLabel(u2), f2 = i3.title ? 'title="'.concat(i3.title, '"') : "", h2 = n2.getValue() === u2 ? "checked" : "";
                l2.push('\n          <div class="'.concat(e4, 'radio-item">\n            <input type="radio" class="').concat(a2, '" id="').concat(p2, '" name="').concat(r2, "-").concat(s2, '" value="').concat(u2, '" ').concat(h2, '/>\n            <label class="').concat(c3 || o2, '" ').concat(f2, ' for="').concat(p2, '">').concat(d2, "</label>\n          </div>\n        "));
              }));
              var c2 = this.el.querySelector(".".concat(e4, "field"));
              c2.innerHTML = '<div class="'.concat(e4, 'radio-items">').concat(l2.join(""), "</div>"), this.input = c2.firstChild;
            }
          }, e3.prototype.__setValueInput = function(t4) {
            var e4, n2 = this.model, o2 = t4 || n2.getDefaultValue(), r2 = null === (e4 = this.getInputEl()) || void 0 === e4 ? void 0 : e4.querySelector('[value="'.concat(o2, '"]'));
            r2 && (r2.checked = true);
          }, e3;
        })(bg);
        const Og = Sg;
        var Tg = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Pg = function() {
          return Pg = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Pg.apply(this, arguments);
        }, Eg = (function(n2) {
          function o2() {
            return null !== n2 && n2.apply(this, arguments) || this;
          }
          return Tg(o2, n2), o2.prototype.defaults = function() {
            return Pg(Pg({}, bv.getDefaults()), { units: [], unit: "", min: "", max: "", step: 1 });
          }, o2.prototype.getUnits = function() {
            return this.get("units") || [];
          }, o2.prototype.getUnit = function() {
            return this.get("unit");
          }, o2.prototype.getMin = function() {
            return this.get("min");
          }, o2.prototype.getMax = function() {
            return this.get("max");
          }, o2.prototype.getStep = function() {
            return this.get("step");
          }, o2.prototype.upUnit = function(t3, e3) {
            return void 0 === e3 && (e3 = {}), this._up({ unit: t3 }, e3);
          }, o2.prototype.initialize = function(t3, n3) {
            void 0 === t3 && (t3 = {}), void 0 === n3 && (n3 = {}), bv.callParentInit(bv, this, t3, n3);
            var o3 = this.get("unit"), r2 = this.getUnits();
            this.input = (0, e2.hasWin)() ? new Vc({ model: this }) : void 0, r2.length && !o3 && this.set("unit", r2[0], { silent: true }), bv.callInit(this, t3, n3);
          }, o2.prototype.__getClearProps = function() {
            return Pg(Pg({}, bv.prototype.__getClearProps()), { unit: "" });
          }, o2.prototype.parseValue = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = bv.prototype.parseValue.apply(this, arguments), o3 = this.input.validateInputValue(n3.value, Pg({ deepCheck: 1 }, e3)), r2 = o3.value, i2 = o3.unit;
            return n3.value = r2, n3.unit = i2, n3;
          }, o2.prototype.getFullValue = function() {
            var e3 = this.get("value"), n3 = this.get("unit"), o3 = (0, t2.isUndefined)(e3) ? "" : "".concat(e3), r2 = !(0, t2.isUndefined)(n3) && o3 ? n3 : "", i2 = "".concat(o3).concat(r2);
            return bv.prototype.getFullValue.apply(this, [i2]);
          }, o2;
        })(bv);
        const kg = Eg;
        var Ag = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), jg = function() {
          return jg = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, jg.apply(this, arguments);
        };
        const Mg = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Ag(e3, t3), e3.prototype.defaults = function() {
            return jg(jg({}, kg.getDefaults()), { showInput: 1 });
          }, e3;
        })(kg);
        var Dg = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Lg = function() {
          return Lg = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Lg.apply(this, arguments);
        };
        const Ig = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Dg(e3, t3), e3.prototype.events = function() {
            return Lg(Lg({}, cg.prototype.events()), { "change [type=range]": "inputValueChanged", "input [type=range]": "inputValueChangedSoft", change: "" });
          }, e3.prototype.templateInput = function(t4) {
            var e4 = this.ppfx;
            return '\n      <div class="'.concat(e4, "field ").concat(e4, 'field-range">\n        <input type="range" min="').concat(t4.get("min"), '" max="').concat(t4.get("max"), '" step="').concat(t4.get("step"), '"/>\n      </div>\n    ');
          }, e3.prototype.getSliderEl = function() {
            return this.slider || (this.slider = this.el.querySelector("input[type=range]")), this.slider;
          }, e3.prototype.inputValueChanged = function(t4) {
            t4.stopPropagation(), this.model.upValue(this.getSliderEl().value);
          }, e3.prototype.inputValueChangedSoft = function(t4) {
            t4.stopPropagation(), this.model.upValue(this.getSliderEl().value, { partial: true });
          }, e3.prototype.setValue = function(t4) {
            var e4 = this.model, n2 = e4.parseValue(t4);
            this.getSliderEl().value = "" === t4 ? e4.getDefaultValue() : parseFloat(n2.value), cg.prototype.setValue.apply(this, arguments);
          }, e3.prototype.onRender = function() {
            cg.prototype.onRender.apply(this, arguments), this.model.get("showInput") || (this.inputInst.el.style.display = "none");
          }, e3.prototype.clearCached = function() {
            cg.prototype.clearCached.apply(this, arguments), delete this.slider;
          }, e3;
        })(cg);
        const Ng = u.pM.extend(op).extend({ extendViewApi: 1, init: function() {
          var t3 = this.opts, e3 = this.em, n2 = t3.module || (null == e3 ? void 0 : e3.get("StyleManager"));
          n2 && (n2.__listenAdd(this, n2.events.propertyAdd), n2.__listenRemove(this, n2.events.propertyRemove));
        }, types: [{ id: "stack", model: Mv, view: ng, isType: function(t3) {
          if (t3 && "stack" == t3.type) return t3;
        } }, { id: "composite", model: Ov, view: qv, isType: function(t3) {
          if (t3 && "composite" == t3.type) return t3;
        } }, { id: "file", model: bv, view: ag, isType: function(t3) {
          if (t3 && "file" == t3.type) return t3;
        } }, { id: "color", model: bv, view: dg, isType: function(t3) {
          if (t3 && "color" == t3.type) return t3;
        } }, { id: "select", model: yg, view: bg, isType: function(t3) {
          if (t3 && "select" == t3.type) return t3;
        } }, { id: "radio", model: xg, view: Og, isType: function(t3) {
          if (t3 && "radio" == t3.type) return t3;
        } }, { id: "slider", model: Mg, view: Ig, isType: function(t3) {
          if (t3 && "slider" == t3.type) return t3;
        } }, { id: "integer", model: kg, view: cg, isType: function(t3) {
          if (t3 && "integer" == t3.type) return t3;
        } }, { id: "number", model: kg, view: cg, isType: function(t3) {
          if (t3 && "number" == t3.type) return t3;
        } }, { id: "base", model: bv, view: Fv, isType: function(t3) {
          return t3.type = "base", t3;
        } }] });
        var Rg = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Vg = function() {
          return Vg = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Vg.apply(this, arguments);
        }, Fg = function(t3, e3) {
          var n2 = {};
          for (var o2 in t3) Object.prototype.hasOwnProperty.call(t3, o2) && e3.indexOf(o2) < 0 && (n2[o2] = t3[o2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o2 = Object.getOwnPropertySymbols(t3); r2 < o2.length; r2++) e3.indexOf(o2[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o2[r2]) && (n2[o2[r2]] = t3[o2[r2]]);
          }
          return n2;
        }, Hg = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Ug = (function(e3) {
          function n2(n3, o2) {
            void 0 === o2 && (o2 = {});
            var r2 = e3.call(this, n3) || this, i2 = o2.em;
            r2.em = i2;
            var a2 = n3 || {}, s2 = r2.buildProperties(a2.buildProps), l2 = r2.get("name") || "", c2 = [];
            !r2.get("id") && r2.set("id", l2.replace(/ /g, "_").toLowerCase()), c2 = (c2 = s2 ? r2.extendProperties(s2) : r2.get("properties").map((function(e4) {
              return (0, t2.isString)(e4) ? r2.buildProperties(e4)[0] : e4;
            })).filter(Boolean)).map((function(t3) {
              return r2.checkExtend(t3);
            }));
            var u2 = new Ng(c2, { em: i2 });
            return u2.sector = r2, r2.set("properties", u2), r2;
          }
          return Rg(n2, e3), n2.prototype.defaults = function() {
            return { id: "", name: "", open: true, visible: true, extendBuilded: true, properties: [] };
          }, Object.defineProperty(n2.prototype, "properties", { get: function() {
            return this.get("properties");
          }, enumerable: false, configurable: true }), n2.prototype.getId = function() {
            return this.get("id");
          }, n2.prototype.getName = function() {
            var t3, e4 = this.getId();
            return (null === (t3 = this.em) || void 0 === t3 ? void 0 : t3.t("styleManager.sectors.".concat(e4))) || this.get("name");
          }, n2.prototype.setName = function(t3) {
            return this.set("name", t3);
          }, n2.prototype.isOpen = function() {
            return !!this.get("open");
          }, n2.prototype.setOpen = function(t3) {
            return this.set("open", t3);
          }, n2.prototype.isVisible = function() {
            return !!this.get("visible");
          }, n2.prototype.getProperties = function(t3) {
            void 0 === t3 && (t3 = {});
            var e4 = this.properties;
            return (e4.models ? Hg([], e4.models, true) : e4).filter((function(e5) {
              var n3 = true;
              (t3.withValue && (n3 = e5.hasValue({ noParent: true })), t3.withParentValue) && (n3 = !e5.hasValue({ noParent: true }) && e5.hasValue());
              return n3;
            }));
          }, n2.prototype.getProperty = function(t3) {
            return this.getProperties().filter((function(e4) {
              return e4.get("id") === t3;
            }))[0] || void 0;
          }, n2.prototype.addProperty = function(t3, e4) {
            return this.properties.add(this.checkExtend(t3), e4);
          }, n2.prototype.extendProperties = function(e4, n3, o2) {
            void 0 === o2 && (o2 = false);
            for (var r2 = e4.length, i2 = n3 || this.get("properties"), a2 = this.get("extendBuilded"), s2 = [], l2 = 0, c2 = i2.length; l2 < c2; l2++) {
              for (var u2 = i2[l2], p2 = 0, d2 = 0; d2 < r2; d2++) {
                var f2 = e4[d2];
                if (u2.property != f2.property && u2.id != f2.property) ;
                else {
                  var h2 = u2.properties;
                  h2 && h2.length && (u2.properties = this.extendProperties(f2.properties || [], h2, 1)), e4[d2] = a2 ? (0, t2.extend)(f2, u2) : u2, s2[d2] = e4[d2], p2 = 1;
                }
              }
              p2 || (e4.push(u2), s2.push(u2));
            }
            return o2 ? s2.filter((function(t3) {
              return t3;
            })) : e4;
          }, n2.prototype.checkExtend = function(e4) {
            var n3 = ((0, t2.isString)(e4) ? { extend: e4 } : e4) || {}, o2 = n3.extend, r2 = Fg(n3, ["extend"]);
            return o2 ? Vg(Vg({}, this.buildProperties([o2])[0] || {}), r2) : e4;
          }, n2.prototype.buildProperties = function(t3) {
            var e4, n3 = t3 || [];
            if (!n3.length) return [];
            var o2 = null === (e4 = this.em) || void 0 === e4 ? void 0 : e4.Styles.builtIn;
            return null == o2 ? void 0 : o2.build(n3);
          }, n2;
        })(u.Kx);
        const zg = Ug;
        var Bg = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Wg = function() {
          return Wg = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Wg.apply(this, arguments);
        };
        const $g = (function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return Bg(e3, t3), e3.prototype.initialize = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n2 = e4.module, o2 = e4.em;
            this.em = o2, this.module = n2, this.listenTo(this, "reset", this.onReset);
          }, e3.prototype.model = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n2 = e4.collection.em;
            return new zg(t4, Wg(Wg({}, e4), { em: n2 }));
          }, e3.prototype.onReset = function(t4, e4) {
            void 0 === e4 && (e4 = {}), (e4.previousModels || []).forEach((function(t5) {
              return t5.get("properties").reset();
            }));
          }, e3;
        })(u.pM);
        var qg = function() {
          return qg = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, qg.apply(this, arguments);
        }, Gg = function(t3, e3) {
          var n2 = {};
          for (var o2 in t3) Object.prototype.hasOwnProperty.call(t3, o2) && e3.indexOf(o2) < 0 && (n2[o2] = t3[o2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o2 = Object.getOwnPropertySymbols(t3); r2 < o2.length; r2++) e3.indexOf(o2[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o2[r2]) && (n2[o2[r2]] = t3[o2[r2]]);
          }
          return n2;
        }, Kg = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Yg = function(t3) {
          return t3.map((function(t4) {
            return { id: t4 };
          }));
        }, Jg = (function() {
          function e3() {
            this.props = {}, this.typeNumber = "number", this.typeColor = "color", this.typeRadio = "radio", this.typeSelect = "select", this.typeFile = "file", this.typeSlider = "slider", this.typeComposite = "composite", this.typeStack = "stack", this.unitsSize = ["px", "%", "em", "rem", "vh", "vw"], this.unitsSizeNoPerc = ["px", "em", "rem", "vh", "vw"], this.unitsTime = ["s", "ms"], this.unitsAngle = ["deg", "rad", "grad"], this.fixedValues = ["initial", "inherit", "auto"];
            var t3 = ", sans-serif", e4 = ["flex-start", "flex-end", "center"], n2 = Kg(Kg([], e4, true), ["baseline", "stretch"], false);
            this.optsBgSize = Yg(["auto", "cover", "contain"]), this.optsBgAttach = Yg(["scroll", "fixed", "local"]), this.optsBgRepeat = Yg(["repeat", "repeat-x", "repeat-y", "no-repeat"]), this.optsWrap = Yg(["nowrap", "wrap", "wrap-reverse"]), this.optsOverflow = Yg(["visible", "hidden", "scroll", "auto"]), this.optsDir = Yg(["row", "row-reverse", "column", "column-reverse"]), this.opstDisplay = Yg(["block", "inline", "inline-block", "flex", "none"]), this.optsTransitFn = Yg(["linear", "ease", "ease-in", "ease-out", "ease-in-out"]), this.optsCursor = Yg(["auto", "pointer", "copy", "crosshair", "grab", "grabbing", "help", "move", "text"]), this.optsFloat = Yg(["none", "left", "right"]), this.optsPos = Yg(["static", "relative", "absolute", "fixed"]), this.optsTextAlign = Yg(["left", "center", "right", "justify"]), this.optsFlexAlign = Yg(n2), this.optsJustCont = Yg(Kg(Kg([], e4, true), ["space-between", "space-around", "space-evenly"], false)), this.optsAlignCont = Yg(Kg(Kg([], e4, true), ["space-between", "space-around", "stretch"], false)), this.optsAlignSelf = Yg(Kg(["auto"], n2, true)), this.optsTransitProp = Yg(["all", "width", "height", "background-color", "transform", "box-shadow", "opacity"]), this.optsBorderStyle = Yg(["none", "solid", "dotted", "dashed", "double", "groove", "ridge", "inset", "outset"]), this.optsBgPos = Yg(["left top", "left center", "left bottom", "right top", "right center", "right bottom", "center top", "center center", "center bottom"]), this.optsWeight = [{ id: "100", label: "Thin" }, { id: "200", label: "Extra-Light" }, { id: "300", label: "Light" }, { id: "400", label: "Normal" }, { id: "500", label: "Medium" }, { id: "600", label: "Semi-Bold" }, { id: "700", label: "Bold" }, { id: "800", label: "Extra-Bold" }, { id: "900", label: "Ultra-Bold" }], this.optsShadowType = [{ id: "", label: "Outside" }, { id: "inset", label: "Inside" }], this.optsFonts = ["Arial, Helvetica" + t3, "Arial Black, Gadget" + t3, "Brush Script MT" + t3, "Comic Sans MS, cursive" + t3, "Courier New, Courier, monospace", "Georgia, serif", "Helvetica" + t3, "Impact, Charcoal" + t3, "Lucida Sans Unicode, Lucida Grande" + t3, "Tahoma, Geneva" + t3, "Times New Roman, Times, serif", "Trebuchet MS, Helvetica" + t3, "Verdana, Geneva" + t3].map((function(t4) {
              return { id: t4, label: t4.split(",")[0] };
            })), this.fixedFontSizes = ["medium", "xx-small", "x-small", "small", "large", "x-large", "xx-large", "smaller", "larger", "length", "initial", "inherit"], this.fixedLetSpace = ["normal", "initial", "inherit"], this.requireFlex = { display: ["flex"] }, this.init();
          }
          return e3.prototype.__sub = function(e4) {
            var n2 = this;
            return function() {
              return e4.map((function(e5) {
                if ((0, t2.isString)(e5)) return n2.get(e5);
                var o2 = e5.extend, r2 = Gg(e5, ["extend"]);
                return qg(qg({}, n2.get(o2)), r2);
              }));
            };
          }, e3.prototype.init = function() {
            var t3 = this, e4 = this, n2 = e4.fixedValues, o2 = e4.requireFlex, r2 = e4.typeNumber;
            this.props = {};
            var i2 = [["text-shadow-h", { type: r2, default: "0", units: this.unitsSizeNoPerc }], ["top", { default: "auto", units: this.unitsSize, fixedValues: n2 }, "text-shadow-h"], ["right", {}, "top"], ["bottom", {}, "top"], ["left", {}, "top"], ["margin-top", { default: "0" }, "top"], ["margin-right", {}, "margin-top"], ["margin-bottom", {}, "margin-top"], ["margin-left", {}, "margin-top"], ["padding-top", { min: 0 }, "margin-top"], ["padding-right", {}, "padding-top"], ["padding-bottom", {}, "padding-top"], ["padding-left", {}, "padding-top"], ["width", { min: 0 }, "top"], ["min-width", {}, "width"], ["max-width", {}, "width"], ["height", {}, "width"], ["min-height", {}, "width"], ["max-height", {}, "width"], ["flex-basis", { requiresParent: o2 }, "width"], ["font-size", { default: "medium", fixedValues: this.fixedFontSizes }, "width"], ["letter-spacing", { default: "normal", fixedValues: this.fixedLetSpace }, "top"], ["line-height", {}, "letter-spacing"], ["text-shadow-v", {}, "text-shadow-h"], ["text-shadow-blur", { min: 0 }, "text-shadow-h"], ["border-radius-c", { property: "border-radius", fixedValues: void 0 }, "padding-top"], ["border-top-left-radius", {}, "border-radius-c"], ["border-top-right-radius", {}, "border-radius-c"], ["border-bottom-left-radius", {}, "border-radius-c"], ["border-bottom-right-radius", {}, "border-radius-c"], ["border-width", { units: this.unitsSizeNoPerc }, "border-radius-c"], ["box-shadow-h", {}, "text-shadow-h"], ["box-shadow-v", {}, "text-shadow-h"], ["box-shadow-blur", { default: "5px" }, "text-shadow-blur"], ["box-shadow-spread", {}, "text-shadow-h"], ["transition-duration", { default: "2s", units: this.unitsTime }, "border-radius-c"], ["perspective", {}, "border-radius-c"], ["order", { type: r2, default: "0", requiresParent: o2 }], ["flex-grow", {}, "order"], ["flex-shrink", { default: "1" }, "order"], ["float", { type: this.typeRadio, default: "none", options: this.optsFloat }], ["position", { default: "static", options: this.optsPos }, "float"], ["text-align", { default: "left", options: this.optsTextAlign }, "float"], ["color", { type: this.typeColor, default: "black", full: true }], ["text-shadow-color", {}, "color"], ["border-color", {}, "color"], ["box-shadow-color", {}, "color"], ["background-color", { default: "none" }, "color"], ["background-image", { type: this.typeFile, functionName: "url", default: "none", full: true }], ["opacity", { type: this.typeSlider, default: "1", min: 0, max: 1, step: 0.01, full: true }], ["display", { type: this.typeSelect, default: "block", options: this.opstDisplay }], ["flex-direction", { default: "row", options: this.optsDir, requires: o2 }, "display"], ["flex-wrap", { default: "nowrap", options: this.optsWrap }, "flex-direction"], ["justify-content", { default: "flex-start", options: this.optsJustCont }, "flex-wrap"], ["align-items", { default: "stretch", options: this.optsFlexAlign }, "flex-wrap"], ["align-content", { options: this.optsAlignCont }, "align-items"], ["align-self", { default: "auto", options: this.optsAlignSelf, requiresParent: o2 }, "display"], ["font-family", { default: "Arial, Helvetica, sans-serif", options: this.optsFonts }, "display"], ["font-weight", { default: "400", options: this.optsWeight }, "display"], ["border-style", { default: "solid", options: this.optsBorderStyle }, "display"], ["box-shadow-type", { default: "", options: this.optsShadowType }, "display"], ["background-repeat", { default: "repeat", options: this.optsBgRepeat }, "display"], ["background-position", { default: "left top", options: this.optsBgPos }, "display"], ["background-attachment", { default: "scroll", options: this.optsBgAttach }, "display"], ["background-size", { default: "auto", options: this.optsBgSize }, "display"], ["transition-property", { default: "width", options: this.optsTransitProp }, "display"], ["transition-timing-function", { default: "ease", options: this.optsTransitFn }, "display"], ["cursor", { default: "auto", options: this.optsCursor }, "display"], ["overflow", { default: "visible", options: this.optsOverflow }, "display"], ["overflow-x", {}, "overflow"], ["overflow-y", {}, "overflow"], ["margin", { type: this.typeComposite, properties: this.__sub([{ extend: "margin-top", id: "margin-top-sub" }, { extend: "margin-right", id: "margin-right-sub" }, { extend: "margin-bottom", id: "margin-bottom-sub" }, { extend: "margin-left", id: "margin-left-sub" }]) }], ["padding", { properties: this.__sub([{ extend: "padding-top", id: "padding-top-sub" }, { extend: "padding-right", id: "padding-right-sub" }, { extend: "padding-bottom", id: "padding-bottom-sub" }, { extend: "padding-left", id: "padding-left-sub" }]) }, "margin"], ["border", { properties: this.__sub([{ extend: "border-width", id: "border-width-sub" }, { extend: "border-style", id: "border-style-sub" }, { extend: "border-color", id: "border-color-sub" }]) }, "margin"], ["border-radius", { properties: this.__sub([{ extend: "border-top-left-radius", id: "border-top-left-radius-sub" }, { extend: "border-top-right-radius", id: "border-top-right-radius-sub" }, { extend: "border-bottom-left-radius", id: "border-bottom-left-radius-sub" }, { extend: "border-bottom-right-radius", id: "border-bottom-right-radius-sub" }]) }, "margin"], ["transition", { type: this.typeStack, properties: this.__sub([{ extend: "transition-property", id: "transition-property-sub" }, { extend: "transition-duration", id: "transition-duration-sub" }, { extend: "transition-timing-function", id: "transition-timing-function-sub" }]) }], ["box-shadow", { preview: true, layerLabel: function(t4, e5) {
              var n3 = e5.values, o3 = n3["box-shadow-h"], r3 = n3["box-shadow-v"], i3 = n3["box-shadow-blur"], a2 = n3["box-shadow-spread"];
              return "".concat(o3, " ").concat(r3, " ").concat(i3, " ").concat(a2);
            }, properties: this.__sub(["box-shadow-h", "box-shadow-v", "box-shadow-blur", "box-shadow-spread", "box-shadow-color", "box-shadow-type"]) }, "transition"], ["text-shadow", { default: "none", layerLabel: function(t4, e5) {
              var n3 = e5.values, o3 = n3["text-shadow-h"], r3 = n3["text-shadow-v"], i3 = n3["text-shadow-blur"];
              return "".concat(o3, " ").concat(r3, " ").concat(i3);
            }, properties: this.__sub(["text-shadow-h", "text-shadow-v", "text-shadow-blur", "text-shadow-color"]) }, "box-shadow"], ["background", { detached: true, layerLabel: function(t4, e5) {
              var n3 = e5.values;
              return [n3["background-repeat-sub"] || "", n3["background-position-sub"] || "", n3["background-attachment-sub"] || "", n3["background-size-sub"] || ""].join(" ");
            }, properties: this.__sub([{ extend: "background-image", id: "background-image-sub" }, { extend: "background-repeat", id: "background-repeat-sub" }, { extend: "background-position", id: "background-position-sub" }, { extend: "background-attachment", id: "background-attachment-sub" }, { extend: "background-size", id: "background-size-sub" }]) }, "box-shadow"], ["transform", { type: "stack", layerSeparator: " ", fromStyle: function(t4, e5) {
              var n3 = e5.property, o3 = t4[e5.name] || "", r3 = n3.getLayerSeparator();
              return o3 ? o3.split(r3).map((function(t5) {
                var e6 = n3.__parseFn(t5);
                return { "transform-type": e6.name, "transform-value": e6.value };
              })) : [];
            }, toStyle: function(t4, e5) {
              var n3;
              return (n3 = {})[e5.name] = "".concat(t4["transform-type"], "(").concat(t4["transform-value"], ")"), n3;
            }, properties: [{ property: "transform-type", name: "Type", type: this.typeSelect, default: "rotateZ", full: true, options: [{ id: "scaleX", propValue: { units: [""], step: 0.01 } }, { id: "scaleY", propValue: { units: [""], step: 0.01 } }, { id: "scaleZ", propValue: { units: [""], step: 0.01 } }, { id: "rotateX", propValue: { units: this.unitsAngle, step: 1 } }, { id: "rotateY", propValue: { units: this.unitsAngle, step: 1 } }, { id: "rotateZ", propValue: { units: this.unitsAngle, step: 1 } }, { id: "translateX", propValue: { units: this.unitsSize, step: 1 } }, { id: "translateY", propValue: { units: this.unitsSize, step: 1 } }], onChange: function(t4) {
              var e5 = t4.property;
              if (t4.to.value) {
                var n3 = e5.getOption(), o3 = qg({}, n3.propValue || {}), r3 = e5.getParent().getProperty("transform-value"), i3 = r3.getUnit();
                (!i3 || (null == o3 ? void 0 : o3.units.indexOf(i3)) < 0) && (o3.unit = (null == o3 ? void 0 : o3.units[0]) || ""), r3.up(o3);
              }
            } }, { property: "transform-value", type: this.typeNumber, default: "0", full: true }] }]];
            return i2.forEach((function(e5) {
              var n3 = e5[0], o3 = e5[1], r3 = e5[2];
              t3.add(n3, o3 || {}, { from: r3 });
            })), this;
          }, e3.prototype.add = function(e4, n2, o2) {
            void 0 === n2 && (n2 = {}), void 0 === o2 && (o2 = {});
            var r2 = o2.from || "", i2 = this.props[r2 || e4] || {}, a2 = qg(qg(qg({}, i2), { property: e4 }), n2);
            return a2.properties && (0, t2.isFunction)(a2.properties) && (a2.properties = a2.properties()), this.props[e4] = a2, a2;
          }, e3.prototype.get = function(t3) {
            return this.props[t3];
          }, e3.prototype.build = function(e4) {
            var n2 = this, o2 = [];
            return ((0, t2.isString)(e4) ? [e4] : e4).forEach((function(t3) {
              o2.push(n2.get(t3) || { property: t3 });
            })), o2;
          }, e3;
        })();
        const Xg = Jg;
        var Zg = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Qg = function(t3, e3) {
          return Object.defineProperty ? Object.defineProperty(t3, "raw", { value: e3 }) : t3.raw = e3, t3;
        }, ty = (function(t3) {
          function e3(e4) {
            var n2 = t3.call(this, e4) || this, o2 = e4.config || {}, r2 = n2.model, i2 = o2.em;
            return n2.config = o2, n2.em = i2, n2.pfx = o2.stylePrefix || "", n2.listenTo(r2, "destroy remove", n2.remove), n2.listenTo(r2, "change:open", n2.updateOpen), n2.listenTo(r2, "change:visible", n2.updateVisibility), n2;
          }
          return Zg(e3, t3), e3.prototype.template = function(t4) {
            var e4, n2 = t4.pfx, o2 = t4.label, i2 = null === (e4 = this.em) || void 0 === e4 ? void 0 : e4.getConfig().icons, a2 = (null == i2 ? void 0 : i2.caret) || "", s2 = "".concat(n2, "sector-");
            return r(ny || (ny = Qg(['\n      <div class="', 'title" data-sector-title>\n        <div class="', 'caret">$', '</div>\n        <div class="', 'label">', "</div>\n      </div>\n    "], ['\n      <div class="', 'title" data-sector-title>\n        <div class="', 'caret">$', '</div>\n        <div class="', 'label">', "</div>\n      </div>\n    "])), s2, s2, a2, s2, o2);
          }, e3.prototype.events = function() {
            return { "click [data-sector-title]": "toggle" };
          }, e3.prototype.updateOpen = function() {
            var t4 = this, e4 = t4.$el, n2 = t4.model, o2 = t4.pfx, r2 = n2.isOpen();
            e4[r2 ? "addClass" : "removeClass"]("".concat(o2, "open")), this.getPropertiesEl().style.display = r2 ? "" : "none";
          }, e3.prototype.updateVisibility = function() {
            this.el.style.display = this.model.isVisible() ? "" : "none";
          }, e3.prototype.getPropertiesEl = function() {
            var t4 = this.$el, e4 = this.pfx;
            return t4.find(".".concat(e4, "properties")).get(0);
          }, e3.prototype.toggle = function() {
            var t4 = this.model;
            t4.setOpen(!t4.get("open"));
          }, e3.prototype.renderProperties = function() {
            var t4 = this.model, e4 = this.config, n2 = t4.get("properties");
            if (n2) {
              var o2 = new zv({ collection: n2, config: e4 });
              this.$el.append(o2.render().el);
            }
          }, e3.prototype.render = function() {
            var t4 = this, e4 = t4.pfx, n2 = t4.model, o2 = t4.$el, r2 = n2.getId(), i2 = n2.getName();
            return o2.html(this.template({ pfx: e4, label: i2 })), this.renderProperties(), o2.attr("class", "".concat(e4, "sector ").concat(e4, "sector__").concat(r2, " no-select")), this.updateOpen(), this;
          }, e3;
        })(u.Ss);
        const ey = ty;
        var ny, oy = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), ry = (function(t3) {
          function e3(e4) {
            void 0 === e4 && (e4 = {});
            var n2 = t3.call(this, e4) || this, o2 = e4.module, r2 = e4.config, i2 = n2.collection;
            return n2.pfx = (null == r2 ? void 0 : r2.stylePrefix) || "", n2.ppfx = (null == r2 ? void 0 : r2.pStylePrefix) || "", n2.config = r2, n2.module = o2, n2.listenTo(i2, "add", n2.addTo), n2.listenTo(i2, "reset", n2.render), n2;
          }
          return oy(e3, t3), e3.prototype.remove = function() {
            var t4 = this;
            return u.Ss.prototype.remove.apply(this, arguments), ["config", "module", "em"].forEach((function(e4) {
              return t4[e4] = {};
            })), this;
          }, e3.prototype.addTo = function(t4, e4, n2) {
            void 0 === n2 && (n2 = {}), this.addToCollection(t4, null, n2);
          }, e3.prototype.addToCollection = function(t4, e4, n2) {
            void 0 === n2 && (n2 = {});
            var o2 = this.config, r2 = this.el, i2 = e4 || r2, a2 = new ey({ model: t4, config: o2 }).render().el;
            return (0, Z.Sc)(i2, a2, n2.at), a2;
          }, e3.prototype.render = function() {
            var t4 = this, e4 = this, n2 = e4.$el, o2 = e4.pfx, r2 = e4.ppfx;
            n2.empty();
            var i2 = document.createDocumentFragment();
            return this.collection.each((function(e5) {
              return t4.addToCollection(e5, i2);
            })), n2.append(i2), n2.addClass("".concat(o2, "sectors ").concat(r2, "one-bg ").concat(r2, "two-color")), this;
          }, e3;
        })(u.Ss);
        const iy = ry;
        var ay = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), sy = function() {
          return sy = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, sy.apply(this, arguments);
        }, ly = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, cy = "style", uy = "".concat(cy, ":"), py = "".concat(uy, "sector"), dy = "".concat(py, ":add"), fy = "".concat(py, ":remove"), hy = "".concat(py, ":update"), vy = "".concat(uy, "property"), gy = "".concat(vy, ":add"), yy = "".concat(vy, ":remove"), my = "".concat(vy, ":update"), by = "".concat(uy, "layer:select"), _y = "".concat(uy, "target"), wy = "".concat(uy, "custom"), xy = function(t3) {
          return t3 || 0 === t3;
        }, Cy = { all: cy, sectorAdd: dy, sectorRemove: fy, sectorUpdate: hy, propertyAdd: gy, propertyRemove: yy, propertyUpdate: my, layerSelect: by, target: _y, custom: wy }, Sy = (function(n2) {
          function o2(e3) {
            var o3 = n2.call(this, e3, "StyleManager", new $g([], { em: e3 }), Cy, fv()) || this;
            o3.Sector = zg, o3.storageKey = "", (0, t2.bindAll)(o3, "__clearStateTarget");
            var r2 = o3.config, i2 = r2.pStylePrefix;
            i2 && (r2.stylePrefix = i2 + r2.stylePrefix), o3.builtIn = new Xg(), o3.properties = new Ng([], { em: e3, module: o3 }), o3.sectors = o3.all;
            var a2 = new u.Kx({ targets: [] });
            o3.model = a2;
            var s2 = $.I.update, l2 = "component:toggled ".concat(s2, ":classes change:state change:device frame:resized selector:type");
            o3.upAll = (0, t2.debounce)((function() {
              return o3.__upSel();
            }), 0), a2.listenTo(e3, l2, o3.upAll), a2.listenTo(e3, "component:toggled", o3.__clearStateTarget);
            var c2 = (0, t2.debounce)((function() {
              o3.__upProps(), o3.__trgCustom();
            }), 0);
            a2.listenTo(e3, "styleable:change undo redo", c2);
            var p2 = (0, t2.debounce)((function() {
              return o3.__trgCustom();
            }), 0);
            return a2.listenTo(e3, "".concat(by, " ").concat(_y), p2), a2.on("change:lastTarget", (function() {
              return e3.trigger(_y, o3.getSelected());
            })), o3;
          }
          return ay(o2, n2), o2.prototype.__upSel = function() {
            this.select(this.em.getSelectedAll());
          }, o2.prototype.__trgCustom = function(t3) {
            void 0 === t3 && (t3 = {}), this.__ctn = this.__ctn || t3.container, this.em.trigger(this.events.custom, { container: this.__ctn });
          }, o2.prototype.__trgEv = function(t3) {
            for (var e3, n3 = [], o3 = 1; o3 < arguments.length; o3++) n3[o3 - 1] = arguments[o3];
            (e3 = this.em).trigger.apply(e3, ly([t3], n3, false));
          }, o2.prototype.__clearStateTarget = function() {
            var t3 = this, e3 = this.em, n3 = this.__getStateTarget();
            n3 && (null == e3 || e3.skip((function() {
              e3.Css.remove(n3), t3.model.set({ stateTarget: null });
            })));
          }, o2.prototype.onLoad = function() {
            this.sectors.add(this.config.sectors, { silent: true });
          }, o2.prototype.postRender = function() {
            this.__appendTo();
          }, o2.prototype.addSector = function(t3, e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = this.getSector(t3);
            return o3 || (e3.id = t3, o3 = this.sectors.add(e3, n3)), o3;
          }, o2.prototype.getSector = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.sectors.where({ id: t3 })[0];
            return !n3 && e3.warn && this._logNoSector(t3), n3 || null;
          }, o2.prototype.getSectors = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.sectors, n3 = e3 && e3.models ? t3.array ? ly([], e3.models, true) : e3 : [];
            return t3.visible ? n3.filter((function(t4) {
              return t4.isVisible();
            })) : n3;
          }, o2.prototype.removeSector = function(t3) {
            return this.getSectors().remove(this.getSector(t3, { warn: true }));
          }, o2.prototype.addProperty = function(t3, e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3, r2 = this.getSector(t3, { warn: true });
            return r2 && (o3 = r2.addProperty(e3, n3)), o3;
          }, o2.prototype.getProperty = function(t3, e3) {
            var n3, o3 = this.getSector(t3, { warn: true });
            return o3 && (n3 = o3.properties.filter((function(t4) {
              return t4.get("property") === e3 || t4.get("id") === e3;
            }))[0]), n3;
          }, o2.prototype.getProperties = function(t3) {
            var e3, n3 = this.getSector(t3, { warn: true });
            return n3 && (e3 = n3.properties), e3;
          }, o2.prototype.removeProperty = function(t3, e3) {
            var n3 = this.getProperties(t3);
            return n3 ? n3.remove(this.getProperty(t3, e3)) : null;
          }, o2.prototype.select = function(n3, o3) {
            var r2 = this;
            void 0 === o3 && (o3 = {});
            var i2 = this.em, a2 = (0, t2.isArray)(n3) ? n3 : [n3], s2 = o3.stylable, l2 = i2.Css, c2 = [];
            a2.filter(Boolean).forEach((function(e3) {
              var n4 = e3;
              if ((0, t2.isString)(e3)) {
                var o4 = l2.getRule(e3) || l2.setRule(e3);
                !(0, t2.isUndefined)(s2) && o4.set({ stylable: s2 }), n4 = o4;
              }
              c2.push(n4);
            }));
            var u2 = o3.component || c2.filter((function(t3) {
              return (0, e2.isComponent)(t3);
            })).reverse()[0];
            c2 = c2.map((function(t3) {
              return r2.getModelToStyle(t3);
            }));
            var p2 = i2.getState(), d2 = c2.slice().reverse()[0], f2 = this.getParentRules(d2, { state: p2, component: u2 }), h2 = this.__getStateTarget();
            return i2.skip((function() {
              var t3;
              if (p2 && (null === (t3 = null == d2 ? void 0 : d2.getState) || void 0 === t3 ? void 0 : t3.call(d2))) {
                var e3 = d2.getStyle();
                h2 ? h2.setStyle(e3) : h2 = l2.getAll().add({ selectors: "gjs-selected", style: e3, shallow: true, important: true });
              } else h2 && (l2.remove(h2), h2 = void 0);
            })), this.model.set({ targets: c2, lastTarget: d2, lastTargetParents: f2, stateTarget: h2, component: u2 }), this.__upProps(o3), c2;
          }, o2.prototype.getSelected = function() {
            return this.model.get("lastTarget");
          }, o2.prototype.getSelectedAll = function() {
            return this.model.get("targets");
          }, o2.prototype.getSelectedParents = function() {
            return this.model.get("lastTargetParents") || [];
          }, o2.prototype.__getStateTarget = function() {
            return this.model.get("stateTarget");
          }, o2.prototype.addStyleTargets = function(t3, e3) {
            this.getSelectedAll().map((function(n4) {
              return n4.addStyle(t3, e3);
            }));
            var n3 = this.getSelected();
            n3 && this.__emitCmpStyleUpdate(t3);
            var o3 = this.__getStateTarget();
            n3 && (null == o3 || o3.setStyle(n3.getStyle(), e3));
          }, o2.prototype.getBuiltIn = function(t3) {
            return this.builtIn.get(t3);
          }, o2.prototype.getBuiltInAll = function() {
            return this.builtIn.props;
          }, o2.prototype.addBuiltIn = function(t3, e3) {
            return this.builtIn.add(t3, e3);
          }, o2.prototype.getModelToStyle = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.em, o3 = e3.skipAdd;
            if (n3 && (null == t3 ? void 0 : t3.toHTML)) {
              var r2 = n3.getConfig(), i2 = n3.UndoManager, a2 = n3.Css, s2 = n3.Selectors, l2 = s2 ? s2.getConfig() : {}, c2 = r2.devicePreviewMode ? "" : n3.get("state"), u2 = t3.get("classes").getStyleable(), p2 = u2.length, d2 = !l2.componentFirst || e3.useClasses, f2 = { noCount: 1 }, h2 = { state: c2, addOpts: f2 };
              i2.skip((function() {
                var e4;
                if (p2 && d2) {
                  var i3 = n3.getCurrentMedia();
                  (e4 = a2.get(u2, c2, i3)) || o3 || (e4 = a2.add(u2, c2, i3, {}, f2));
                } else if (r2.avoidInlineStyle) {
                  var s3 = t3.getId();
                  !(e4 = a2.getIdRule(s3, h2)) && !o3 && (e4 = a2.setIdRule(s3, {}, h2)), t3.is("wrapper") && e4.set("wrapper", 1, f2);
                }
                e4 && (t3 = e4);
              }));
            }
            return t3;
          }, o2.prototype.getParentRules = function(e3, n3) {
            var o3 = void 0 === n3 ? {} : n3, r2 = o3.state, i2 = o3.component, a2 = this.em, s2 = [];
            if (a2 && e3) {
              var l2 = i2, c2 = a2.Css, u2 = a2.CodeManager.getGenerator("css"), p2 = e3.toHTML ? e3 : e3.getComponent(), d2 = { array: true }, f2 = [], h2 = [], v2 = [], g2 = [], y2 = function(t3) {
                return t3.length ? c2.getRules().filter((function(e4) {
                  var n4 = e4.getSelectors().map((function(t4) {
                    return t4.getFullName();
                  }));
                  return 0 !== n4.length && n4.every((function(e5) {
                    return t3.indexOf(e5) >= 0;
                  }));
                })) : [];
              }, m2 = function(t3) {
                return t3 ? c2.getRules().filter((function(e4) {
                  return e4.selectorsToString() === t3;
                })) : [];
              };
              if (p2) f2 = c2.getRules("#".concat(p2.getId())), h2 = m2(p2.get("tagName")), g2 = (l2 ? y2(l2.getSelectors().getFullName(d2)) : []).concat(h2).concat(f2);
              else f2 = l2 ? c2.getRules("#".concat(l2.getId())) : [], h2 = m2((null == l2 ? void 0 : l2.get("tagName")) || ""), v2 = y2(((null == l2 ? void 0 : l2.getSelectors().getFullName(d2)) || []).filter((function(t3) {
                return -1 === e3.getSelectors().getFullName(d2).findIndex((function(e4) {
                  return e4 === t3;
                }));
              })).concat(e3.getSelectors().getFullName(d2))), g2 = h2.concat(f2).concat(v2);
              var b2 = g2.filter((function(e4) {
                return (0, t2.isUndefined)(r2) ? 1 : e4.get("state") === r2;
              })).sort(u2.sortRules).reverse();
              s2 = b2.slice(b2.indexOf(e3) + 1);
            }
            return s2;
          }, o2.prototype.addType = function(t3, e3) {
            this.properties.addType(t3, e3);
          }, o2.prototype.getType = function(t3) {
            return this.properties.getType(t3);
          }, o2.prototype.getTypes = function() {
            return this.properties.getTypes();
          }, o2.prototype.createType = function(t3, e3) {
            var n3 = void 0 === e3 ? {} : e3, o3 = n3.model, r2 = void 0 === o3 ? {} : o3, i2 = n3.view, a2 = void 0 === i2 ? {} : i2, s2 = this.config, l2 = this.getType(t3);
            if (l2) return new l2.view(sy({ model: new l2.model(r2), config: s2 }, a2));
          }, o2.prototype.render = function() {
            var t3 = this, e3 = t3.config, n3 = t3.em, o3 = t3.SectView, r2 = o3 && o3.el;
            return this.SectView = new iy({ el: r2, em: n3, config: e3, module: this, collection: this.sectors }), this.SectView.render().el;
          }, o2.prototype._logNoSector = function(t3) {
            var e3 = this.em;
            e3 && e3.logWarning("'".concat(t3, "' sector not found"));
          }, o2.prototype.__emitCmpStyleUpdate = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.em;
            if (!t3.__p) {
              var o3 = this.getSelectedAll(), r2 = e3.components || n3.getSelectedAll(), i2 = Array.isArray(r2) ? r2 : [r2], a2 = sy({}, t3);
              delete a2.__p, i2.forEach((function(t4) {
                return !o3.includes(t4) && t4.__onStyleChange(a2);
              }));
            }
          }, o2.prototype.__upProps = function(t3) {
            var e3 = this;
            void 0 === t3 && (t3 = {});
            var n3 = this.getSelected();
            if (n3) {
              var o3 = this.sectors, r2 = this.model.get("component"), i2 = this.getSelectedParents(), a2 = n3.getStyle(), s2 = i2.map((function(t4) {
                return { target: t4, style: t4.getStyle() };
              }));
              o3.map((function(n4) {
                n4.getProperties().map((function(n5) {
                  e3.__upProp(n5, a2, s2, t3);
                }));
              })), o3.forEach((function(t4) {
                var e4 = t4.getProperties();
                e4.forEach((function(e5) {
                  var i4 = e5.__checkVisibility({ target: n3, sector: t4, component: r2, sectors: o3.models });
                  e5.set("visible", i4);
                }));
                var i3 = e4.some((function(t5) {
                  return t5.isVisible();
                }));
                t4.set("visible", i3);
              }));
            }
          }, o2.prototype.__upProp = function(t3, e3, n3, o3) {
            var r2 = this, i2 = t3.getName(), a2 = e3[i2], s2 = xy(a2), l2 = "stack" === t3.getType(), c2 = "composite" === t3.getType(), u2 = sy(sy({}, o3), { __up: true }), p2 = !c2 && !l2, d2 = t3, f2 = t3, h2 = l2 ? d2.__getLayersFromStyle(e3) : [], v2 = c2 ? f2.__getPropsFromStyle(e3) : {}, g2 = s2 ? a2 : null, y2 = null;
            if (l2 && null === h2 || c2 && null === v2) {
              var m2 = l2 ? "__getLayersFromStyle" : "__getPropsFromStyle";
              if (_2 = n3.filter((function(t4) {
                return null !== d2[m2](t4.style);
              }))[0]) {
                g2 = _2.style[i2], y2 = _2.target;
                var b2 = d2[m2](_2.style);
                l2 ? h2 = b2 : v2 = b2;
              }
            } else if (!s2) {
              var _2;
              g2 = null, (_2 = n3.filter((function(t4) {
                return xy(t4.style[i2]);
              }))[0]) && (g2 = _2.style[i2], y2 = _2.target);
            }
            if (t3.__setParentTarget(y2), p2 && t3.__getFullValue() !== g2 && t3.upValue(g2, u2), l2 && d2.__setLayers(h2 || [], { isEmptyValue: d2.isEmptyValueStyle(e3) }), c2) {
              var w2 = f2.getProperties();
              if (f2.isDetached()) {
                var x2 = f2.__getPropsFromStyle(e3, { byName: true }) || {}, C2 = n3.map((function(t4) {
                  return sy(sy({}, t4), { style: f2.__getPropsFromStyle(t4.style, { byName: true }) || {} });
                }));
                w2.map((function(t4) {
                  return r2.__upProp(t4, x2, C2, o3);
                }));
              } else f2.__setProperties(v2 || {}, u2), f2.getProperties().map((function(t4) {
                return t4.__setParentTarget(y2);
              }));
            }
          }, o2.prototype.destroy = function() {
            var t3;
            [this.properties, this.sectors].forEach((function(t4) {
              t4.reset(), t4.stopListening();
            })), null === (t3 = this.SectView) || void 0 === t3 || t3.remove(), this.model.stopListening(), this.upAll.cancel();
          }, o2;
        })(b);
        const Oy = Sy;
        var Ty = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Py = function() {
          return Py = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Py.apply(this, arguments);
        };
        const Ey = (function(t3) {
          function e3(e4, n2) {
            var o2 = t3.call(this, e4, n2) || this;
            return o2.em = n2, o2.model = function(t4, e5) {
              return void 0 === e5 && (e5 = {}), new da(t4, Py(Py({}, e5), { em: n2 }));
            }, o2;
          }
          return Ty(e3, t3), e3;
        })(u.pM);
        var ky = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Ay = (function(t3) {
          function n2(e3) {
            var n3 = t3.call(this, e3, "DataSources", new Ey([], e3), yt) || this;
            return n3.storageKey = "dataSources", n3.events = yt, Object.assign(n3, a.Events), n3;
          }
          return ky(n2, t3), n2.prototype.destroy = function() {
          }, n2.prototype.add = function(t4, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.all;
            return t4.id = t4.id || this._createId(), n3.add(t4, e3);
          }, n2.prototype.get = function(t4) {
            return this.all.get(t4);
          }, n2.prototype.getValue = function(t4, n3) {
            return (0, e2.get)(this.getContext(), t4, n3);
          }, n2.prototype.getContext = function() {
            return this.all.reduce((function(t4, e3) {
              return t4[e3.id] = e3.records.reduce((function(t5, e4, n3) {
                var o2 = e4;
                return t5[o2.id || n3] = o2.attributes, t5;
              }), {}), t4;
            }), {});
          }, n2.prototype.remove = function(t4, e3) {
            return this.__remove(t4, e3);
          }, n2.prototype.fromPath = function(t4) {
            var n3 = [], o2 = (0, e2.stringToPath)(t4 || ""), r2 = o2[0], i2 = o2[1], a2 = o2.slice(2), s2 = this.get(r2), l2 = null == s2 ? void 0 : s2.records.get(i2);
            return s2 && n3.push(s2), l2 && (n3.push(l2), a2.length && n3.push(a2.join("."))), n3;
          }, n2.prototype.store = function() {
            var t4, e3 = [];
            return this.all.forEach((function(t5) {
              var n3 = t5.get("skipFromStorage");
              n3 || e3.push({ id: t5.id, name: t5.get("name"), records: t5.records.toJSON(), skipFromStorage: n3 });
            })), (t4 = {})[this.storageKey] = e3, t4;
          }, n2.prototype.load = function(t4) {
            return this.loadProjectData(t4);
          }, n2.prototype.postLoad = function() {
            var t4 = this.em, e3 = this.all;
            t4.listenTo(e3, u.e2, (function(e4, n3, o2) {
              return t4.changesUp(o2 || n3);
            })), this.em.UndoManager.add(e3);
          }, n2;
        })(b);
        const jy = Ay;
        var My = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Dy = function() {
          return Dy = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Dy.apply(this, arguments);
        }, Ly = function(t3, e3, n2, o2) {
          return new (n2 || (n2 = Promise))((function(r2, i2) {
            function a2(t4) {
              try {
                l2(o2.next(t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function s2(t4) {
              try {
                l2(o2["throw"](t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function l2(t4) {
              var e4;
              t4.done ? r2(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2((function(t5) {
                t5(e4);
              }))).then(a2, s2);
            }
            l2((o2 = o2.apply(t3, e3 || [])).next());
          }));
        }, Iy = function(t3, e3) {
          var n2, o2, r2, i2, a2 = { label: 0, sent: function() {
            if (1 & r2[0]) throw r2[1];
            return r2[1];
          }, trys: [], ops: [] };
          return i2 = { next: s2(0), throw: s2(1), return: s2(2) }, "function" == typeof Symbol && (i2[Symbol.iterator] = function() {
            return this;
          }), i2;
          function s2(s3) {
            return function(l2) {
              return (function(s4) {
                if (n2) throw new TypeError("Generator is already executing.");
                for (; i2 && (i2 = 0, s4[0] && (a2 = 0)), a2; ) try {
                  if (n2 = 1, o2 && (r2 = 2 & s4[0] ? o2["return"] : s4[0] ? o2["throw"] || ((r2 = o2["return"]) && r2.call(o2), 0) : o2.next) && !(r2 = r2.call(o2, s4[1])).done) return r2;
                  switch (o2 = 0, r2 && (s4 = [2 & s4[0], r2.value]), s4[0]) {
                    case 0:
                    case 1:
                      r2 = s4;
                      break;
                    case 4:
                      return a2.label++, { value: s4[1], done: false };
                    case 5:
                      a2.label++, o2 = s4[1], s4 = [0];
                      continue;
                    case 7:
                      s4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(r2 = a2.trys, (r2 = r2.length > 0 && r2[r2.length - 1]) || 6 !== s4[0] && 2 !== s4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === s4[0] && (!r2 || s4[1] > r2[0] && s4[1] < r2[3])) {
                        a2.label = s4[1];
                        break;
                      }
                      if (6 === s4[0] && a2.label < r2[1]) {
                        a2.label = r2[1], r2 = s4;
                        break;
                      }
                      if (r2 && a2.label < r2[2]) {
                        a2.label = r2[2], a2.ops.push(s4);
                        break;
                      }
                      r2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  s4 = e3.call(t3, a2);
                } catch (t4) {
                  s4 = [6, t4], o2 = 0;
                } finally {
                  n2 = r2 = 0;
                }
                if (5 & s4[0]) throw s4[1];
                return { value: s4[0] ? s4[1] : void 0, done: true };
              })([s3, l2]);
            };
          }
        }, Ny = function(t3, e3) {
          var n2 = {};
          for (var o2 in t3) Object.prototype.hasOwnProperty.call(t3, o2) && e3.indexOf(o2) < 0 && (n2[o2] = t3[o2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var r2 = 0;
            for (o2 = Object.getOwnPropertySymbols(t3); r2 < o2.length; r2++) e3.indexOf(o2[r2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, o2[r2]) && (n2[o2[r2]] = t3[o2[r2]]);
          }
          return n2;
        }, Ry = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        };
        s().$ = l["default"];
        var Vy = [$d, id, yf, $h, vc, Rp, Dl, Oy, sl, Pf, Dh, sh, dv, Qc, Vu, yo, _u, Ts, jy], Fy = [jy, xp, ns, Xp, Ra];
        !(function(e3) {
          var n2 = e3.$;
          if (n2 && n2.prototype && "jQuery" !== n2.prototype.constructor.name) {
            var o2 = n2.fn;
            o2.hide = function() {
              return this.css("display", "none");
            }, o2.show = function() {
              return this.css("display", "block");
            }, o2.focus = function() {
              var t3 = this.get(0);
              return t3 && t3.focus(), this;
            }, o2.bind = function(t3, e4) {
              return this.on(t3, e4);
            }, o2.unbind = function(e4, n3) {
              if ((0, t2.isObject)(e4)) {
                for (var o3 in e4) e4.hasOwnProperty(o3) && this.off(o3, e4[o3]);
                return this;
              }
              return this.off(e4, n3);
            }, o2.click = function(t3) {
              return t3 ? this.on("click", t3) : this.trigger("click");
            }, o2.change = function(t3) {
              return t3 ? this.on("change", t3) : this.trigger("change");
            }, o2.keydown = function(t3) {
              return t3 ? this.on("keydown", t3) : this.trigger("keydown");
            }, o2.delegate = function(t3, e4, n3, o3) {
              return o3 || (o3 = n3), this.on(e4, t3, (function(t4) {
                t4.data = n3, o3(t4);
              }));
            }, o2.scrollLeft = function() {
              var t3 = this.get(0), e4 = (t3 = 9 == t3.nodeType ? t3.defaultView : t3) instanceof Window ? t3 : null;
              return e4 ? e4.pageXOffset : t3.scrollLeft || 0;
            }, o2.scrollTop = function() {
              var t3 = this.get(0), e4 = (t3 = 9 == t3.nodeType ? t3.defaultView : t3) instanceof Window ? t3 : null;
              return e4 ? e4.pageYOffset : t3.scrollTop || 0;
            };
            var r2 = n2.prototype.offset;
            o2.offset = function(t3) {
              var e4, n3;
              return t3 && (e4 = t3.top, n3 = t3.left), void 0 !== e4 && this.css("top", "".concat(e4, "px")), void 0 !== n3 && this.css("left", "".concat(n3, "px")), r2.call(this);
            }, n2.map = function(t3, e4) {
              for (var n3 = [], o3 = 0; o3 < t3.length; o3++) n3.push(e4(t3[o3], o3));
              return n3;
            };
            var i2 = Array.prototype.indexOf;
            n2.inArray = function(t3, e4, n3) {
              return null == e4 ? -1 : i2.call(e4, t3, n3);
            }, n2.Event = function(t3, e4) {
              if (!(this instanceof n2.Event)) return new n2.Event(t3, e4);
              this.type = t3, this.isDefaultPrevented = function() {
                return false;
              };
            };
          }
        })({ $: l["default"] });
        var Hy = { debug: console.log, info: console.info, warning: console.warn, error: console.error }, Uy = (function(n2) {
          function o2(e3) {
            void 0 === e3 && (e3 = {});
            var o3 = n2.call(this) || this;
            o3.Model = u.Kx, o3.Collection = u.pM, o3.events = Rh, o3.__skip = false, o3.defaultRunning = false, o3.loadTriggered = false, o3.destroyed = false, o3._isStoring = false, o3._config = e3;
            var r2 = o3.config;
            o3.set("Config", e3), o3.set("modules", []), o3.set("toLoad", []), o3.set("storables", []), o3.set("selected", new f()), o3.set("dmode", r2.dragMode);
            var i2 = r2.el, a2 = r2.log, s2 = true === a2 ? (0, t2.keys)(Hy) : (0, t2.isArray)(a2) ? a2 : [];
            return (0, t2.bindAll)(o3, "initBaseColorPicker"), i2 && r2.fromElement && (r2.components = i2.innerHTML), o3.attrsOrig = i2 ? (0, t2.toArray)(i2.attributes).reduce((function(t3, e4) {
              return t3[e4.nodeName] = e4.nodeValue, t3;
            }), {}) : "", r2.components && !r2.pageManager && (r2.pageManager = { pages: [{ component: r2.components }] }), Vy.forEach((function(t3) {
              return o3.loadModule(t3);
            })), Fy.forEach((function(t3) {
              return o3.loadStorableModule(t3);
            })), o3.on("change:componentHovered", o3.componentHovered, o3), o3.on("change:changesCount", o3.updateChanges, o3), o3.on("change:readyLoad change:readyCanvas", o3._checkReady, o3), s2.forEach((function(t3) {
              return o3.listenLog(t3);
            })), [{ from: "change:selectedComponent", to: "component:toggled" }].forEach((function(t3) {
              var e4 = t3.from, n3 = t3.to;
              o3.listenTo(o3, e4, (function() {
                for (var t4 = [], r3 = 0; r3 < arguments.length; r3++) t4[r3] = arguments[r3];
                o3.trigger.apply(o3, Ry([n3], t4, false)), o3.logWarning("The event '".concat(e4, "' is deprecated, replace it with '").concat(n3, "'"));
              }));
            })), o3;
          }
          return My(o2, n2), o2.prototype.defaults = function() {
            return { editing: 0, selected: 0, clipboard: null, dmode: 0, componentHovered: null, previousModel: null, changesCount: 0, storables: [], modules: [], toLoad: [], opened: {}, device: "" };
          }, Object.defineProperty(o2.prototype, "storables", { get: function() {
            return this.get("storables");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "modules", { get: function() {
            return this.get("modules");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "toLoad", { get: function() {
            return this.get("toLoad");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "selected", { get: function() {
            return this.get("selected");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "shallow", { get: function() {
            return this.get("shallow");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "I18n", { get: function() {
            return this.get("I18n");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Utils", { get: function() {
            return this.get("Utils");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Commands", { get: function() {
            return this.get("Commands");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Keymaps", { get: function() {
            return this.get("Keymaps");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Modal", { get: function() {
            return this.get("Modal");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Panels", { get: function() {
            return this.get("Panels");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "CodeManager", { get: function() {
            return this.get("CodeManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "UndoManager", { get: function() {
            return this.get("UndoManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "RichTextEditor", { get: function() {
            return this.get("RichTextEditor");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Canvas", { get: function() {
            return this.get("Canvas");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Editor", { get: function() {
            return this.get("Editor");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Components", { get: function() {
            return this.get("DomComponents");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Css", { get: function() {
            return this.get("CssComposer");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Blocks", { get: function() {
            return this.get("BlockManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Selectors", { get: function() {
            return this.get("SelectorManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Storage", { get: function() {
            return this.get("StorageManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Traits", { get: function() {
            return this.get("TraitManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Parser", { get: function() {
            return this.get("Parser");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Layers", { get: function() {
            return this.get("LayerManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Assets", { get: function() {
            return this.get("AssetManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Devices", { get: function() {
            return this.get("DeviceManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Pages", { get: function() {
            return this.get("PageManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "Styles", { get: function() {
            return this.get("StyleManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "DataSources", { get: function() {
            return this.get("DataSources");
          }, enumerable: false, configurable: true }), o2.prototype._checkReady = function() {
            this.get("readyLoad") && this.get("readyCanvas") && !this.get("ready") && this.set("ready", true);
          }, o2.prototype.getContainer = function() {
            return this.config.el;
          }, o2.prototype.listenLog = function(t3) {
            this.listenTo(this, "log:".concat(t3), Hy[t3]);
          }, Object.defineProperty(o2.prototype, "config", { get: function() {
            return this._config;
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "version", { get: function() {
            var t3;
            return (null === (t3 = this.config.grapesjs) || void 0 === t3 ? void 0 : t3.version) || "";
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "isHeadless", { get: function() {
            return !!this.config.headless;
          }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "isShallow", { get: function() {
            return !!this.get("isShallow");
          }, enumerable: false, configurable: true }), o2.prototype.initModules = function() {
            this.modules.forEach((function(t3) {
              return t3.onInit();
            }));
          }, o2.prototype.getConfig = function(e3) {
            var n3 = this.config;
            return (0, t2.isUndefined)(e3) ? n3 : n3[e3];
          }, o2.prototype.loadOnStart = function() {
            var t3 = this, e3 = this.config, n3 = e3.projectData, r2 = e3.headless, i2 = { initial: true }, a2 = this.Storage;
            this.toLoad.reverse().forEach((function(t4) {
              return t4.onLoad();
            }));
            var s2 = function() {
              t3.modules.forEach((function(e4) {
                return e4.postLoad && e4.postLoad(t3);
              })), t3.set("readyLoad", 1);
            };
            r2 ? (n3 && this.loadData(n3, i2), s2()) : this._storageTimeout = setTimeout((function() {
              return Ly(t3, void 0, void 0, (function() {
                var t4;
                return Iy(this, (function(e4) {
                  switch (e4.label) {
                    case 0:
                      return n3 ? (this.loadData(n3, i2), [3, 5]) : [3, 1];
                    case 1:
                      if (!(null == a2 ? void 0 : a2.canAutoload())) return [3, 5];
                      e4.label = 2;
                    case 2:
                      return e4.trys.push([2, 4, , 5]), [4, this.load({}, i2)];
                    case 3:
                      return e4.sent(), [3, 5];
                    case 4:
                      return t4 = e4.sent(), this.logError(t4), [3, 5];
                    case 5:
                      return s2(), [2];
                  }
                }));
              }));
            }));
            var l2 = new o2({ noticeOnUnload: false, storageManager: false, undoManager: false });
            l2.set({ isShallow: true }), l2.Pages.onLoad(), l2.Canvas.postLoad(), this.set("shallow", l2);
          }, o2.prototype.updateChanges = function(t3, e3, n3) {
            var o3 = this, r2 = this.Storage, i2 = this.getDirtyCount();
            n3.isClear || (this.updateItr && clearTimeout(this.updateItr), this.updateItr = setTimeout((function() {
              return o3.trigger(Rh.update);
            }))), this.config.noticeOnUnload && (window.onbeforeunload = i2 ? function() {
              return true;
            } : null), r2.isAutosave() && i2 >= r2.getStepsBeforeSave() && this.store().catch((function(t4) {
              return o3.logError(t4);
            }));
          }, o2.prototype.loadModule = function(t3) {
            var e3 = new t3(this);
            return this.set(e3.name, e3), e3.onLoad && this.toLoad.push(e3), this.modules.push(e3), e3;
          }, o2.prototype.loadStorableModule = function(t3) {
            var e3 = this.loadModule(t3);
            return this.storables.push(e3), e3;
          }, o2.prototype.init = function(t3, e3) {
            void 0 === e3 && (e3 = {}), this.destroyed && (this.initialize(e3), this.destroyed = false), this.set("Editor", t3);
          }, o2.prototype.getEditor = function() {
            return this.get("Editor");
          }, o2.prototype.handleUpdates = function(t3, e3, n3) {
            var o3 = this;
            void 0 === n3 && (n3 = {}), this.__skip || !this.loadTriggered || n3.temporary || n3.noCount || n3.avoidStore || n3.partial || (this.timedInterval && clearTimeout(this.timedInterval), this.timedInterval = setTimeout((function() {
              var t4 = o3.getDirtyCount() || 0, e4 = (n3.unset, Ny(n3, ["unset"]));
              o3.set("changesCount", t4 + 1, e4);
            }), 0));
          }, o2.prototype.changesUp = function(t3) {
            this.handleUpdates(0, 0, t3);
          }, o2.prototype.componentHovered = function(t3, e3, n3) {
            var o3 = this.previous("componentHovered");
            o3 && this.trigger("component:unhovered", o3, n3), e3 && this.trigger("component:hovered", e3, n3);
          }, o2.prototype.getSelected = function() {
            return this.selected.lastComponent();
          }, o2.prototype.getSelectedAll = function() {
            return this.selected.allComponents();
          }, o2.prototype.setSelected = function(e3, n3) {
            var o3 = this;
            void 0 === n3 && (n3 = {});
            var r2 = n3.event, i2 = r2 && (r2.ctrlKey || r2.metaKey), a2 = (r2 || {}).shiftKey, s2 = ((0, t2.isArray)(e3) ? e3 : [e3]).map((function(t3) {
              var e4, n4;
              return (null === (n4 = null === (e4 = null == t3 ? void 0 : t3.delegate) || void 0 === e4 ? void 0 : e4.select) || void 0 === n4 ? void 0 : n4.call(e4, t3)) || t3;
            })).filter(Boolean), l2 = this.getSelectedAll(), c2 = this.getConfig().multipleSelection, u2 = (0, t2.isArray)(e3);
            !u2 && e3 || this.removeSelected(l2.filter((function(e4) {
              return !(0, t2.contains)(s2, e4);
            }))), s2.forEach((function(e4) {
              if (e4 && (o3.trigger($.I.selectBefore, e4, n3), !e4.get("selectable") || n3.abort)) {
                if (!n3.useValid) return;
                for (var r3 = e4.parent(); r3 && !r3.get("selectable"); ) r3 = r3.parent();
                e4 = r3;
              }
              if (i2 && c2) return o3.toggleSelected(e4);
              if (a2 && c2) {
                if (o3.isEditing()) return;
                o3.clearSelection(o3.Canvas.getWindow());
                var s3, p2, d2 = e4.collection, f2 = e4.index();
                if (o3.getSelectedAll().forEach((function(e5) {
                  var n4 = e5.collection, o4 = e5.index();
                  n4 === d2 && (o4 < f2 ? s3 = (0, t2.isUndefined)(s3) ? o4 : Math.max(s3, o4) : o4 > f2 && (p2 = (0, t2.isUndefined)(p2) ? o4 : Math.min(p2, o4)));
                })), !(0, t2.isUndefined)(s3)) for (; s3 !== f2; ) o3.addSelected(d2.at(s3), n3), s3++;
                if (!(0, t2.isUndefined)(p2)) for (; p2 !== f2; ) o3.addSelected(d2.at(p2), n3), p2--;
                return o3.addSelected(e4, n3);
              }
              !u2 && o3.removeSelected(l2.filter((function(t3) {
                return t3 !== e4;
              }))), o3.addSelected(e4, n3);
            }));
          }, o2.prototype.addSelected = function(e3, n3) {
            var o3 = this;
            void 0 === n3 && (n3 = {}), ((0, t2.isArray)(e3) ? e3 : [e3]).forEach((function(e4) {
              var r2 = o3.selected;
              if (e4 && e4.get("selectable") && !e4.parents().some((function(t3) {
                return r2.hasComponent(t3);
              })) && (n3.forceChange && o3.removeSelected(e4, n3), r2.allComponents().filter((function(n4) {
                return (0, t2.contains)(n4.parents(), e4);
              })).forEach((function(t3) {
                return o3.removeSelected(t3, n3);
              })), r2.addComponent(e4, n3), o3.trigger($.I.select, e4, n3), o3.Canvas.addSpot({ type: W.F.Select, component: e4 }), n3.activate)) {
                var i2 = e4.getView();
                (null == i2 ? void 0 : i2.rendered) ? i2.onActive(n3.event) : e4.once($.I.render, (function(t3) {
                  return t3.view.onActive(n3.event);
                }));
              }
            }));
          }, o2.prototype.removeSelected = function(e3, n3) {
            var o3 = this;
            void 0 === n3 && (n3 = {}), this.selected.removeComponent(e3, n3), ((0, t2.isArray)(e3) ? e3 : [e3]).forEach((function(t3) {
              return o3.Canvas.removeSpots({ type: W.F.Select, component: t3 });
            }));
          }, o2.prototype.toggleSelected = function(e3, n3) {
            var o3 = this;
            void 0 === n3 && (n3 = {}), ((0, t2.isArray)(e3) ? e3 : [e3]).forEach((function(t3) {
              o3.selected.hasComponent(t3) ? o3.removeSelected(t3, n3) : o3.addSelected(t3, n3);
            }));
          }, o2.prototype.setHovered = function(t3, e3) {
            var n3 = this;
            void 0 === e3 && (e3 = {});
            var o3 = function(t4, e4) {
              var o4 = n3, r3 = o4.config, i3 = o4.Canvas, a2 = n3.getHovered(), s2 = n3.getSelectedAll(), l2 = W.F.Hover, c2 = W.F.Spacing;
              n3.set("componentHovered", t4 || null, e4), a2 && (i3.removeSpots({ type: l2, component: a2 }), i3.removeSpots({ type: c2, component: a2 })), t4 && (i3.addSpot({ type: l2, component: t4 }), s2.includes(t4) && !r3.showOffsetsSelected || i3.addSpot({ type: c2, component: t4 }));
            };
            if (!t3) return o3();
            var r2 = "component:hover";
            if (e3.forceChange && o3(), this.trigger("".concat(r2, ":before"), t3, e3), !t3.get("hoverable")) {
              if (!e3.useValid || e3.abort) return;
              for (var i2 = t3.parent(); i2 && !i2.get("hoverable"); ) i2 = i2.parent();
              t3 = i2;
            }
            e3.abort || (o3(t3, e3), this.trigger(r2, t3, e3));
          }, o2.prototype.getHovered = function() {
            return this.get("componentHovered");
          }, o2.prototype.setComponents = function(t3, e3) {
            return void 0 === e3 && (e3 = {}), this.Components.setComponents(t3, e3);
          }, o2.prototype.getComponents = function() {
            var t3 = this.Components, e3 = this.CodeManager;
            if (t3 && e3) {
              var n3 = t3.getComponents();
              return e3.getCode(n3, "json");
            }
          }, o2.prototype.setStyle = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.Css;
            return n3.clear(e3), n3.getAll().add(t3, e3), this;
          }, o2.prototype.addStyle = function(e3, n3) {
            void 0 === n3 && (n3 = {});
            var o3 = this.getStyle().add(e3, n3);
            return (0, t2.isArray)(o3) ? o3 : [o3];
          }, o2.prototype.getStyle = function() {
            return this.Css.getAll();
          }, o2.prototype.setState = function(t3) {
            return this.set("state", t3), this;
          }, o2.prototype.getState = function() {
            return this.get("state") || "";
          }, o2.prototype.getHtml = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.config, n3 = e3.optsHtml, o3 = e3.jsInHtml ? this.getJs(t3) : "", r2 = t3.component || this.Components.getComponent(), i2 = r2 ? this.CodeManager.getCode(r2, "html", Dy(Dy({}, n3), t3)) : "";
            return i2 += o3 ? "<script>".concat(o3, "<\/script>") : "";
          }, o2.prototype.getCss = function(e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.config, o3 = n3.optsCss, r2 = e3.avoidProtected, i2 = (0, t2.isUndefined)(e3.keepUnusedStyles) ? n3.keepUnusedStyles : e3.keepUnusedStyles, a2 = this.Css, s2 = e3.component || this.Components.getComponent(), l2 = r2 ? "" : n3.protectedCss, c2 = s2 && this.CodeManager.getCode(s2, "css", Dy(Dy({ cssc: a2, keepUnusedStyles: i2 }, o3), e3));
            return s2 ? e3.json ? c2 : l2 + c2 : "";
          }, o2.prototype.getJs = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = t3.component || this.Components.getWrapper();
            return e3 ? this.CodeManager.getCode(e3, "js").trim() : "";
          }, o2.prototype.store = function(t3) {
            return Ly(this, void 0, void 0, (function() {
              var e3, n3 = this;
              return Iy(this, (function(o3) {
                switch (o3.label) {
                  case 0:
                    return this._isStoring ? [2] : (this._isStoring = true, setTimeout((function() {
                      n3.clearDirtyCount();
                    }), 1), e3 = this.storeData(), [4, this.Storage.store(e3, t3)]);
                  case 1:
                    return o3.sent(), setTimeout((function() {
                      n3._isStoring = false;
                    }), 1), [2, e3];
                }
              }));
            }));
          }, o2.prototype.load = function(t3) {
            return Ly(this, arguments, void 0, (function(t4, n3) {
              var o3;
              return void 0 === n3 && (n3 = {}), Iy(this, (function(r2) {
                switch (r2.label) {
                  case 0:
                    return [4, this.Storage.load(t4)];
                  case 1:
                    return o3 = r2.sent(), this.loadData(o3, n3), [4, (0, e2.wait)()];
                  case 2:
                    return r2.sent(), n3.clear && (this.UndoManager.clear(), this.clearDirtyCount()), [2, o3];
                }
              }));
            }));
          }, o2.prototype.storeData = function() {
            var t3 = {}, e3 = this.getEditing();
            e3 && e3.trigger("sync:content", { noCount: true }), this.storables.forEach((function(e4) {
              t3 = Dy(Dy({}, t3), e4.store(1));
            }));
            var n3 = JSON.parse(JSON.stringify(t3));
            return this.trigger(Rh.projectGet, { project: n3 }), n3;
          }, o2.prototype.loadData = function(t3, n3) {
            void 0 === t3 && (t3 = {}), void 0 === n3 && (n3 = {});
            var o3 = { project: t3, options: n3, initial: !!n3.initial }, r2 = false;
            return (0, e2.isEmptyObj)(t3) || (this.storables.forEach((function(t4) {
              return t4.clear();
            })), this.storables.forEach((function(e3) {
              return e3.load(t3);
            })), r2 = true), this.trigger(Rh.projectLoad, Dy(Dy({}, o3), { loaded: r2 })), r2 && this.trigger(Rh.projectLoaded, o3), t3;
          }, o2.prototype.getDeviceModel = function() {
            var t3 = this.get("device");
            return this.Devices.get(t3);
          }, o2.prototype.runDefault = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.Commands.get(this.config.defaultCommand);
            e3 && !this.defaultRunning && (e3.stop(this, this, t3), e3.run(this, this, t3), this.defaultRunning = true);
          }, o2.prototype.stopDefault = function(t3) {
            void 0 === t3 && (t3 = {});
            var e3 = this.Commands;
            if (e3) {
              var n3 = e3.get(this.config.defaultCommand);
              n3 && this.defaultRunning && (n3.stop(this, this, t3), this.defaultRunning = false);
            }
          }, o2.prototype.refreshCanvas = function(t3) {
            void 0 === t3 && (t3 = {}), this.Canvas.refresh({ spots: t3.tools });
          }, o2.prototype.clearSelection = function(t3) {
            var e3;
            null === (e3 = (t3 || window).getSelection()) || void 0 === e3 || e3.removeAllRanges();
          }, o2.prototype.getCurrentMedia = function() {
            var t3 = this.config, e3 = this.getDeviceModel(), n3 = t3.mediaCondition, o3 = t3.devicePreviewMode, r2 = e3 && e3.get("widthMedia");
            return e3 && r2 && !o3 ? "(".concat(n3, ": ").concat(r2, ")") : "";
          }, o2.prototype.getWrapper = function() {
            return this.Components.getWrapper();
          }, o2.prototype.setCurrentFrame = function(t3) {
            return this.set("currentFrame", t3);
          }, o2.prototype.getCurrentFrame = function() {
            return this.get("currentFrame");
          }, o2.prototype.getCurrentFrameModel = function() {
            var t3;
            return null === (t3 = this.getCurrentFrame() || {}) || void 0 === t3 ? void 0 : t3.model;
          }, o2.prototype.getIcon = function(t3) {
            return (this.config.icons || {})[t3] || "";
          }, o2.prototype.getDirtyCount = function() {
            return this.get("changesCount");
          }, o2.prototype.clearDirtyCount = function() {
            return this.set({ changesCount: 0 }, { isClear: true });
          }, o2.prototype.getZoomDecimal = function() {
            return this.Canvas.getZoomDecimal();
          }, o2.prototype.getZoomMultiplier = function() {
            return this.Canvas.getZoomMultiplier();
          }, o2.prototype.setDragMode = function(t3) {
            return this.set("dmode", t3);
          }, o2.prototype.getDragMode = function(t3) {
            return (null == t3 ? void 0 : t3.getDragMode()) || this.get("dmode") || "";
          }, o2.prototype.t = function() {
            for (var t3 = [], e3 = 0; e3 < arguments.length; e3++) t3[e3] = arguments[e3];
            var n3 = this.get("I18n");
            return null == n3 ? void 0 : n3.t.apply(n3, t3);
          }, o2.prototype.inAbsoluteMode = function(t3) {
            return "absolute" === this.getDragMode(t3);
          }, o2.prototype.destroyAll = function() {
            var t3 = this, n3 = this.config, o3 = this.view;
            this.trigger(Rh.destroy);
            var r2 = this.getEditor(), i2 = (n3.grapesjs || {}).editors, a2 = void 0 === i2 ? [] : i2, s2 = this.get("shallow");
            this._storageTimeout && clearTimeout(this._storageTimeout), null == s2 || s2.destroyAll(), this.stopListening(), this.stopDefault(), (this.modules || []).slice().reverse().forEach((function(t4) {
              return t4.destroy();
            })), (null == o3 ? void 0 : o3.remove) && o3.remove(), this.clear({ silent: true }), this.destroyed = true, ["_config", "view", "_previousAttributes", "_events", "_listeners"].forEach((function(e3) {
              return t3[e3] = {};
            })), a2.splice(a2.indexOf(r2), 1), (0, e2.hasWin)() && (0, l["default"])(n3.el).empty().attr(this.attrsOrig), this.trigger(Rh.destroyed);
          }, o2.prototype.getEditing = function() {
            var t3 = this.get("editing");
            return t3 && t3.model || void 0;
          }, o2.prototype.setEditing = function(t3) {
            return this.set("editing", t3), this;
          }, o2.prototype.isEditing = function() {
            return !!this.get("editing");
          }, o2.prototype.log = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = Rh.log, o3 = e3.ns, r2 = e3.level, i2 = void 0 === r2 ? "debug" : r2;
            if (this.trigger(n3, t3, e3), i2 && this.trigger("".concat(n3, ":").concat(i2), t3, e3), o3) {
              var a2 = "".concat(n3, "-").concat(o3);
              this.trigger(a2, t3, e3), i2 && this.trigger("".concat(a2, ":").concat(i2), t3, e3);
            }
          }, o2.prototype.logInfo = function(t3, e3) {
            this.log(t3, Dy(Dy({}, e3), { level: "info" }));
          }, o2.prototype.logWarning = function(t3, e3) {
            this.log(t3, Dy(Dy({}, e3), { level: "warning" }));
          }, o2.prototype.logError = function(t3, e3) {
            this.log(t3, Dy(Dy({}, e3), { level: "error" }));
          }, o2.prototype.initBaseColorPicker = function(t3, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.config, o3 = n3.colorPicker, r2 = void 0 === o3 ? {} : o3, i2 = n3.el, a2 = n3.stylePrefix;
            return (0, l["default"])(t3).spectrum(Dy(Dy({ containerClassName: "".concat(a2, "one-bg ").concat(a2, "two-color"), appendTo: i2 || "body", maxSelectionSize: 8, showPalette: true, palette: [], showAlpha: true, chooseText: "Ok", cancelText: "" }, e3), r2));
          }, o2.prototype.skip = function(t3) {
            this.__skip = true;
            var e3 = this.UndoManager;
            e3 ? e3.skip(t3) : t3(), this.__skip = false;
          }, o2.prototype.data = function(e3, n3, o3) {
            var r2 = "_gjs-data";
            if (e3[r2] || (e3[r2] = {}), (0, t2.isUndefined)(o3)) return e3[r2][n3];
            e3[r2][n3] = o3;
          }, o2;
        })(u.Kx);
        const zy = Uy;
        var By = /* @__PURE__ */ (function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function o2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (o2.prototype = n2.prototype, new o2());
          };
        })(), Wy = function(t3, e3, n2, o2) {
          return new (n2 || (n2 = Promise))((function(r2, i2) {
            function a2(t4) {
              try {
                l2(o2.next(t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function s2(t4) {
              try {
                l2(o2["throw"](t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function l2(t4) {
              var e4;
              t4.done ? r2(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2((function(t5) {
                t5(e4);
              }))).then(a2, s2);
            }
            l2((o2 = o2.apply(t3, e3 || [])).next());
          }));
        }, $y = function(t3, e3) {
          var n2, o2, r2, i2, a2 = { label: 0, sent: function() {
            if (1 & r2[0]) throw r2[1];
            return r2[1];
          }, trys: [], ops: [] };
          return i2 = { next: s2(0), throw: s2(1), return: s2(2) }, "function" == typeof Symbol && (i2[Symbol.iterator] = function() {
            return this;
          }), i2;
          function s2(s3) {
            return function(l2) {
              return (function(s4) {
                if (n2) throw new TypeError("Generator is already executing.");
                for (; i2 && (i2 = 0, s4[0] && (a2 = 0)), a2; ) try {
                  if (n2 = 1, o2 && (r2 = 2 & s4[0] ? o2["return"] : s4[0] ? o2["throw"] || ((r2 = o2["return"]) && r2.call(o2), 0) : o2.next) && !(r2 = r2.call(o2, s4[1])).done) return r2;
                  switch (o2 = 0, r2 && (s4 = [2 & s4[0], r2.value]), s4[0]) {
                    case 0:
                    case 1:
                      r2 = s4;
                      break;
                    case 4:
                      return a2.label++, { value: s4[1], done: false };
                    case 5:
                      a2.label++, o2 = s4[1], s4 = [0];
                      continue;
                    case 7:
                      s4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(r2 = a2.trys, (r2 = r2.length > 0 && r2[r2.length - 1]) || 6 !== s4[0] && 2 !== s4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === s4[0] && (!r2 || s4[1] > r2[0] && s4[1] < r2[3])) {
                        a2.label = s4[1];
                        break;
                      }
                      if (6 === s4[0] && a2.label < r2[1]) {
                        a2.label = r2[1], r2 = s4;
                        break;
                      }
                      if (r2 && a2.label < r2[2]) {
                        a2.label = r2[2], a2.ops.push(s4);
                        break;
                      }
                      r2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  s4 = e3.call(t3, a2);
                } catch (t4) {
                  s4 = [6, t4], o2 = 0;
                } finally {
                  n2 = r2 = 0;
                }
                if (5 & s4[0]) throw s4[1];
                return { value: s4[0] ? s4[1] : void 0, done: true };
              })([s3, l2]);
            };
          }
        }, qy = (function(t3) {
          function n2(e3) {
            var n3 = t3.call(this, { model: e3 }) || this, o2 = e3.Panels, r2 = e3.UndoManager;
            return e3.view = n3, e3.once("change:ready", (function() {
              o2.active(), o2.disableButtons(), e3.getConfig().telemetry && n3.sendTelemetryData().catch((function() {
              })), setTimeout((function() {
                e3.trigger(Rh.load, e3.Editor), e3.loadTriggered = true, r2.clear(), e3.clearDirtyCount();
              }));
            })), n3;
          }
          return By(n2, t3), n2.prototype.render = function() {
            var t4 = this, n3 = this.$el, o2 = this.model, r2 = o2.Panels, i2 = o2.Canvas, a2 = o2.config, s2 = o2.modules, c2 = a2.stylePrefix, u2 = ["".concat(c2, "editor")];
            !a2.customUI && u2.push("".concat(c2, "one-bg ").concat(c2, "two-color"));
            var p2 = (0, l["default"])(a2.el || "body ".concat(a2.container));
            a2.cssIcons && (0, e2.appendStyles)(a2.cssIcons, { unique: true, prepand: true }), n3.empty(), a2.width && p2.css("width", a2.width), a2.height && p2.css("height", a2.height), n3.append(i2.render()), n3.append(r2.render());
            var d2 = o2.shallow.Canvas.render();
            return d2.style.display = "none", n3.append(d2), n3.attr("class", u2.join(" ")), p2.addClass("".concat(c2, "editor-cont")).empty().append(n3), s2.forEach((function(e3) {
              var n4;
              return null === (n4 = e3.postRender) || void 0 === n4 ? void 0 : n4.call(e3, t4);
            })), this;
          }, n2.prototype.sendTelemetryData = function() {
            return Wy(this, void 0, void 0, (function() {
              var t4, e3, n3, o2, r2, i2, a2;
              return $y(this, (function(s2) {
                switch (s2.label) {
                  case 0:
                    return "localhost" === (t4 = window.location.hostname) || t4.includes("localhost") ? [2] : (e3 = "gjs_telemetry_sent_", n3 = this.model.version, o2 = "".concat(e3).concat(n3), sessionStorage.getItem(o2) ? [2] : [4, fetch("".concat("https://app.grapesjs.com", "/api/gjs/telemetry/collect"), { method: "POST", body: JSON.stringify({ domain: t4, version: n3 }) })]);
                  case 1:
                    return (r2 = s2.sent()).ok ? [3, 3] : (i2 = Error.bind, a2 = "Failed to send telemetry data ".concat, [4, r2.text()]);
                  case 2:
                    throw new (i2.apply(Error, [void 0, a2.apply("Failed to send telemetry data ", [s2.sent()])]))();
                  case 3:
                    return sessionStorage.setItem(o2, "true"), Object.keys(sessionStorage).forEach((function(t5) {
                      t5.startsWith(e3) && t5 !== o2 && sessionStorage.removeItem(t5);
                    })), this.trigger(Rh.telemetryInit), [2];
                }
              }));
            }));
          }, n2;
        })(u.Ss);
        const Gy = qy;
        var Ky = function() {
          return Ky = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, Ky.apply(this, arguments);
        }, Yy = function(t3, e3, n2, o2) {
          return new (n2 || (n2 = Promise))((function(r2, i2) {
            function a2(t4) {
              try {
                l2(o2.next(t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function s2(t4) {
              try {
                l2(o2["throw"](t4));
              } catch (t5) {
                i2(t5);
              }
            }
            function l2(t4) {
              var e4;
              t4.done ? r2(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2((function(t5) {
                t5(e4);
              }))).then(a2, s2);
            }
            l2((o2 = o2.apply(t3, e3 || [])).next());
          }));
        }, Jy = function(t3, e3) {
          var n2, o2, r2, i2, a2 = { label: 0, sent: function() {
            if (1 & r2[0]) throw r2[1];
            return r2[1];
          }, trys: [], ops: [] };
          return i2 = { next: s2(0), throw: s2(1), return: s2(2) }, "function" == typeof Symbol && (i2[Symbol.iterator] = function() {
            return this;
          }), i2;
          function s2(s3) {
            return function(l2) {
              return (function(s4) {
                if (n2) throw new TypeError("Generator is already executing.");
                for (; i2 && (i2 = 0, s4[0] && (a2 = 0)), a2; ) try {
                  if (n2 = 1, o2 && (r2 = 2 & s4[0] ? o2["return"] : s4[0] ? o2["throw"] || ((r2 = o2["return"]) && r2.call(o2), 0) : o2.next) && !(r2 = r2.call(o2, s4[1])).done) return r2;
                  switch (o2 = 0, r2 && (s4 = [2 & s4[0], r2.value]), s4[0]) {
                    case 0:
                    case 1:
                      r2 = s4;
                      break;
                    case 4:
                      return a2.label++, { value: s4[1], done: false };
                    case 5:
                      a2.label++, o2 = s4[1], s4 = [0];
                      continue;
                    case 7:
                      s4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(r2 = a2.trys, (r2 = r2.length > 0 && r2[r2.length - 1]) || 6 !== s4[0] && 2 !== s4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === s4[0] && (!r2 || s4[1] > r2[0] && s4[1] < r2[3])) {
                        a2.label = s4[1];
                        break;
                      }
                      if (6 === s4[0] && a2.label < r2[1]) {
                        a2.label = r2[1], r2 = s4;
                        break;
                      }
                      if (r2 && a2.label < r2[2]) {
                        a2.label = r2[2], a2.ops.push(s4);
                        break;
                      }
                      r2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  s4 = e3.call(t3, a2);
                } catch (t4) {
                  s4 = [6, t4], o2 = 0;
                } finally {
                  n2 = r2 = 0;
                }
                if (5 & s4[0]) throw s4[1];
                return { value: s4[0] ? s4[1] : void 0, done: true };
              })([s3, l2]);
            };
          }
        }, Xy = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var o2, r2 = 0, i2 = e3.length; r2 < i2; r2++) !o2 && r2 in e3 || (o2 || (o2 = Array.prototype.slice.call(e3, 0, r2)), o2[r2] = e3[r2]);
          return t3.concat(o2 || Array.prototype.slice.call(e3));
        }, Zy = (function() {
          function t3(t4, e3) {
            var n2;
            void 0 === t4 && (t4 = {}), void 0 === e3 && (e3 = {}), this.events = Rh, this.html = r;
            var o2 = i();
            this.config = Ky(Ky(Ky({}, o2), t4), { pStylePrefix: null !== (n2 = t4.stylePrefix) && void 0 !== n2 ? n2 : o2.stylePrefix }), this.em = new zy(this.config), this.$ = e3.$, this.em.init(this), this.editor = this.em;
          }
          return Object.defineProperty(t3.prototype, "Config", { get: function() {
            return this.em.config;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "I18n", { get: function() {
            return this.em.I18n;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Utils", { get: function() {
            return this.em.Utils;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Commands", { get: function() {
            return this.em.Commands;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Keymaps", { get: function() {
            return this.em.Keymaps;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Modal", { get: function() {
            return this.em.Modal;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Panels", { get: function() {
            return this.em.Panels;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Canvas", { get: function() {
            return this.em.Canvas;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Parser", { get: function() {
            return this.em.Parser;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "CodeManager", { get: function() {
            return this.em.CodeManager;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "UndoManager", { get: function() {
            return this.em.UndoManager;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "RichTextEditor", { get: function() {
            return this.em.RichTextEditor;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Pages", { get: function() {
            return this.em.Pages;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Components", { get: function() {
            return this.em.Components;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "DomComponents", { get: function() {
            return this.em.Components;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Layers", { get: function() {
            return this.em.Layers;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "LayerManager", { get: function() {
            return this.em.Layers;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Css", { get: function() {
            return this.em.Css;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "CssComposer", { get: function() {
            return this.em.Css;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Storage", { get: function() {
            return this.em.Storage;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "StorageManager", { get: function() {
            return this.em.Storage;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Assets", { get: function() {
            return this.em.Assets;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "AssetManager", { get: function() {
            return this.em.Assets;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Blocks", { get: function() {
            return this.em.Blocks;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "BlockManager", { get: function() {
            return this.em.Blocks;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Traits", { get: function() {
            return this.em.Traits;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "TraitManager", { get: function() {
            return this.em.Traits;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Selectors", { get: function() {
            return this.em.Selectors;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "SelectorManager", { get: function() {
            return this.em.Selectors;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Styles", { get: function() {
            return this.em.Styles;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "StyleManager", { get: function() {
            return this.em.Styles;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Devices", { get: function() {
            return this.em.Devices;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "DeviceManager", { get: function() {
            return this.em.Devices;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "DataSources", { get: function() {
            return this.em.DataSources;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "EditorModel", { get: function() {
            return this.em;
          }, enumerable: false, configurable: true }), t3.prototype.getConfig = function(t4) {
            return this.em.getConfig(t4);
          }, t3.prototype.getHtml = function(t4) {
            return this.em.getHtml(t4);
          }, t3.prototype.getCss = function(t4) {
            return this.em.getCss(t4);
          }, t3.prototype.getJs = function(t4) {
            return this.em.getJs(t4);
          }, t3.prototype.getComponents = function() {
            return this.Components.getComponents();
          }, t3.prototype.getWrapper = function() {
            return this.Components.getWrapper();
          }, t3.prototype.setComponents = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.em.setComponents(t4, e3), this;
          }, t3.prototype.addComponents = function(t4, e3) {
            return this.getWrapper().append(t4, e3);
          }, t3.prototype.getStyle = function() {
            return this.em.Css.getAll();
          }, t3.prototype.setStyle = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.em.setStyle(t4, e3), this;
          }, t3.prototype.addStyle = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.em.addStyle(t4, e3);
          }, t3.prototype.getSelected = function() {
            return this.em.getSelected();
          }, t3.prototype.getSelectedAll = function() {
            return this.em.getSelectedAll();
          }, t3.prototype.getSelectedToStyle = function() {
            var t4 = this.em.getSelected();
            if (t4) return this.StyleManager.getModelToStyle(t4);
          }, t3.prototype.select = function(t4, e3) {
            return this.em.setSelected(t4, e3), this;
          }, t3.prototype.selectAdd = function(t4) {
            return this.em.addSelected(t4), this;
          }, t3.prototype.selectRemove = function(t4) {
            return this.em.removeSelected(t4), this;
          }, t3.prototype.selectToggle = function(t4) {
            return this.em.toggleSelected(t4), this;
          }, t3.prototype.getEditing = function() {
            return this.em.getEditing();
          }, t3.prototype.setDevice = function(t4) {
            return this.em.set("device", t4), this;
          }, t3.prototype.getDevice = function() {
            return this.em.get("device");
          }, t3.prototype.runCommand = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.Commands.run(t4, e3);
          }, t3.prototype.stopCommand = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.Commands.stop(t4, e3);
          }, t3.prototype.store = function(t4) {
            return Yy(this, void 0, void 0, (function() {
              return Jy(this, (function(e3) {
                switch (e3.label) {
                  case 0:
                    return [4, this.em.store(t4)];
                  case 1:
                    return [2, e3.sent()];
                }
              }));
            }));
          }, t3.prototype.load = function(t4) {
            return Yy(this, arguments, void 0, (function(t5, e3) {
              return void 0 === e3 && (e3 = {}), Jy(this, (function(n2) {
                switch (n2.label) {
                  case 0:
                    return [4, this.em.load(t5, e3)];
                  case 1:
                    return [2, n2.sent()];
                }
              }));
            }));
          }, t3.prototype.getProjectData = function() {
            return this.em.storeData();
          }, t3.prototype.loadProjectData = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.em.loadData(t4, e3);
          }, t3.prototype.storeData = function() {
            return this.em.storeData();
          }, t3.prototype.loadData = function(t4) {
            return this.em.loadData(t4);
          }, t3.prototype.getContainer = function() {
            return this.config.el;
          }, t3.prototype.getDirtyCount = function() {
            return this.em.getDirtyCount();
          }, t3.prototype.clearDirtyCount = function() {
            return this.em.clearDirtyCount();
          }, t3.prototype.refresh = function(t4) {
            this.em.refreshCanvas(t4);
          }, t3.prototype.setCustomRte = function(t4) {
            this.RichTextEditor.customRte = t4;
          }, t3.prototype.setCustomParserCss = function(t4) {
            return this.Parser.getConfig().parserCss = t4, this;
          }, t3.prototype.setDragMode = function(t4) {
            return this.em.setDragMode(t4), this;
          }, t3.prototype.log = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.em.log(t4, e3), this;
          }, t3.prototype.t = function() {
            for (var t4, e3 = [], n2 = 0; n2 < arguments.length; n2++) e3[n2] = arguments[n2];
            return (t4 = this.em).t.apply(t4, e3);
          }, t3.prototype.on = function(t4, e3) {
            return this.em.on(t4, e3), this;
          }, t3.prototype.once = function(t4, e3) {
            return this.em.once(t4, e3), this;
          }, t3.prototype.off = function(t4, e3) {
            return this.em.off(t4, e3), this;
          }, t3.prototype.trigger = function(t4) {
            for (var e3 = [], n2 = 1; n2 < arguments.length; n2++) e3[n2 - 1] = arguments[n2];
            return this.em.trigger.apply(this.em, Xy([t4], e3, true)), this;
          }, t3.prototype.destroy = function() {
            this.em && (this.em.destroyAll(), this.editorView = void 0);
          }, t3.prototype.getEl = function() {
            var t4;
            return null === (t4 = this.editorView) || void 0 === t4 ? void 0 : t4.el;
          }, t3.prototype.getModel = function() {
            return this.em;
          }, t3.prototype.render = function() {
            var t4;
            return null === (t4 = this.editorView) || void 0 === t4 || t4.remove(), this.editorView = new Gy(this.em), this.editorView.render().el;
          }, t3.prototype.onReady = function(t4) {
            this.em.get("ready") ? t4(this) : this.em.on("load", t4);
          }, t3;
        })();
        const Qy = Zy;
        var tm = function(n2, o2) {
          return (0, t2.isString)(n2) ? (function(t3, n3) {
            var o3 = n3.get(t3);
            if (!o3) {
              var r2 = (0, e2.getGlobal)()[t3];
              o3 = (null == r2 ? void 0 : r2.default) || r2;
            }
            return o3;
          })(n2, o2) : (null == n2 ? void 0 : n2.default) || n2;
        }, em = function(t3, e3) {
          t3.getModel().logWarning("Plugin ".concat(e3, " not found"), { context: "plugins", plugin: e3 });
        };
        const nm = (function() {
          function t3() {
            this.plugins = {};
          }
          return t3.prototype.add = function(t4, e3) {
            var n2 = this.get(t4);
            return n2 || (this.plugins[t4] = e3, e3);
          }, t3.prototype.get = function(t4) {
            return this.plugins[t4];
          }, t3.prototype.getAll = function() {
            return this.plugins;
          }, t3;
        })();
        var om = function() {
          return om = Object.assign || function(t3) {
            for (var e3, n2 = 1, o2 = arguments.length; n2 < o2; n2++) for (var r2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, r2) && (t3[r2] = e3[r2]);
            return t3;
          }, om.apply(this, arguments);
        };
        !(function() {
          if ((0, e2.hasWin)() && (function() {
            for (var t4, e3 = window.navigator.userAgent, n2 = [["edge", /Edge\/([0-9\._]+)/], ["ie", /MSIE\s(7\.0)/], ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/], ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]], o2 = 0; o2 < n2.length; o2++) {
              if (t4 = n2[o2][1].exec(e3)) break;
            }
            return !!t4;
          })()) {
            var t3 = DOMImplementation.prototype.createHTMLDocument;
            DOMImplementation.prototype.createHTMLDocument = function(e3) {
              return e3 || (e3 = ""), t3.apply(document.implementation, [e3]);
            };
          }
        })();
        var rm = new nm(), im = [], am = { $: l["default"], editors: im, plugins: rm, usePlugin: function(t3, e3) {
          var n2 = tm(t3, rm);
          return function(o2) {
            n2 ? n2(o2, e3 || {}) : em(o2, t3);
          };
        }, version: "0.22.13", init: function(e3) {
          void 0 === e3 && (e3 = {});
          var n2 = e3.headless, o2 = e3.container;
          if (!o2 && !n2) throw new Error("'container' is required");
          var r2 = om(om({ autorender: true, plugins: [], pluginsOpts: {} }, e3), { grapesjs: this, el: n2 ? void 0 : (0, t2.isElement)(o2) ? o2 : document.querySelector(o2) }), i2 = new Qy(r2, { $: l["default"] }), a2 = i2.getModel();
          return a2.initModules(), r2.plugins.forEach((function(t3) {
            var e4 = tm(t3, rm), n3 = r2.pluginsOpts[t3] || {};
            e4 ? e4(i2, n3) : em(i2, t3);
          })), a2.loadOnStart(), r2.autorender && !n2 && i2.render(), im.push(i2), i2;
        } };
        const sm = am;
      })(), o = o["default"];
    })()));
  }
});

// node_modules/grapesjs-blocks-bootstrap4/dist/grapesjs-blocks-bootstrap4.min.js
var require_grapesjs_blocks_bootstrap4_min = __commonJS({
  "node_modules/grapesjs-blocks-bootstrap4/dist/grapesjs-blocks-bootstrap4.min.js"(exports, module) {
    !(function(e, t) {
      "object" == typeof exports && "object" == typeof module ? module.exports = t(require_grapes_min()) : "function" == typeof define && define.amd ? define(["grapesjs"], t) : "object" == typeof exports ? exports["grapesjs-blocks-bootstrap4"] = t(require_grapes_min()) : e["grapesjs-blocks-bootstrap4"] = t(e.grapesjs);
    })(self, (function(e) {
      return (() => {
        "use strict";
        var t = { 520: (t2) => {
          t2.exports = e;
        } }, a = {};
        function n(e2) {
          if (a[e2]) return a[e2].exports;
          var o2 = a[e2] = { exports: {} };
          return t[e2](o2, o2.exports, n), o2.exports;
        }
        n.n = (e2) => {
          var t2 = e2 && e2.__esModule ? () => e2.default : () => e2;
          return n.d(t2, { a: t2 }), t2;
        }, n.d = (e2, t2) => {
          for (var a2 in t2) n.o(t2, a2) && !n.o(e2, a2) && Object.defineProperty(e2, a2, { enumerable: true, get: t2[a2] });
        }, n.o = (e2, t2) => Object.prototype.hasOwnProperty.call(e2, t2), n.r = (e2) => {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e2, "__esModule", { value: true });
        };
        var o = {};
        return (() => {
          n.r(o), n.d(o, { default: () => Vt });
          var e2 = n(520), t2 = n.n(e2);
          const a2 = function(e3) {
            e3.Commands;
          }, r = function(e3) {
            var t3 = e3.TraitManager;
            t3.addType("class_select", { events: { change: "onChange" }, createInput: function(e4) {
              e4.trait;
              for (var t4 = this.model.get("options") || [], a4 = document.createElement("select"), n2 = this.target.view.el, o2 = function(e5) {
                var o3 = document.createElement("option"), r3 = t4[e5].value;
                "" === r3 && (r3 = "GJS_NO_CLASS"), o3.text = t4[e5].name, o3.value = r3;
                var i2 = Array.from(n2.classList), l2 = r3.split(" ");
                i2.filter((function(e6) {
                  return l2.includes(e6);
                })).length === l2.length && o3.setAttribute("selected", "selected"), a4.append(o3);
              }, r2 = 0; r2 < t4.length; r2++) o2(r2);
              return a4;
            }, onUpdate: function(e4) {
              for (var t4 = e4.elInput, a4 = e4.component.getClasses(), n2 = this.model.get("options") || [], o2 = 0; o2 < n2.length; o2++) {
                var r2 = n2[o2].value;
                if (r2 && a4.includes(r2)) return void (t4.value = r2);
              }
              t4.value = "GJS_NO_CLASS";
            }, onEvent: function(e4) {
              e4.elInput;
              for (var t4 = e4.component, a4 = (e4.event, this.model.get("options").map((function(e5) {
                return e5.value;
              }))), n2 = 0; n2 < a4.length; n2++) if (a4[n2].length > 0) for (var o2 = a4[n2].split(" "), r2 = 0; r2 < o2.length; r2++) o2[r2].length > 0 && t4.removeClass(o2[r2]);
              var i2 = this.model.get("value");
              if (delete t4.attributes.attributes[""], i2.length > 0 && "GJS_NO_CLASS" !== i2) for (var l2 = i2.split(" "), s2 = 0; s2 < l2.length; s2++) t4.addClass(l2[s2]);
              t4.em.trigger("component:toggled");
            } });
            var a3 = t3.getType("text");
            t3.addType("content", { events: { keyup: "onChange" }, onValueChange: function() {
              var e4 = this.model;
              e4.target.set("content", e4.get("value"));
            }, getInputEl: function() {
              return this.inputEl || (this.inputEl = a3.prototype.getInputEl.bind(this)(), this.inputEl.value = this.target.get("content")), this.inputEl;
            } }), t3.addType("content", { events: { keyup: "onChange" }, onValueChange: function() {
              var e4 = this.model;
              e4.target.set("content", e4.get("value"));
            }, getInputEl: function() {
              return this.inputEl || (this.inputEl = a3.prototype.getInputEl.bind(this)(), this.inputEl.value = this.target.get("content")), this.inputEl;
            } });
          };
          var i = function(e3, t3) {
            e3.add("collapse", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="compress" class="svg-inline--fa fa-compress fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24zm0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Components", content: { type: "collapse" } });
          };
          const l = function(e3) {
            var t3 = e3.DomComponents, a3 = t3.getType("default"), n2 = a3.model;
            a3.view;
            t3.addType("collapse", { model: { defaults: Object.assign({}, n2.prototype.defaults, { "custom-name": "Dropdown", classes: ["collapse"], droppable: true, traits: [{ type: "class_select", options: [{ value: "", name: "Closed" }, { value: "show", name: "Open" }], label: "Initial state" }].concat(n2.prototype.defaults.traits) }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("dropdown")) return { type: "dropdown" };
            }, view: {} });
          };
          function s(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function c(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? s(Object(a3), true).forEach((function(t4) {
                d(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : s(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function d(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var p = function(e3, t3) {
            e3.add("dropdown", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="far" data-icon="caret-square-down" class="svg-inline--fa fa-caret-square-down fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M125.1 208h197.8c10.7 0 16.1 13 8.5 20.5l-98.9 98.3c-4.7 4.7-12.2 4.7-16.9 0l-98.9-98.3c-7.7-7.5-2.3-20.5 8.4-20.5zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Components", content: { type: "dropdown" } });
          };
          const u = function(e3) {
            var t3 = e3.DomComponents, a3 = t3.getType("default"), n2 = a3.model, o2 = a3.view;
            function r2(e4) {
              var t4 = e4._events["change:attributes"];
              return !!t4 && 0 !== t4.filter((function(e5) {
                return "setupToggle" === e5.callback.name;
              })).length;
            }
            t3.addType("dropdown", { model: { defaults: c(c({}, n2.prototype.defaults), {}, { "custom-name": "Dropdown", classes: ["dropdown"], droppable: "a, button, .dropdown-menu", traits: [{ type: "select", label: "Initial state", name: "initial_state", options: [{ value: "", name: "Closed" }, { value: "show", name: "Open" }] }].concat(n2.prototype.defaults.traits) }), init2: function() {
              this.append({ type: "button", content: "Click to toggle", classes: ["btn", "dropdown-toggle"] })[0], this.append({ type: "dropdown_menu" })[0];
              this.setupToggle(null, null, { force: true });
              var e4 = this.components();
              e4.bind("add", this.setupToggle.bind(this)), e4.bind("remove", this.setupToggle.bind(this));
              var t4 = this.get("classes");
              t4.bind("add", this.setupToggle.bind(this)), t4.bind("change", this.setupToggle.bind(this)), t4.bind("remove", this.setupToggle.bind(this));
            }, setupToggle: function(e4, t4) {
              var a4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n3 = this.components().filter((function(e5) {
                return e5.getAttributes().class.split(" ").includes("dropdown-toggle");
              }))[0], o3 = this.components().filter((function(e5) {
                return e5.getAttributes().class.split(" ").includes("dropdown-menu");
              }))[0];
              if ((true === a4.force || true !== a4.ignore) && n3 && o3) {
                r2(n3) || this.listenTo(n3, "change:attributes", this.setupToggle), r2(o3) || this.listenTo(o3, "change:attributes", this.setupToggle);
                var i2 = n3.getAttributes();
                i2.role = "button";
                var l2 = o3.getAttributes();
                i2.hasOwnProperty("data-toggle") || (i2["data-toggle"] = "dropdown"), i2.hasOwnProperty("aria-haspopup") || (i2["aria-haspopup"] = true), n3.set("attributes", i2, { ignore: true }), i2.hasOwnProperty("id") ? l2["aria-labelledby"] = i2.id : delete l2["aria-labelledby"], o3.set("attributes", l2, { ignore: true });
              }
            }, updated: function(e4, t4) {
              if (t4.hasOwnProperty("initial_state")) {
                var a4 = this.components().filter((function(e5) {
                  return e5.getAttributes().class.split(" ").includes("dropdown-menu");
                }))[0], n3 = a4.getAttributes();
                n3.class.split(" ").includes("show") ? (n3["aria-expanded"] = false, a4.removeClass("show")) : (n3["aria-expanded"] = true, a4.addClass("show"));
              }
            } }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("dropdown")) return { type: "dropdown" };
            }, view: o2 }), t3.addType("dropdown_menu", { model: { defaults: Object.assign({}, n2.prototype.defaults, { "custom-name": "Dropdown Menu", classes: ["dropdown-menu"], draggable: ".dropdown", droppable: true }), init2: function() {
              var e4 = { type: "link", classes: ["dropdown-item"], content: "Dropdown item" };
              this.append({ type: "header", tagName: "h6", classes: ["dropdown-header"], content: "Dropdown header" }), this.append(e4), this.append({ type: "default", classes: ["dropdown-divider"] }), this.append(e4);
            } }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("dropdown-menu")) return { type: "dropdown_menu" };
            }, view: o2 });
          };
          var m = "tabs-", f = "".concat(m, "container"), b = "".concat(m, "navigation"), g = "".concat(m, "panes"), v = "".concat(m, "tab"), h = "".concat(m, "tab-pane");
          const y = { navigationName: b, tabPanesName: g, tabName: v, tabPaneName: h, navigationSelector: '[data-gjs-type="'.concat(b, '"]'), tabPanesSelector: '[data-gjs-type="'.concat(g, '"]'), tabSelector: '[data-gjs-type="'.concat(v, '"]'), tabPaneSelector: '[data-gjs-type="'.concat(h, '"]'), containerId: "data-".concat(f), navigationId: "data-".concat(b), tabPanesId: "data-".concat(g), tabId: "data-".concat(v), tabPaneId: "data-".concat(h) };
          var w = function(e3, t3) {
            var a3 = e3.className;
            if ((a3 = a3 && a3.toString()) && a3.split(" ").indexOf(t3) >= 0) return 1;
          }, O = function(e3) {
            return e3.toLowerCase().split(" ").map((function(e4) {
              return e4.charAt(0).toUpperCase() + e4.slice(1);
            })).join(" ");
          };
          const j = '<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="window-maximize" class="svg-inline--fa fa-window-maximize fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-16 160H64v-84c0-6.6 5.4-12 12-12h360c6.6 0 12 5.4 12 12v84z"></path></svg>\n';
          function x(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function C(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? x(Object(a3), true).forEach((function(t4) {
                k(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : x(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function k(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var T = function(e3, t3) {
            e3.add("tabs", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="ellipsis-h" class="svg-inline--fa fa-ellipsis-h fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"></path></svg>\n', "\n            <div>").concat(t3.labels.tabs, "</div>\n        "), category: "Components", content: '\n            <ul class="nav nav-tabs" role="tablist">\n              <li class="nav-item">\n                <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Tab 1</a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Tab 2</a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">Tab 3</a>\n              </li>\n            </ul>\n            <div class="tab-content">\n              <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab"></div>\n              <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab"></div>\n              <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab"></div>\n            </div>\n        ' }), e3.add("tabs-tab", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="circle" class="svg-inline--fa fa-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"></path></svg>\n', "\n            <div>").concat(t3.labels.tab, "</div>\n        "), category: "Components", content: { type: "tabs-tab" } }), e3.add("tabs-tab-pane", { label: "\n            ".concat(j, "\n            <div>").concat(t3.labels.tabPane, "</div>\n        "), category: "Components", content: { type: "tabs-tab-pane" } });
          };
          const P = function(e3) {
            var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a3 = e3.getType("default"), n2 = a3.model, o2 = (a3.view, y.navigationName), r2 = y.tabSelector, i2 = t3.classNavigation, l2 = o2;
            e3.addType(l2, { model: { defaults: C(C({}, n2.prototype.defaults), {}, { name: "Tabs Navigation", copyable: 0, draggable: true, droppable: r2, traits: [{ type: "class_select", options: [{ value: "nav-tabs", name: "Tabs" }, { value: "nav-pills", name: "Pills" }], label: "Type" }, { type: "class_select", options: [{ value: "", name: "Left" }, { value: "nav-fill", name: "Fill" }, { value: "nav-justified", name: "Justify" }], label: "Layout" }] }), init: function() {
              this.get("classes").pluck("name").indexOf(i2) < 0 && this.addClass(i2);
            } }, isComponent: function(e4) {
              if (w(e4, i2)) return { type: l2 };
            }, view: { init: function() {
              var e4 = ["type", "layout"].map((function(e5) {
                return "change:".concat(e5);
              })).join(" ");
              this.listenTo(this.model, e4, this.render);
              var t4 = this.model.components();
              t4.length || t4.add('\n                        <ul class="nav nav-tabs" role="tablist">\n                          <li class="nav-item">\n                            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Tab 1</a>\n                          </li>\n                          <li class="nav-item">\n                            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Tab 2</a>\n                          </li>\n                          <li class="nav-item">\n                            <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">Tab 3</a>\n                          </li>\n                        </ul>\n                    ');
            } } });
          };
          function _(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function L(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? _(Object(a3), true).forEach((function(t4) {
                S(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : _(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function S(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          const D = function(e3) {
            var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a3 = e3.getType("default"), n2 = a3.model, o2 = (a3.view, y.tabPanesName), r2 = y.tabPaneSelector, i2 = t3.classTabPanes, l2 = o2;
            e3.addType(l2, { model: { defaults: L(L({}, n2.prototype.defaults), {}, { name: "Tabs Panes", copyable: 0, draggable: true, droppable: r2 }), init: function() {
              this.get("classes").pluck("name").indexOf(i2) < 0 && this.addClass(i2);
            } }, isComponent: function(e4) {
              if (w(e4, i2)) return { type: l2 };
            }, view: { init: function() {
              var e4 = this.model.components();
              e4.length || e4.add('\n                        <div class="tab-content" id="myTabContent">\n                          <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">Tab pane 1</div>\n                          <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">Tab pane 2</div>\n                          <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">Tab pane 3</div>\n                        </div>\n                    ');
            } } });
          };
          function N(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function M(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? N(Object(a3), true).forEach((function(t4) {
                A(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : N(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function A(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          const E = function(e3) {
            var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a3 = e3.getType("default"), n2 = a3.model, o2 = (a3.view, y.tabName), r2 = y.navigationSelector, i2 = t3.classTab, l2 = o2;
            e3.addType(l2, { model: { defaults: M(M({}, n2.prototype.defaults), {}, { name: "Tab", tagName: "li", copyable: true, draggable: r2 }), init: function() {
              this.get("classes").pluck("name").indexOf(i2) < 0 && this.addClass(i2);
            } }, isComponent: function(e4) {
              if (w(e4, i2)) return { type: l2 };
            }, view: { init: function() {
              var e4 = this.model.components();
              e4.length || e4.add('\n              <a class="nav-link active" id="tab-1" data-toggle="tab" href="#tab-pane-1" role="tab" aria-controls="tab" aria-selected="true">Tab</a>\n          ');
            } } });
          };
          function I(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function B(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? I(Object(a3), true).forEach((function(t4) {
                z(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : I(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function z(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          const H = function(e3) {
            var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a3 = e3.getType("default"), n2 = a3.model, o2 = a3.view, r2 = y.tabPaneName, i2 = y.tabPanesSelector, l2 = t3.classTabPane, s2 = r2;
            e3.addType(s2, { model: { defaults: B(B({}, n2.prototype.defaults), {}, { name: "Tab Pane", copyable: true, draggable: i2, traits: ["id", { type: "class_select", options: [{ value: "fade", name: "Fade" }, { value: "", name: "None" }], label: "Animation" }, { type: "class_select", options: [{ value: "", name: "Inactive" }, { value: "active", name: "Active" }], label: "Is Active" }] }), init: function() {
              this.get("classes").pluck("name").indexOf(l2) < 0 && this.addClass(l2);
            } }, isComponent: function(e4) {
              if (w(e4, l2)) return { type: s2 };
            }, view: o2 });
          };
          function F(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function V(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? F(Object(a3), true).forEach((function(t4) {
                q(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : F(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function q(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var R = function(e3, t3) {
            e3.add("form", { label: "\n      ".concat('<svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path class="gjs-block-svg-path" d="M22,5.5 C22,5.2 21.5,5 20.75,5 L3.25,5 C2.5,5 2,5.2 2,5.5 L2,8.5 C2,8.8 2.5,9 3.25,9 L20.75,9 C21.5,9 22,8.8 22,8.5 L22,5.5 Z M21,8 L3,8 L3,6 L21,6 L21,8 Z" fill-rule="nonzero"></path>\n    <path class="gjs-block-svg-path" d="M22,10.5 C22,10.2 21.5,10 20.75,10 L3.25,10 C2.5,10 2,10.2 2,10.5 L2,13.5 C2,13.8 2.5,14 3.25,14 L20.75,14 C21.5,14 22,13.8 22,13.5 L22,10.5 Z M21,13 L3,13 L3,11 L21,11 L21,13 Z" fill-rule="nonzero"></path>\n    <rect class="gjs-block-svg-path" x="2" y="15" width="10" height="3" rx="0.5"></rect>\n</svg>\n', "\n      <div>").concat(t3, "</div>"), category: "Forms", content: '\n        <form>\n          <div class="form-group">\n            <label>Name</label>\n            <input name="name" placeholder="Type here your name" class="form-control"/>\n          </div>\n          <div class="form-group">\n            <label>Email</label>\n            <input name="email" type="email" placeholder="Type here your email" class="form-control"/>\n          </div>\n          <div class="form-check">\n            <input name="sex" type="checkbox" class="form-check-input" value="M">\n            <label class="form-check-label">M</label>\n          </div>\n          <div class="form-check">\n            <input name="sex" type="checkbox" class="form-check-input" value="F">\n            <label class="form-check-label">F</label>\n          </div>\n          <div class="form-group">\n            <label>Message</label>\n            <textarea name="message" class="form-control"></textarea>\n          </div>\n          <div class="form-group">\n            <button type="submit" class="btn btn-primary">Send</button>\n          </div>\n        </form>\n      ' });
          };
          const Z = function(e3, t3) {
            var a3, n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, o2 = e3.getType("default"), r2 = o2.model;
            o2.view;
            n2.formPredefinedActions && n2.formPredefinedActions.length ? (a3 = { type: "select", label: n2.labels.trait_action, name: "action", options: [] }, n2.formPredefinedActions.forEach((function(e4) {
              a3.options.push({ value: e4.value, name: e4.name });
            }))) : a3 = { label: n2.labels.trait_action, name: "action" }, e3.addType("form", { model: { defaults: V(V({}, r2.prototype.defaults), {}, { droppable: ":not(form)", draggable: ":not(form)", traits: [{ type: "select", label: n2.labels.trait_enctype, name: "enctype", options: [{ value: "application/x-www-form-urlencoded", name: "application/x-www-form-urlencoded (default)" }, { value: "multipart/form-data", name: "multipart/form-data" }, { value: "text/plain", name: "text/plain" }] }, { type: "select", label: n2.labels.trait_method, name: "method", options: [{ value: "post", name: "POST" }, { value: "get", name: "GET" }] }, a3] }), init: function() {
              this.listenTo(this, "change:formState", this.updateFormState);
            }, updateFormState: function() {
              switch (this.get("formState")) {
                case "success":
                  this.showState("success");
                  break;
                case "error":
                  this.showState("error");
                  break;
                default:
                  this.showState("normal");
              }
            }, showState: function(e4) {
              var t4, a4, n3 = e4 || "normal";
              "success" === n3 ? (t4 = "none", a4 = "block") : "error" === n3 ? (t4 = "block", a4 = "none") : (t4 = "none", a4 = "none");
              var o3 = this.getStateModel("success"), r3 = this.getStateModel("error"), i2 = o3.getStyle(), l2 = r3.getStyle();
              i2.display = a4, l2.display = t4, o3.setStyle(i2), r3.setStyle(l2);
            }, getStateModel: function(e4) {
              for (var t4, a4 = e4 || "success", n3 = this.get("components"), o3 = 0; o3 < n3.length; o3++) {
                var r3 = n3.models[o3];
                if (r3.get("form-state-type") === a4) {
                  t4 = r3;
                  break;
                }
              }
              if (!t4) {
                var i2 = formMsgSuccess;
                "error" === a4 && (i2 = formMsgError), t4 = n3.add({ "form-state-type": a4, type: "text", removable: false, copyable: false, draggable: false, attributes: { "data-form-state": a4 }, content: i2 });
              }
              return t4;
            } }, isComponent: function(e4) {
              if ("FORM" === e4.tagName) return { type: "form" };
            }, view: { events: { submit: function(e4) {
              e4.preventDefault();
            } } } });
          };
          function U(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function $(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? U(Object(a3), true).forEach((function(t4) {
                G(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : U(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function G(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var W = function(e3, t3) {
            e3.add("input", { label: "\n      ".concat('<svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z"></path>\n    <polygon class="gjs-block-svg-path" points="4 10 5 10 5 14 4 14"></polygon>\n</svg>\n', "\n      <div>").concat(t3, "</div>"), category: "Forms", content: '<input name="input1" class="form-control"/>' });
          };
          const X = function(e3, t3) {
            var a3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n2 = e3.getType("default"), o2 = n2.model, r2 = n2.view;
            e3.addType("input", { model: { defaults: $($({}, o2.prototype.defaults), {}, { "custom-name": a3.labels.input, tagName: "input", draggable: "form .form-group", droppable: false, traits: [t3.value, t3.name, t3.placeholder, { label: a3.labels.trait_type, type: "select", name: "type", options: [{ value: "text", name: a3.labels.type_text }, { value: "email", name: a3.labels.type_email }, { value: "password", name: a3.labels.type_password }, { value: "number", name: a3.labels.type_number }, { value: "date", name: a3.labels.type_date }, { value: "hidden", name: a3.labels.type_hidden }] }, t3.required] }) }, isComponent: function(e4) {
              if ("INPUT" === e4.tagName) return { type: "input" };
            }, view: r2 });
          };
          function J(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function Y(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? J(Object(a3), true).forEach((function(t4) {
                K(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : J(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function K(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var Q = function(e3, t3, a3) {
            e3.add("form_group_input", { label: "\n      ".concat('<svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z"></path>\n    <polygon class="gjs-block-svg-path" points="4 10 5 10 5 14 4 14"></polygon>\n</svg>\n', "\n      <div>").concat(t3, "</div>"), category: "Forms", content: '\n      <div class="form-group">\n        <label>Name</label>\n        <input name="name" placeholder="Type here your name" class="form-control"/>\n      </div>\n      ' }), e3.add("input_group", { label: "\n      ".concat('<svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z"></path>\n    <polygon class="gjs-block-svg-path" points="4 10 5 10 5 14 4 14"></polygon>\n</svg>\n', "\n      <div>").concat(t3, "</div>"), category: "Forms", content: '\n      <div class="input-group">\n        <div class="input-group-prepend">\n          <span class="input-group-text">$</span>\n        </div>\n        <input name="input1" type="text" class="form-control" aria-label="Amount (to the nearest dollar)">\n        <div class="input-group-append">\n          <span class="input-group-text">.00</span>\n        </div>\n      </div>\n      ' });
          };
          const ee = function(e3, t3) {
            var a3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n2 = e3.getType("default"), o2 = n2.model, r2 = n2.view;
            e3.addType("input_group", { model: { defaults: Y(Y({}, o2.prototype.defaults), {}, { "custom-name": a3.labels.input_group, tagName: "div", traits: [] }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("form_group_input")) return { type: "form_group_input" };
            }, view: r2 });
          };
          function te(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function ae(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? te(Object(a3), true).forEach((function(t4) {
                ne(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : te(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function ne(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var oe = function(e3, t3) {
            e3.add("textarea", { label: "\n      ".concat('<svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path class="gjs-block-svg-path" d="M22,7.5 C22,6.6 21.5,6 20.75,6 L3.25,6 C2.5,6 2,6.6 2,7.5 L2,16.5 C2,17.4 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.4 22,16.5 L22,7.5 Z M21,17 L3,17 L3,7 L21,7 L21,17 Z"></path>\n    <polygon class="gjs-block-svg-path" points="4 8 5 8 5 12 4 12"></polygon>\n    <polygon class="gjs-block-svg-path" points="19 7 20 7 20 17 19 17"></polygon>\n    <polygon class="gjs-block-svg-path" points="20 8 21 8 21 9 20 9"></polygon>\n    <polygon class="gjs-block-svg-path" points="20 15 21 15 21 16 20 16"></polygon>\n</svg>\n', "\n      <div>").concat(t3, "</div>"), category: "Forms", content: '<textarea name="textarea1" class="form-control"></textarea>' });
          };
          const re = function(e3, t3) {
            var a3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n2 = e3.getType("default"), o2 = n2.view, r2 = e3.getType("input"), i2 = r2.model;
            e3.addType("textarea", { extend: "input", model: { defaults: ae(ae({}, i2.prototype.defaults), {}, { "custom-name": a3.labels.textarea, tagName: "textarea", traits: [t3.name, t3.placeholder, t3.required] }) }, isComponent: function(e4) {
              if ("TEXTAREA" === e4.tagName) return { type: "textarea" };
            }, view: o2 });
          };
          function ie(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function le(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? ie(Object(a3), true).forEach((function(t4) {
                se(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : ie(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function se(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var ce = function(e3, t3) {
            e3.add("select", { label: "\n      ".concat('<svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n    <polygon class="gjs-block-svg-path" transform="translate(18.500000, 12.000000) scale(1, -1) translate(-18.500000, -12.000000) " points="18.5 11 20 13 17 13"></polygon>\n    <rect class="gjs-block-svg-path" x="4" y="11.5" width="11" height="1"></rect>\n</svg>\n', "\n      <div>").concat(t3, "</div>"), category: "Forms", content: '<select class="form-control" name="select1">\n        '.concat(t3 ? '<option value="">'.concat(t3, "</option>") : "", '\n        <option value="1">').concat(t3, " 1</option>\n        </select>") });
          };
          const de = function(e3, t3, a3) {
            var n2 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, o2 = t3.getType("default"), r2 = (o2.model, t3.getType("input")), i2 = r2.model, l2 = function() {
              return o2.view.extend({ events: { mousedown: "handleClick" }, handleClick: function(e4) {
                e4.preventDefault();
              } });
            };
            t3.addType("select", { model: { defaults: le(le({}, i2.prototype.defaults), {}, { "custom-name": n2.labels.select, tagName: "select", traits: [a3.name, { label: n2.labels.trait_options, type: "select-options" }, a3.required] }) }, isComponent: function(e4) {
              if ("SELECT" === e4.tagName) return { type: "select" };
            }, view: l2() });
            var s2 = e3.TraitManager;
            s2.addType("select-options", { events: { keyup: "onChange" }, onValueChange: function() {
              for (var e4 = this.model.get("value").trim().split("\n"), t4 = [], a4 = 0; a4 < e4.length; a4++) {
                var o3 = e4[a4].split(n2.optionsStringSeparator), r3 = { tagName: "option", attributes: {} };
                o3[1] ? (r3.content = o3[1], r3.attributes.value = o3[0]) : (r3.content = o3[0], r3.attributes.value = o3[0]), t4.push(r3);
              }
              this.target.get("components").reset(t4), this.target.view.render();
            }, getInputEl: function() {
              if (!this.$input) {
                for (var e4 = "", t4 = this.target.get("components"), a4 = 0; a4 < t4.length; a4++) {
                  var o3 = t4.models[a4], r3 = o3.get("attributes").value || "";
                  e4 += "".concat(r3).concat(n2.optionsStringSeparator).concat(o3.get("content"), "\n");
                }
                this.$input = document.createElement("textarea"), this.$input.value = e4;
              }
              return this.$input;
            } });
          };
          function pe(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function ue(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? pe(Object(a3), true).forEach((function(t4) {
                me(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : pe(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function me(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var fe = function(e3, t3) {
            e3.add("checkbox", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="check-square" class="svg-inline--fa fa-check-square fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Forms", content: '\n        <div class="form-check">\n          <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">\n          <label class="form-check-label" for="defaultCheck1">\n            Default checkbox\n          </label>\n        </div>\n      ' });
          };
          const be = function(e3, t3) {
            var a3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n2 = e3.getType("default"), o2 = (n2.model, n2.view, e3.getType("input")), r2 = o2.model;
            e3.addType("checkbox", { model: { defaults: ue(ue({}, r2.prototype.defaults), {}, { "custom-name": a3.labels.checkbox_name, copyable: false, droppable: false, attributes: { type: "checkbox" }, traits: [t3.id, t3.name, t3.value, t3.required, t3.checked] }), init: function() {
              this.listenTo(this, "change:checked", this.handleChecked);
            }, handleChecked: function() {
              var e4 = this.get("checked"), t4 = this.get("attributes"), a4 = this.view;
              e4 ? t4.checked = true : delete t4.checked, a4 && (a4.el.checked = e4), this.set("attributes", ue({}, t4));
            } }, isComponent: function(e4) {
              if ("INPUT" === e4.tagName && "checkbox" === e4.type) return { type: "checkbox" };
            }, view: { events: { click: "handleClick" }, handleClick: function(e4) {
              e4.preventDefault();
            } } });
          };
          function ge(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function ve(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? ge(Object(a3), true).forEach((function(t4) {
                he(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : ge(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function he(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var ye = function(e3, t3) {
            e3.add("radio", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="far" data-icon="dot-circle" class="svg-inline--fa fa-dot-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 56c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m0-48C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 168c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Forms", content: '\n        <div class="form-check">\n          <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>\n          <label class="form-check-label" for="exampleRadios1">\n            Default radio\n          </label>\n        </div>\n      ' });
          };
          const we = function(e3, t3) {
            var a3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n2 = e3.getType("checkbox");
            e3.addType("radio", { extend: "checkbox", model: { defaults: ve(ve({}, n2.model.prototype.defaults), {}, { "custom-name": a3.labels.radio, attributes: { type: "radio" } }) }, isComponent: function(e4) {
              if ("INPUT" === e4.tagName && "radio" === e4.type) return { type: "radio" };
            }, view: n2.view });
          }, Oe = ["primary", "secondary", "success", "info", "warning", "danger", "light", "dark"], je = { lg: "Large", sm: "Small" }, xe = '<svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n    <rect class="gjs-block-svg-path" x="4" y="11.5" width="16" height="1"></rect>\n</svg>\n';
          function Ce(e3) {
            return (function(e4) {
              if (Array.isArray(e4)) return ke(e4);
            })(e3) || (function(e4) {
              if ("undefined" != typeof Symbol && Symbol.iterator in Object(e4)) return Array.from(e4);
            })(e3) || (function(e4, t3) {
              if (!e4) return;
              if ("string" == typeof e4) return ke(e4, t3);
              var a3 = Object.prototype.toString.call(e4).slice(8, -1);
              "Object" === a3 && e4.constructor && (a3 = e4.constructor.name);
              if ("Map" === a3 || "Set" === a3) return Array.from(e4);
              if ("Arguments" === a3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a3)) return ke(e4, t3);
            })(e3) || (function() {
              throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            })();
          }
          function ke(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var a3 = 0, n2 = new Array(t3); a3 < t3; a3++) n2[a3] = e3[a3];
            return n2;
          }
          function Te(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function Pe(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? Te(Object(a3), true).forEach((function(t4) {
                _e(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : Te(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function _e(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var Le = function(e3, t3) {
            e3.add("button", { label: "".concat(xe, "<div>").concat(t3, "</div>"), category: "Forms", content: '<button class="btn btn-primary">Send</button>' });
          };
          const Se = function(e3) {
            var t3 = e3.getType("default"), a3 = t3.model;
            t3.view;
            e3.addType("button", { model: { defaults: Pe(Pe({}, a3.prototype.defaults), {}, { "custom-name": "Button", droppable: false, attributes: { role: "button" }, classes: ["btn"], traits: [{ type: "content", label: "Text" }, { label: "Type", type: "select", name: "type", options: [{ value: "submit", name: "Submit" }, { value: "reset", name: "Reset" }, { value: "button", name: "Button" }] }, { type: "class_select", options: [{ value: "", name: "None" }].concat(Ce(Oe.map((function(e4) {
              return { value: "btn-".concat(e4), name: O(e4) };
            }))), Ce(Oe.map((function(e4) {
              return { value: "btn-outline-".concat(e4), name: O(e4) + " (Outline)" };
            })))), label: "Context" }, { type: "class_select", options: [{ value: "", name: "Default" }].concat(Ce(Object.keys(je).map((function(e4) {
              return { value: "btn-".concat(e4), name: je[e4] };
            })))), label: "Size" }, { type: "class_select", options: [{ value: "", name: "Inline" }, { value: "btn-block", name: "Block" }], label: "Width" }].concat(a3.prototype.defaults.traits) }), afterChange: function(e4) {
              "button" === this.attributes.type && 0 === this.attributes.classes.filter((function(e5) {
                return "btn" === e5.id;
              })).length && this.changeType("link");
            } }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("btn")) return { type: "button" };
            }, view: { events: { click: "handleClick" }, init: function() {
              this.listenTo(this.model, "change:content", this.updateContent);
            }, updateContent: function() {
              this.el.innerHTML = this.model.get("content");
            }, handleClick: function(e4) {
              e4.preventDefault();
            } } });
          };
          function De(e3) {
            return (function(e4) {
              if (Array.isArray(e4)) return Ne(e4);
            })(e3) || (function(e4) {
              if ("undefined" != typeof Symbol && Symbol.iterator in Object(e4)) return Array.from(e4);
            })(e3) || (function(e4, t3) {
              if (!e4) return;
              if ("string" == typeof e4) return Ne(e4, t3);
              var a3 = Object.prototype.toString.call(e4).slice(8, -1);
              "Object" === a3 && e4.constructor && (a3 = e4.constructor.name);
              if ("Map" === a3 || "Set" === a3) return Array.from(e4);
              if ("Arguments" === a3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a3)) return Ne(e4, t3);
            })(e3) || (function() {
              throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            })();
          }
          function Ne(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var a3 = 0, n2 = new Array(t3); a3 < t3; a3++) n2[a3] = e3[a3];
            return n2;
          }
          var Me = function(e3, t3) {
            e3.add("button_group", { label: "\n            ".concat(xe, "\n            <div>").concat(t3, "</div>\n        "), category: "Forms", content: { type: "button_group" } });
          };
          const Ae = function(e3) {
            var t3 = e3.getType("default"), a3 = t3.model, n2 = t3.view;
            e3.addType("button_group", { model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Button Group", tagName: "div", classes: ["btn-group"], droppable: ".btn", attributes: { role: "group" }, traits: [{ type: "class_select", options: [{ value: "", name: "Default" }].concat(De(Object.keys(je).map((function(e4) {
              return { value: "btn-group-" + e4, name: je[e4] };
            })))), label: "Size" }, { type: "class_select", options: [{ value: "", name: "Horizontal" }, { value: "btn-group-vertical", name: "Vertical" }], label: "Size" }, { type: "Text", label: "ARIA Label", name: "aria-label", placeholder: "A group of buttons" }].concat(a3.prototype.defaults.traits) }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("btn-group")) return { type: "button_group" };
            }, view: n2 });
          };
          var Ee = function(e3, t3) {
            e3.add("button_toolbar", { label: "\n            ".concat(xe, "\n            <div>").concat(t3, "</div>\n        "), category: "Forms", content: { type: "button_toolbar" } });
          };
          const Ie = function(e3) {
            var t3 = e3.getType("default"), a3 = t3.model, n2 = t3.view;
            e3.addType("button_toolbar", { model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Button Toolbar", tagName: "div", classes: ["btn-toolbar"], droppable: ".btn-group", attributes: { role: "toolbar" }, traits: [{ type: "Text", label: "ARIA Label", name: "aria-label", placeholder: "A toolbar of button groups" }].concat(a3.prototype.defaults.traits) }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("btn-toolbar")) return { type: "button_toolbar" };
            }, view: n2 });
          };
          function Be(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function ze(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? Be(Object(a3), true).forEach((function(t4) {
                He(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : Be(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function He(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var Fe = function(e3, t3) {
            e3.add("label", { label: "\n      ".concat('<svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path class="gjs-block-svg-path" d="M22,11.875 C22,11.35 21.5,11 20.75,11 L3.25,11 C2.5,11 2,11.35 2,11.875 L2,17.125 C2,17.65 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.65 22,17.125 L22,11.875 Z M21,17 L3,17 L3,12 L21,12 L21,17 Z" fill-rule="nonzero"></path>\n    <rect class="gjs-block-svg-path" x="2" y="5" width="14" height="5" rx="0.5"></rect>\n    <polygon class="gjs-block-svg-path" fill-rule="nonzero" points="4 13 5 13 5 16 4 16"></polygon>\n</svg>\n', "\n      <div>").concat(t3, "</div>"), category: "Forms", content: "<label>Label</label>" });
          };
          const Ve = function(e3, t3) {
            var a3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n2 = e3.getType("text"), o2 = n2.model, r2 = n2.view;
            e3.addType("label", { extend: "text", model: { defaults: ze(ze({}, o2.prototype.defaults), {}, { "custom-name": a3.labels.label, tagName: "label", traits: [t3.for] }) }, isComponent: function(e4) {
              if ("LABEL" == e4.tagName) return { type: "label" };
            }, view: r2 });
          };
          var qe = function(e3, t3) {
            e3.add("link", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Basic", content: { type: "link", content: "Link text" } });
          };
          const Re = function(e3) {
            var t3 = e3.DomComponents, a3 = t3.getType("text").model, n2 = t3.getType("link").view;
            t3.addType("link", { extend: "text", model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Link", tagName: "a", droppable: true, editable: true, traits: [{ type: "text", label: "Href", name: "href", placeholder: "https://www.grapesjs.com" }, { type: "select", options: [{ value: "", name: "This window" }, { value: "_blank", name: "New window" }], label: "Target", name: "target" }, { type: "select", options: [{ value: "", name: "None" }, { value: "button", name: "Self" }, { value: "collapse", name: "Collapse" }, { value: "dropdown", name: "Dropdown" }], label: "Toggles", name: "data-toggle", changeProp: 1 }].concat(a3.prototype.defaults.traits) }), init2: function() {
              this.listenTo(this, "change:data-toggle", this.setupToggle), this.listenTo(this, "change:attributes", this.setupToggle);
            }, setupToggle: function(e4, t4) {
              var a4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
              if (true !== a4.ignore || true === a4.force) {
                console.log("setup toggle");
                var n3 = this.getAttributes(), o2 = n3.href;
                if (delete n3["data-toggle"], delete n3["aria-expanded"], delete n3["aria-controls"], delete n3["aria-haspopup"], o2 && o2.length > 0 && o2.match(/^#/)) {
                  console.log("link has href");
                  var r2 = this.em.get("Editor").DomComponents.getWrapper().find(o2);
                  if (r2.length > 0) {
                    console.log("referenced el found");
                    var i2 = r2[0], l2 = i2.getAttributes(), s2 = l2.class;
                    if (s2) {
                      console.log("el has classes");
                      var c2 = s2.split(" "), d2 = ["collapse", "dropdown-menu"], p2 = c2.filter((function(e5) {
                        return d2.includes(e5);
                      }));
                      if (p2.length) {
                        switch (console.log("link data-toggle matches el class"), p2[0]) {
                          case "collapse":
                            n3["data-toggle"] = "collapse";
                        }
                        n3["aria-expanded"] = c2.includes("show"), "collapse" === p2[0] && (n3["aria-controls"] = o2.substring(1));
                      }
                    }
                  }
                }
                this.set("attributes", n3, { ignore: true });
              }
            }, classesChanged: function(e4) {
              console.log("classes changed"), "link" === this.attributes.type && this.attributes.classes.filter((function(e5) {
                return "btn" === e5.id;
              })).length > 0 && this.changeType("button");
            } }, isComponent: function(e4) {
              if (e4 && e4.tagName && "A" === e4.tagName) return { type: "link" };
            }, view: n2 });
          };
          function Ze(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function Ue(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? Ze(Object(a3), true).forEach((function(t4) {
                $e(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : Ze(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function $e(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var Ge = function(e3, t3) {
            e3.add("file-input", { label: "\n            ".concat('<svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z"></path>\n    <polygon class="gjs-block-svg-path" points="4 10 5 10 5 14 4 14"></polygon>\n</svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Forms", content: '<input type="file" name="file" class="form-control-file" id="exampleFormControlFile1">' });
          };
          const We = function(e3, t3) {
            var a3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n2 = e3.getType("default"), o2 = n2.model, r2 = n2.view, i2 = "file-input";
            e3.addType(i2, { model: { defaults: Ue(Ue({}, o2.prototype.defaults), {}, { "custom-name": a3.labels.input, tagName: "input", draggable: "form .form-group", droppable: false, traits: [t3.name, t3.required, { type: "checkbox", label: a3.labels.trait_multiple, name: "multiple" }] }) }, isComponent: function(e4) {
              if ("INPUT" === e4.tagName && w(e4, "form-control-file")) return { type: i2 };
            }, view: r2 });
          };
          var Xe = function(e3, t3) {
            e3.add("bs-image", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Media", content: { type: "bs-image" } });
          };
          const Je = function(e3) {
            var t3 = e3.getType("image"), a3 = t3.model, n2 = t3.view, o2 = "bs-image";
            e3.addType(o2, { extend: "image", model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Image", tagName: "img", resizable: 1, attributes: { src: "https://dummyimage.com/800x500/999/222" }, classes: ["img-fluid"], traits: [{ type: "text", label: "Source (URL)", name: "src" }, { type: "text", label: "Alternate text", name: "alt" }].concat(a3.prototype.defaults.traits) }) }, isComponent: function(e4) {
              if (e4 && "IMG" === e4.tagName) return { type: o2 };
            }, view: n2 });
          };
          var Ye = function(e3, t3) {
            e3.add("bs-video", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fab" data-icon="youtube" class="svg-inline--fa fa-youtube fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Media", content: { type: "bs-video" } });
          };
          const Ke = function(e3) {
            var t3 = e3.getType("video"), a3 = t3.model, n2 = t3.view, o2 = "bs-embed-responsive";
            e3.addType(o2, { extend: "video", model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Video", resizable: false, droppable: false, draggable: false, copyable: false, provider: "so", classes: ["embed-responsive-item"] }) }, isComponent: function(e4) {
              if (e4 && "embed-responsive-item" === e4.className) {
                var t4 = { provider: "so", type: o2 }, a4 = /youtube\.com\/embed/.test(e4.src), n3 = /youtube-nocookie\.com\/embed/.test(e4.src), r2 = /player\.vimeo\.com\/video/.test(e4.src), i2 = a4 || n3 || r2;
                return ("VIDEO" == e4.tagName || "IFRAME" == e4.tagName && i2) && (e4.src && (t4.src = e4.src), i2 && (a4 ? t4.provider = "yt" : n3 ? t4.provider = "ytnc" : r2 && (t4.provider = "vi"))), t4;
              }
            }, view: n2 });
          }, Qe = function(e3) {
            var t3 = e3.getType("default"), a3 = t3.model, n2 = (t3.view, "bs-video");
            e3.addType(n2, { model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Embed", tagName: "div", resizable: false, droppable: false, classes: ["embed-responsive", "embed-responsive-16by9"], traits: [{ type: "class_select", options: [{ value: "embed-responsive-21by9", name: "21:9" }, { value: "embed-responsive-16by9", name: "16:9" }, { value: "embed-responsive-4by3", name: "4:3" }, { value: "embed-responsive-1by1", name: "1:1" }], label: "Aspect Ratio" }].concat(a3.prototype.defaults.traits) }) }, isComponent: function(e4) {
              if (e4 && "embed-responsive" === e4.className) return { type: n2 };
            }, view: { init: function() {
              var e4 = ["Aspect Ratio"].map((function(e5) {
                return "change:".concat(e5);
              })).join(" ");
              this.listenTo(this.model, e4, this.render);
              var t4 = this.model.components();
              t4.length || t4.add('<iframe class="embed-responsive-item" src="'.concat("https://download.blender.org/peach/bigbuckbunny_movies/BigBuckBunny_320x180.mp4", '"></iframe>'));
            } } });
          };
          var et = function(e3, t3) {
            e3.add("paragraph", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="paragraph" class="svg-inline--fa fa-paragraph fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M448 48v32a16 16 0 0 1-16 16h-48v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V96h-32v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V352h-32a160 160 0 0 1 0-320h240a16 16 0 0 1 16 16z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Typography", content: { type: "paragraph", content: "Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Duis mollis, est non commodo luctus." } });
          };
          const tt = function(e3) {
            var t3 = e3.getType("text"), a3 = t3.model, n2 = t3.view;
            e3.addType("paragraph", { extend: "text", model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Paragraph", tagName: "p", traits: [{ type: "class_select", options: [{ value: "", name: "No" }, { value: "lead", name: "Yes" }], label: "Lead?" }].concat(a3.prototype.defaults.traits) }) }, isComponent: function(e4) {
              if (e4 && e4.tagName && "P" === e4.tagName) return { type: "paragraph" };
            }, view: n2 });
          };
          var at = function(e3, t3) {
            e3.add("header", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="heading" class="svg-inline--fa fa-heading fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Typography", content: { type: "header", content: "Bootstrap heading" } });
          };
          const nt = function(e3) {
            var t3 = e3.getType("text"), a3 = t3.model, n2 = t3.view;
            e3.addType("header", { extend: "text", model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Header", tagName: "h1", traits: [{ type: "select", options: [{ value: "h1", name: "One (largest)" }, { value: "h2", name: "Two" }, { value: "h3", name: "Three" }, { value: "h4", name: "Four" }, { value: "h5", name: "Five" }, { value: "h6", name: "Six (smallest)" }], label: "Size", name: "tagName", changeProp: 1 }, { type: "class_select", options: [{ value: "", name: "None" }, { value: "display-1", name: "One (largest)" }, { value: "display-2", name: "Two " }, { value: "display-3", name: "Three " }, { value: "display-4", name: "Four (smallest)" }], label: "Display Heading" }].concat(a3.prototype.defaults.traits) }) }, isComponent: function(e4) {
              if (e4 && ["H1", "H2", "H3", "H4", "H5", "H6"].includes(e4.tagName)) return { type: "header" };
            }, view: n2 });
          }, ot = '<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="credit-card" class="svg-inline--fa fa-credit-card fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"></path></svg>\n';
          var rt = function(e3, t3) {
            e3.add("card", { label: "\n            ".concat(ot, "\n            <div>").concat(t3.labels.card, "</div>\n        "), category: "Components", content: { type: "card" } }), e3.add("card_container", { label: "\n            ".concat(ot, "\n            <div>").concat(t3.labels.card_container, "</div>\n        "), category: "Components", content: { type: "card_container" } });
          };
          const it = function(e3, t3) {
            var a3 = t3.DomComponents.getType("default"), n2 = a3.model, o2 = a3.view, r2 = e3.getType("image"), i2 = r2.model, l2 = r2.view;
            e3.addType("card", { model: { defaults: Object.assign({}, n2.prototype.defaults, { "custom-name": "Card", classes: ["card"], traits: [{ type: "checkbox", label: "Image Top", name: "card-img-top", changeProp: 1 }, { type: "checkbox", label: "Header", name: "card-header", changeProp: 1 }, { type: "checkbox", label: "Image", name: "card-img", changeProp: 1 }, { type: "checkbox", label: "Image Overlay", name: "card-img-overlay", changeProp: 1 }, { type: "checkbox", label: "Body", name: "card-body", changeProp: 1 }, { type: "checkbox", label: "Footer", name: "card-footer", changeProp: 1 }, { type: "checkbox", label: "Image Bottom", name: "card-img-bottom", changeProp: 1 }].concat(n2.prototype.defaults.traits) }), init2: function() {
              this.listenTo(this, "change:card-img-top", this.cardImageTop), this.listenTo(this, "change:card-header", this.cardHeader), this.listenTo(this, "change:card-img", this.cardImage), this.listenTo(this, "change:card-img-overlay", this.cardImageOverlay), this.listenTo(this, "change:card-body", this.cardBody), this.listenTo(this, "change:card-footer", this.cardFooter), this.listenTo(this, "change:card-img-bottom", this.cardImageBottom), this.components().comparator = "card-order", this.set("card-img-top", true), this.set("card-body", true);
            }, cardImageTop: function() {
              this.createCardComponent("card-img-top");
            }, cardHeader: function() {
              this.createCardComponent("card-header");
            }, cardImage: function() {
              this.createCardComponent("card-img");
            }, cardImageOverlay: function() {
              this.createCardComponent("card-img-overlay");
            }, cardBody: function() {
              this.createCardComponent("card-body");
            }, cardFooter: function() {
              this.createCardComponent("card-footer");
            }, cardImageBottom: function() {
              this.createCardComponent("card-img-bottom");
            }, createCardComponent: function(e4) {
              var t4 = this.get(e4), a4 = e4.replace(/-/g, "_").replace(/img/g, "image"), n3 = this.components(), o3 = n3.filter((function(e5) {
                return e5.attributes.type === a4;
              }))[0];
              if (t4 && !o3) {
                var r3 = n3.add({ type: a4 }).components();
                "card-header" === e4 && r3.add({ type: "header", tagName: "h4", style: { "margin-bottom": "0px" }, content: "Card Header" }), "card-img-overlay" === e4 && (r3.add({ type: "header", tagName: "h4", classes: ["card-title"], content: "Card title" }), r3.add({ type: "text", tagName: "p", classes: ["card-text"], content: "Some quick example text to build on the card title and make up the bulk of the card's content." })), "card-body" === e4 && (r3.add({ type: "header", tagName: "h4", classes: ["card-title"], content: "Card title" }), r3.add({ type: "header", tagName: "h6", classes: ["card-subtitle", "text-muted", "mb-2"], content: "Card subtitle" }), r3.add({ type: "text", tagName: "p", classes: ["card-text"], content: "Some quick example text to build on the card title and make up the bulk of the card's content." }), r3.add({ type: "link", classes: ["card-link"], href: "#", content: "Card link" }), r3.add({ type: "link", classes: ["card-link"], href: "#", content: "Another link" })), this.order();
              } else t4 || o3.destroy();
            }, order: function() {
            } }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("card")) return { type: "card" };
            }, view: o2 }), e3.addType("card_image_top", { extend: "image", model: { defaults: Object.assign({}, i2.prototype.defaults, { "custom-name": "Card Image Top", classes: ["card-img-top"], "card-order": 1 }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("card-img-top")) return { type: "card_image_top" };
            }, view: l2 }), e3.addType("card_header", { model: { defaults: Object.assign({}, n2.prototype.defaults, { "custom-name": "Card Header", classes: ["card-header"], "card-order": 2 }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("card-header")) return { type: "card_header" };
            }, view: o2 }), e3.addType("card_image", { extend: "image", model: { defaults: Object.assign({}, i2.prototype.defaults, { "custom-name": "Card Image", classes: ["card-img"], "card-order": 3 }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("card-img")) return { type: "card_image" };
            }, view: l2 }), e3.addType("card_image_overlay", { model: { defaults: Object.assign({}, n2.prototype.defaults, { "custom-name": "Card Image Overlay", classes: ["card-img-overlay"], "card-order": 4 }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("card-img-overlay")) return { type: "card_image_overlay" };
            }, view: o2 }), e3.addType("card_body", { model: { defaults: Object.assign({}, n2.prototype.defaults, { "custom-name": "Card Body", classes: ["card-body"], "card-order": 5 }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("card-body")) return { type: "card_body" };
            }, view: o2 }), e3.addType("card_footer", { model: { defaults: Object.assign({}, n2.prototype.defaults, { "custom-name": "Card Footer", classes: ["card-footer"], "card-order": 6 }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("card-footer")) return { type: "card_footer" };
            }, view: o2 }), e3.addType("card_image_bottom", { extend: "image", model: { defaults: Object.assign({}, i2.prototype.defaults, { "custom-name": "Card Image Bottom", classes: ["card-img-bottom"], "card-order": 7 }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("card-img-bottom")) return { type: "card_image_bottom" };
            }, view: l2 }), e3.addType("card_container", { model: { defaults: Object.assign({}, n2.prototype.defaults, { "custom-name": "Card Container", classes: ["card-group"], droppable: ".card", traits: [{ type: "class_select", options: [{ value: "card-group", name: "Group" }, { value: "card-deck", name: "Deck" }, { value: "card-columns", name: "Columns" }], label: "Layout" }].concat(n2.prototype.defaults.traits) }) }, isComponent: function(e4) {
              var t4 = Array.from(e4.classList || []), a4 = ["card-group", "card-deck", "card-columns"], n3 = t4.filter((function(e5) {
                return a4.includes(e5);
              }));
              if (e4 && e4.classList && n3.length) return { type: "card_container" };
            }, view: o2 });
          };
          function lt(e3) {
            return (function(e4) {
              if (Array.isArray(e4)) return st(e4);
            })(e3) || (function(e4) {
              if ("undefined" != typeof Symbol && Symbol.iterator in Object(e4)) return Array.from(e4);
            })(e3) || (function(e4, t3) {
              if (!e4) return;
              if ("string" == typeof e4) return st(e4, t3);
              var a3 = Object.prototype.toString.call(e4).slice(8, -1);
              "Object" === a3 && e4.constructor && (a3 = e4.constructor.name);
              if ("Map" === a3 || "Set" === a3) return Array.from(e4);
              if ("Arguments" === a3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a3)) return st(e4, t3);
            })(e3) || (function() {
              throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            })();
          }
          function st(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var a3 = 0, n2 = new Array(t3); a3 < t3; a3++) n2[a3] = e3[a3];
            return n2;
          }
          var ct = function(e3, t3) {
            e3.add("badge", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="certificate" class="svg-inline--fa fa-certificate fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M458.622 255.92l45.985-45.005c13.708-12.977 7.316-36.039-10.664-40.339l-62.65-15.99 17.661-62.015c4.991-17.838-11.829-34.663-29.661-29.671l-61.994 17.667-15.984-62.671C337.085.197 313.765-6.276 300.99 7.228L256 53.57 211.011 7.229c-12.63-13.351-36.047-7.234-40.325 10.668l-15.984 62.671-61.995-17.667C74.87 57.907 58.056 74.738 63.046 92.572l17.661 62.015-62.65 15.99C.069 174.878-6.31 197.944 7.392 210.915l45.985 45.005-45.985 45.004c-13.708 12.977-7.316 36.039 10.664 40.339l62.65 15.99-17.661 62.015c-4.991 17.838 11.829 34.663 29.661 29.671l61.994-17.667 15.984 62.671c4.439 18.575 27.696 24.018 40.325 10.668L256 458.61l44.989 46.001c12.5 13.488 35.987 7.486 40.325-10.668l15.984-62.671 61.994 17.667c17.836 4.994 34.651-11.837 29.661-29.671l-17.661-62.015 62.65-15.99c17.987-4.302 24.366-27.367 10.664-40.339l-45.984-45.004z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Components", content: { type: "badge", content: "New!" } });
          };
          const dt = function(e3) {
            var t3 = e3.getType("text"), a3 = t3.model, n2 = t3.view;
            e3.addType("badge", { extend: "text", model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Badge", tagName: "span", classes: ["badge"], traits: [{ type: "class_select", options: [{ value: "", name: "None" }].concat(lt(Oe.map((function(e4) {
              return { value: "badge-" + e4, name: O(e4) };
            })))), label: "Context" }, { type: "class_select", options: [{ value: "", name: "Default" }, { value: "badge-pill", name: "Pill" }], label: "Shape" }].concat(a3.prototype.defaults.traits) }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("badge")) return { type: "badge" };
            }, view: n2 });
          };
          function pt(e3) {
            return (function(e4) {
              if (Array.isArray(e4)) return ut(e4);
            })(e3) || (function(e4) {
              if ("undefined" != typeof Symbol && Symbol.iterator in Object(e4)) return Array.from(e4);
            })(e3) || (function(e4, t3) {
              if (!e4) return;
              if ("string" == typeof e4) return ut(e4, t3);
              var a3 = Object.prototype.toString.call(e4).slice(8, -1);
              "Object" === a3 && e4.constructor && (a3 = e4.constructor.name);
              if ("Map" === a3 || "Set" === a3) return Array.from(e4);
              if ("Arguments" === a3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a3)) return ut(e4, t3);
            })(e3) || (function() {
              throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            })();
          }
          function ut(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var a3 = 0, n2 = new Array(t3); a3 < t3; a3++) n2[a3] = e3[a3];
            return n2;
          }
          var mt = function(e3, t3) {
            e3.add("alert", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="exclamation-triangle" class="svg-inline--fa fa-exclamation-triangle fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Components", content: { type: "alert", content: "This is an alertcheck it out!" } });
          };
          const ft = function(e3) {
            var t3 = e3.getType("text"), a3 = t3.model, n2 = t3.view;
            e3.addType("alert", { extend: "text", model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Alert", tagName: "div", classes: ["alert"], traits: [{ type: "class_select", options: [{ value: "", name: "None" }].concat(pt(Oe.map((function(e4) {
              return { value: "alert-" + e4, name: O(e4) };
            })))), label: "Context" }].concat(a3.prototype.defaults.traits) }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("alert")) return { type: "alert" };
            }, view: n2 });
          }, bt = '<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="columns" class="svg-inline--fa fa-columns fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"></path></svg>\n';
          var gt = function(e3, t3) {
            e3.add("media_object").set({ label: "\n            ".concat(bt, "\n            <div>").concat(t3, "</div>\n        "), category: "Layout", content: '<div class="media">\n                 <img class="mr-3" src="">\n                 <div class="media-body">\n                 <h5>Media heading</h5>\n                 <div>Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.</div>\n                 </div>\n                 </div>' });
          };
          const vt = function(e3) {
            var t3 = e3.getType("default"), a3 = t3.model, n2 = t3.view;
            e3.addType("media_object", { model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Media Object", tagName: "div", classes: ["media"] }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("media")) return { type: "media" };
            }, view: n2 }), e3.addType("media_body", { model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Media Body", tagName: "div", classes: ["media-body"] }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("media-body")) return { type: "media_body" };
            }, view: n2 });
          };
          var ht = function(e3, t3) {
            e3.add("column_break").set({ label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="equals" class="svg-inline--fa fa-equals fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 304H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32zm0-192H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Layout", content: { type: "column_break" } });
          };
          const yt = function(e3) {
            var t3 = e3.getType("default"), a3 = t3.model, n2 = t3.view;
            e3.addType("column_break", { model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Column Break", tagName: "div", classes: ["w-100"] }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("w-100")) return { type: "column_break" };
            }, view: n2 });
          };
          function wt(e3) {
            return (function(e4) {
              if (Array.isArray(e4)) return xt(e4);
            })(e3) || (function(e4) {
              if ("undefined" != typeof Symbol && Symbol.iterator in Object(e4)) return Array.from(e4);
            })(e3) || jt(e3) || (function() {
              throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            })();
          }
          function Ot(e3, t3) {
            return (function(e4) {
              if (Array.isArray(e4)) return e4;
            })(e3) || (function(e4, t4) {
              if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e4))) return;
              var a3 = [], n2 = true, o2 = false, r2 = void 0;
              try {
                for (var i2, l2 = e4[Symbol.iterator](); !(n2 = (i2 = l2.next()).done) && (a3.push(i2.value), !t4 || a3.length !== t4); n2 = true) ;
              } catch (e5) {
                o2 = true, r2 = e5;
              } finally {
                try {
                  n2 || null == l2.return || l2.return();
                } finally {
                  if (o2) throw r2;
                }
              }
              return a3;
            })(e3, t3) || jt(e3, t3) || (function() {
              throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            })();
          }
          function jt(e3, t3) {
            if (e3) {
              if ("string" == typeof e3) return xt(e3, t3);
              var a3 = Object.prototype.toString.call(e3).slice(8, -1);
              return "Object" === a3 && e3.constructor && (a3 = e3.constructor.name), "Map" === a3 || "Set" === a3 ? Array.from(e3) : "Arguments" === a3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a3) ? xt(e3, t3) : void 0;
            }
          }
          function xt(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var a3 = 0, n2 = new Array(t3); a3 < t3; a3++) n2[a3] = e3[a3];
            return n2;
          }
          var Ct = function(e3, t3) {
            e3.add("column").set({ label: "\n            ".concat(bt, "\n            <div>").concat(t3, "</div>\n        "), category: "Layout", content: { type: "column", classes: ["col"] } });
          };
          const kt = function(e3, t3) {
            var a3 = e3.getType("default"), n2 = a3.model, o2 = a3.view, r2 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
            e3.addType("column", { model: { defaults: Object.assign({}, n2.prototype.defaults, { "custom-name": "Column", draggable: ".row", droppable: true, resizable: { updateTarget: function(e4, a4, n3) {
              var o3 = t3.getSelected();
              if (o3) {
                var r3 = e4.getRootNode().body.offsetWidth, i2 = "";
                r3 >= 1200 ? i2 = "xl" : r3 >= 992 ? i2 = "lg" : r3 >= 768 ? i2 = "md" : r3 >= 576 && (i2 = "sm");
                var l2 = 0.5 * (e4.parentElement.offsetWidth / 12), s2 = a4.w > e4.offsetWidth + l2, c2 = a4.w < e4.offsetWidth - l2;
                if (s2 || c2) {
                  new RegExp("^col-" + i2 + "-\\d{1,2}$");
                  i2 || new RegExp("^col-\\d{1,2}$");
                  var d2, p2 = false, u2 = {}, m2 = 0, f2 = null, b2 = (function(e5, t4) {
                    var a5;
                    if ("undefined" == typeof Symbol || null == e5[Symbol.iterator]) {
                      if (Array.isArray(e5) || (a5 = jt(e5)) || t4 && e5 && "number" == typeof e5.length) {
                        a5 && (e5 = a5);
                        var n4 = 0, o4 = function() {
                        };
                        return { s: o4, n: function() {
                          return n4 >= e5.length ? { done: true } : { done: false, value: e5[n4++] };
                        }, e: function(e6) {
                          throw e6;
                        }, f: o4 };
                      }
                      throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                    }
                    var r4, i3 = true, l3 = false;
                    return { s: function() {
                      a5 = e5[Symbol.iterator]();
                    }, n: function() {
                      var e6 = a5.next();
                      return i3 = e6.done, e6;
                    }, e: function(e6) {
                      l3 = true, r4 = e6;
                    }, f: function() {
                      try {
                        i3 || null == a5.return || a5.return();
                      } finally {
                        if (l3) throw r4;
                      }
                    } };
                  })(e4.classList);
                  try {
                    for (b2.s(); !(d2 = b2.n()).done; ) {
                      var g2 = d2.value;
                      if (0 === g2.indexOf("col-")) {
                        var v2 = Ot(g2.split("-"), 3), h2 = (v2[0], v2[1]), y2 = v2[2];
                        y2 || (y2 = h2, h2 = ""), u2[h2] = y2, h2 === i2 && (f2 = g2, m2 = y2, p2 = true);
                      }
                    }
                  } catch (e5) {
                    b2.e(e5);
                  } finally {
                    b2.f();
                  }
                  if (!p2) for (var w2 = 0, O2 = ["", "xs", "sm", "md", "lg", "xl"]; w2 < O2.length; w2++) {
                    var j2 = O2[w2];
                    if (u2[j2] && (m2 = u2[j2], p2 = true), j2 === i2) break;
                  }
                  var x2 = Number(m2);
                  s2 ? x2++ : x2--, x2 > 12 && (x2 = 12), x2 < 1 && (x2 = 1);
                  var C2 = "col-" + i2 + "-" + x2;
                  i2 || (C2 = "col-" + x2), o3.addClass(C2), f2 && f2 !== C2 && o3.removeClass(f2), o3.getTrait((i2 || "xs") + "_width").view.postUpdate();
                }
              }
            }, tl: 0, tc: 0, tr: 0, cl: 0, cr: 1, bl: 0, bc: 0, br: 0 }, traits: [{ id: "xs_width", type: "class_select", options: [{ value: "col", name: "Equal" }, { value: "col-auto", name: "Variable" }].concat(wt(r2.map((function(e4) {
              return { value: "col-" + e4, name: e4 + "/12" };
            })))), label: "XS Width" }, { id: "sm_width", type: "class_select", options: [{ value: "", name: "None" }, { value: "col-sm", name: "Equal" }, { value: "col-sm-auto", name: "Variable" }].concat(wt(r2.map((function(e4) {
              return { value: "col-sm-" + e4, name: e4 + "/12" };
            })))), label: "SM Width" }, { id: "md_width", type: "class_select", options: [{ value: "", name: "None" }, { value: "col-md", name: "Equal" }, { value: "col-md-auto", name: "Variable" }].concat(wt(r2.map((function(e4) {
              return { value: "col-md-" + e4, name: e4 + "/12" };
            })))), label: "MD Width" }, { id: "lg_width", type: "class_select", options: [{ value: "", name: "None" }, { value: "col-lg", name: "Equal" }, { value: "col-lg-auto", name: "Variable" }].concat(wt(r2.map((function(e4) {
              return { value: "col-lg-" + e4, name: e4 + "/12" };
            })))), label: "LG Width" }, { id: "xl_width", type: "class_select", options: [{ value: "", name: "None" }, { value: "col-xl", name: "Equal" }, { value: "col-xl-auto", name: "Variable" }].concat(wt(r2.map((function(e4) {
              return { value: "col-xl-" + e4, name: e4 + "/12" };
            })))), label: "XL Width" }, { type: "class_select", options: [{ value: "", name: "None" }].concat(wt(r2.map((function(e4) {
              return { value: "offset-" + e4, name: e4 + "/12" };
            })))), label: "XS Offset" }, { type: "class_select", options: [{ value: "", name: "None" }].concat(wt(r2.map((function(e4) {
              return { value: "offset-sm-" + e4, name: e4 + "/12" };
            })))), label: "SM Offset" }, { type: "class_select", options: [{ value: "", name: "None" }].concat(wt(r2.map((function(e4) {
              return { value: "offset-md-" + e4, name: e4 + "/12" };
            })))), label: "MD Offset" }, { type: "class_select", options: [{ value: "", name: "None" }].concat(wt(r2.map((function(e4) {
              return { value: "offset-lg-" + e4, name: e4 + "/12" };
            })))), label: "LG Offset" }, { type: "class_select", options: [{ value: "", name: "None" }].concat(wt(r2.map((function(e4) {
              return { value: "offset-xl-" + e4, name: e4 + "/12" };
            })))), label: "XL Offset" }].concat(n2.prototype.defaults.traits) }) }, isComponent: function(e4) {
              var t4 = false;
              if (e4 && e4.classList && e4.classList.forEach((function(e5) {
                ("col" == e5 || e5.match(/^col-/)) && (t4 = true);
              })), t4) return { type: "column" };
            }, view: o2 });
          };
          var Tt = function(e3, t3) {
            e3.add("row").set({ label: "\n            ".concat(j, "\n            <div>").concat(t3, "</div>\n        "), category: "Layout", content: { type: "row", classes: ["row"] } });
          };
          const Pt = function(e3) {
            var t3 = e3.getType("default"), a3 = t3.model, n2 = t3.view;
            e3.addType("row", { model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Row", tagName: "div", draggable: ".container, .container-fluid", droppable: true, traits: [{ type: "class_select", options: [{ value: "", name: "Yes" }, { value: "no-gutters", name: "No" }], label: "Gutters?" }].concat(a3.prototype.defaults.traits) }) }, isComponent: function(e4) {
              if (e4 && e4.classList && e4.classList.contains("row")) return { type: "row" };
            }, view: n2 });
          };
          var _t = function(e3, t3) {
            e3.add("container").set({ label: "\n            ".concat(j, "\n            <div>").concat(t3, "</div>\n        "), category: "Layout", content: { type: "container", classes: ["container"] } });
          };
          const Lt = function(e3) {
            var t3 = e3.getType("default"), a3 = t3.model, n2 = t3.view;
            e3.addType("container", { model: { defaults: Object.assign({}, a3.prototype.defaults, { "custom-name": "Container", tagName: "div", droppable: true, traits: [{ type: "class_select", options: [{ value: "container", name: "Fixed" }, { value: "container-fluid", name: "Fluid" }], label: "Width" }].concat(a3.prototype.defaults.traits) }) }, isComponent: function(e4) {
              if (e4 && e4.classList && (e4.classList.contains("container") || e4.classList.contains("container-fluid"))) return { type: "container" };
            }, view: n2 });
          };
          var St = function(e3, t3) {
            e3.add("text", { label: "\n            ".concat('<svg aria-hidden="true" width="24" height="50" focusable="false" data-prefix="fas" data-icon="font" class="svg-inline--fa fa-font fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"></path></svg>\n', "\n            <div>").concat(t3, "</div>\n        "), category: "Typography", content: { type: "text", content: "Insert your text here" } });
          };
          const Dt = function(e3) {
            var t3 = e3.getType("default").model, a3 = e3.getType("text").view;
            e3.addType("text", { model: { defaults: Object.assign({}, t3.prototype.defaults, { "custom-name": "Text", tagName: "div", droppable: true, editable: true }) }, view: a3 });
          };
          function Nt(e3) {
            return (function(e4) {
              if (Array.isArray(e4)) return Mt(e4);
            })(e3) || (function(e4) {
              if ("undefined" != typeof Symbol && Symbol.iterator in Object(e4)) return Array.from(e4);
            })(e3) || (function(e4, t3) {
              if (!e4) return;
              if ("string" == typeof e4) return Mt(e4, t3);
              var a3 = Object.prototype.toString.call(e4).slice(8, -1);
              "Object" === a3 && e4.constructor && (a3 = e4.constructor.name);
              if ("Map" === a3 || "Set" === a3) return Array.from(e4);
              if ("Arguments" === a3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a3)) return Mt(e4, t3);
            })(e3) || (function() {
              throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            })();
          }
          function Mt(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var a3 = 0, n2 = new Array(t3); a3 < t3; a3++) n2[a3] = e3[a3];
            return n2;
          }
          const At = function(e3) {
            var t3 = Oe.concat(["white"]), a3 = e3.getType("default"), n2 = a3.model, o2 = a3.view;
            e3.addType("default", { model: { defaults: Object.assign({}, n2.prototype.defaults, { tagName: "div", traits: [{ type: "class_select", options: [{ value: "", name: "Default" }].concat(Nt(t3.map((function(e4) {
              return { value: "text-" + e4, name: O(e4) };
            })))), label: "Text color" }, { type: "class_select", options: [{ value: "", name: "Default" }].concat(Nt(t3.map((function(e4) {
              return { value: "bg-" + e4, name: O(e4) };
            })))), label: "Background color" }, { type: "class_select", options: [{ value: "", name: "Default" }, { value: "border", name: "Full" }, { value: "border-top-0", name: "No top" }, { value: "border-right-0", name: "No right" }, { value: "border-bottom-0", name: "No bottom" }, { value: "border-left-0", name: "No left" }, { value: "border-0", name: "None" }], label: "Border width" }, { type: "class_select", options: [{ value: "", name: "Default" }].concat(Nt(t3.map((function(e4) {
              return { value: "border border-" + e4, name: O(e4) };
            })))), label: "Border color" }, { type: "class_select", options: [{ value: "", name: "Default" }, { value: "rounded", name: "Rounded" }, { value: "rounded-top", name: "Rounded top" }, { value: "rounded-right", name: "Rounded right" }, { value: "rounded-bottom", name: "Rounded bottom" }, { value: "rounded-left", name: "Rounded left" }, { value: "rounded-circle", name: "Circle" }, { value: "rounded-0", name: "Square" }], label: "Border radius" }, { type: "text", label: "ID", name: "id", placeholder: "my_element" }, { type: "text", label: "Title", name: "title", placeholder: "My Element" }] }), init: function() {
              var e4 = this.get("classes");
              e4.bind("add", this.classesChanged.bind(this)), e4.bind("change", this.classesChanged.bind(this)), e4.bind("remove", this.classesChanged.bind(this)), this.init2();
            }, init2: function() {
            }, classesChanged: function() {
            }, changeType: function(e4) {
              var t4 = this.collection, a4 = t4.indexOf(this), n3 = { type: e4, style: this.getStyle(), attributes: this.getAttributes(), content: this.view.el.innerHTML };
              t4.remove(this), t4.add(n3, { at: a4 }), this.destroy();
            } }, view: o2 });
          }, Et = function(e3) {
            var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a3 = t3, n2 = e3.DomComponents, o2 = a3.blocks, r2 = e3.BlockManager, s2 = a3.blockCategories, c2 = { id: { name: "id", label: a3.labels.trait_id }, for: { name: "for", label: a3.labels.trait_for }, name: { name: "name", label: a3.labels.trait_name }, placeholder: { name: "placeholder", label: a3.labels.trait_placeholder }, value: { name: "value", label: a3.labels.trait_value }, required: { type: "checkbox", name: "required", label: a3.labels.trait_required }, checked: { label: a3.labels.trait_checked, type: "checkbox", name: "checked", changeProp: 1 } };
            s2.media && (o2.image && (Xe(r2, a3.labels.image), Je(n2)), o2.video && (Qe(n2), Ye(r2, a3.labels.video), Ke(n2))), s2.basic && (o2.default && At(n2), o2.text && (St(r2, a3.labels.text), Dt(n2)), o2.link && (qe(r2, a3.labels.link), Re(e3))), s2.layout && (o2.container && (_t(r2, a3.labels.container), Lt(n2)), o2.row && (Tt(r2, a3.labels.row), Pt(n2)), o2.column && (Ct(r2, a3.labels.column), kt(n2, e3), ht(r2, a3.labels.column_break), yt(n2)), o2.media_object && (gt(r2, a3.labels.media_object), vt(n2))), s2.components && (o2.alert && (mt(r2, a3.labels.alert), ft(n2)), o2.tabs && (T(r2, a3), P(n2, t3), E(n2, t3), D(n2, t3), H(n2, t3)), o2.badge && (ct(r2, a3.labels.badge), dt(n2)), o2.card && (rt(r2, a3), it(n2, e3)), o2.collapse && (i(r2, a3.labels.collapse), l(e3)), o2.dropdown && (p(r2, a3.labels.dropdown), u(e3))), s2.typography && (o2.header && (at(r2, a3.labels.header), nt(n2)), o2.paragraph && (et(r2, a3.labels.paragraph), tt(n2))), s2.forms && (o2.form && (R(r2, a3.labels.form), Z(n2, c2, t3)), o2.input && (W(r2, a3.labels.input), X(n2, c2, t3), Ge(r2, a3.labels.file_input), We(n2, c2, t3)), o2.form_group_input && (Q(r2, a3.labels.form_group_input), ee(n2, c2, t3)), o2.textarea && (oe(r2, a3.labels.textarea), re(n2, c2, t3)), o2.select && (ce(r2, a3.labels.select), de(e3, n2, c2, t3)), o2.checkbox && (fe(r2, a3.labels.checkbox), be(n2, c2, t3)), o2.radio && (ye(r2, a3.labels.radio), we(n2, c2, t3)), o2.label && (Fe(r2, a3.labels.label), Ve(n2, c2, t3)), o2.button && (Le(r2, a3.labels.button), Se(n2)), o2.button_group && (Me(r2, a3.labels.button_group), Ae(n2)), o2.button_toolbar && (Ee(r2, a3.labels.button_toolbar), Ie(n2)));
          }, It = function(e3) {
            var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a3 = t3, n2 = e3.DeviceManager;
            if (a3.gridDevices && (n2.add("Extra Small", "575px"), n2.add("Small", "767px"), n2.add("Medium", "991px"), n2.add("Large", "1199px"), n2.add("Extra Large"), a3.gridDevicesPanel)) {
              var o2 = e3.Panels, r2 = e3.Commands, i2 = o2.addPanel({ id: "devices-buttons" }), l2 = i2.get("buttons");
              l2.add([{ id: "deviceXl", command: "set-device-xl", className: "fa fa-desktop", text: "XL", attributes: { title: "Extra Large" }, active: 1 }, { id: "deviceLg", command: "set-device-lg", className: "fa fa-desktop", attributes: { title: "Large" } }, { id: "deviceMd", command: "set-device-md", className: "fa fa-tablet", attributes: { title: "Medium" } }, { id: "deviceSm", command: "set-device-sm", className: "fa fa-mobile", attributes: { title: "Small" } }, { id: "deviceXs", command: "set-device-xs", className: "fa fa-mobile", attributes: { title: "Extra Small" } }]), r2.add("set-device-xs", { run: function(e4) {
                e4.setDevice("Extra Small");
              } }), r2.add("set-device-sm", { run: function(e4) {
                e4.setDevice("Small");
              } }), r2.add("set-device-md", { run: function(e4) {
                e4.setDevice("Medium");
              } }), r2.add("set-device-lg", { run: function(e4) {
                e4.setDevice("Large");
              } }), r2.add("set-device-xl", { run: function(e4) {
                e4.setDevice("Extra Large");
              } });
            }
          };
          function Bt(e3, t3) {
            var a3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n2 = Object.getOwnPropertySymbols(e3);
              t3 && (n2 = n2.filter((function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              }))), a3.push.apply(a3, n2);
            }
            return a3;
          }
          function zt(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var a3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? Bt(Object(a3), true).forEach((function(t4) {
                Ht(e3, t4, a3[t4]);
              })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(a3)) : Bt(Object(a3)).forEach((function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(a3, t4));
              }));
            }
            return e3;
          }
          function Ht(e3, t3, a3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: a3, enumerable: true, configurable: true, writable: true }) : e3[t3] = a3, e3;
          }
          var Ft = function(e3) {
            e3.Config.canvasCss += '\n    /* Layout */\n\n    .gjs-dashed .container, .gjs-dashed .container-fluid,\n    .gjs-dashed .row,\n    .gjs-dashed .col, .gjs-dashed [class^="col-"] {\n      min-height: 1.5rem !important;\n    }\n    .gjs-dashed .w-100 {\n      min-height: .25rem !important;\n      background-color: rgba(0,0,0,0.1);\n    }\n    .gjs-dashed img {\n      min-width: 25px;\n      min-height: 25px;\n      background-color: rgba(0,0,0,0.5);\n    }\n\n    /* Components */\n\n    .gjs-dashed .btn-group,\n    .gjs-dashed .btn-toolbar {\n      padding-right: 1.5rem !important;\n      min-height: 1.5rem !important;\n    }\n    .gjs-dashed .card,\n    .gjs-dashed .card-group, .gjs-dashed .card-deck, .gjs-dashed .card-columns {\n      min-height: 1.5rem !important;\n    }\n    .gjs-dashed .collapse {\n      display: block !important;\n      min-height: 1.5rem !important;\n    }\n    .gjs-dashed .dropdown {\n      display: block !important;\n      min-height: 1.5rem !important;\n    }\n    .gjs-dashed .dropdown-menu {\n      min-height: 1.5rem !important;\n      display: block !important;\n    }\n  ';
          };
          const Vt = t2().plugins.add("grapesjs-blocks-bootstrap4", (function(e3) {
            var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            window.editor = e3;
            var n2 = t3.blocks || {}, o2 = t3.labels || {}, i2 = t3.blockCategories || {};
            delete t3.blocks, delete t3.labels, delete t3.blockCategories;
            var l2 = { default: true, text: true, link: true, image: true, container: true, row: true, column: true, column_break: true, media_object: true, alert: true, tabs: true, badge: true, button: true, button_group: true, button_toolbar: true, card: true, card_container: true, collapse: true, dropdown: true, video: true, header: true, paragraph: true, list: true, form: true, input: true, form_group_input: true, input_group: true, textarea: true, select: true, label: true, checkbox: true, radio: true }, s2 = { container: "Container", row: "Row", column: "Column", column_break: "Column Break", media_object: "Media Object", alert: "Alert", tabs: "Tabs", tab: "Tab", tabPane: "Tab Pane", badge: "Badge", button: "Button", button_group: "Button Group", button_toolbar: "Button Toolbar", card: "Card", card_container: "Card Container", collapse: "Collapse", dropdown: "Dropdown", dropdown_menu: "Dropdown Menu", dropdown_item: "Dropdown Item", image: "Image", video: "Video", text: "Text", header: "Header", paragraph: "Paragraph", link: "Link", list: "Simple List", form: "Form", input: "Input", file_input: "File", form_group_input: "Form Group", input_group: "Input group", textarea: "Textarea", select: "Select", select_option: "- Select option -", option: "Option", label: "Label", checkbox: "Checkbox", radio: "Radio", trait_method: "Method", trait_enctype: "Encoding Type", trait_multiple: "Multiple", trait_action: "Action", trait_state: "State", trait_id: "ID", trait_for: "For", trait_name: "Name", trait_placeholder: "Placeholder", trait_value: "Value", trait_required: "Required", trait_type: "Type", trait_options: "Options", trait_checked: "Checked", type_text: "Text", type_email: "Email", type_password: "Password", type_number: "Number", type_date: "Date", type_hidden: "Hidden", type_submit: "Submit", type_reset: "Reset", type_button: "Button" }, c2 = { layout: true, media: true, components: true, typography: true, basic: true, forms: true }, d2 = zt(zt({}, { blocks: Object.assign(l2, n2), labels: Object.assign(s2, o2), blockCategories: Object.assign(c2, i2), optionsStringSeparator: "::", gridDevices: true, gridDevicesPanel: false, classNavigation: "nav", classTabPanes: "tab-content", classTabPane: "tab-pane", classTab: "nav-item" }), t3);
            a2(e3, d2), r(e3, d2), Et(e3, d2), It(e3, d2), Ft(e3);
          }));
        })(), o;
      })();
    }));
  }
});
export default require_grapesjs_blocks_bootstrap4_min();
//# sourceMappingURL=grapesjs-blocks-bootstrap4.js.map
